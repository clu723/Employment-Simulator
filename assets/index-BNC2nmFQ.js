(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function XI(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var rp={exports:{}},lu={};var HT;function WI(){if(HT)return lu;HT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:e,type:s,key:c,ref:a!==void 0?a:null,props:l}}return lu.Fragment=t,lu.jsx=n,lu.jsxs=n,lu}var qT;function ZI(){return qT||(qT=1,rp.exports=WI()),rp.exports}var Y=ZI(),ap={exports:{}},bt={};var GT;function JI(){if(GT)return bt;GT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),S=Symbol.iterator;function C(L){return L===null||typeof L!="object"?null:(L=S&&L[S]||L["@@iterator"],typeof L=="function"?L:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,k={};function B(L,nt,ut){this.props=L,this.context=nt,this.refs=k,this.updater=ut||O}B.prototype.isReactComponent={},B.prototype.setState=function(L,nt){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,nt,"setState")},B.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function G(){}G.prototype=B.prototype;function Q(L,nt,ut){this.props=L,this.context=nt,this.refs=k,this.updater=ut||O}var lt=Q.prototype=new G;lt.constructor=Q,U(lt,B.prototype),lt.isPureReactComponent=!0;var at=Array.isArray;function st(){}var R={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function I(L,nt,ut){var ft=ut.ref;return{$$typeof:e,type:L,key:nt,ref:ft!==void 0?ft:null,props:ut}}function M(L,nt){return I(L.type,nt,L.props)}function N(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function z(L){var nt={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ut){return nt[ut]})}var x=/\/+/g;function te(L,nt){return typeof L=="object"&&L!==null&&L.key!=null?z(""+L.key):nt.toString(36)}function de(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(st,st):(L.status="pending",L.then(function(nt){L.status==="pending"&&(L.status="fulfilled",L.value=nt)},function(nt){L.status==="pending"&&(L.status="rejected",L.reason=nt)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Z(L,nt,ut,ft,St){var xt=typeof L;(xt==="undefined"||xt==="boolean")&&(L=null);var zt=!1;if(L===null)zt=!0;else switch(xt){case"bigint":case"string":case"number":zt=!0;break;case"object":switch(L.$$typeof){case e:case t:zt=!0;break;case y:return zt=L._init,Z(zt(L._payload),nt,ut,ft,St)}}if(zt)return St=St(L),zt=ft===""?"."+te(L,0):ft,at(St)?(ut="",zt!=null&&(ut=zt.replace(x,"$&/")+"/"),Z(St,nt,ut,"",function(Dr){return Dr})):St!=null&&(N(St)&&(St=M(St,ut+(St.key==null||L&&L.key===St.key?"":(""+St.key).replace(x,"$&/")+"/")+zt)),nt.push(St)),1;zt=0;var Le=ft===""?".":ft+":";if(at(L))for(var ae=0;ae<L.length;ae++)ft=L[ae],xt=Le+te(ft,ae),zt+=Z(ft,nt,ut,xt,St);else if(ae=C(L),typeof ae=="function")for(L=ae.call(L),ae=0;!(ft=L.next()).done;)ft=ft.value,xt=Le+te(ft,ae++),zt+=Z(ft,nt,ut,xt,St);else if(xt==="object"){if(typeof L.then=="function")return Z(de(L),nt,ut,ft,St);throw nt=String(L),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return zt}function rt(L,nt,ut){if(L==null)return L;var ft=[],St=0;return Z(L,ft,"","",function(xt){return nt.call(ut,xt,St++)}),ft}function dt(L){if(L._status===-1){var nt=L._result;nt=nt(),nt.then(function(ut){(L._status===0||L._status===-1)&&(L._status=1,L._result=ut)},function(ut){(L._status===0||L._status===-1)&&(L._status=2,L._result=ut)}),L._status===-1&&(L._status=0,L._result=nt)}if(L._status===1)return L._result.default;throw L._result}var It=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Mt={map:rt,forEach:function(L,nt,ut){rt(L,function(){nt.apply(this,arguments)},ut)},count:function(L){var nt=0;return rt(L,function(){nt++}),nt},toArray:function(L){return rt(L,function(nt){return nt})||[]},only:function(L){if(!N(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return bt.Activity=_,bt.Children=Mt,bt.Component=B,bt.Fragment=n,bt.Profiler=a,bt.PureComponent=Q,bt.StrictMode=s,bt.Suspense=p,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,bt.__COMPILER_RUNTIME={__proto__:null,c:function(L){return R.H.useMemoCache(L)}},bt.cache=function(L){return function(){return L.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(L,nt,ut){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ft=U({},L.props),St=L.key;if(nt!=null)for(xt in nt.key!==void 0&&(St=""+nt.key),nt)!b.call(nt,xt)||xt==="key"||xt==="__self"||xt==="__source"||xt==="ref"&&nt.ref===void 0||(ft[xt]=nt[xt]);var xt=arguments.length-2;if(xt===1)ft.children=ut;else if(1<xt){for(var zt=Array(xt),Le=0;Le<xt;Le++)zt[Le]=arguments[Le+2];ft.children=zt}return I(L.type,St,ft)},bt.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},bt.createElement=function(L,nt,ut){var ft,St={},xt=null;if(nt!=null)for(ft in nt.key!==void 0&&(xt=""+nt.key),nt)b.call(nt,ft)&&ft!=="key"&&ft!=="__self"&&ft!=="__source"&&(St[ft]=nt[ft]);var zt=arguments.length-2;if(zt===1)St.children=ut;else if(1<zt){for(var Le=Array(zt),ae=0;ae<zt;ae++)Le[ae]=arguments[ae+2];St.children=Le}if(L&&L.defaultProps)for(ft in zt=L.defaultProps,zt)St[ft]===void 0&&(St[ft]=zt[ft]);return I(L,xt,St)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(L){return{$$typeof:d,render:L}},bt.isValidElement=N,bt.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:dt}},bt.memo=function(L,nt){return{$$typeof:g,type:L,compare:nt===void 0?null:nt}},bt.startTransition=function(L){var nt=R.T,ut={};R.T=ut;try{var ft=L(),St=R.S;St!==null&&St(ut,ft),typeof ft=="object"&&ft!==null&&typeof ft.then=="function"&&ft.then(st,It)}catch(xt){It(xt)}finally{nt!==null&&ut.types!==null&&(nt.types=ut.types),R.T=nt}},bt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},bt.use=function(L){return R.H.use(L)},bt.useActionState=function(L,nt,ut){return R.H.useActionState(L,nt,ut)},bt.useCallback=function(L,nt){return R.H.useCallback(L,nt)},bt.useContext=function(L){return R.H.useContext(L)},bt.useDebugValue=function(){},bt.useDeferredValue=function(L,nt){return R.H.useDeferredValue(L,nt)},bt.useEffect=function(L,nt){return R.H.useEffect(L,nt)},bt.useEffectEvent=function(L){return R.H.useEffectEvent(L)},bt.useId=function(){return R.H.useId()},bt.useImperativeHandle=function(L,nt,ut){return R.H.useImperativeHandle(L,nt,ut)},bt.useInsertionEffect=function(L,nt){return R.H.useInsertionEffect(L,nt)},bt.useLayoutEffect=function(L,nt){return R.H.useLayoutEffect(L,nt)},bt.useMemo=function(L,nt){return R.H.useMemo(L,nt)},bt.useOptimistic=function(L,nt){return R.H.useOptimistic(L,nt)},bt.useReducer=function(L,nt,ut){return R.H.useReducer(L,nt,ut)},bt.useRef=function(L){return R.H.useRef(L)},bt.useState=function(L){return R.H.useState(L)},bt.useSyncExternalStore=function(L,nt,ut){return R.H.useSyncExternalStore(L,nt,ut)},bt.useTransition=function(){return R.H.useTransition()},bt.version="19.2.1",bt}var KT;function jg(){return KT||(KT=1,ap.exports=JI()),ap.exports}var V=jg();const Fp=XI(V);var op={exports:{}},uu={},lp={exports:{}},up={};var YT;function tx(){return YT||(YT=1,(function(e){function t(Z,rt){var dt=Z.length;Z.push(rt);t:for(;0<dt;){var It=dt-1>>>1,Mt=Z[It];if(0<a(Mt,rt))Z[It]=rt,Z[dt]=Mt,dt=It;else break t}}function n(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var rt=Z[0],dt=Z.pop();if(dt!==rt){Z[0]=dt;t:for(var It=0,Mt=Z.length,L=Mt>>>1;It<L;){var nt=2*(It+1)-1,ut=Z[nt],ft=nt+1,St=Z[ft];if(0>a(ut,dt))ft<Mt&&0>a(St,ut)?(Z[It]=St,Z[ft]=dt,It=ft):(Z[It]=ut,Z[nt]=dt,It=nt);else if(ft<Mt&&0>a(St,dt))Z[It]=St,Z[ft]=dt,It=ft;else break t}}return rt}function a(Z,rt){var dt=Z.sortIndex-rt.sortIndex;return dt!==0?dt:Z.id-rt.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var p=[],g=[],y=1,_=null,S=3,C=!1,O=!1,U=!1,k=!1,B=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function lt(Z){for(var rt=n(g);rt!==null;){if(rt.callback===null)s(g);else if(rt.startTime<=Z)s(g),rt.sortIndex=rt.expirationTime,t(p,rt);else break;rt=n(g)}}function at(Z){if(U=!1,lt(Z),!O)if(n(p)!==null)O=!0,st||(st=!0,z());else{var rt=n(g);rt!==null&&de(at,rt.startTime-Z)}}var st=!1,R=-1,b=5,I=-1;function M(){return k?!0:!(e.unstable_now()-I<b)}function N(){if(k=!1,st){var Z=e.unstable_now();I=Z;var rt=!0;try{t:{O=!1,U&&(U=!1,G(R),R=-1),C=!0;var dt=S;try{e:{for(lt(Z),_=n(p);_!==null&&!(_.expirationTime>Z&&M());){var It=_.callback;if(typeof It=="function"){_.callback=null,S=_.priorityLevel;var Mt=It(_.expirationTime<=Z);if(Z=e.unstable_now(),typeof Mt=="function"){_.callback=Mt,lt(Z),rt=!0;break e}_===n(p)&&s(p),lt(Z)}else s(p);_=n(p)}if(_!==null)rt=!0;else{var L=n(g);L!==null&&de(at,L.startTime-Z),rt=!1}}break t}finally{_=null,S=dt,C=!1}rt=void 0}}finally{rt?z():st=!1}}}var z;if(typeof Q=="function")z=function(){Q(N)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,te=x.port2;x.port1.onmessage=N,z=function(){te.postMessage(null)}}else z=function(){B(N,0)};function de(Z,rt){R=B(function(){Z(e.unstable_now())},rt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_next=function(Z){switch(S){case 1:case 2:case 3:var rt=3;break;default:rt=S}var dt=S;S=rt;try{return Z()}finally{S=dt}},e.unstable_requestPaint=function(){k=!0},e.unstable_runWithPriority=function(Z,rt){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var dt=S;S=Z;try{return rt()}finally{S=dt}},e.unstable_scheduleCallback=function(Z,rt,dt){var It=e.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?It+dt:It):dt=It,Z){case 1:var Mt=-1;break;case 2:Mt=250;break;case 5:Mt=1073741823;break;case 4:Mt=1e4;break;default:Mt=5e3}return Mt=dt+Mt,Z={id:y++,callback:rt,priorityLevel:Z,startTime:dt,expirationTime:Mt,sortIndex:-1},dt>It?(Z.sortIndex=dt,t(g,Z),n(p)===null&&Z===n(g)&&(U?(G(R),R=-1):U=!0,de(at,dt-It))):(Z.sortIndex=Mt,t(p,Z),O||C||(O=!0,st||(st=!0,z()))),Z},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(Z){var rt=S;return function(){var dt=S;S=rt;try{return Z.apply(this,arguments)}finally{S=dt}}}})(up)),up}var QT;function ex(){return QT||(QT=1,lp.exports=tx()),lp.exports}var cp={exports:{}},en={};var $T;function nx(){if($T)return en;$T=1;var e=jg();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,g,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:p,containerInfo:g,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,en.createPortal=function(p,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return l(p,g,null,y)},en.flushSync=function(p){var g=c.T,y=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=y,s.d.f()}},en.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},en.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},en.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var y=g.as,_=d(y,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:C}):y==="script"&&s.d.X(p,{crossOrigin:_,integrity:S,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},en.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},en.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,_=d(y,g.crossOrigin);s.d.L(p,y,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},en.preloadModule=function(p,g){if(typeof p=="string")if(g){var y=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},en.requestFormReset=function(p){s.d.r(p)},en.unstable_batchedUpdates=function(p,g){return p(g)},en.useFormState=function(p,g,y){return c.H.useFormState(p,g,y)},en.useFormStatus=function(){return c.H.useHostTransitionStatus()},en.version="19.2.1",en}var XT;function ix(){if(XT)return cp.exports;XT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),cp.exports=nx(),cp.exports}var WT;function sx(){if(WT)return uu;WT=1;var e=ex(),t=jg(),n=ix();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function p(i){if(l(i)!==i)throw Error(s(188))}function g(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return p(f),i;if(m===u)return p(f),r;m=m.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=m;else{for(var T=!1,A=f.child;A;){if(A===o){T=!0,o=f,u=m;break}if(A===u){T=!0,u=f,o=m;break}A=A.sibling}if(!T){for(A=m.child;A;){if(A===o){T=!0,o=m,u=f;break}if(A===u){T=!0,u=m,o=f;break}A=A.sibling}if(!T)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),lt=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=N&&i[N]||i["@@iterator"],typeof i=="function"?i:null)}var x=Symbol.for("react.client.reference");function te(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===x?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case U:return"Fragment";case B:return"Profiler";case k:return"StrictMode";case at:return"Suspense";case st:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case O:return"Portal";case Q:return i.displayName||"Context";case G:return(i._context.displayName||"Context")+".Consumer";case lt:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return r=i.displayName||null,r!==null?r:te(i.type)||"Memo";case b:r=i._payload,i=i._init;try{return te(i(r))}catch{}}return null}var de=Array.isArray,Z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},It=[],Mt=-1;function L(i){return{current:i}}function nt(i){0>Mt||(i.current=It[Mt],It[Mt]=null,Mt--)}function ut(i,r){Mt++,It[Mt]=i.current,i.current=r}var ft=L(null),St=L(null),xt=L(null),zt=L(null);function Le(i,r){switch(ut(xt,r),ut(St,i),ut(ft,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?fT(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=fT(r),i=dT(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}nt(ft),ut(ft,i)}function ae(){nt(ft),nt(St),nt(xt)}function Dr(i){i.memoizedState!==null&&ut(zt,i);var r=ft.current,o=dT(r,i.type);r!==o&&(ut(St,i),ut(ft,o))}function Da(i){St.current===i&&(nt(ft),nt(St)),zt.current===i&&(nt(zt),su._currentValue=dt)}var Va,Na;function yi(i){if(Va===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Va=r&&r[1]||"",Na=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Va+i+Na}var sl=!1;function Vr(i,r){if(!i||sl)return"";sl=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(X){var K=X}Reflect.construct(i,[],et)}else{try{et.call()}catch(X){K=X}i.call(et.prototype)}}else{try{throw Error()}catch(X){K=X}(et=i())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(X){if(X&&K&&typeof X.stack=="string")return[X.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),T=m[0],A=m[1];if(T&&A){var D=T.split(`
`),q=A.split(`
`);for(f=u=0;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(u===D.length||f===q.length)for(u=D.length-1,f=q.length-1;1<=u&&0<=f&&D[u]!==q[f];)f--;for(;1<=u&&0<=f;u--,f--)if(D[u]!==q[f]){if(u!==1||f!==1)do if(u--,f--,0>f||D[u]!==q[f]){var W=`
`+D[u].replace(" at new "," at ");return i.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",i.displayName)),W}while(1<=u&&0<=f);break}}}finally{sl=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?yi(o):""}function rl(i,r){switch(i.tag){case 26:case 27:case 5:return yi(i.type);case 16:return yi("Lazy");case 13:return i.child!==r&&r!==null?yi("Suspense Fallback"):yi("Suspense");case 19:return yi("SuspenseList");case 0:case 15:return Vr(i.type,!1);case 11:return Vr(i.type.render,!1);case 1:return Vr(i.type,!0);case 31:return yi("Activity");default:return""}}function al(i){try{var r="",o=null;do r+=rl(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Se=Object.prototype.hasOwnProperty,ke=e.unstable_scheduleCallback,xs=e.unstable_cancelCallback,od=e.unstable_shouldYield,ac=e.unstable_requestPaint,ln=e.unstable_now,Nr=e.unstable_getCurrentPriorityLevel,ol=e.unstable_ImmediatePriority,ll=e.unstable_UserBlockingPriority,Ds=e.unstable_NormalPriority,ld=e.unstable_LowPriority,oc=e.unstable_IdlePriority,lc=e.log,uc=e.unstable_setDisableYieldValue,Wn=null,Ge=null;function Vn(i){if(typeof lc=="function"&&uc(i),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(Wn,i)}catch{}}var ye=Math.clz32?Math.clz32:hc,cc=Math.log,Ma=Math.LN2;function hc(i){return i>>>=0,i===0?32:31-(cc(i)/Ma|0)|0}var vi=256,Mr=262144,Ae=4194304;function _i(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ti(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,m=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var A=u&134217727;return A!==0?(u=A&~m,u!==0?f=_i(u):(T&=A,T!==0?f=_i(T):o||(o=A&~i,o!==0&&(f=_i(o))))):(A=u&~m,A!==0?f=_i(A):T!==0?f=_i(T):o||(o=u&~i,o!==0&&(f=_i(o)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,o=r&-r,m>=o||m===32&&(o&4194048)!==0)?r:f}function Zn(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function ud(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fc(){var i=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),i}function Ei(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Or(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function cd(i,r,o,u,f,m){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,D=i.expirationTimes,q=i.hiddenUpdates;for(o=T&~o;0<o;){var W=31-ye(o),et=1<<W;A[W]=0,D[W]=-1;var K=q[W];if(K!==null)for(q[W]=null,W=0;W<K.length;W++){var X=K[W];X!==null&&(X.lane&=-536870913)}o&=~et}u!==0&&Pr(i,u,0),m!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=m&~(T&~r))}function Pr(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-ye(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function ul(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-ye(o),f=1<<u;f&r|i[u]&r&&(i[u]|=r),o&=~f}}function cl(i,r){var o=r&-r;return o=(o&42)!==0?1:Lr(o),(o&(i.suspendedLanes|r))!==0?0:o}function Lr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function $i(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function dc(){var i=rt.p;return i!==0?i:(i=window.event,i===void 0?32:LT(i.type))}function Jn(i,r){var o=rt.p;try{return rt.p=i,r()}finally{rt.p=o}}var ti=Math.random().toString(36).slice(2),be="__reactFiber$"+ti,Be="__reactProps$"+ti,Si="__reactContainer$"+ti,Oa="__reactEvents$"+ti,hd="__reactListeners$"+ti,mc="__reactHandles$"+ti,pc="__reactResources$"+ti,Ai="__reactMarker$"+ti;function Pa(i){delete i[be],delete i[Be],delete i[Oa],delete i[hd],delete i[mc]}function bi(i){var r=i[be];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Si]||o[be]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=TT(i);i!==null;){if(o=i[be])return o;i=TT(i)}return r}i=o,o=i.parentNode}return null}function Nn(i){if(i=i[be]||i[Si]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Sn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function wi(i){var r=i[pc];return r||(r=i[pc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function we(i){i[Ai]=!0}var hl=new Set,fl={};function Ri(i,r){Ci(i,r),Ci(i+"Capture",r)}function Ci(i,r){for(fl[i]=r,i=0;i<r.length;i++)hl.add(r[i])}var dl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ml={},pl={};function gc(i){return Se.call(pl,i)?!0:Se.call(ml,i)?!1:dl.test(i)?pl[i]=!0:(ml[i]=!0,!1)}function La(i,r,o){if(gc(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function An(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Re(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function Fe(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Vs(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function gl(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,m=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(T){o=""+T,m.call(this,T)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Yt(i){if(!i._valueTracker){var r=Vs(i)?"checked":"value";i._valueTracker=gl(i,r,""+i[r])}}function kr(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=Vs(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Ii(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Ur=/[\n"\\]/g;function fn(i){return i.replace(Ur,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ka(i,r,o,u,f,m,T,A){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Fe(r)):i.value!==""+Fe(r)&&(i.value=""+Fe(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?yl(i,T,Fe(r)):o!=null?yl(i,T,Fe(o)):u!=null&&i.removeAttribute("value"),f==null&&m!=null&&(i.defaultChecked=!!m),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+Fe(A):i.removeAttribute("name")}function yc(i,r,o,u,f,m,T,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),r!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){Yt(i);return}o=o!=null?""+Fe(o):"",r=r!=null?""+Fe(r):o,A||r===i.value||(i.value=r),i.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=A?i.checked:!!u,i.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),Yt(i)}function yl(i,r,o){r==="number"&&Ii(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Ns(i,r,o,u){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+Fe(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function vc(i,r,o){if(r!=null&&(r=""+Fe(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+Fe(o):""}function Ms(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(de(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Fe(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),Yt(i)}function dn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var _c=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vl(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||_c.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function _l(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&vl(i,f,u)}else for(var m in r)r.hasOwnProperty(m)&&vl(i,m,r[m])}function Ua(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Os=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ja(i){return Os.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ei(){}var Tl=null;function Mn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ps=null,xi=null;function jr(i){var r=Nn(i);if(r&&(i=r.stateNode)){var o=i[Be]||null;t:switch(i=r.stateNode,r.type){case"input":if(ka(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+fn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var f=u[Be]||null;if(!f)throw Error(s(90));ka(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&kr(u)}break t;case"textarea":vc(i,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&Ns(i,!!o.multiple,r,!1)}}}var za=!1;function Ls(i,r,o){if(za)return i(r,o);za=!0;try{var u=i(r);return u}finally{if(za=!1,(Ps!==null||xi!==null)&&(dh(),Ps&&(r=Ps,i=xi,xi=Ps=null,jr(r),i)))for(r=0;r<i.length;r++)jr(i[r])}}function ni(i,r){var o=i.stateNode;if(o===null)return null;var u=o[Be]||null;if(u===null)return null;o=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zr=!1;if(On)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){zr=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{zr=!1}var Di=null,El=null,Br=null;function Sl(){if(Br)return Br;var i,r=El,o=r.length,u,f="value"in Di?Di.value:Di.textContent,m=f.length;for(i=0;i<o&&r[i]===f[i];i++);var T=o-i;for(u=1;u<=T&&r[o-u]===f[m-u];u++);return Br=f.slice(i,1<u?1-u:void 0)}function Fr(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Xi(){return!0}function ii(){return!1}function Ke(i){function r(o,u,f,m,T){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Xi:ii,this.isPropagationStopped=ii,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),r}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vi=Ke(Wi),ks=_({},Wi,{view:0,detail:0}),Al=Ke(ks),Us,Ba,Ni,Fa=_({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:js,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ni&&(Ni&&i.type==="mousemove"?(Us=i.screenX-Ni.screenX,Ba=i.screenY-Ni.screenY):Ba=Us=0,Ni=i),Us)},movementY:function(i){return"movementY"in i?i.movementY:Ba}}),bl=Ke(Fa),Hr=_({},Fa,{dataTransfer:0}),Ec=Ke(Hr),Sc=_({},ks,{relatedTarget:0}),qr=Ke(Sc),wl=_({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ac=Ke(wl),Ha=_({},Wi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),bc=Ke(Ha),wc=_({},Wi,{data:0}),Mi=Ke(wc),Rc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ic={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xc(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Ic[i])?!!r[i]:!1}function js(){return xc}var un=_({},ks,{key:function(i){if(i.key){var r=Rc[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Fr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Cc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:js,charCode:function(i){return i.type==="keypress"?Fr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Fr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Dc=Ke(un),Vc=_({},Fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zi=Ke(Vc),h=_({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:js}),v=Ke(h),E=_({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Ke(E),F=_({},Fa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),$=Ke(F),ot=_({},Wi,{newState:0,oldState:0}),Rt=Ke(ot),ve=[9,13,27,32],qt=On&&"CompositionEvent"in window,oe=null;On&&"documentMode"in document&&(oe=document.documentMode);var Pn=On&&"TextEvent"in window&&!oe,Oi=On&&(!qt||oe&&8<oe&&11>=oe),si=" ",ri=!1;function Gr(i,r){switch(i){case"keyup":return ve.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qa(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ga=!1;function TC(i,r){switch(i){case"compositionend":return qa(r);case"keypress":return r.which!==32?null:(ri=!0,si);case"textInput":return i=r.data,i===si&&ri?null:i;default:return null}}function EC(i,r){if(Ga)return i==="compositionend"||!qt&&Gr(i,r)?(i=Sl(),Br=El=Di=null,Ga=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Oi&&r.locale!=="ko"?null:r.data;default:return null}}var SC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Av(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!SC[i.type]:r==="textarea"}function bv(i,r,o,u){Ps?xi?xi.push(u):xi=[u]:Ps=u,r=Th(r,"onChange"),0<r.length&&(o=new Vi("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var Rl=null,Cl=null;function AC(i){aT(i,0)}function Nc(i){var r=Sn(i);if(kr(r))return i}function wv(i,r){if(i==="change")return r}var Rv=!1;if(On){var fd;if(On){var dd="oninput"in document;if(!dd){var Cv=document.createElement("div");Cv.setAttribute("oninput","return;"),dd=typeof Cv.oninput=="function"}fd=dd}else fd=!1;Rv=fd&&(!document.documentMode||9<document.documentMode)}function Iv(){Rl&&(Rl.detachEvent("onpropertychange",xv),Cl=Rl=null)}function xv(i){if(i.propertyName==="value"&&Nc(Cl)){var r=[];bv(r,Cl,i,Mn(i)),Ls(AC,r)}}function bC(i,r,o){i==="focusin"?(Iv(),Rl=r,Cl=o,Rl.attachEvent("onpropertychange",xv)):i==="focusout"&&Iv()}function wC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Nc(Cl)}function RC(i,r){if(i==="click")return Nc(r)}function CC(i,r){if(i==="input"||i==="change")return Nc(r)}function IC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var bn=typeof Object.is=="function"?Object.is:IC;function Il(i,r){if(bn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Se.call(r,f)||!bn(i[f],r[f]))return!1}return!0}function Dv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Vv(i,r){var o=Dv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Dv(o)}}function Nv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Nv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Mv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Ii(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Ii(i.document)}return r}function md(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var xC=On&&"documentMode"in document&&11>=document.documentMode,Ka=null,pd=null,xl=null,gd=!1;function Ov(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;gd||Ka==null||Ka!==Ii(u)||(u=Ka,"selectionStart"in u&&md(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),xl&&Il(xl,u)||(xl=u,u=Th(pd,"onSelect"),0<u.length&&(r=new Vi("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=Ka)))}function Kr(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Ya={animationend:Kr("Animation","AnimationEnd"),animationiteration:Kr("Animation","AnimationIteration"),animationstart:Kr("Animation","AnimationStart"),transitionrun:Kr("Transition","TransitionRun"),transitionstart:Kr("Transition","TransitionStart"),transitioncancel:Kr("Transition","TransitionCancel"),transitionend:Kr("Transition","TransitionEnd")},yd={},Pv={};On&&(Pv=document.createElement("div").style,"AnimationEvent"in window||(delete Ya.animationend.animation,delete Ya.animationiteration.animation,delete Ya.animationstart.animation),"TransitionEvent"in window||delete Ya.transitionend.transition);function Yr(i){if(yd[i])return yd[i];if(!Ya[i])return i;var r=Ya[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Pv)return yd[i]=r[o];return i}var Lv=Yr("animationend"),kv=Yr("animationiteration"),Uv=Yr("animationstart"),DC=Yr("transitionrun"),VC=Yr("transitionstart"),NC=Yr("transitioncancel"),jv=Yr("transitionend"),zv=new Map,vd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vd.push("scrollEnd");function ai(i,r){zv.set(i,r),Ri(r,[i])}var Mc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Ln=[],Qa=0,_d=0;function Oc(){for(var i=Qa,r=_d=Qa=0;r<i;){var o=Ln[r];Ln[r++]=null;var u=Ln[r];Ln[r++]=null;var f=Ln[r];Ln[r++]=null;var m=Ln[r];if(Ln[r++]=null,u!==null&&f!==null){var T=u.pending;T===null?f.next=f:(f.next=T.next,T.next=f),u.pending=f}m!==0&&Bv(o,f,m)}}function Pc(i,r,o,u){Ln[Qa++]=i,Ln[Qa++]=r,Ln[Qa++]=o,Ln[Qa++]=u,_d|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Td(i,r,o,u){return Pc(i,r,o,u),Lc(i)}function Qr(i,r){return Pc(i,null,null,r),Lc(i)}function Bv(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,m=i.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(f=!0)),i=m,m=m.return;return i.tag===3?(m=i.stateNode,f&&r!==null&&(f=31-ye(o),i=m.hiddenUpdates,u=i[f],u===null?i[f]=[r]:u.push(r),r.lane=o|536870912),m):null}function Lc(i){if(50<Wl)throw Wl=0,xm=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var $a={};function MC(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(i,r,o,u){return new MC(i,r,o,u)}function Ed(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ji(i,r){var o=i.alternate;return o===null?(o=wn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Fv(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function kc(i,r,o,u,f,m){var T=0;if(u=i,typeof i=="function")Ed(i)&&(T=1);else if(typeof i=="string")T=UI(i,o,ft.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case I:return i=wn(31,o,r,f),i.elementType=I,i.lanes=m,i;case U:return $r(o.children,f,m,r);case k:T=8,f|=24;break;case B:return i=wn(12,o,r,f|2),i.elementType=B,i.lanes=m,i;case at:return i=wn(13,o,r,f),i.elementType=at,i.lanes=m,i;case st:return i=wn(19,o,r,f),i.elementType=st,i.lanes=m,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Q:T=10;break t;case G:T=9;break t;case lt:T=11;break t;case R:T=14;break t;case b:T=16,u=null;break t}T=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=wn(T,o,r,f),r.elementType=i,r.type=u,r.lanes=m,r}function $r(i,r,o,u){return i=wn(7,i,u,r),i.lanes=o,i}function Sd(i,r,o){return i=wn(6,i,null,r),i.lanes=o,i}function Hv(i){var r=wn(18,null,null,0);return r.stateNode=i,r}function Ad(i,r,o){return r=wn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var qv=new WeakMap;function kn(i,r){if(typeof i=="object"&&i!==null){var o=qv.get(i);return o!==void 0?o:(r={value:i,source:r,stack:al(r)},qv.set(i,r),r)}return{value:i,source:r,stack:al(r)}}var Xa=[],Wa=0,Uc=null,Dl=0,Un=[],jn=0,zs=null,Pi=1,Li="";function ts(i,r){Xa[Wa++]=Dl,Xa[Wa++]=Uc,Uc=i,Dl=r}function Gv(i,r,o){Un[jn++]=Pi,Un[jn++]=Li,Un[jn++]=zs,zs=i;var u=Pi;i=Li;var f=32-ye(u)-1;u&=~(1<<f),o+=1;var m=32-ye(r)+f;if(30<m){var T=f-f%5;m=(u&(1<<T)-1).toString(32),u>>=T,f-=T,Pi=1<<32-ye(r)+f|o<<f|u,Li=m+i}else Pi=1<<m|o<<f|u,Li=i}function bd(i){i.return!==null&&(ts(i,1),Gv(i,1,0))}function wd(i){for(;i===Uc;)Uc=Xa[--Wa],Xa[Wa]=null,Dl=Xa[--Wa],Xa[Wa]=null;for(;i===zs;)zs=Un[--jn],Un[jn]=null,Li=Un[--jn],Un[jn]=null,Pi=Un[--jn],Un[jn]=null}function Kv(i,r){Un[jn++]=Pi,Un[jn++]=Li,Un[jn++]=zs,Pi=r.id,Li=r.overflow,zs=i}var Ye=null,ie=null,jt=!1,Bs=null,zn=!1,Rd=Error(s(519));function Fs(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vl(kn(r,i)),Rd}function Yv(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[be]=i,r[Be]=u,o){case"dialog":Nt("cancel",r),Nt("close",r);break;case"iframe":case"object":case"embed":Nt("load",r);break;case"video":case"audio":for(o=0;o<Jl.length;o++)Nt(Jl[o],r);break;case"source":Nt("error",r);break;case"img":case"image":case"link":Nt("error",r),Nt("load",r);break;case"details":Nt("toggle",r);break;case"input":Nt("invalid",r),yc(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Nt("invalid",r);break;case"textarea":Nt("invalid",r),Ms(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||cT(r.textContent,o)?(u.popover!=null&&(Nt("beforetoggle",r),Nt("toggle",r)),u.onScroll!=null&&Nt("scroll",r),u.onScrollEnd!=null&&Nt("scrollend",r),u.onClick!=null&&(r.onclick=ei),r=!0):r=!1,r||Fs(i,!0)}function Qv(i){for(Ye=i.return;Ye;)switch(Ye.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Ye=Ye.return}}function Za(i){if(i!==Ye)return!1;if(!jt)return Qv(i),jt=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||qm(i.type,i.memoizedProps)),o=!o),o&&ie&&Fs(i),Qv(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ie=_T(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ie=_T(i)}else r===27?(r=ie,nr(i.type)?(i=$m,$m=null,ie=i):ie=r):ie=Ye?Fn(i.stateNode.nextSibling):null;return!0}function Xr(){ie=Ye=null,jt=!1}function Cd(){var i=Bs;return i!==null&&(yn===null?yn=i:yn.push.apply(yn,i),Bs=null),i}function Vl(i){Bs===null?Bs=[i]:Bs.push(i)}var Id=L(null),Wr=null,es=null;function Hs(i,r,o){ut(Id,r._currentValue),r._currentValue=o}function ns(i){i._currentValue=Id.current,nt(Id)}function xd(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function Dd(i,r,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;t:for(;m!==null;){var A=m;m=f;for(var D=0;D<r.length;D++)if(A.context===r[D]){m.lanes|=o,A=m.alternate,A!==null&&(A.lanes|=o),xd(m.return,o,i),u||(T=null);break t}m=A.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=o,m=T.alternate,m!==null&&(m.lanes|=o),xd(T,o,i),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===i){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function Ja(i,r,o,u){i=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var A=f.type;bn(f.pendingProps.value,T.value)||(i!==null?i.push(A):i=[A])}}else if(f===zt.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(su):i=[su])}f=f.return}i!==null&&Dd(r,i,o,u),r.flags|=262144}function jc(i){for(i=i.firstContext;i!==null;){if(!bn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Zr(i){Wr=i,es=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Qe(i){return $v(Wr,i)}function zc(i,r){return Wr===null&&Zr(i),$v(i,r)}function $v(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},es===null){if(i===null)throw Error(s(308));es=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else es=es.next=r;return o}var OC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},PC=e.unstable_scheduleCallback,LC=e.unstable_NormalPriority,Ce={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vd(){return{controller:new OC,data:new Map,refCount:0}}function Nl(i){i.refCount--,i.refCount===0&&PC(LC,function(){i.controller.abort()})}var Ml=null,Nd=0,to=0,eo=null;function kC(i,r){if(Ml===null){var o=Ml=[];Nd=0,to=Pm(),eo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Nd++,r.then(Xv,Xv),r}function Xv(){if(--Nd===0&&Ml!==null){eo!==null&&(eo.status="fulfilled");var i=Ml;Ml=null,to=0,eo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function UC(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Wv=Z.S;Z.S=function(i,r){O0=ln(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&kC(i,r),Wv!==null&&Wv(i,r)};var Jr=L(null);function Md(){var i=Jr.current;return i!==null?i:ee.pooledCache}function Bc(i,r){r===null?ut(Jr,Jr.current):ut(Jr,r.pool)}function Zv(){var i=Md();return i===null?null:{parent:Ce._currentValue,pool:i}}var no=Error(s(460)),Od=Error(s(474)),Fc=Error(s(542)),Hc={then:function(){}};function Jv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function t_(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(ei,ei),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,n_(i),i;default:if(typeof r.status=="string")r.then(ei,ei);else{if(i=ee,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,n_(i),i}throw ea=r,no}}function ta(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ea=o,no):o}}var ea=null;function e_(){if(ea===null)throw Error(s(459));var i=ea;return ea=null,i}function n_(i){if(i===no||i===Fc)throw Error(s(483))}var io=null,Ol=0;function qc(i){var r=Ol;return Ol+=1,io===null&&(io=[]),t_(io,i,r)}function Pl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Gc(i,r){throw r.$$typeof===S?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function i_(i){function r(j,P){if(i){var H=j.deletions;H===null?(j.deletions=[P],j.flags|=16):H.push(P)}}function o(j,P){if(!i)return null;for(;P!==null;)r(j,P),P=P.sibling;return null}function u(j){for(var P=new Map;j!==null;)j.key!==null?P.set(j.key,j):P.set(j.index,j),j=j.sibling;return P}function f(j,P){return j=Ji(j,P),j.index=0,j.sibling=null,j}function m(j,P,H){return j.index=H,i?(H=j.alternate,H!==null?(H=H.index,H<P?(j.flags|=67108866,P):H):(j.flags|=67108866,P)):(j.flags|=1048576,P)}function T(j){return i&&j.alternate===null&&(j.flags|=67108866),j}function A(j,P,H,J){return P===null||P.tag!==6?(P=Sd(H,j.mode,J),P.return=j,P):(P=f(P,H),P.return=j,P)}function D(j,P,H,J){var gt=H.type;return gt===U?W(j,P,H.props.children,J,H.key):P!==null&&(P.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===b&&ta(gt)===P.type)?(P=f(P,H.props),Pl(P,H),P.return=j,P):(P=kc(H.type,H.key,H.props,null,j.mode,J),Pl(P,H),P.return=j,P)}function q(j,P,H,J){return P===null||P.tag!==4||P.stateNode.containerInfo!==H.containerInfo||P.stateNode.implementation!==H.implementation?(P=Ad(H,j.mode,J),P.return=j,P):(P=f(P,H.children||[]),P.return=j,P)}function W(j,P,H,J,gt){return P===null||P.tag!==7?(P=$r(H,j.mode,J,gt),P.return=j,P):(P=f(P,H),P.return=j,P)}function et(j,P,H){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Sd(""+P,j.mode,H),P.return=j,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case C:return H=kc(P.type,P.key,P.props,null,j.mode,H),Pl(H,P),H.return=j,H;case O:return P=Ad(P,j.mode,H),P.return=j,P;case b:return P=ta(P),et(j,P,H)}if(de(P)||z(P))return P=$r(P,j.mode,H,null),P.return=j,P;if(typeof P.then=="function")return et(j,qc(P),H);if(P.$$typeof===Q)return et(j,zc(j,P),H);Gc(j,P)}return null}function K(j,P,H,J){var gt=P!==null?P.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return gt!==null?null:A(j,P,""+H,J);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case C:return H.key===gt?D(j,P,H,J):null;case O:return H.key===gt?q(j,P,H,J):null;case b:return H=ta(H),K(j,P,H,J)}if(de(H)||z(H))return gt!==null?null:W(j,P,H,J,null);if(typeof H.then=="function")return K(j,P,qc(H),J);if(H.$$typeof===Q)return K(j,P,zc(j,H),J);Gc(j,H)}return null}function X(j,P,H,J,gt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return j=j.get(H)||null,A(P,j,""+J,gt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case C:return j=j.get(J.key===null?H:J.key)||null,D(P,j,J,gt);case O:return j=j.get(J.key===null?H:J.key)||null,q(P,j,J,gt);case b:return J=ta(J),X(j,P,H,J,gt)}if(de(J)||z(J))return j=j.get(H)||null,W(P,j,J,gt,null);if(typeof J.then=="function")return X(j,P,H,qc(J),gt);if(J.$$typeof===Q)return X(j,P,H,zc(P,J),gt);Gc(P,J)}return null}function mt(j,P,H,J){for(var gt=null,Ft=null,pt=P,Dt=P=0,Pt=null;pt!==null&&Dt<H.length;Dt++){pt.index>Dt?(Pt=pt,pt=null):Pt=pt.sibling;var Ht=K(j,pt,H[Dt],J);if(Ht===null){pt===null&&(pt=Pt);break}i&&pt&&Ht.alternate===null&&r(j,pt),P=m(Ht,P,Dt),Ft===null?gt=Ht:Ft.sibling=Ht,Ft=Ht,pt=Pt}if(Dt===H.length)return o(j,pt),jt&&ts(j,Dt),gt;if(pt===null){for(;Dt<H.length;Dt++)pt=et(j,H[Dt],J),pt!==null&&(P=m(pt,P,Dt),Ft===null?gt=pt:Ft.sibling=pt,Ft=pt);return jt&&ts(j,Dt),gt}for(pt=u(pt);Dt<H.length;Dt++)Pt=X(pt,j,Dt,H[Dt],J),Pt!==null&&(i&&Pt.alternate!==null&&pt.delete(Pt.key===null?Dt:Pt.key),P=m(Pt,P,Dt),Ft===null?gt=Pt:Ft.sibling=Pt,Ft=Pt);return i&&pt.forEach(function(or){return r(j,or)}),jt&&ts(j,Dt),gt}function vt(j,P,H,J){if(H==null)throw Error(s(151));for(var gt=null,Ft=null,pt=P,Dt=P=0,Pt=null,Ht=H.next();pt!==null&&!Ht.done;Dt++,Ht=H.next()){pt.index>Dt?(Pt=pt,pt=null):Pt=pt.sibling;var or=K(j,pt,Ht.value,J);if(or===null){pt===null&&(pt=Pt);break}i&&pt&&or.alternate===null&&r(j,pt),P=m(or,P,Dt),Ft===null?gt=or:Ft.sibling=or,Ft=or,pt=Pt}if(Ht.done)return o(j,pt),jt&&ts(j,Dt),gt;if(pt===null){for(;!Ht.done;Dt++,Ht=H.next())Ht=et(j,Ht.value,J),Ht!==null&&(P=m(Ht,P,Dt),Ft===null?gt=Ht:Ft.sibling=Ht,Ft=Ht);return jt&&ts(j,Dt),gt}for(pt=u(pt);!Ht.done;Dt++,Ht=H.next())Ht=X(pt,j,Dt,Ht.value,J),Ht!==null&&(i&&Ht.alternate!==null&&pt.delete(Ht.key===null?Dt:Ht.key),P=m(Ht,P,Dt),Ft===null?gt=Ht:Ft.sibling=Ht,Ft=Ht);return i&&pt.forEach(function($I){return r(j,$I)}),jt&&ts(j,Dt),gt}function Jt(j,P,H,J){if(typeof H=="object"&&H!==null&&H.type===U&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case C:t:{for(var gt=H.key;P!==null;){if(P.key===gt){if(gt=H.type,gt===U){if(P.tag===7){o(j,P.sibling),J=f(P,H.props.children),J.return=j,j=J;break t}}else if(P.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===b&&ta(gt)===P.type){o(j,P.sibling),J=f(P,H.props),Pl(J,H),J.return=j,j=J;break t}o(j,P);break}else r(j,P);P=P.sibling}H.type===U?(J=$r(H.props.children,j.mode,J,H.key),J.return=j,j=J):(J=kc(H.type,H.key,H.props,null,j.mode,J),Pl(J,H),J.return=j,j=J)}return T(j);case O:t:{for(gt=H.key;P!==null;){if(P.key===gt)if(P.tag===4&&P.stateNode.containerInfo===H.containerInfo&&P.stateNode.implementation===H.implementation){o(j,P.sibling),J=f(P,H.children||[]),J.return=j,j=J;break t}else{o(j,P);break}else r(j,P);P=P.sibling}J=Ad(H,j.mode,J),J.return=j,j=J}return T(j);case b:return H=ta(H),Jt(j,P,H,J)}if(de(H))return mt(j,P,H,J);if(z(H)){if(gt=z(H),typeof gt!="function")throw Error(s(150));return H=gt.call(H),vt(j,P,H,J)}if(typeof H.then=="function")return Jt(j,P,qc(H),J);if(H.$$typeof===Q)return Jt(j,P,zc(j,H),J);Gc(j,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,P!==null&&P.tag===6?(o(j,P.sibling),J=f(P,H),J.return=j,j=J):(o(j,P),J=Sd(H,j.mode,J),J.return=j,j=J),T(j)):o(j,P)}return function(j,P,H,J){try{Ol=0;var gt=Jt(j,P,H,J);return io=null,gt}catch(pt){if(pt===no||pt===Fc)throw pt;var Ft=wn(29,pt,null,j.mode);return Ft.lanes=J,Ft.return=j,Ft}finally{}}}var na=i_(!0),s_=i_(!1),qs=!1;function Pd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ld(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Gs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ks(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Gt&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=Lc(i),Bv(i,null,o),r}return Pc(i,u,r,o),Lc(i)}function Ll(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,ul(i,o)}}function kd(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,o=o.next}while(o!==null);m===null?f=m=r:m=m.next=r}else f=m=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Ud=!1;function kl(){if(Ud){var i=eo;if(i!==null)throw i}}function Ul(i,r,o,u){Ud=!1;var f=i.updateQueue;qs=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var D=A,q=D.next;D.next=null,T===null?m=q:T.next=q,T=D;var W=i.alternate;W!==null&&(W=W.updateQueue,A=W.lastBaseUpdate,A!==T&&(A===null?W.firstBaseUpdate=q:A.next=q,W.lastBaseUpdate=D))}if(m!==null){var et=f.baseState;T=0,W=q=D=null,A=m;do{var K=A.lane&-536870913,X=K!==A.lane;if(X?(Ot&K)===K:(u&K)===K){K!==0&&K===to&&(Ud=!0),W!==null&&(W=W.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var mt=i,vt=A;K=r;var Jt=o;switch(vt.tag){case 1:if(mt=vt.payload,typeof mt=="function"){et=mt.call(Jt,et,K);break t}et=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=vt.payload,K=typeof mt=="function"?mt.call(Jt,et,K):mt,K==null)break t;et=_({},et,K);break t;case 2:qs=!0}}K=A.callback,K!==null&&(i.flags|=64,X&&(i.flags|=8192),X=f.callbacks,X===null?f.callbacks=[K]:X.push(K))}else X={lane:K,tag:A.tag,payload:A.payload,callback:A.callback,next:null},W===null?(q=W=X,D=et):W=W.next=X,T|=K;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;X=A,A=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);W===null&&(D=et),f.baseState=D,f.firstBaseUpdate=q,f.lastBaseUpdate=W,m===null&&(f.shared.lanes=0),Ws|=T,i.lanes=T,i.memoizedState=et}}function r_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function a_(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)r_(o[i],r)}var so=L(null),Kc=L(0);function o_(i,r){i=hs,ut(Kc,i),ut(so,r),hs=i|r.baseLanes}function jd(){ut(Kc,hs),ut(so,so.current)}function zd(){hs=Kc.current,nt(so),nt(Kc)}var Rn=L(null),Bn=null;function Ys(i){var r=i.alternate;ut(_e,_e.current&1),ut(Rn,i),Bn===null&&(r===null||so.current!==null||r.memoizedState!==null)&&(Bn=i)}function Bd(i){ut(_e,_e.current),ut(Rn,i),Bn===null&&(Bn=i)}function l_(i){i.tag===22?(ut(_e,_e.current),ut(Rn,i),Bn===null&&(Bn=i)):Qs()}function Qs(){ut(_e,_e.current),ut(Rn,Rn.current)}function Cn(i){nt(Rn),Bn===i&&(Bn=null),nt(_e)}var _e=L(0);function Yc(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Ym(o)||Qm(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var is=0,Ct=null,Wt=null,Ie=null,Qc=!1,ro=!1,ia=!1,$c=0,jl=0,ao=null,jC=0;function me(){throw Error(s(321))}function Fd(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!bn(i[o],r[o]))return!1;return!0}function Hd(i,r,o,u,f,m){return is=m,Ct=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Z.H=i===null||i.memoizedState===null?G_:sm,ia=!1,m=o(u,f),ia=!1,ro&&(m=c_(r,o,u,f)),u_(i),m}function u_(i){Z.H=Fl;var r=Wt!==null&&Wt.next!==null;if(is=0,Ie=Wt=Ct=null,Qc=!1,jl=0,ao=null,r)throw Error(s(300));i===null||xe||(i=i.dependencies,i!==null&&jc(i)&&(xe=!0))}function c_(i,r,o,u){Ct=i;var f=0;do{if(ro&&(ao=null),jl=0,ro=!1,25<=f)throw Error(s(301));if(f+=1,Ie=Wt=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Z.H=K_,m=r(o,u)}while(ro);return m}function zC(){var i=Z.H,r=i.useState()[0];return r=typeof r.then=="function"?zl(r):r,i=i.useState()[0],(Wt!==null?Wt.memoizedState:null)!==i&&(Ct.flags|=1024),r}function qd(){var i=$c!==0;return $c=0,i}function Gd(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Kd(i){if(Qc){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Qc=!1}is=0,Ie=Wt=Ct=null,ro=!1,jl=$c=0,ao=null}function cn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?Ct.memoizedState=Ie=i:Ie=Ie.next=i,Ie}function Te(){if(Wt===null){var i=Ct.alternate;i=i!==null?i.memoizedState:null}else i=Wt.next;var r=Ie===null?Ct.memoizedState:Ie.next;if(r!==null)Ie=r,Wt=i;else{if(i===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Wt=i,i={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Ie===null?Ct.memoizedState=Ie=i:Ie=Ie.next=i}return Ie}function Xc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zl(i){var r=jl;return jl+=1,ao===null&&(ao=[]),i=t_(ao,i,r),r=Ct,(Ie===null?r.memoizedState:Ie.next)===null&&(r=r.alternate,Z.H=r===null||r.memoizedState===null?G_:sm),i}function Wc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return zl(i);if(i.$$typeof===Q)return Qe(i)}throw Error(s(438,String(i)))}function Yd(i){var r=null,o=Ct.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Ct.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Xc(),Ct.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=M;return r.index++,o}function ss(i,r){return typeof r=="function"?r(i):r}function Zc(i){var r=Te();return Qd(r,Wt,i)}function Qd(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=i.baseQueue,m=u.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}r.baseQueue=f=m,u.pending=null}if(m=i.baseState,f===null)i.memoizedState=m;else{r=f.next;var A=T=null,D=null,q=r,W=!1;do{var et=q.lane&-536870913;if(et!==q.lane?(Ot&et)===et:(is&et)===et){var K=q.revertLane;if(K===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),et===to&&(W=!0);else if((is&K)===K){q=q.next,K===to&&(W=!0);continue}else et={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(A=D=et,T=m):D=D.next=et,Ct.lanes|=K,Ws|=K;et=q.action,ia&&o(m,et),m=q.hasEagerState?q.eagerState:o(m,et)}else K={lane:et,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(A=D=K,T=m):D=D.next=K,Ct.lanes|=et,Ws|=et;q=q.next}while(q!==null&&q!==r);if(D===null?T=m:D.next=A,!bn(m,i.memoizedState)&&(xe=!0,W&&(o=eo,o!==null)))throw o;i.memoizedState=m,i.baseState=T,i.baseQueue=D,u.lastRenderedState=m}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function $d(i){var r=Te(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,m=r.memoizedState;if(f!==null){o.pending=null;var T=f=f.next;do m=i(m,T.action),T=T.next;while(T!==f);bn(m,r.memoizedState)||(xe=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),o.lastRenderedState=m}return[m,u]}function h_(i,r,o){var u=Ct,f=Te(),m=jt;if(m){if(o===void 0)throw Error(s(407));o=o()}else o=r();var T=!bn((Wt||f).memoizedState,o);if(T&&(f.memoizedState=o,xe=!0),f=f.queue,Zd(m_.bind(null,u,f,i),[i]),f.getSnapshot!==r||T||Ie!==null&&Ie.memoizedState.tag&1){if(u.flags|=2048,oo(9,{destroy:void 0},d_.bind(null,u,f,o,r),null),ee===null)throw Error(s(349));m||(is&127)!==0||f_(u,r,o)}return o}function f_(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Ct.updateQueue,r===null?(r=Xc(),Ct.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function d_(i,r,o,u){r.value=o,r.getSnapshot=u,p_(r)&&g_(i)}function m_(i,r,o){return o(function(){p_(r)&&g_(i)})}function p_(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!bn(i,o)}catch{return!0}}function g_(i){var r=Qr(i,2);r!==null&&vn(r,i,2)}function Xd(i){var r=cn();if(typeof i=="function"){var o=i;if(i=o(),ia){Vn(!0);try{o()}finally{Vn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:i},r}function y_(i,r,o,u){return i.baseState=o,Qd(i,Wt,typeof u=="function"?u:ss)}function BC(i,r,o,u,f){if(eh(i))throw Error(s(485));if(i=r.action,i!==null){var m={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};Z.T!==null?o(!0):m.isTransition=!1,u(m),o=r.pending,o===null?(m.next=r.pending=m,v_(r,m)):(m.next=o.next,r.pending=o.next=m)}}function v_(i,r){var o=r.action,u=r.payload,f=i.state;if(r.isTransition){var m=Z.T,T={};Z.T=T;try{var A=o(f,u),D=Z.S;D!==null&&D(T,A),__(i,r,A)}catch(q){Wd(i,r,q)}finally{m!==null&&T.types!==null&&(m.types=T.types),Z.T=m}}else try{m=o(f,u),__(i,r,m)}catch(q){Wd(i,r,q)}}function __(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){T_(i,r,u)},function(u){return Wd(i,r,u)}):T_(i,r,o)}function T_(i,r,o){r.status="fulfilled",r.value=o,E_(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,v_(i,o)))}function Wd(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,E_(r),r=r.next;while(r!==u)}i.action=null}function E_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function S_(i,r){return r}function A_(i,r){if(jt){var o=ee.formState;if(o!==null){t:{var u=Ct;if(jt){if(ie){e:{for(var f=ie,m=zn;f.nodeType!==8;){if(!m){f=null;break e}if(f=Fn(f.nextSibling),f===null){f=null;break e}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){ie=Fn(f.nextSibling),u=f.data==="F!";break t}}Fs(u)}u=!1}u&&(r=o[0])}}return o=cn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:S_,lastRenderedState:r},o.queue=u,o=F_.bind(null,Ct,u),u.dispatch=o,u=Xd(!1),m=im.bind(null,Ct,!1,u.queue),u=cn(),f={state:r,dispatch:null,action:i,pending:null},u.queue=f,o=BC.bind(null,Ct,f,m,o),f.dispatch=o,u.memoizedState=i,[r,o,!1]}function b_(i){var r=Te();return w_(r,Wt,i)}function w_(i,r,o){if(r=Qd(i,r,S_)[0],i=Zc(ss)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=zl(r)}catch(T){throw T===no?Fc:T}else u=r;r=Te();var f=r.queue,m=f.dispatch;return o!==r.memoizedState&&(Ct.flags|=2048,oo(9,{destroy:void 0},FC.bind(null,f,o),null)),[u,m,i]}function FC(i,r){i.action=r}function R_(i){var r=Te(),o=Wt;if(o!==null)return w_(r,o,i);Te(),r=r.memoizedState,o=Te();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function oo(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=Ct.updateQueue,r===null&&(r=Xc(),Ct.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function C_(){return Te().memoizedState}function Jc(i,r,o,u){var f=cn();Ct.flags|=i,f.memoizedState=oo(1|r,{destroy:void 0},o,u===void 0?null:u)}function th(i,r,o,u){var f=Te();u=u===void 0?null:u;var m=f.memoizedState.inst;Wt!==null&&u!==null&&Fd(u,Wt.memoizedState.deps)?f.memoizedState=oo(r,m,o,u):(Ct.flags|=i,f.memoizedState=oo(1|r,m,o,u))}function I_(i,r){Jc(8390656,8,i,r)}function Zd(i,r){th(2048,8,i,r)}function HC(i){Ct.flags|=4;var r=Ct.updateQueue;if(r===null)r=Xc(),Ct.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function x_(i){var r=Te().memoizedState;return HC({ref:r,nextImpl:i}),function(){if((Gt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function D_(i,r){return th(4,2,i,r)}function V_(i,r){return th(4,4,i,r)}function N_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function M_(i,r,o){o=o!=null?o.concat([i]):null,th(4,4,N_.bind(null,r,i),o)}function Jd(){}function O_(i,r){var o=Te();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Fd(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function P_(i,r){var o=Te();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Fd(r,u[1]))return u[0];if(u=i(),ia){Vn(!0);try{i()}finally{Vn(!1)}}return o.memoizedState=[u,r],u}function tm(i,r,o){return o===void 0||(is&1073741824)!==0&&(Ot&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=L0(),Ct.lanes|=i,Ws|=i,o)}function L_(i,r,o,u){return bn(o,r)?o:so.current!==null?(i=tm(i,o,u),bn(i,r)||(xe=!0),i):(is&42)===0||(is&1073741824)!==0&&(Ot&261930)===0?(xe=!0,i.memoizedState=o):(i=L0(),Ct.lanes|=i,Ws|=i,r)}function k_(i,r,o,u,f){var m=rt.p;rt.p=m!==0&&8>m?m:8;var T=Z.T,A={};Z.T=A,im(i,!1,r,o);try{var D=f(),q=Z.S;if(q!==null&&q(A,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=UC(D,u);Bl(i,r,W,Dn(i))}else Bl(i,r,u,Dn(i))}catch(et){Bl(i,r,{then:function(){},status:"rejected",reason:et},Dn())}finally{rt.p=m,T!==null&&A.types!==null&&(T.types=A.types),Z.T=T}}function qC(){}function em(i,r,o,u){if(i.tag!==5)throw Error(s(476));var f=U_(i).queue;k_(i,f,r,dt,o===null?qC:function(){return j_(i),o(u)})}function U_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:dt},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function j_(i){var r=U_(i);r.next===null&&(r=i.alternate.memoizedState),Bl(i,r.next.queue,{},Dn())}function nm(){return Qe(su)}function z_(){return Te().memoizedState}function B_(){return Te().memoizedState}function GC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Dn();i=Gs(o);var u=Ks(r,i,o);u!==null&&(vn(u,r,o),Ll(u,r,o)),r={cache:Vd()},i.payload=r;return}r=r.return}}function KC(i,r,o){var u=Dn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},eh(i)?H_(r,o):(o=Td(i,r,o,u),o!==null&&(vn(o,i,u),q_(o,r,u)))}function F_(i,r,o){var u=Dn();Bl(i,r,o,u)}function Bl(i,r,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(eh(i))H_(r,f);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var T=r.lastRenderedState,A=m(T,o);if(f.hasEagerState=!0,f.eagerState=A,bn(A,T))return Pc(i,r,f,0),ee===null&&Oc(),!1}catch{}finally{}if(o=Td(i,r,f,u),o!==null)return vn(o,i,u),q_(o,r,u),!0}return!1}function im(i,r,o,u){if(u={lane:2,revertLane:Pm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},eh(i)){if(r)throw Error(s(479))}else r=Td(i,o,u,2),r!==null&&vn(r,i,2)}function eh(i){var r=i.alternate;return i===Ct||r!==null&&r===Ct}function H_(i,r){ro=Qc=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function q_(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,ul(i,o)}}var Fl={readContext:Qe,use:Wc,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me,useHostTransitionStatus:me,useFormState:me,useActionState:me,useOptimistic:me,useMemoCache:me,useCacheRefresh:me};Fl.useEffectEvent=me;var G_={readContext:Qe,use:Wc,useCallback:function(i,r){return cn().memoizedState=[i,r===void 0?null:r],i},useContext:Qe,useEffect:I_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Jc(4194308,4,N_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Jc(4194308,4,i,r)},useInsertionEffect:function(i,r){Jc(4,2,i,r)},useMemo:function(i,r){var o=cn();r=r===void 0?null:r;var u=i();if(ia){Vn(!0);try{i()}finally{Vn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=cn();if(o!==void 0){var f=o(r);if(ia){Vn(!0);try{o(r)}finally{Vn(!1)}}}else f=r;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=KC.bind(null,Ct,i),[u.memoizedState,i]},useRef:function(i){var r=cn();return i={current:i},r.memoizedState=i},useState:function(i){i=Xd(i);var r=i.queue,o=F_.bind(null,Ct,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Jd,useDeferredValue:function(i,r){var o=cn();return tm(o,i,r)},useTransition:function(){var i=Xd(!1);return i=k_.bind(null,Ct,i.queue,!0,!1),cn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=Ct,f=cn();if(jt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),ee===null)throw Error(s(349));(Ot&127)!==0||f_(u,r,o)}f.memoizedState=o;var m={value:o,getSnapshot:r};return f.queue=m,I_(m_.bind(null,u,m,i),[i]),u.flags|=2048,oo(9,{destroy:void 0},d_.bind(null,u,m,o,r),null),o},useId:function(){var i=cn(),r=ee.identifierPrefix;if(jt){var o=Li,u=Pi;o=(u&~(1<<32-ye(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=$c++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=jC++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:nm,useFormState:A_,useActionState:A_,useOptimistic:function(i){var r=cn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=im.bind(null,Ct,!0,o),o.dispatch=r,[i,r]},useMemoCache:Yd,useCacheRefresh:function(){return cn().memoizedState=GC.bind(null,Ct)},useEffectEvent:function(i){var r=cn(),o={impl:i};return r.memoizedState=o,function(){if((Gt&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},sm={readContext:Qe,use:Wc,useCallback:O_,useContext:Qe,useEffect:Zd,useImperativeHandle:M_,useInsertionEffect:D_,useLayoutEffect:V_,useMemo:P_,useReducer:Zc,useRef:C_,useState:function(){return Zc(ss)},useDebugValue:Jd,useDeferredValue:function(i,r){var o=Te();return L_(o,Wt.memoizedState,i,r)},useTransition:function(){var i=Zc(ss)[0],r=Te().memoizedState;return[typeof i=="boolean"?i:zl(i),r]},useSyncExternalStore:h_,useId:z_,useHostTransitionStatus:nm,useFormState:b_,useActionState:b_,useOptimistic:function(i,r){var o=Te();return y_(o,Wt,i,r)},useMemoCache:Yd,useCacheRefresh:B_};sm.useEffectEvent=x_;var K_={readContext:Qe,use:Wc,useCallback:O_,useContext:Qe,useEffect:Zd,useImperativeHandle:M_,useInsertionEffect:D_,useLayoutEffect:V_,useMemo:P_,useReducer:$d,useRef:C_,useState:function(){return $d(ss)},useDebugValue:Jd,useDeferredValue:function(i,r){var o=Te();return Wt===null?tm(o,i,r):L_(o,Wt.memoizedState,i,r)},useTransition:function(){var i=$d(ss)[0],r=Te().memoizedState;return[typeof i=="boolean"?i:zl(i),r]},useSyncExternalStore:h_,useId:z_,useHostTransitionStatus:nm,useFormState:R_,useActionState:R_,useOptimistic:function(i,r){var o=Te();return Wt!==null?y_(o,Wt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Yd,useCacheRefresh:B_};K_.useEffectEvent=x_;function rm(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:_({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var am={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Dn(),f=Gs(u);f.payload=r,o!=null&&(f.callback=o),r=Ks(i,f,u),r!==null&&(vn(r,i,u),Ll(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Dn(),f=Gs(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=Ks(i,f,u),r!==null&&(vn(r,i,u),Ll(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Dn(),u=Gs(o);u.tag=2,r!=null&&(u.callback=r),r=Ks(i,u,o),r!==null&&(vn(r,i,o),Ll(r,i,o))}};function Y_(i,r,o,u,f,m,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,m,T):r.prototype&&r.prototype.isPureReactComponent?!Il(o,u)||!Il(f,m):!0}function Q_(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&am.enqueueReplaceState(r,r.state,null)}function sa(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=_({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}function $_(i){Mc(i)}function X_(i){console.error(i)}function W_(i){Mc(i)}function nh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Z_(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function om(i,r,o){return o=Gs(o),o.tag=3,o.payload={element:null},o.callback=function(){nh(i,r)},o}function J_(i){return i=Gs(i),i.tag=3,i}function t0(i,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;i.payload=function(){return f(m)},i.callback=function(){Z_(r,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){Z_(r,o,u),typeof f!="function"&&(Zs===null?Zs=new Set([this]):Zs.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function YC(i,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Ja(r,o,f,!0),o=Rn.current,o!==null){switch(o.tag){case 31:case 13:return Bn===null?mh():o.alternate===null&&pe===0&&(pe=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Hc?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Nm(i,u,f)),!1;case 22:return o.flags|=65536,u===Hc?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Nm(i,u,f)),!1}throw Error(s(435,o.tag))}return Nm(i,u,f),mh(),!1}if(jt)return r=Rn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==Rd&&(i=Error(s(422),{cause:u}),Vl(kn(i,o)))):(u!==Rd&&(r=Error(s(423),{cause:u}),Vl(kn(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=kn(u,o),f=om(i.stateNode,u,f),kd(i,f),pe!==4&&(pe=2)),!1;var m=Error(s(520),{cause:u});if(m=kn(m,o),Xl===null?Xl=[m]:Xl.push(m),pe!==4&&(pe=2),r===null)return!0;u=kn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=om(o.stateNode,u,i),kd(o,i),!1;case 1:if(r=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Zs===null||!Zs.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=J_(f),t0(f,i,o,u),kd(o,f),!1}o=o.return}while(o!==null);return!1}var lm=Error(s(461)),xe=!1;function $e(i,r,o,u){r.child=i===null?s_(r,null,o,u):na(r,i.child,o,u)}function e0(i,r,o,u,f){o=o.render;var m=r.ref;if("ref"in u){var T={};for(var A in u)A!=="ref"&&(T[A]=u[A])}else T=u;return Zr(r),u=Hd(i,r,o,T,m,f),A=qd(),i!==null&&!xe?(Gd(i,r,f),rs(i,r,f)):(jt&&A&&bd(r),r.flags|=1,$e(i,r,u,f),r.child)}function n0(i,r,o,u,f){if(i===null){var m=o.type;return typeof m=="function"&&!Ed(m)&&m.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=m,i0(i,r,m,u,f)):(i=kc(o.type,null,u,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(m=i.child,!gm(i,f)){var T=m.memoizedProps;if(o=o.compare,o=o!==null?o:Il,o(T,u)&&i.ref===r.ref)return rs(i,r,f)}return r.flags|=1,i=Ji(m,u),i.ref=r.ref,i.return=r,r.child=i}function i0(i,r,o,u,f){if(i!==null){var m=i.memoizedProps;if(Il(m,u)&&i.ref===r.ref)if(xe=!1,r.pendingProps=u=m,gm(i,f))(i.flags&131072)!==0&&(xe=!0);else return r.lanes=i.lanes,rs(i,r,f)}return um(i,r,o,u,f)}function s0(i,r,o,u){var f=u.children,m=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,i!==null){for(u=r.child=i.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~m}else u=0,r.child=null;return r0(i,r,m,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Bc(r,m!==null?m.cachePool:null),m!==null?o_(r,m):jd(),l_(r);else return u=r.lanes=536870912,r0(i,r,m!==null?m.baseLanes|o:o,o,u)}else m!==null?(Bc(r,m.cachePool),o_(r,m),Qs(),r.memoizedState=null):(i!==null&&Bc(r,null),jd(),Qs());return $e(i,r,f,o),r.child}function Hl(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function r0(i,r,o,u,f){var m=Md();return m=m===null?null:{parent:Ce._currentValue,pool:m},r.memoizedState={baseLanes:o,cachePool:m},i!==null&&Bc(r,null),jd(),l_(r),i!==null&&Ja(i,r,u,!0),r.childLanes=f,null}function ih(i,r){return r=rh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function a0(i,r,o){return na(r,i.child,null,o),i=ih(r,r.pendingProps),i.flags|=2,Cn(r),r.memoizedState=null,i}function QC(i,r,o){var u=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(jt){if(u.mode==="hidden")return i=ih(r,u),r.lanes=536870912,Hl(null,i);if(Bd(r),(i=ie)?(i=vT(i,zn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:zs!==null?{id:Pi,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},o=Hv(i),o.return=r,r.child=o,Ye=r,ie=null)):i=null,i===null)throw Fs(r);return r.lanes=536870912,null}return ih(r,u)}var m=i.memoizedState;if(m!==null){var T=m.dehydrated;if(Bd(r),f)if(r.flags&256)r.flags&=-257,r=a0(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(xe||Ja(i,r,o,!1),f=(o&i.childLanes)!==0,xe||f){if(u=ee,u!==null&&(T=cl(u,o),T!==0&&T!==m.retryLane))throw m.retryLane=T,Qr(i,T),vn(u,i,T),lm;mh(),r=a0(i,r,o)}else i=m.treeContext,ie=Fn(T.nextSibling),Ye=r,jt=!0,Bs=null,zn=!1,i!==null&&Kv(r,i),r=ih(r,u),r.flags|=4096;return r}return i=Ji(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function sh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function um(i,r,o,u,f){return Zr(r),o=Hd(i,r,o,u,void 0,f),u=qd(),i!==null&&!xe?(Gd(i,r,f),rs(i,r,f)):(jt&&u&&bd(r),r.flags|=1,$e(i,r,o,f),r.child)}function o0(i,r,o,u,f,m){return Zr(r),r.updateQueue=null,o=c_(r,u,o,f),u_(i),u=qd(),i!==null&&!xe?(Gd(i,r,m),rs(i,r,m)):(jt&&u&&bd(r),r.flags|=1,$e(i,r,o,m),r.child)}function l0(i,r,o,u,f){if(Zr(r),r.stateNode===null){var m=$a,T=o.contextType;typeof T=="object"&&T!==null&&(m=Qe(T)),m=new o(u,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=am,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=u,m.state=r.memoizedState,m.refs={},Pd(r),T=o.contextType,m.context=typeof T=="object"&&T!==null?Qe(T):$a,m.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(rm(r,o,T,u),m.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&am.enqueueReplaceState(m,m.state,null),Ul(r,u,m,f),kl(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){m=r.stateNode;var A=r.memoizedProps,D=sa(o,A);m.props=D;var q=m.context,W=o.contextType;T=$a,typeof W=="object"&&W!==null&&(T=Qe(W));var et=o.getDerivedStateFromProps;W=typeof et=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,W||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||q!==T)&&Q_(r,m,u,T),qs=!1;var K=r.memoizedState;m.state=K,Ul(r,u,m,f),kl(),q=r.memoizedState,A||K!==q||qs?(typeof et=="function"&&(rm(r,o,et,u),q=r.memoizedState),(D=qs||Y_(r,o,D,u,K,q,T))?(W||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=q),m.props=u,m.state=q,m.context=T,u=D):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{m=r.stateNode,Ld(i,r),T=r.memoizedProps,W=sa(o,T),m.props=W,et=r.pendingProps,K=m.context,q=o.contextType,D=$a,typeof q=="object"&&q!==null&&(D=Qe(q)),A=o.getDerivedStateFromProps,(q=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==et||K!==D)&&Q_(r,m,u,D),qs=!1,K=r.memoizedState,m.state=K,Ul(r,u,m,f),kl();var X=r.memoizedState;T!==et||K!==X||qs||i!==null&&i.dependencies!==null&&jc(i.dependencies)?(typeof A=="function"&&(rm(r,o,A,u),X=r.memoizedState),(W=qs||Y_(r,o,W,u,K,X,D)||i!==null&&i.dependencies!==null&&jc(i.dependencies))?(q||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,X,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,X,D)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=X),m.props=u,m.state=X,m.context=D,u=W):(typeof m.componentDidUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(r.flags|=1024),u=!1)}return m=u,sh(i,r),u=(r.flags&128)!==0,m||u?(m=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,i!==null&&u?(r.child=na(r,i.child,null,f),r.child=na(r,null,o,f)):$e(i,r,o,f),r.memoizedState=m.state,i=r.child):i=rs(i,r,f),i}function u0(i,r,o,u){return Xr(),r.flags|=256,$e(i,r,o,u),r.child}var cm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hm(i){return{baseLanes:i,cachePool:Zv()}}function fm(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=xn),i}function c0(i,r,o){var u=r.pendingProps,f=!1,m=(r.flags&128)!==0,T;if((T=m)||(T=i!==null&&i.memoizedState===null?!1:(_e.current&2)!==0),T&&(f=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(jt){if(f?Ys(r):Qs(),(i=ie)?(i=vT(i,zn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:zs!==null?{id:Pi,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},o=Hv(i),o.return=r,r.child=o,Ye=r,ie=null)):i=null,i===null)throw Fs(r);return Qm(i)?r.lanes=32:r.lanes=536870912,null}var A=u.children;return u=u.fallback,f?(Qs(),f=r.mode,A=rh({mode:"hidden",children:A},f),u=$r(u,f,o,null),A.return=r,u.return=r,A.sibling=u,r.child=A,u=r.child,u.memoizedState=hm(o),u.childLanes=fm(i,T,o),r.memoizedState=cm,Hl(null,u)):(Ys(r),dm(r,A))}var D=i.memoizedState;if(D!==null&&(A=D.dehydrated,A!==null)){if(m)r.flags&256?(Ys(r),r.flags&=-257,r=mm(i,r,o)):r.memoizedState!==null?(Qs(),r.child=i.child,r.flags|=128,r=null):(Qs(),A=u.fallback,f=r.mode,u=rh({mode:"visible",children:u.children},f),A=$r(A,f,o,null),A.flags|=2,u.return=r,A.return=r,u.sibling=A,r.child=u,na(r,i.child,null,o),u=r.child,u.memoizedState=hm(o),u.childLanes=fm(i,T,o),r.memoizedState=cm,r=Hl(null,u));else if(Ys(r),Qm(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var q=T.dgst;T=q,u=Error(s(419)),u.stack="",u.digest=T,Vl({value:u,source:null,stack:null}),r=mm(i,r,o)}else if(xe||Ja(i,r,o,!1),T=(o&i.childLanes)!==0,xe||T){if(T=ee,T!==null&&(u=cl(T,o),u!==0&&u!==D.retryLane))throw D.retryLane=u,Qr(i,u),vn(T,i,u),lm;Ym(A)||mh(),r=mm(i,r,o)}else Ym(A)?(r.flags|=192,r.child=i.child,r=null):(i=D.treeContext,ie=Fn(A.nextSibling),Ye=r,jt=!0,Bs=null,zn=!1,i!==null&&Kv(r,i),r=dm(r,u.children),r.flags|=4096);return r}return f?(Qs(),A=u.fallback,f=r.mode,D=i.child,q=D.sibling,u=Ji(D,{mode:"hidden",children:u.children}),u.subtreeFlags=D.subtreeFlags&65011712,q!==null?A=Ji(q,A):(A=$r(A,f,o,null),A.flags|=2),A.return=r,u.return=r,u.sibling=A,r.child=u,Hl(null,u),u=r.child,A=i.child.memoizedState,A===null?A=hm(o):(f=A.cachePool,f!==null?(D=Ce._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=Zv(),A={baseLanes:A.baseLanes|o,cachePool:f}),u.memoizedState=A,u.childLanes=fm(i,T,o),r.memoizedState=cm,Hl(i.child,u)):(Ys(r),o=i.child,i=o.sibling,o=Ji(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=o,r.memoizedState=null,o)}function dm(i,r){return r=rh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function rh(i,r){return i=wn(22,i,null,r),i.lanes=0,i}function mm(i,r,o){return na(r,i.child,null,o),i=dm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function h0(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),xd(i.return,r,o)}function pm(i,r,o,u,f,m){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:m}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=o,T.tailMode=f,T.treeForkCount=m)}function f0(i,r,o){var u=r.pendingProps,f=u.revealOrder,m=u.tail;u=u.children;var T=_e.current,A=(T&2)!==0;if(A?(T=T&1|2,r.flags|=128):T&=1,ut(_e,T),$e(i,r,u,o),u=jt?Dl:0,!A&&i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&h0(i,o,r);else if(i.tag===19)h0(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&Yc(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),pm(r,!1,f,o,m,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&Yc(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}pm(r,!0,o,null,m,u);break;case"together":pm(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function rs(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Ws|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Ja(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Ji(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Ji(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function gm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&jc(i)))}function $C(i,r,o){switch(r.tag){case 3:Le(r,r.stateNode.containerInfo),Hs(r,Ce,i.memoizedState.cache),Xr();break;case 27:case 5:Dr(r);break;case 4:Le(r,r.stateNode.containerInfo);break;case 10:Hs(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Bd(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Ys(r),r.flags|=128,null):(o&r.child.childLanes)!==0?c0(i,r,o):(Ys(r),i=rs(i,r,o),i!==null?i.sibling:null);Ys(r);break;case 19:var f=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Ja(i,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return f0(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ut(_e,_e.current),u)break;return null;case 22:return r.lanes=0,s0(i,r,o,r.pendingProps);case 24:Hs(r,Ce,i.memoizedState.cache)}return rs(i,r,o)}function d0(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)xe=!0;else{if(!gm(i,o)&&(r.flags&128)===0)return xe=!1,$C(i,r,o);xe=(i.flags&131072)!==0}else xe=!1,jt&&(r.flags&1048576)!==0&&Gv(r,Dl,r.index);switch(r.lanes=0,r.tag){case 16:t:{var u=r.pendingProps;if(i=ta(r.elementType),r.type=i,typeof i=="function")Ed(i)?(u=sa(i,u),r.tag=1,r=l0(null,r,i,u,o)):(r.tag=0,r=um(null,r,i,u,o));else{if(i!=null){var f=i.$$typeof;if(f===lt){r.tag=11,r=e0(null,r,i,u,o);break t}else if(f===R){r.tag=14,r=n0(null,r,i,u,o);break t}}throw r=te(i)||i,Error(s(306,r,""))}}return r;case 0:return um(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=sa(u,r.pendingProps),l0(i,r,u,f,o);case 3:t:{if(Le(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var m=r.memoizedState;f=m.element,Ld(i,r),Ul(r,u,null,o);var T=r.memoizedState;if(u=T.cache,Hs(r,Ce,u),u!==m.cache&&Dd(r,[Ce],o,!0),kl(),u=T.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=u0(i,r,u,o);break t}else if(u!==f){f=kn(Error(s(424)),r),Vl(f),r=u0(i,r,u,o);break t}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ie=Fn(i.firstChild),Ye=r,jt=!0,Bs=null,zn=!0,o=s_(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Xr(),u===f){r=rs(i,r,o);break t}$e(i,r,u,o)}r=r.child}return r;case 26:return sh(i,r),i===null?(o=bT(r.type,null,r.pendingProps,null))?r.memoizedState=o:jt||(o=r.type,i=r.pendingProps,u=Eh(xt.current).createElement(o),u[be]=r,u[Be]=i,Xe(u,o,i),we(u),r.stateNode=u):r.memoizedState=bT(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Dr(r),i===null&&jt&&(u=r.stateNode=ET(r.type,r.pendingProps,xt.current),Ye=r,zn=!0,f=ie,nr(r.type)?($m=f,ie=Fn(u.firstChild)):ie=f),$e(i,r,r.pendingProps.children,o),sh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&jt&&((f=u=ie)&&(u=wI(u,r.type,r.pendingProps,zn),u!==null?(r.stateNode=u,Ye=r,ie=Fn(u.firstChild),zn=!1,f=!0):f=!1),f||Fs(r)),Dr(r),f=r.type,m=r.pendingProps,T=i!==null?i.memoizedProps:null,u=m.children,qm(f,m)?u=null:T!==null&&qm(f,T)&&(r.flags|=32),r.memoizedState!==null&&(f=Hd(i,r,zC,null,null,o),su._currentValue=f),sh(i,r),$e(i,r,u,o),r.child;case 6:return i===null&&jt&&((i=o=ie)&&(o=RI(o,r.pendingProps,zn),o!==null?(r.stateNode=o,Ye=r,ie=null,i=!0):i=!1),i||Fs(r)),null;case 13:return c0(i,r,o);case 4:return Le(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=na(r,null,u,o):$e(i,r,u,o),r.child;case 11:return e0(i,r,r.type,r.pendingProps,o);case 7:return $e(i,r,r.pendingProps,o),r.child;case 8:return $e(i,r,r.pendingProps.children,o),r.child;case 12:return $e(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Hs(r,r.type,u.value),$e(i,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,Zr(r),f=Qe(f),u=u(f),r.flags|=1,$e(i,r,u,o),r.child;case 14:return n0(i,r,r.type,r.pendingProps,o);case 15:return i0(i,r,r.type,r.pendingProps,o);case 19:return f0(i,r,o);case 31:return QC(i,r,o);case 22:return s0(i,r,o,r.pendingProps);case 24:return Zr(r),u=Qe(Ce),i===null?(f=Md(),f===null&&(f=ee,m=Vd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),r.memoizedState={parent:u,cache:f},Pd(r),Hs(r,Ce,f)):((i.lanes&o)!==0&&(Ld(i,r),Ul(r,null,null,o),kl()),f=i.memoizedState,m=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Hs(r,Ce,u)):(u=m.cache,Hs(r,Ce,u),u!==f.cache&&Dd(r,[Ce],o,!0))),$e(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function as(i){i.flags|=4}function ym(i,r,o,u,f){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(z0())i.flags|=8192;else throw ea=Hc,Od}else i.flags&=-16777217}function m0(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!xT(r))if(z0())i.flags|=8192;else throw ea=Hc,Od}function ah(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?fc():536870912,i.lanes|=r,ho|=r)}function ql(i,r){if(!jt)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function se(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function XC(i,r,o){var u=r.pendingProps;switch(wd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(r),null;case 1:return se(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),ns(Ce),ae(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Za(r)?as(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Cd())),se(r),null;case 26:var f=r.type,m=r.memoizedState;return i===null?(as(r),m!==null?(se(r),m0(r,m)):(se(r),ym(r,f,null,u,o))):m?m!==i.memoizedState?(as(r),se(r),m0(r,m)):(se(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&as(r),se(r),ym(r,f,i,u,o)),null;case 27:if(Da(r),o=xt.current,f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&as(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return se(r),null}i=ft.current,Za(r)?Yv(r):(i=ET(f,u,o),r.stateNode=i,as(r))}return se(r),null;case 5:if(Da(r),f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&as(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return se(r),null}if(m=ft.current,Za(r))Yv(r);else{var T=Eh(xt.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?m.multiple=!0:u.size&&(m.size=u.size);break;default:m=typeof u.is=="string"?T.createElement(f,{is:u.is}):T.createElement(f)}}m[be]=r,m[Be]=u;t:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break t;for(;T.sibling===null;){if(T.return===null||T.return===r)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=m;t:switch(Xe(m,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&as(r)}}return se(r),ym(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&as(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=xt.current,Za(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,f=Ye,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[be]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||cT(i.nodeValue,o)),i||Fs(r,!0)}else i=Eh(i).createTextNode(u),i[be]=r,r.stateNode=i}return se(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=Za(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[be]=r}else Xr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;se(r),i=!1}else o=Cd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Cn(r),r):(Cn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return se(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Za(r),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[be]=r}else Xr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;se(r),f=!1}else f=Cd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Cn(r),r):(Cn(r),null)}return Cn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),ah(r,r.updateQueue),se(r),null);case 4:return ae(),i===null&&jm(r.stateNode.containerInfo),se(r),null;case 10:return ns(r.type),se(r),null;case 19:if(nt(_e),u=r.memoizedState,u===null)return se(r),null;if(f=(r.flags&128)!==0,m=u.rendering,m===null)if(f)ql(u,!1);else{if(pe!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(m=Yc(i),m!==null){for(r.flags|=128,ql(u,!1),i=m.updateQueue,r.updateQueue=i,ah(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)Fv(o,i),o=o.sibling;return ut(_e,_e.current&1|2),jt&&ts(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&ln()>hh&&(r.flags|=128,f=!0,ql(u,!1),r.lanes=4194304)}else{if(!f)if(i=Yc(m),i!==null){if(r.flags|=128,f=!0,i=i.updateQueue,r.updateQueue=i,ah(r,i),ql(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!jt)return se(r),null}else 2*ln()-u.renderingStartTime>hh&&o!==536870912&&(r.flags|=128,f=!0,ql(u,!1),r.lanes=4194304);u.isBackwards?(m.sibling=r.child,r.child=m):(i=u.last,i!==null?i.sibling=m:r.child=m,u.last=m)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=ln(),i.sibling=null,o=_e.current,ut(_e,f?o&1|2:o&1),jt&&ts(r,u.treeForkCount),i):(se(r),null);case 22:case 23:return Cn(r),zd(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(se(r),r.subtreeFlags&6&&(r.flags|=8192)):se(r),o=r.updateQueue,o!==null&&ah(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&nt(Jr),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),ns(Ce),se(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function WC(i,r){switch(wd(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return ns(Ce),ae(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Da(r),null;case 31:if(r.memoizedState!==null){if(Cn(r),r.alternate===null)throw Error(s(340));Xr()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Cn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Xr()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return nt(_e),null;case 4:return ae(),null;case 10:return ns(r.type),null;case 22:case 23:return Cn(r),zd(),i!==null&&nt(Jr),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return ns(Ce),null;case 25:return null;default:return null}}function p0(i,r){switch(wd(r),r.tag){case 3:ns(Ce),ae();break;case 26:case 27:case 5:Da(r);break;case 4:ae();break;case 31:r.memoizedState!==null&&Cn(r);break;case 13:Cn(r);break;case 19:nt(_e);break;case 10:ns(r.type);break;case 22:case 23:Cn(r),zd(),i!==null&&nt(Jr);break;case 24:ns(Ce)}}function Gl(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var m=o.create,T=o.inst;u=m(),T.destroy=u}o=o.next}while(o!==f)}}catch(A){$t(r,r.return,A)}}function $s(i,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&i)===i){var T=u.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,f=r;var D=o,q=A;try{q()}catch(W){$t(f,D,W)}}}u=u.next}while(u!==m)}}catch(W){$t(r,r.return,W)}}function g0(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{a_(r,o)}catch(u){$t(i,i.return,u)}}}function y0(i,r,o){o.props=sa(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){$t(i,r,u)}}function Kl(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(f){$t(i,r,f)}}function ki(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){$t(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){$t(i,r,f)}else o.current=null}function v0(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){$t(i,i.return,f)}}function vm(i,r,o){try{var u=i.stateNode;_I(u,i.type,o,r),u[Be]=r}catch(f){$t(i,i.return,f)}}function _0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&nr(i.type)||i.tag===4}function _m(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||_0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&nr(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Tm(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ei));else if(u!==4&&(u===27&&nr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Tm(i,r,o),i=i.sibling;i!==null;)Tm(i,r,o),i=i.sibling}function oh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&nr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(oh(i,r,o),i=i.sibling;i!==null;)oh(i,r,o),i=i.sibling}function T0(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Xe(r,u,o),r[be]=i,r[Be]=o}catch(m){$t(i,i.return,m)}}var os=!1,De=!1,Em=!1,E0=typeof WeakSet=="function"?WeakSet:Set,He=null;function ZC(i,r){if(i=i.containerInfo,Fm=Ih,i=Mv(i),md(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break t}var T=0,A=-1,D=-1,q=0,W=0,et=i,K=null;e:for(;;){for(var X;et!==o||f!==0&&et.nodeType!==3||(A=T+f),et!==m||u!==0&&et.nodeType!==3||(D=T+u),et.nodeType===3&&(T+=et.nodeValue.length),(X=et.firstChild)!==null;)K=et,et=X;for(;;){if(et===i)break e;if(K===o&&++q===f&&(A=T),K===m&&++W===u&&(D=T),(X=et.nextSibling)!==null)break;et=K,K=et.parentNode}et=X}o=A===-1||D===-1?null:{start:A,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(Hm={focusedElem:i,selectionRange:o},Ih=!1,He=r;He!==null;)if(r=He,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,He=i;else for(;He!==null;){switch(r=He,m=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)f=i[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,o=r,f=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var mt=sa(o.type,f);i=u.getSnapshotBeforeUpdate(mt,m),u.__reactInternalSnapshotBeforeUpdate=i}catch(vt){$t(o,o.return,vt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Km(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Km(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,He=i;break}He=r.return}}function S0(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:us(i,o),u&4&&Gl(5,o);break;case 1:if(us(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(T){$t(o,o.return,T)}else{var f=sa(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){$t(o,o.return,T)}}u&64&&g0(o),u&512&&Kl(o,o.return);break;case 3:if(us(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{a_(i,r)}catch(T){$t(o,o.return,T)}}break;case 27:r===null&&u&4&&T0(o);case 26:case 5:us(i,o),r===null&&u&4&&v0(o),u&512&&Kl(o,o.return);break;case 12:us(i,o);break;case 31:us(i,o),u&4&&w0(i,o);break;case 13:us(i,o),u&4&&R0(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=oI.bind(null,o),CI(i,o))));break;case 22:if(u=o.memoizedState!==null||os,!u){r=r!==null&&r.memoizedState!==null||De,f=os;var m=De;os=u,(De=r)&&!m?cs(i,o,(o.subtreeFlags&8772)!==0):us(i,o),os=f,De=m}break;case 30:break;default:us(i,o)}}function A0(i){var r=i.alternate;r!==null&&(i.alternate=null,A0(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Pa(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var le=null,mn=!1;function ls(i,r,o){for(o=o.child;o!==null;)b0(i,r,o),o=o.sibling}function b0(i,r,o){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(Wn,o)}catch{}switch(o.tag){case 26:De||ki(o,r),ls(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:De||ki(o,r);var u=le,f=mn;nr(o.type)&&(le=o.stateNode,mn=!1),ls(i,r,o),eu(o.stateNode),le=u,mn=f;break;case 5:De||ki(o,r);case 6:if(u=le,f=mn,le=null,ls(i,r,o),le=u,mn=f,le!==null)if(mn)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(o.stateNode)}catch(m){$t(o,r,m)}else try{le.removeChild(o.stateNode)}catch(m){$t(o,r,m)}break;case 18:le!==null&&(mn?(i=le,gT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),To(i)):gT(le,o.stateNode));break;case 4:u=le,f=mn,le=o.stateNode.containerInfo,mn=!0,ls(i,r,o),le=u,mn=f;break;case 0:case 11:case 14:case 15:$s(2,o,r),De||$s(4,o,r),ls(i,r,o);break;case 1:De||(ki(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&y0(o,r,u)),ls(i,r,o);break;case 21:ls(i,r,o);break;case 22:De=(u=De)||o.memoizedState!==null,ls(i,r,o),De=u;break;default:ls(i,r,o)}}function w0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{To(i)}catch(o){$t(r,r.return,o)}}}function R0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{To(i)}catch(o){$t(r,r.return,o)}}function JC(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new E0),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new E0),r;default:throw Error(s(435,i.tag))}}function lh(i,r){var o=JC(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var f=lI.bind(null,i,u);u.then(f,f)}})}function pn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],m=i,T=r,A=T;t:for(;A!==null;){switch(A.tag){case 27:if(nr(A.type)){le=A.stateNode,mn=!1;break t}break;case 5:le=A.stateNode,mn=!1;break t;case 3:case 4:le=A.stateNode.containerInfo,mn=!0;break t}A=A.return}if(le===null)throw Error(s(160));b0(m,T,f),le=null,mn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)C0(r,i),r=r.sibling}var oi=null;function C0(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:pn(r,i),gn(i),u&4&&($s(3,i,i.return),Gl(3,i),$s(5,i,i.return));break;case 1:pn(r,i),gn(i),u&512&&(De||o===null||ki(o,o.return)),u&64&&os&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=oi;if(pn(r,i),gn(i),u&512&&(De||o===null||ki(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ai]||m[be]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),Xe(m,u,o),m[be]=i,we(m),u=m;break t;case"link":var T=CT("link","href",f).get(u+(o.href||""));if(T){for(var A=0;A<T.length;A++)if(m=T[A],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(A,1);break e}}m=f.createElement(u),Xe(m,u,o),f.head.appendChild(m);break;case"meta":if(T=CT("meta","content",f).get(u+(o.content||""))){for(A=0;A<T.length;A++)if(m=T[A],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(A,1);break e}}m=f.createElement(u),Xe(m,u,o),f.head.appendChild(m);break;default:throw Error(s(468,u))}m[be]=i,we(m),u=m}i.stateNode=u}else IT(f,i.type,i.stateNode);else i.stateNode=RT(f,u,i.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?IT(f,i.type,i.stateNode):RT(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&vm(i,i.memoizedProps,o.memoizedProps)}break;case 27:pn(r,i),gn(i),u&512&&(De||o===null||ki(o,o.return)),o!==null&&u&4&&vm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(pn(r,i),gn(i),u&512&&(De||o===null||ki(o,o.return)),i.flags&32){f=i.stateNode;try{dn(f,"")}catch(mt){$t(i,i.return,mt)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,vm(i,f,o!==null?o.memoizedProps:f)),u&1024&&(Em=!0);break;case 6:if(pn(r,i),gn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(mt){$t(i,i.return,mt)}}break;case 3:if(bh=null,f=oi,oi=Sh(r.containerInfo),pn(r,i),oi=f,gn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{To(r.containerInfo)}catch(mt){$t(i,i.return,mt)}Em&&(Em=!1,I0(i));break;case 4:u=oi,oi=Sh(i.stateNode.containerInfo),pn(r,i),gn(i),oi=u;break;case 12:pn(r,i),gn(i);break;case 31:pn(r,i),gn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,lh(i,u)));break;case 13:pn(r,i),gn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(ch=ln()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,lh(i,u)));break;case 22:f=i.memoizedState!==null;var D=o!==null&&o.memoizedState!==null,q=os,W=De;if(os=q||f,De=W||D,pn(r,i),De=W,os=q,gn(i),u&8192)t:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||D||os||De||ra(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){D=o=r;try{if(m=D.stateNode,f)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=D.stateNode;var et=D.memoizedProps.style,K=et!=null&&et.hasOwnProperty("display")?et.display:null;A.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(mt){$t(D,D.return,mt)}}}else if(r.tag===6){if(o===null){D=r;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(mt){$t(D,D.return,mt)}}}else if(r.tag===18){if(o===null){D=r;try{var X=D.stateNode;f?yT(X,!0):yT(D.stateNode,!1)}catch(mt){$t(D,D.return,mt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,lh(i,o))));break;case 19:pn(r,i),gn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,lh(i,u)));break;case 30:break;case 21:break;default:pn(r,i),gn(i)}}function gn(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(_0(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,m=_m(i);oh(i,m,f);break;case 5:var T=o.stateNode;o.flags&32&&(dn(T,""),o.flags&=-33);var A=_m(i);oh(i,A,T);break;case 3:case 4:var D=o.stateNode.containerInfo,q=_m(i);Tm(i,q,D);break;default:throw Error(s(161))}}catch(W){$t(i,i.return,W)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function I0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;I0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function us(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)S0(i,r.alternate,r),r=r.sibling}function ra(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:$s(4,r,r.return),ra(r);break;case 1:ki(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&y0(r,r.return,o),ra(r);break;case 27:eu(r.stateNode);case 26:case 5:ki(r,r.return),ra(r);break;case 22:r.memoizedState===null&&ra(r);break;case 30:ra(r);break;default:ra(r)}i=i.sibling}}function cs(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=i,m=r,T=m.flags;switch(m.tag){case 0:case 11:case 15:cs(f,m,o),Gl(4,m);break;case 1:if(cs(f,m,o),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){$t(u,u.return,q)}if(u=m,f=u.updateQueue,f!==null){var A=u.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)r_(D[f],A)}catch(q){$t(u,u.return,q)}}o&&T&64&&g0(m),Kl(m,m.return);break;case 27:T0(m);case 26:case 5:cs(f,m,o),o&&u===null&&T&4&&v0(m),Kl(m,m.return);break;case 12:cs(f,m,o);break;case 31:cs(f,m,o),o&&T&4&&w0(f,m);break;case 13:cs(f,m,o),o&&T&4&&R0(f,m);break;case 22:m.memoizedState===null&&cs(f,m,o),Kl(m,m.return);break;case 30:break;default:cs(f,m,o)}r=r.sibling}}function Sm(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Nl(o))}function Am(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Nl(i))}function li(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)x0(i,r,o,u),r=r.sibling}function x0(i,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:li(i,r,o,u),f&2048&&Gl(9,r);break;case 1:li(i,r,o,u);break;case 3:li(i,r,o,u),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Nl(i)));break;case 12:if(f&2048){li(i,r,o,u),i=r.stateNode;try{var m=r.memoizedProps,T=m.id,A=m.onPostCommit;typeof A=="function"&&A(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(D){$t(r,r.return,D)}}else li(i,r,o,u);break;case 31:li(i,r,o,u);break;case 13:li(i,r,o,u);break;case 23:break;case 22:m=r.stateNode,T=r.alternate,r.memoizedState!==null?m._visibility&2?li(i,r,o,u):Yl(i,r):m._visibility&2?li(i,r,o,u):(m._visibility|=2,lo(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Sm(T,r);break;case 24:li(i,r,o,u),f&2048&&Am(r.alternate,r);break;default:li(i,r,o,u)}}function lo(i,r,o,u,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=i,T=r,A=o,D=u,q=T.flags;switch(T.tag){case 0:case 11:case 15:lo(m,T,A,D,f),Gl(8,T);break;case 23:break;case 22:var W=T.stateNode;T.memoizedState!==null?W._visibility&2?lo(m,T,A,D,f):Yl(m,T):(W._visibility|=2,lo(m,T,A,D,f)),f&&q&2048&&Sm(T.alternate,T);break;case 24:lo(m,T,A,D,f),f&&q&2048&&Am(T.alternate,T);break;default:lo(m,T,A,D,f)}r=r.sibling}}function Yl(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,f=u.flags;switch(u.tag){case 22:Yl(o,u),f&2048&&Sm(u.alternate,u);break;case 24:Yl(o,u),f&2048&&Am(u.alternate,u);break;default:Yl(o,u)}r=r.sibling}}var Ql=8192;function uo(i,r,o){if(i.subtreeFlags&Ql)for(i=i.child;i!==null;)D0(i,r,o),i=i.sibling}function D0(i,r,o){switch(i.tag){case 26:uo(i,r,o),i.flags&Ql&&i.memoizedState!==null&&jI(o,oi,i.memoizedState,i.memoizedProps);break;case 5:uo(i,r,o);break;case 3:case 4:var u=oi;oi=Sh(i.stateNode.containerInfo),uo(i,r,o),oi=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=Ql,Ql=16777216,uo(i,r,o),Ql=u):uo(i,r,o));break;default:uo(i,r,o)}}function V0(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function $l(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];He=u,M0(u,i)}V0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)N0(i),i=i.sibling}function N0(i){switch(i.tag){case 0:case 11:case 15:$l(i),i.flags&2048&&$s(9,i,i.return);break;case 3:$l(i);break;case 12:$l(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,uh(i)):$l(i);break;default:$l(i)}}function uh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];He=u,M0(u,i)}V0(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:$s(8,r,r.return),uh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,uh(r));break;default:uh(r)}i=i.sibling}}function M0(i,r){for(;He!==null;){var o=He;switch(o.tag){case 0:case 11:case 15:$s(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Nl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,He=u;else t:for(o=i;He!==null;){u=He;var f=u.sibling,m=u.return;if(A0(u),u===o){He=null;break t}if(f!==null){f.return=m,He=f;break t}He=m}}}var tI={getCacheForType:function(i){var r=Qe(Ce),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return Qe(Ce).controller.signal}},eI=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ee=null,Vt=null,Ot=0,Qt=0,In=null,Xs=!1,co=!1,bm=!1,hs=0,pe=0,Ws=0,aa=0,wm=0,xn=0,ho=0,Xl=null,yn=null,Rm=!1,ch=0,O0=0,hh=1/0,fh=null,Zs=null,Ue=0,Js=null,fo=null,fs=0,Cm=0,Im=null,P0=null,Wl=0,xm=null;function Dn(){return(Gt&2)!==0&&Ot!==0?Ot&-Ot:Z.T!==null?Pm():dc()}function L0(){if(xn===0)if((Ot&536870912)===0||jt){var i=Mr;Mr<<=1,(Mr&3932160)===0&&(Mr=262144),xn=i}else xn=536870912;return i=Rn.current,i!==null&&(i.flags|=32),xn}function vn(i,r,o){(i===ee&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)&&(mo(i,0),tr(i,Ot,xn,!1)),Or(i,o),((Gt&2)===0||i!==ee)&&(i===ee&&((Gt&2)===0&&(aa|=o),pe===4&&tr(i,Ot,xn,!1)),Ui(i))}function k0(i,r,o){if((Gt&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||Zn(i,r),f=u?sI(i,r):Vm(i,r,!0),m=u;do{if(f===0){co&&!u&&tr(i,r,0,!1);break}else{if(o=i.current.alternate,m&&!nI(o)){f=Vm(i,r,!1),m=!1;continue}if(f===2){if(m=r,i.errorRecoveryDisabledLanes&m)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;t:{var A=i;f=Xl;var D=A.current.memoizedState.isDehydrated;if(D&&(mo(A,T).flags|=256),T=Vm(A,T,!1),T!==2){if(bm&&!D){A.errorRecoveryDisabledLanes|=m,aa|=m,f=4;break t}m=yn,yn=f,m!==null&&(yn===null?yn=m:yn.push.apply(yn,m))}f=T}if(m=!1,f!==2)continue}}if(f===1){mo(i,0),tr(i,r,0,!0);break}t:{switch(u=i,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:tr(u,r,xn,!Xs);break t;case 2:yn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=ch+300-ln(),10<f)){if(tr(u,r,xn,!Xs),Ti(u,0,!0)!==0)break t;fs=r,u.timeoutHandle=mT(U0.bind(null,u,o,yn,fh,Rm,r,xn,aa,ho,Xs,m,"Throttled",-0,0),f);break t}U0(u,o,yn,fh,Rm,r,xn,aa,ho,Xs,m,null,-0,0)}}break}while(!0);Ui(i)}function U0(i,r,o,u,f,m,T,A,D,q,W,et,K,X){if(i.timeoutHandle=-1,et=r.subtreeFlags,et&8192||(et&16785408)===16785408){et={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ei},D0(r,m,et);var mt=(m&62914560)===m?ch-ln():(m&4194048)===m?O0-ln():0;if(mt=zI(et,mt),mt!==null){fs=m,i.cancelPendingCommit=mt(K0.bind(null,i,r,m,o,u,f,T,A,D,W,et,null,K,X)),tr(i,m,T,!q);return}}K0(i,r,m,o,u,f,T,A,D)}function nI(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],m=f.getSnapshot;f=f.value;try{if(!bn(m(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function tr(i,r,o,u){r&=~wm,r&=~aa,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var f=r;0<f;){var m=31-ye(f),T=1<<m;u[m]=-1,f&=~T}o!==0&&Pr(i,o,r)}function dh(){return(Gt&6)===0?(Zl(0),!1):!0}function Dm(){if(Vt!==null){if(Qt===0)var i=Vt.return;else i=Vt,es=Wr=null,Kd(i),io=null,Ol=0,i=Vt;for(;i!==null;)p0(i.alternate,i),i=i.return;Vt=null}}function mo(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,SI(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),fs=0,Dm(),ee=i,Vt=o=Ji(i.current,null),Ot=r,Qt=0,In=null,Xs=!1,co=Zn(i,r),bm=!1,ho=xn=wm=aa=Ws=pe=0,yn=Xl=null,Rm=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var f=31-ye(u),m=1<<f;r|=i[f],u&=~m}return hs=r,Oc(),o}function j0(i,r){Ct=null,Z.H=Fl,r===no||r===Fc?(r=e_(),Qt=3):r===Od?(r=e_(),Qt=4):Qt=r===lm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,In=r,Vt===null&&(pe=1,nh(i,kn(r,i.current)))}function z0(){var i=Rn.current;return i===null?!0:(Ot&4194048)===Ot?Bn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?i===Bn:!1}function B0(){var i=Z.H;return Z.H=Fl,i===null?Fl:i}function F0(){var i=Z.A;return Z.A=tI,i}function mh(){pe=4,Xs||(Ot&4194048)!==Ot&&Rn.current!==null||(co=!0),(Ws&134217727)===0&&(aa&134217727)===0||ee===null||tr(ee,Ot,xn,!1)}function Vm(i,r,o){var u=Gt;Gt|=2;var f=B0(),m=F0();(ee!==i||Ot!==r)&&(fh=null,mo(i,r)),r=!1;var T=pe;t:do try{if(Qt!==0&&Vt!==null){var A=Vt,D=In;switch(Qt){case 8:Dm(),T=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(r=!0);var q=Qt;if(Qt=0,In=null,po(i,A,D,q),o&&co){T=0;break t}break;default:q=Qt,Qt=0,In=null,po(i,A,D,q)}}iI(),T=pe;break}catch(W){j0(i,W)}while(!0);return r&&i.shellSuspendCounter++,es=Wr=null,Gt=u,Z.H=f,Z.A=m,Vt===null&&(ee=null,Ot=0,Oc()),T}function iI(){for(;Vt!==null;)H0(Vt)}function sI(i,r){var o=Gt;Gt|=2;var u=B0(),f=F0();ee!==i||Ot!==r?(fh=null,hh=ln()+500,mo(i,r)):co=Zn(i,r);t:do try{if(Qt!==0&&Vt!==null){r=Vt;var m=In;e:switch(Qt){case 1:Qt=0,In=null,po(i,r,m,1);break;case 2:case 9:if(Jv(m)){Qt=0,In=null,q0(r);break}r=function(){Qt!==2&&Qt!==9||ee!==i||(Qt=7),Ui(i)},m.then(r,r);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Jv(m)?(Qt=0,In=null,q0(r)):(Qt=0,In=null,po(i,r,m,7));break;case 5:var T=null;switch(Vt.tag){case 26:T=Vt.memoizedState;case 5:case 27:var A=Vt;if(T?xT(T):A.stateNode.complete){Qt=0,In=null;var D=A.sibling;if(D!==null)Vt=D;else{var q=A.return;q!==null?(Vt=q,ph(q)):Vt=null}break e}}Qt=0,In=null,po(i,r,m,5);break;case 6:Qt=0,In=null,po(i,r,m,6);break;case 8:Dm(),pe=6;break t;default:throw Error(s(462))}}rI();break}catch(W){j0(i,W)}while(!0);return es=Wr=null,Z.H=u,Z.A=f,Gt=o,Vt!==null?0:(ee=null,Ot=0,Oc(),pe)}function rI(){for(;Vt!==null&&!od();)H0(Vt)}function H0(i){var r=d0(i.alternate,i,hs);i.memoizedProps=i.pendingProps,r===null?ph(i):Vt=r}function q0(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=o0(o,r,r.pendingProps,r.type,void 0,Ot);break;case 11:r=o0(o,r,r.pendingProps,r.type.render,r.ref,Ot);break;case 5:Kd(r);default:p0(o,r),r=Vt=Fv(r,hs),r=d0(o,r,hs)}i.memoizedProps=i.pendingProps,r===null?ph(i):Vt=r}function po(i,r,o,u){es=Wr=null,Kd(r),io=null,Ol=0;var f=r.return;try{if(YC(i,f,r,o,Ot)){pe=1,nh(i,kn(o,i.current)),Vt=null;return}}catch(m){if(f!==null)throw Vt=f,m;pe=1,nh(i,kn(o,i.current)),Vt=null;return}r.flags&32768?(jt||u===1?i=!0:co||(Ot&536870912)!==0?i=!1:(Xs=i=!0,(u===2||u===9||u===3||u===6)&&(u=Rn.current,u!==null&&u.tag===13&&(u.flags|=16384))),G0(r,i)):ph(r)}function ph(i){var r=i;do{if((r.flags&32768)!==0){G0(r,Xs);return}i=r.return;var o=XC(r.alternate,r,hs);if(o!==null){Vt=o;return}if(r=r.sibling,r!==null){Vt=r;return}Vt=r=i}while(r!==null);pe===0&&(pe=5)}function G0(i,r){do{var o=WC(i.alternate,i);if(o!==null){o.flags&=32767,Vt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Vt=i;return}Vt=i=o}while(i!==null);pe=6,Vt=null}function K0(i,r,o,u,f,m,T,A,D){i.cancelPendingCommit=null;do gh();while(Ue!==0);if((Gt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=_d,cd(i,o,m,T,A,D),i===ee&&(Vt=ee=null,Ot=0),fo=r,Js=i,fs=o,Cm=m,Im=f,P0=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,uI(Ds,function(){return W0(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,f=rt.p,rt.p=2,T=Gt,Gt|=4;try{ZC(i,r,o)}finally{Gt=T,rt.p=f,Z.T=u}}Ue=1,Y0(),Q0(),$0()}}function Y0(){if(Ue===1){Ue=0;var i=Js,r=fo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var u=rt.p;rt.p=2;var f=Gt;Gt|=4;try{C0(r,i);var m=Hm,T=Mv(i.containerInfo),A=m.focusedElem,D=m.selectionRange;if(T!==A&&A&&A.ownerDocument&&Nv(A.ownerDocument.documentElement,A)){if(D!==null&&md(A)){var q=D.start,W=D.end;if(W===void 0&&(W=q),"selectionStart"in A)A.selectionStart=q,A.selectionEnd=Math.min(W,A.value.length);else{var et=A.ownerDocument||document,K=et&&et.defaultView||window;if(K.getSelection){var X=K.getSelection(),mt=A.textContent.length,vt=Math.min(D.start,mt),Jt=D.end===void 0?vt:Math.min(D.end,mt);!X.extend&&vt>Jt&&(T=Jt,Jt=vt,vt=T);var j=Vv(A,vt),P=Vv(A,Jt);if(j&&P&&(X.rangeCount!==1||X.anchorNode!==j.node||X.anchorOffset!==j.offset||X.focusNode!==P.node||X.focusOffset!==P.offset)){var H=et.createRange();H.setStart(j.node,j.offset),X.removeAllRanges(),vt>Jt?(X.addRange(H),X.extend(P.node,P.offset)):(H.setEnd(P.node,P.offset),X.addRange(H))}}}}for(et=[],X=A;X=X.parentNode;)X.nodeType===1&&et.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<et.length;A++){var J=et[A];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Ih=!!Fm,Hm=Fm=null}finally{Gt=f,rt.p=u,Z.T=o}}i.current=r,Ue=2}}function Q0(){if(Ue===2){Ue=0;var i=Js,r=fo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var u=rt.p;rt.p=2;var f=Gt;Gt|=4;try{S0(i,r.alternate,r)}finally{Gt=f,rt.p=u,Z.T=o}}Ue=3}}function $0(){if(Ue===4||Ue===3){Ue=0,ac();var i=Js,r=fo,o=fs,u=P0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ue=5:(Ue=0,fo=Js=null,X0(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Zs=null),$i(o),r=r.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(Wn,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=Z.T,f=rt.p,rt.p=2,Z.T=null;try{for(var m=i.onRecoverableError,T=0;T<u.length;T++){var A=u[T];m(A.value,{componentStack:A.stack})}}finally{Z.T=r,rt.p=f}}(fs&3)!==0&&gh(),Ui(i),f=i.pendingLanes,(o&261930)!==0&&(f&42)!==0?i===xm?Wl++:(Wl=0,xm=i):Wl=0,Zl(0)}}function X0(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Nl(r)))}function gh(){return Y0(),Q0(),$0(),W0()}function W0(){if(Ue!==5)return!1;var i=Js,r=Cm;Cm=0;var o=$i(fs),u=Z.T,f=rt.p;try{rt.p=32>o?32:o,Z.T=null,o=Im,Im=null;var m=Js,T=fs;if(Ue=0,fo=Js=null,fs=0,(Gt&6)!==0)throw Error(s(331));var A=Gt;if(Gt|=4,N0(m.current),x0(m,m.current,T,o),Gt=A,Zl(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(Wn,m)}catch{}return!0}finally{rt.p=f,Z.T=u,X0(i,r)}}function Z0(i,r,o){r=kn(o,r),r=om(i.stateNode,r,2),i=Ks(i,r,2),i!==null&&(Or(i,2),Ui(i))}function $t(i,r,o){if(i.tag===3)Z0(i,i,o);else for(;r!==null;){if(r.tag===3){Z0(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Zs===null||!Zs.has(u))){i=kn(o,i),o=J_(2),u=Ks(r,o,2),u!==null&&(t0(o,u,r,i),Or(u,2),Ui(u));break}}r=r.return}}function Nm(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new eI;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(bm=!0,f.add(o),i=aI.bind(null,i,r,o),r.then(i,i))}function aI(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ee===i&&(Ot&o)===o&&(pe===4||pe===3&&(Ot&62914560)===Ot&&300>ln()-ch?(Gt&2)===0&&mo(i,0):wm|=o,ho===Ot&&(ho=0)),Ui(i)}function J0(i,r){r===0&&(r=fc()),i=Qr(i,r),i!==null&&(Or(i,r),Ui(i))}function oI(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),J0(i,o)}function lI(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),J0(i,o)}function uI(i,r){return ke(i,r)}var yh=null,go=null,Mm=!1,vh=!1,Om=!1,er=0;function Ui(i){i!==go&&i.next===null&&(go===null?yh=go=i:go=go.next=i),vh=!0,Mm||(Mm=!0,hI())}function Zl(i,r){if(!Om&&vh){Om=!0;do for(var o=!1,u=yh;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var T=u.suspendedLanes,A=u.pingedLanes;m=(1<<31-ye(42|i)+1)-1,m&=f&~(T&~A),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,iT(u,m))}else m=Ot,m=Ti(u,u===ee?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||Zn(u,m)||(o=!0,iT(u,m));u=u.next}while(o);Om=!1}}function cI(){tT()}function tT(){vh=Mm=!1;var i=0;er!==0&&EI()&&(i=er);for(var r=ln(),o=null,u=yh;u!==null;){var f=u.next,m=eT(u,r);m===0?(u.next=null,o===null?yh=f:o.next=f,f===null&&(go=o)):(o=u,(i!==0||(m&3)!==0)&&(vh=!0)),u=f}Ue!==0&&Ue!==5||Zl(i),er!==0&&(er=0)}function eT(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var T=31-ye(m),A=1<<T,D=f[T];D===-1?((A&o)===0||(A&u)!==0)&&(f[T]=ud(A,r)):D<=r&&(i.expiredLanes|=A),m&=~A}if(r=ee,o=Ot,o=Ti(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&xs(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Zn(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&xs(u),$i(o)){case 2:case 8:o=ll;break;case 32:o=Ds;break;case 268435456:o=oc;break;default:o=Ds}return u=nT.bind(null,i),o=ke(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&xs(u),i.callbackPriority=2,i.callbackNode=null,2}function nT(i,r){if(Ue!==0&&Ue!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(gh()&&i.callbackNode!==o)return null;var u=Ot;return u=Ti(i,i===ee?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(k0(i,u,r),eT(i,ln()),i.callbackNode!=null&&i.callbackNode===o?nT.bind(null,i):null)}function iT(i,r){if(gh())return null;k0(i,r,!0)}function hI(){AI(function(){(Gt&6)!==0?ke(ol,cI):tT()})}function Pm(){if(er===0){var i=to;i===0&&(i=vi,vi<<=1,(vi&261888)===0&&(vi=256)),er=i}return er}function sT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ja(""+i)}function rT(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function fI(i,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var m=sT((f[Be]||null).action),T=u.submitter;T&&(r=(r=T[Be]||null)?sT(r.formAction):T.getAttribute("formAction"),r!==null&&(m=r,T=null));var A=new Vi("action","action",null,u,f);i.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(er!==0){var D=T?rT(f,T):new FormData(f);em(o,{pending:!0,data:D,method:f.method,action:m},null,D)}}else typeof m=="function"&&(A.preventDefault(),D=T?rT(f,T):new FormData(f),em(o,{pending:!0,data:D,method:f.method,action:m},m,D))},currentTarget:f}]})}}for(var Lm=0;Lm<vd.length;Lm++){var km=vd[Lm],dI=km.toLowerCase(),mI=km[0].toUpperCase()+km.slice(1);ai(dI,"on"+mI)}ai(Lv,"onAnimationEnd"),ai(kv,"onAnimationIteration"),ai(Uv,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(DC,"onTransitionRun"),ai(VC,"onTransitionStart"),ai(NC,"onTransitionCancel"),ai(jv,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jl));function aT(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;t:{var m=void 0;if(r)for(var T=u.length-1;0<=T;T--){var A=u[T],D=A.instance,q=A.currentTarget;if(A=A.listener,D!==m&&f.isPropagationStopped())break t;m=A,f.currentTarget=q;try{m(f)}catch(W){Mc(W)}f.currentTarget=null,m=D}else for(T=0;T<u.length;T++){if(A=u[T],D=A.instance,q=A.currentTarget,A=A.listener,D!==m&&f.isPropagationStopped())break t;m=A,f.currentTarget=q;try{m(f)}catch(W){Mc(W)}f.currentTarget=null,m=D}}}}function Nt(i,r){var o=r[Oa];o===void 0&&(o=r[Oa]=new Set);var u=i+"__bubble";o.has(u)||(oT(r,i,2,!1),o.add(u))}function Um(i,r,o){var u=0;r&&(u|=4),oT(o,i,u,r)}var _h="_reactListening"+Math.random().toString(36).slice(2);function jm(i){if(!i[_h]){i[_h]=!0,hl.forEach(function(o){o!=="selectionchange"&&(pI.has(o)||Um(o,!1,i),Um(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[_h]||(r[_h]=!0,Um("selectionchange",!1,r))}}function oT(i,r,o,u){switch(LT(r)){case 2:var f=HI;break;case 8:f=qI;break;default:f=tp}o=f.bind(null,r,o,i),f=void 0,!zr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function zm(i,r,o,u,f){var m=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var A=u.stateNode.containerInfo;if(A===f)break;if(T===4)for(T=u.return;T!==null;){var D=T.tag;if((D===3||D===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;A!==null;){if(T=bi(A),T===null)return;if(D=T.tag,D===5||D===6||D===26||D===27){u=m=T;continue t}A=A.parentNode}}u=u.return}Ls(function(){var q=m,W=Mn(o),et=[];t:{var K=zv.get(i);if(K!==void 0){var X=Vi,mt=i;switch(i){case"keypress":if(Fr(o)===0)break t;case"keydown":case"keyup":X=Dc;break;case"focusin":mt="focus",X=qr;break;case"focusout":mt="blur",X=qr;break;case"beforeblur":case"afterblur":X=qr;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=bl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Ec;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=v;break;case Lv:case kv:case Uv:X=Ac;break;case jv:X=w;break;case"scroll":case"scrollend":X=Al;break;case"wheel":X=$;break;case"copy":case"cut":case"paste":X=bc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Zi;break;case"toggle":case"beforetoggle":X=Rt}var vt=(r&4)!==0,Jt=!vt&&(i==="scroll"||i==="scrollend"),j=vt?K!==null?K+"Capture":null:K;vt=[];for(var P=q,H;P!==null;){var J=P;if(H=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||H===null||j===null||(J=ni(P,j),J!=null&&vt.push(tu(P,J,H))),Jt)break;P=P.return}0<vt.length&&(K=new X(K,mt,null,o,W),et.push({event:K,listeners:vt}))}}if((r&7)===0){t:{if(K=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",K&&o!==Tl&&(mt=o.relatedTarget||o.fromElement)&&(bi(mt)||mt[Si]))break t;if((X||K)&&(K=W.window===W?W:(K=W.ownerDocument)?K.defaultView||K.parentWindow:window,X?(mt=o.relatedTarget||o.toElement,X=q,mt=mt?bi(mt):null,mt!==null&&(Jt=l(mt),vt=mt.tag,mt!==Jt||vt!==5&&vt!==27&&vt!==6)&&(mt=null)):(X=null,mt=q),X!==mt)){if(vt=bl,J="onMouseLeave",j="onMouseEnter",P="mouse",(i==="pointerout"||i==="pointerover")&&(vt=Zi,J="onPointerLeave",j="onPointerEnter",P="pointer"),Jt=X==null?K:Sn(X),H=mt==null?K:Sn(mt),K=new vt(J,P+"leave",X,o,W),K.target=Jt,K.relatedTarget=H,J=null,bi(W)===q&&(vt=new vt(j,P+"enter",mt,o,W),vt.target=H,vt.relatedTarget=Jt,J=vt),Jt=J,X&&mt)e:{for(vt=gI,j=X,P=mt,H=0,J=j;J;J=vt(J))H++;J=0;for(var gt=P;gt;gt=vt(gt))J++;for(;0<H-J;)j=vt(j),H--;for(;0<J-H;)P=vt(P),J--;for(;H--;){if(j===P||P!==null&&j===P.alternate){vt=j;break e}j=vt(j),P=vt(P)}vt=null}else vt=null;X!==null&&lT(et,K,X,vt,!1),mt!==null&&Jt!==null&&lT(et,Jt,mt,vt,!0)}}t:{if(K=q?Sn(q):window,X=K.nodeName&&K.nodeName.toLowerCase(),X==="select"||X==="input"&&K.type==="file")var Ft=wv;else if(Av(K))if(Rv)Ft=CC;else{Ft=wC;var pt=bC}else X=K.nodeName,!X||X.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?q&&Ua(q.elementType)&&(Ft=wv):Ft=RC;if(Ft&&(Ft=Ft(i,q))){bv(et,Ft,o,W);break t}pt&&pt(i,K,q),i==="focusout"&&q&&K.type==="number"&&q.memoizedProps.value!=null&&yl(K,"number",K.value)}switch(pt=q?Sn(q):window,i){case"focusin":(Av(pt)||pt.contentEditable==="true")&&(Ka=pt,pd=q,xl=null);break;case"focusout":xl=pd=Ka=null;break;case"mousedown":gd=!0;break;case"contextmenu":case"mouseup":case"dragend":gd=!1,Ov(et,o,W);break;case"selectionchange":if(xC)break;case"keydown":case"keyup":Ov(et,o,W)}var Dt;if(qt)t:{switch(i){case"compositionstart":var Pt="onCompositionStart";break t;case"compositionend":Pt="onCompositionEnd";break t;case"compositionupdate":Pt="onCompositionUpdate";break t}Pt=void 0}else Ga?Gr(i,o)&&(Pt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Pt="onCompositionStart");Pt&&(Oi&&o.locale!=="ko"&&(Ga||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&Ga&&(Dt=Sl()):(Di=W,El="value"in Di?Di.value:Di.textContent,Ga=!0)),pt=Th(q,Pt),0<pt.length&&(Pt=new Mi(Pt,i,null,o,W),et.push({event:Pt,listeners:pt}),Dt?Pt.data=Dt:(Dt=qa(o),Dt!==null&&(Pt.data=Dt)))),(Dt=Pn?TC(i,o):EC(i,o))&&(Pt=Th(q,"onBeforeInput"),0<Pt.length&&(pt=new Mi("onBeforeInput","beforeinput",null,o,W),et.push({event:pt,listeners:Pt}),pt.data=Dt)),fI(et,i,q,o,W)}aT(et,r)})}function tu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Th(i,r){for(var o=r+"Capture",u=[];i!==null;){var f=i,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=ni(i,o),f!=null&&u.unshift(tu(i,f,m)),f=ni(i,r),f!=null&&u.push(tu(i,f,m))),i.tag===3)return u;i=i.return}return[]}function gI(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function lT(i,r,o,u,f){for(var m=r._reactName,T=[];o!==null&&o!==u;){var A=o,D=A.alternate,q=A.stateNode;if(A=A.tag,D!==null&&D===u)break;A!==5&&A!==26&&A!==27||q===null||(D=q,f?(q=ni(o,m),q!=null&&T.unshift(tu(o,q,D))):f||(q=ni(o,m),q!=null&&T.push(tu(o,q,D)))),o=o.return}T.length!==0&&i.push({event:r,listeners:T})}var yI=/\r\n?/g,vI=/\u0000|\uFFFD/g;function uT(i){return(typeof i=="string"?i:""+i).replace(yI,`
`).replace(vI,"")}function cT(i,r){return r=uT(r),uT(i)===r}function Zt(i,r,o,u,f,m){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||dn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&dn(i,""+u);break;case"className":An(i,"class",u);break;case"tabIndex":An(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":An(i,o,u);break;case"style":_l(i,u,m);break;case"data":if(r!=="object"){An(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=ja(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(r!=="input"&&Zt(i,r,"name",f.name,f,null),Zt(i,r,"formEncType",f.formEncType,f,null),Zt(i,r,"formMethod",f.formMethod,f,null),Zt(i,r,"formTarget",f.formTarget,f,null)):(Zt(i,r,"encType",f.encType,f,null),Zt(i,r,"method",f.method,f,null),Zt(i,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=ja(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=ei);break;case"onScroll":u!=null&&Nt("scroll",i);break;case"onScrollEnd":u!=null&&Nt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=ja(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Nt("beforetoggle",i),Nt("toggle",i),La(i,"popover",u);break;case"xlinkActuate":Re(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Re(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Re(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Re(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Re(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Re(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Re(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Re(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Re(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":La(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Tc.get(o)||o,La(i,o,u))}}function Bm(i,r,o,u,f,m){switch(o){case"style":_l(i,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?dn(i,u):(typeof u=="number"||typeof u=="bigint")&&dn(i,""+u);break;case"onScroll":u!=null&&Nt("scroll",i);break;case"onScrollEnd":u!=null&&Nt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fl.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),m=i[Be]||null,m=m!=null?m[o]:null,typeof m=="function"&&i.removeEventListener(r,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,f);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):La(i,o,u)}}}function Xe(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",i),Nt("load",i);var u=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var T=o[m];if(T!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Zt(i,r,m,T,o,null)}}f&&Zt(i,r,"srcSet",o.srcSet,o,null),u&&Zt(i,r,"src",o.src,o,null);return;case"input":Nt("invalid",i);var A=m=T=f=null,D=null,q=null;for(u in o)if(o.hasOwnProperty(u)){var W=o[u];if(W!=null)switch(u){case"name":f=W;break;case"type":T=W;break;case"checked":D=W;break;case"defaultChecked":q=W;break;case"value":m=W;break;case"defaultValue":A=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:Zt(i,r,u,W,o,null)}}yc(i,m,A,D,q,T,f,!1);return;case"select":Nt("invalid",i),u=T=m=null;for(f in o)if(o.hasOwnProperty(f)&&(A=o[f],A!=null))switch(f){case"value":m=A;break;case"defaultValue":T=A;break;case"multiple":u=A;default:Zt(i,r,f,A,o,null)}r=m,o=T,i.multiple=!!u,r!=null?Ns(i,!!u,r,!1):o!=null&&Ns(i,!!u,o,!0);return;case"textarea":Nt("invalid",i),m=f=u=null;for(T in o)if(o.hasOwnProperty(T)&&(A=o[T],A!=null))switch(T){case"value":u=A;break;case"defaultValue":f=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:Zt(i,r,T,A,o,null)}Ms(i,u,f,m);return;case"option":for(D in o)if(o.hasOwnProperty(D)&&(u=o[D],u!=null))switch(D){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Zt(i,r,D,u,o,null)}return;case"dialog":Nt("beforetoggle",i),Nt("toggle",i),Nt("cancel",i),Nt("close",i);break;case"iframe":case"object":Nt("load",i);break;case"video":case"audio":for(u=0;u<Jl.length;u++)Nt(Jl[u],i);break;case"image":Nt("error",i),Nt("load",i);break;case"details":Nt("toggle",i);break;case"embed":case"source":case"link":Nt("error",i),Nt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in o)if(o.hasOwnProperty(q)&&(u=o[q],u!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Zt(i,r,q,u,o,null)}return;default:if(Ua(r)){for(W in o)o.hasOwnProperty(W)&&(u=o[W],u!==void 0&&Bm(i,r,W,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&Zt(i,r,A,u,o,null))}function _I(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,A=null,D=null,q=null,W=null;for(X in o){var et=o[X];if(o.hasOwnProperty(X)&&et!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":D=et;default:u.hasOwnProperty(X)||Zt(i,r,X,null,u,et)}}for(var K in u){var X=u[K];if(et=o[K],u.hasOwnProperty(K)&&(X!=null||et!=null))switch(K){case"type":m=X;break;case"name":f=X;break;case"checked":q=X;break;case"defaultChecked":W=X;break;case"value":T=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==et&&Zt(i,r,K,X,u,et)}}ka(i,T,A,D,q,W,m,f);return;case"select":X=T=A=K=null;for(m in o)if(D=o[m],o.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":X=D;default:u.hasOwnProperty(m)||Zt(i,r,m,null,u,D)}for(f in u)if(m=u[f],D=o[f],u.hasOwnProperty(f)&&(m!=null||D!=null))switch(f){case"value":K=m;break;case"defaultValue":A=m;break;case"multiple":T=m;default:m!==D&&Zt(i,r,f,m,u,D)}r=A,o=T,u=X,K!=null?Ns(i,!!o,K,!1):!!u!=!!o&&(r!=null?Ns(i,!!o,r,!0):Ns(i,!!o,o?[]:"",!1));return;case"textarea":X=K=null;for(A in o)if(f=o[A],o.hasOwnProperty(A)&&f!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Zt(i,r,A,null,u,f)}for(T in u)if(f=u[T],m=o[T],u.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":K=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&Zt(i,r,T,f,u,m)}vc(i,K,X);return;case"option":for(var mt in o)if(K=o[mt],o.hasOwnProperty(mt)&&K!=null&&!u.hasOwnProperty(mt))switch(mt){case"selected":i.selected=!1;break;default:Zt(i,r,mt,null,u,K)}for(D in u)if(K=u[D],X=o[D],u.hasOwnProperty(D)&&K!==X&&(K!=null||X!=null))switch(D){case"selected":i.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Zt(i,r,D,K,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in o)K=o[vt],o.hasOwnProperty(vt)&&K!=null&&!u.hasOwnProperty(vt)&&Zt(i,r,vt,null,u,K);for(q in u)if(K=u[q],X=o[q],u.hasOwnProperty(q)&&K!==X&&(K!=null||X!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:Zt(i,r,q,K,u,X)}return;default:if(Ua(r)){for(var Jt in o)K=o[Jt],o.hasOwnProperty(Jt)&&K!==void 0&&!u.hasOwnProperty(Jt)&&Bm(i,r,Jt,void 0,u,K);for(W in u)K=u[W],X=o[W],!u.hasOwnProperty(W)||K===X||K===void 0&&X===void 0||Bm(i,r,W,K,u,X);return}}for(var j in o)K=o[j],o.hasOwnProperty(j)&&K!=null&&!u.hasOwnProperty(j)&&Zt(i,r,j,null,u,K);for(et in u)K=u[et],X=o[et],!u.hasOwnProperty(et)||K===X||K==null&&X==null||Zt(i,r,et,K,u,X)}function hT(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function TI(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],m=f.transferSize,T=f.initiatorType,A=f.duration;if(m&&A&&hT(T)){for(T=0,A=f.responseEnd,u+=1;u<o.length;u++){var D=o[u],q=D.startTime;if(q>A)break;var W=D.transferSize,et=D.initiatorType;W&&hT(et)&&(D=D.responseEnd,T+=W*(D<A?1:(A-q)/(D-q)))}if(--u,r+=8*(m+T)/(f.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Fm=null,Hm=null;function Eh(i){return i.nodeType===9?i:i.ownerDocument}function fT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dT(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function qm(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Gm=null;function EI(){var i=window.event;return i&&i.type==="popstate"?i===Gm?!1:(Gm=i,!0):(Gm=null,!1)}var mT=typeof setTimeout=="function"?setTimeout:void 0,SI=typeof clearTimeout=="function"?clearTimeout:void 0,pT=typeof Promise=="function"?Promise:void 0,AI=typeof queueMicrotask=="function"?queueMicrotask:typeof pT<"u"?function(i){return pT.resolve(null).then(i).catch(bI)}:mT;function bI(i){setTimeout(function(){throw i})}function nr(i){return i==="head"}function gT(i,r){var o=r,u=0;do{var f=o.nextSibling;if(i.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(f),To(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")eu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,eu(o);for(var m=o.firstChild;m;){var T=m.nextSibling,A=m.nodeName;m[Ai]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=T}}else o==="body"&&eu(i.ownerDocument.body);o=f}while(o);To(r)}function yT(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function Km(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Km(o),Pa(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function wI(i,r,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ai])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=Fn(i.nextSibling),i===null)break}return null}function RI(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Fn(i.nextSibling),i===null))return null;return i}function vT(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Fn(i.nextSibling),i===null))return null;return i}function Ym(i){return i.data==="$?"||i.data==="$~"}function Qm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function CI(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Fn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var $m=null;function _T(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return Fn(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function TT(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function ET(i,r,o){switch(r=Eh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function eu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Pa(i)}var Hn=new Map,ST=new Set;function Sh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ds=rt.d;rt.d={f:II,r:xI,D:DI,C:VI,L:NI,m:MI,X:PI,S:OI,M:LI};function II(){var i=ds.f(),r=dh();return i||r}function xI(i){var r=Nn(i);r!==null&&r.tag===5&&r.type==="form"?j_(r):ds.r(i)}var yo=typeof document>"u"?null:document;function AT(i,r,o){var u=yo;if(u&&typeof r=="string"&&r){var f=fn(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),ST.has(f)||(ST.add(f),i={rel:i,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),Xe(r,"link",i),we(r),u.head.appendChild(r)))}}function DI(i){ds.D(i),AT("dns-prefetch",i,null)}function VI(i,r){ds.C(i,r),AT("preconnect",i,r)}function NI(i,r,o){ds.L(i,r,o);var u=yo;if(u&&i&&r){var f='link[rel="preload"][as="'+fn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+fn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+fn(o.imageSizes)+'"]')):f+='[href="'+fn(i)+'"]';var m=f;switch(r){case"style":m=vo(i);break;case"script":m=_o(i)}Hn.has(m)||(i=_({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Hn.set(m,i),u.querySelector(f)!==null||r==="style"&&u.querySelector(nu(m))||r==="script"&&u.querySelector(iu(m))||(r=u.createElement("link"),Xe(r,"link",i),we(r),u.head.appendChild(r)))}}function MI(i,r){ds.m(i,r);var o=yo;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+fn(u)+'"][href="'+fn(i)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=_o(i)}if(!Hn.has(m)&&(i=_({rel:"modulepreload",href:i},r),Hn.set(m,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(iu(m)))return}u=o.createElement("link"),Xe(u,"link",i),we(u),o.head.appendChild(u)}}}function OI(i,r,o){ds.S(i,r,o);var u=yo;if(u&&i){var f=wi(u).hoistableStyles,m=vo(i);r=r||"default";var T=f.get(m);if(!T){var A={loading:0,preload:null};if(T=u.querySelector(nu(m)))A.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Hn.get(m))&&Xm(i,o);var D=T=u.createElement("link");we(D),Xe(D,"link",i),D._p=new Promise(function(q,W){D.onload=q,D.onerror=W}),D.addEventListener("load",function(){A.loading|=1}),D.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Ah(T,r,u)}T={type:"stylesheet",instance:T,count:1,state:A},f.set(m,T)}}}function PI(i,r){ds.X(i,r);var o=yo;if(o&&i){var u=wi(o).hoistableScripts,f=_o(i),m=u.get(f);m||(m=o.querySelector(iu(f)),m||(i=_({src:i,async:!0},r),(r=Hn.get(f))&&Wm(i,r),m=o.createElement("script"),we(m),Xe(m,"link",i),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function LI(i,r){ds.M(i,r);var o=yo;if(o&&i){var u=wi(o).hoistableScripts,f=_o(i),m=u.get(f);m||(m=o.querySelector(iu(f)),m||(i=_({src:i,async:!0,type:"module"},r),(r=Hn.get(f))&&Wm(i,r),m=o.createElement("script"),we(m),Xe(m,"link",i),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function bT(i,r,o,u){var f=(f=xt.current)?Sh(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=vo(o.href),o=wi(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=vo(o.href);var m=wi(f).hoistableStyles,T=m.get(i);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,T),(m=f.querySelector(nu(i)))&&!m._p&&(T.instance=m,T.state.loading=5),Hn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Hn.set(i,o),m||kI(f,i,o,T.state))),r&&u===null)throw Error(s(528,""));return T}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=_o(o),o=wi(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function vo(i){return'href="'+fn(i)+'"'}function nu(i){return'link[rel="stylesheet"]['+i+"]"}function wT(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function kI(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Xe(r,"link",o),we(r),i.head.appendChild(r))}function _o(i){return'[src="'+fn(i)+'"]'}function iu(i){return"script[async]"+i}function RT(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+fn(o.href)+'"]');if(u)return r.instance=u,we(u),u;var f=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),we(u),Xe(u,"style",f),Ah(u,o.precedence,i),r.instance=u;case"stylesheet":f=vo(o.href);var m=i.querySelector(nu(f));if(m)return r.state.loading|=4,r.instance=m,we(m),m;u=wT(o),(f=Hn.get(f))&&Xm(u,f),m=(i.ownerDocument||i).createElement("link"),we(m);var T=m;return T._p=new Promise(function(A,D){T.onload=A,T.onerror=D}),Xe(m,"link",u),r.state.loading|=4,Ah(m,o.precedence,i),r.instance=m;case"script":return m=_o(o.src),(f=i.querySelector(iu(m)))?(r.instance=f,we(f),f):(u=o,(f=Hn.get(m))&&(u=_({},o),Wm(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),we(f),Xe(f,"link",u),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Ah(u,o.precedence,i));return r.instance}function Ah(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,T=0;T<u.length;T++){var A=u[T];if(A.dataset.precedence===r)m=A;else if(m!==f)break}m?m.parentNode.insertBefore(i,m.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Xm(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Wm(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var bh=null;function CT(i,r,o){if(bh===null){var u=new Map,f=bh=new Map;f.set(o,u)}else f=bh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var m=o[f];if(!(m[Ai]||m[be]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(r)||"";T=i+T;var A=u.get(T);A?A.push(m):u.set(T,[m])}}return u}function IT(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function UI(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function xT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function jI(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=vo(u.href),m=r.querySelector(nu(f));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=wh.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=m,we(m);return}m=r.ownerDocument||r,u=wT(u),(f=Hn.get(f))&&Xm(u,f),m=m.createElement("link"),we(m);var T=m;T._p=new Promise(function(A,D){T.onload=A,T.onerror=D}),Xe(m,"link",u),o.instance=m}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=wh.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var Zm=0;function zI(i,r){return i.stylesheets&&i.count===0&&Ch(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&Ch(i,i.stylesheets),i.unsuspend){var m=i.unsuspend;i.unsuspend=null,m()}},6e4+r);0<i.imgBytes&&Zm===0&&(Zm=62500*TI());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Ch(i,i.stylesheets),i.unsuspend)){var m=i.unsuspend;i.unsuspend=null,m()}},(i.imgBytes>Zm?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function wh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ch(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Rh=null;function Ch(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Rh=new Map,r.forEach(BI,i),Rh=null,wh.call(i))}function BI(i,r){if(!(r.state.loading&4)){var o=Rh.get(i);if(o)var u=o.get(null);else{o=new Map,Rh.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}f=r.instance,T=f.getAttribute("data-precedence"),m=o.get(T)||u,m===u&&o.set(null,f),o.set(T,f),this.count++,u=wh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var su={$$typeof:Q,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function FI(i,r,o,u,f,m,T,A,D){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.hiddenUpdates=Ei(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function DT(i,r,o,u,f,m,T,A,D,q,W,et){return i=new FI(i,r,o,T,D,q,W,et,A),r=1,m===!0&&(r|=24),m=wn(3,null,null,r),i.current=m,m.stateNode=i,r=Vd(),r.refCount++,i.pooledCache=r,r.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:r},Pd(m),i}function VT(i){return i?(i=$a,i):$a}function NT(i,r,o,u,f,m){f=VT(f),u.context===null?u.context=f:u.pendingContext=f,u=Gs(r),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=Ks(i,u,r),o!==null&&(vn(o,i,r),Ll(o,i,r))}function MT(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Jm(i,r){MT(i,r),(i=i.alternate)&&MT(i,r)}function OT(i){if(i.tag===13||i.tag===31){var r=Qr(i,67108864);r!==null&&vn(r,i,67108864),Jm(i,67108864)}}function PT(i){if(i.tag===13||i.tag===31){var r=Dn();r=Lr(r);var o=Qr(i,r);o!==null&&vn(o,i,r),Jm(i,r)}}var Ih=!0;function HI(i,r,o,u){var f=Z.T;Z.T=null;var m=rt.p;try{rt.p=2,tp(i,r,o,u)}finally{rt.p=m,Z.T=f}}function qI(i,r,o,u){var f=Z.T;Z.T=null;var m=rt.p;try{rt.p=8,tp(i,r,o,u)}finally{rt.p=m,Z.T=f}}function tp(i,r,o,u){if(Ih){var f=ep(u);if(f===null)zm(i,r,u,xh,o),kT(i,u);else if(KI(f,i,r,o,u))u.stopPropagation();else if(kT(i,u),r&4&&-1<GI.indexOf(i)){for(;f!==null;){var m=Nn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=_i(m.pendingLanes);if(T!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var D=1<<31-ye(T);A.entanglements[1]|=D,T&=~D}Ui(m),(Gt&6)===0&&(hh=ln()+500,Zl(0))}}break;case 31:case 13:A=Qr(m,2),A!==null&&vn(A,m,2),dh(),Jm(m,2)}if(m=ep(u),m===null&&zm(i,r,u,xh,o),m===f)break;f=m}f!==null&&u.stopPropagation()}else zm(i,r,u,null,o)}}function ep(i){return i=Mn(i),np(i)}var xh=null;function np(i){if(xh=null,i=bi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=d(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return xh=i,null}function LT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Nr()){case ol:return 2;case ll:return 8;case Ds:case ld:return 32;case oc:return 268435456;default:return 32}default:return 32}}var ip=!1,ir=null,sr=null,rr=null,ru=new Map,au=new Map,ar=[],GI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kT(i,r){switch(i){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":ru.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":au.delete(r.pointerId)}}function ou(i,r,o,u,f,m){return i===null||i.nativeEvent!==m?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},r!==null&&(r=Nn(r),r!==null&&OT(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function KI(i,r,o,u,f){switch(r){case"focusin":return ir=ou(ir,i,r,o,u,f),!0;case"dragenter":return sr=ou(sr,i,r,o,u,f),!0;case"mouseover":return rr=ou(rr,i,r,o,u,f),!0;case"pointerover":var m=f.pointerId;return ru.set(m,ou(ru.get(m)||null,i,r,o,u,f)),!0;case"gotpointercapture":return m=f.pointerId,au.set(m,ou(au.get(m)||null,i,r,o,u,f)),!0}return!1}function UT(i){var r=bi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,Jn(i.priority,function(){PT(o)});return}}else if(r===31){if(r=d(o),r!==null){i.blockedOn=r,Jn(i.priority,function(){PT(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Dh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=ep(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Tl=u,o.target.dispatchEvent(u),Tl=null}else return r=Nn(o),r!==null&&OT(r),i.blockedOn=o,!1;r.shift()}return!0}function jT(i,r,o){Dh(i)&&o.delete(r)}function YI(){ip=!1,ir!==null&&Dh(ir)&&(ir=null),sr!==null&&Dh(sr)&&(sr=null),rr!==null&&Dh(rr)&&(rr=null),ru.forEach(jT),au.forEach(jT)}function Vh(i,r){i.blockedOn===r&&(i.blockedOn=null,ip||(ip=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,YI)))}var Nh=null;function zT(i){Nh!==i&&(Nh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Nh===i&&(Nh=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],f=i[r+2];if(typeof u!="function"){if(np(u||o)===null)continue;break}var m=Nn(o);m!==null&&(i.splice(r,3),r-=3,em(m,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function To(i){function r(D){return Vh(D,i)}ir!==null&&Vh(ir,i),sr!==null&&Vh(sr,i),rr!==null&&Vh(rr,i),ru.forEach(r),au.forEach(r);for(var o=0;o<ar.length;o++){var u=ar[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<ar.length&&(o=ar[0],o.blockedOn===null);)UT(o),o.blockedOn===null&&ar.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],m=o[u+1],T=f[Be]||null;if(typeof m=="function")T||zT(o);else if(T){var A=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[Be]||null)A=T.formAction;else if(np(f)!==null)continue}else A=T.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),zT(o)}}}function BT(){function i(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function sp(i){this._internalRoot=i}Mh.prototype.render=sp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Dn();NT(o,u,i,r,null,null)},Mh.prototype.unmount=sp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;NT(i.current,2,null,i,null,null),dh(),r[Si]=null}};function Mh(i){this._internalRoot=i}Mh.prototype.unstable_scheduleHydration=function(i){if(i){var r=dc();i={blockedOn:null,target:i,priority:r};for(var o=0;o<ar.length&&r!==0&&r<ar[o].priority;o++);ar.splice(o,0,i),o===0&&UT(i)}};var FT=t.version;if(FT!=="19.2.1")throw Error(s(527,FT,"19.2.1"));rt.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=g(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var QI={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oh.isDisabled&&Oh.supportsFiber)try{Wn=Oh.inject(QI),Ge=Oh}catch{}}return uu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",f=$_,m=X_,T=W_;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=DT(i,1,!1,null,null,o,u,null,f,m,T,BT),i[Si]=r.current,jm(i),new sp(r)},uu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,f="",m=$_,T=X_,A=W_,D=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(D=o.formState)),r=DT(i,1,!0,r,o??null,u,f,D,m,T,A,BT),r.context=VT(null),o=r.current,u=Dn(),u=Lr(u),f=Gs(u),f.callback=null,Ks(o,f,u),o=u,r.current.lanes=o,Or(r,o),Ui(r),i[Si]=r.current,jm(i),new Mh(r)},uu.version="19.2.1",uu}var ZT;function rx(){if(ZT)return op.exports;ZT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),op.exports=sx(),op.exports}var ax=rx();var JT="popstate";function ox(e={}){function t(a,l){let{pathname:c="/",search:d="",hash:p=""}=ba(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Hp("",{pathname:c,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let c=a.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let p=a.location.href,g=p.indexOf("#");d=g===-1?p:p.slice(0,g)}return d+"#"+(typeof l=="string"?l:Cu(l))}function s(a,l){$n(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return ux(t,n,s,e)}function he(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $n(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function lx(){return Math.random().toString(36).substring(2,10)}function tE(e,t){return{usr:e.state,key:e.key,idx:t}}function Hp(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ba(t):t,state:n,key:t&&t.key||s||lx()}}function Cu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ba(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function ux(e,t,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d="POP",p=null,g=y();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function y(){return(c.state||{idx:null}).idx}function _(){d="POP";let k=y(),B=k==null?null:k-g;g=k,p&&p({action:d,location:U.location,delta:B})}function S(k,B){d="PUSH";let G=Hp(U.location,k,B);n&&n(G,k),g=y()+1;let Q=tE(G,g),lt=U.createHref(G);try{c.pushState(Q,"",lt)}catch(at){if(at instanceof DOMException&&at.name==="DataCloneError")throw at;a.location.assign(lt)}l&&p&&p({action:d,location:U.location,delta:1})}function C(k,B){d="REPLACE";let G=Hp(U.location,k,B);n&&n(G,k),g=y();let Q=tE(G,g),lt=U.createHref(G);c.replaceState(Q,"",lt),l&&p&&p({action:d,location:U.location,delta:0})}function O(k){return cx(k)}let U={get action(){return d},get location(){return e(a,c)},listen(k){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(JT,_),p=k,()=>{a.removeEventListener(JT,_),p=null}},createHref(k){return t(a,k)},createURL:O,encodeLocation(k){let B=O(k);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:S,replace:C,go(k){return c.go(k)}};return U}function cx(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),he(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Cu(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function YA(e,t,n="/"){return hx(e,t,n,!1)}function hx(e,t,n,s){let a=typeof t=="string"?ba(t):t,l=Ts(a.pathname||"/",n);if(l==null)return null;let c=QA(e);fx(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=Ax(l);d=Ex(c[p],g,s)}return d}function QA(e,t=[],n=[],s="",a=!1){let l=(c,d,p=a,g)=>{let y={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&p)return;he(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let _=ys([s,y.relativePath]),S=n.concat(y);c.children&&c.children.length>0&&(he(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),QA(c.children,t,S,_,p)),!(c.path==null&&!c.index)&&t.push({path:_,score:_x(_,c.index),routesMeta:S})};return e.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let p of $A(c.path))l(c,d,!0,p)}),t}function $A(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=$A(s.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&d.push(...c),d.map(p=>e.startsWith("/")&&p===""?"/":p)}function fx(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Tx(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var dx=/^:[\w-]+$/,mx=3,px=2,gx=1,yx=10,vx=-2,eE=e=>e==="*";function _x(e,t){let n=e.split("/"),s=n.length;return n.some(eE)&&(s+=vx),t&&(s+=px),n.filter(a=>!eE(a)).reduce((a,l)=>a+(dx.test(l)?mx:l===""?gx:yx),s)}function Tx(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function Ex(e,t,n=!1){let{routesMeta:s}=e,a={},l="/",c=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,y=l==="/"?t:t.slice(l.length)||"/",_=uf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},y),S=p.route;if(!_&&g&&n&&!s[s.length-1].route.index&&(_=uf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:ys([l,_.pathname]),pathnameBase:Cx(ys([l,_.pathnameBase])),route:S}),_.pathnameBase!=="/"&&(l=ys([l,_.pathnameBase]))}return c}function uf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=Sx(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((g,{paramName:y,isOptional:_},S)=>{if(y==="*"){let O=d[S]||"";c=l.slice(0,l.length-O.length).replace(/(.)\/+$/,"$1")}const C=d[S];return _&&!C?g[y]=void 0:g[y]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:e}}function Sx(e,t=!1,n=!0){$n(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function Ax(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $n(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ts(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}var XA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bx=e=>XA.test(e);function wx(e,t="/"){let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?ba(e):e,l;if(n)if(bx(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),$n(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=nE(n.substring(1),"/"):l=nE(n,t)}else l=t;return{pathname:l,search:Ix(s),hash:xx(a)}}function nE(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function hp(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Rx(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function WA(e){let t=Rx(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function ZA(e,t,n,s=!1){let a;typeof e=="string"?a=ba(e):(a={...e},he(!a.pathname||!a.pathname.includes("?"),hp("?","pathname","search",a)),he(!a.pathname||!a.pathname.includes("#"),hp("#","pathname","hash",a)),he(!a.search||!a.search.includes("#"),hp("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let _=t.length-1;if(!s&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),_-=1;a.pathname=S.join("/")}d=_>=0?t[_]:"/"}let p=wx(a,d),g=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||y)&&(p.pathname+="/"),p}var ys=e=>e.join("/").replace(/\/\/+/g,"/"),Cx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ix=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,xx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Dx=class{constructor(e,t,n,s=!1){this.status=e,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Vx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function Nx(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var JA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function tb(e,t){let n=e;if(typeof n!="string"||!XA.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(JA)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=Ts(c.pathname,t);c.origin===l.origin&&d!=null?n=d+c.search+c.hash:a=!0}catch{$n(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var eb=["POST","PUT","PATCH","DELETE"];new Set(eb);var Mx=["GET",...eb];new Set(Mx);var Ko=V.createContext(null);Ko.displayName="DataRouter";var Lf=V.createContext(null);Lf.displayName="DataRouterState";var Ox=V.createContext(!1),nb=V.createContext({isTransitioning:!1});nb.displayName="ViewTransition";var Px=V.createContext(new Map);Px.displayName="Fetchers";var Lx=V.createContext(null);Lx.displayName="Await";var Xn=V.createContext(null);Xn.displayName="Navigation";var Hu=V.createContext(null);Hu.displayName="Location";var Cs=V.createContext({outlet:null,matches:[],isDataRoute:!1});Cs.displayName="Route";var zg=V.createContext(null);zg.displayName="RouteError";var ib="REACT_ROUTER_ERROR",kx="REDIRECT",Ux="ROUTE_ERROR_RESPONSE";function jx(e){if(e.startsWith(`${ib}:${kx}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function zx(e){if(e.startsWith(`${ib}:${Ux}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new Dx(t.status,t.statusText,t.data)}catch{}}function Bx(e,{relative:t}={}){he(qu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=V.useContext(Xn),{hash:a,pathname:l,search:c}=Gu(e,{relative:t}),d=l;return n!=="/"&&(d=l==="/"?n:ys([n,l])),s.createHref({pathname:d,search:c,hash:a})}function qu(){return V.useContext(Hu)!=null}function wa(){return he(qu(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(Hu).location}var sb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rb(e){V.useContext(Xn).static||V.useLayoutEffect(e)}function Bg(){let{isDataRoute:e}=V.useContext(Cs);return e?t2():Fx()}function Fx(){he(qu(),"useNavigate() may be used only in the context of a <Router> component.");let e=V.useContext(Ko),{basename:t,navigator:n}=V.useContext(Xn),{matches:s}=V.useContext(Cs),{pathname:a}=wa(),l=JSON.stringify(WA(s)),c=V.useRef(!1);return rb(()=>{c.current=!0}),V.useCallback((p,g={})=>{if($n(c.current,sb),!c.current)return;if(typeof p=="number"){n.go(p);return}let y=ZA(p,JSON.parse(l),a,g.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:ys([t,y.pathname])),(g.replace?n.replace:n.push)(y,g.state,g)},[t,n,l,a,e])}V.createContext(null);function Gu(e,{relative:t}={}){let{matches:n}=V.useContext(Cs),{pathname:s}=wa(),a=JSON.stringify(WA(n));return V.useMemo(()=>ZA(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function Hx(e,t){return ab(e,t)}function ab(e,t,n,s,a){he(qu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=V.useContext(Xn),{matches:c}=V.useContext(Cs),d=c[c.length-1],p=d?d.params:{},g=d?d.pathname:"/",y=d?d.pathnameBase:"/",_=d&&d.route;{let G=_&&_.path||"";lb(g,!_||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let S=wa(),C;if(t){let G=typeof t=="string"?ba(t):t;he(y==="/"||G.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${G.pathname}" was given in the \`location\` prop.`),C=G}else C=S;let O=C.pathname||"/",U=O;if(y!=="/"){let G=y.replace(/^\//,"").split("/");U="/"+O.replace(/^\//,"").split("/").slice(G.length).join("/")}let k=YA(e,{pathname:U});$n(_||k!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),$n(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=Qx(k&&k.map(G=>Object.assign({},G,{params:Object.assign({},p,G.params),pathname:ys([y,l.encodeLocation?l.encodeLocation(G.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?y:ys([y,l.encodeLocation?l.encodeLocation(G.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathnameBase])})),c,n,s,a);return t&&B?V.createElement(Hu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},B):B}function qx(){let e=Jx(),t=Vx(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:l},"ErrorBoundary")," or"," ",V.createElement("code",{style:l},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},t),n?V.createElement("pre",{style:a},n):null,c)}var Gx=V.createElement(qx,null),ob=class extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=zx(e.digest);n&&(e=n)}let t=e!==void 0?V.createElement(Cs.Provider,{value:this.props.routeContext},V.createElement(zg.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?V.createElement(Kx,{error:e},t):t}};ob.contextType=Ox;var fp=new WeakMap;function Kx({children:e,error:t}){let{basename:n}=V.useContext(Xn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=jx(t.digest);if(s){let a=fp.get(t);if(a)throw a;let l=tb(s.location,n);if(JA&&!fp.get(t))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw fp.set(t,c),c}return V.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return e}function Yx({routeContext:e,match:t,children:n}){let s=V.useContext(Ko);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),V.createElement(Cs.Provider,{value:e},n)}function Qx(e,t=[],n=null,s=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=n?.errors;if(c!=null){let y=l.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);he(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let d=!1,p=-1;if(n)for(let y=0;y<l.length;y++){let _=l[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=y),_.route.id){let{loaderData:S,errors:C}=n,O=_.route.loader&&!S.hasOwnProperty(_.route.id)&&(!C||C[_.route.id]===void 0);if(_.route.lazy||O){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let g=n&&s?(y,_)=>{s(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Nx(n.matches),errorInfo:_})}:void 0;return l.reduceRight((y,_,S)=>{let C,O=!1,U=null,k=null;n&&(C=c&&_.route.id?c[_.route.id]:void 0,U=_.route.errorElement||Gx,d&&(p<0&&S===0?(lb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,k=null):p===S&&(O=!0,k=_.route.hydrateFallbackElement||null)));let B=t.concat(l.slice(0,S+1)),G=()=>{let Q;return C?Q=U:O?Q=k:_.route.Component?Q=V.createElement(_.route.Component,null):_.route.element?Q=_.route.element:Q=y,V.createElement(Yx,{match:_,routeContext:{outlet:y,matches:B,isDataRoute:n!=null},children:Q})};return n&&(_.route.ErrorBoundary||_.route.errorElement||S===0)?V.createElement(ob,{location:n.location,revalidation:n.revalidation,component:U,error:C,children:G(),routeContext:{outlet:null,matches:B,isDataRoute:!0},onError:g}):G()},null)}function Fg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $x(e){let t=V.useContext(Ko);return he(t,Fg(e)),t}function Xx(e){let t=V.useContext(Lf);return he(t,Fg(e)),t}function Wx(e){let t=V.useContext(Cs);return he(t,Fg(e)),t}function Hg(e){let t=Wx(e),n=t.matches[t.matches.length-1];return he(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Zx(){return Hg("useRouteId")}function Jx(){let e=V.useContext(zg),t=Xx("useRouteError"),n=Hg("useRouteError");return e!==void 0?e:t.errors?.[n]}function t2(){let{router:e}=$x("useNavigate"),t=Hg("useNavigate"),n=V.useRef(!1);return rb(()=>{n.current=!0}),V.useCallback(async(a,l={})=>{$n(n.current,sb),n.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var iE={};function lb(e,t,n){!t&&!iE[e]&&(iE[e]=!0,$n(!1,n))}V.memo(e2);function e2({routes:e,future:t,state:n,onError:s}){return ab(e,void 0,n,s,t)}function qp(e){he(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function n2({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){he(!qu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),p=V.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[d,a,l,c]);typeof n=="string"&&(n=ba(n));let{pathname:g="/",search:y="",hash:_="",state:S=null,key:C="default"}=n,O=V.useMemo(()=>{let U=Ts(g,d);return U==null?null:{location:{pathname:U,search:y,hash:_,state:S,key:C},navigationType:s}},[d,g,y,_,S,C,s]);return $n(O!=null,`<Router basename="${d}"> is not able to match the URL "${g}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:V.createElement(Xn.Provider,{value:p},V.createElement(Hu.Provider,{children:t,value:O}))}function i2({children:e,location:t}){return Hx(Gp(e),t)}function Gp(e,t=[]){let n=[];return V.Children.forEach(e,(s,a)=>{if(!V.isValidElement(s))return;let l=[...t,a];if(s.type===V.Fragment){n.push.apply(n,Gp(s.props.children,l));return}he(s.type===qp,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),he(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Gp(s.props.children,l)),n.push(c)}),n}var Kh="get",Yh="application/x-www-form-urlencoded";function kf(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function s2(e){return kf(e)&&e.tagName.toLowerCase()==="button"}function r2(e){return kf(e)&&e.tagName.toLowerCase()==="form"}function a2(e){return kf(e)&&e.tagName.toLowerCase()==="input"}function o2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function l2(e,t){return e.button===0&&(!t||t==="_self")&&!o2(e)}var Ph=null;function u2(){if(Ph===null)try{new FormData(document.createElement("form"),0),Ph=!1}catch{Ph=!0}return Ph}var c2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dp(e){return e!=null&&!c2.has(e)?($n(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yh}"`),null):e}function h2(e,t){let n,s,a,l,c;if(r2(e)){let d=e.getAttribute("action");s=d?Ts(d,t):null,n=e.getAttribute("method")||Kh,a=dp(e.getAttribute("enctype"))||Yh,l=new FormData(e)}else if(s2(e)||a2(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=e.getAttribute("formaction")||d.getAttribute("action");if(s=p?Ts(p,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||Kh,a=dp(e.getAttribute("formenctype"))||dp(d.getAttribute("enctype"))||Yh,l=new FormData(d,e),!u2()){let{name:g,type:y,value:_}=e;if(y==="image"){let S=g?`${g}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else g&&l.append(g,_)}}else{if(kf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Kh,s=null,a=Yh,c=e}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qg(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function f2(e,t,n){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&Ts(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function d2(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function m2(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function p2(e,t,n){let s=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await d2(l,n);return c.links?c.links():[]}return[]}));return _2(s.flat(1).filter(m2).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function sE(e,t,n,s,a,l){let c=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,d=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return l==="assets"?t.filter((p,g)=>c(p,g)||d(p,g)):l==="data"?t.filter((p,g)=>{let y=s.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let _=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function g2(e,t,{includeHydrateFallback:n}={}){return y2(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function y2(e){return[...new Set(e)]}function v2(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function _2(e,t){let n=new Set;return new Set(t),e.reduce((s,a)=>{let l=JSON.stringify(v2(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function ub(){let e=V.useContext(Ko);return qg(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function T2(){let e=V.useContext(Lf);return qg(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Gg=V.createContext(void 0);Gg.displayName="FrameworkContext";function cb(){let e=V.useContext(Gg);return qg(e,"You must render this element inside a <HydratedRouter> element"),e}function E2(e,t){let n=V.useContext(Gg),[s,a]=V.useState(!1),[l,c]=V.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:y,onTouchStart:_}=t,S=V.useRef(null);V.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let U=B=>{B.forEach(G=>{c(G.isIntersecting)})},k=new IntersectionObserver(U,{threshold:.5});return S.current&&k.observe(S.current),()=>{k.disconnect()}}},[e]),V.useEffect(()=>{if(s){let U=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(U)}}},[s]);let C=()=>{a(!0)},O=()=>{a(!1),c(!1)};return n?e!=="intent"?[l,S,{}]:[l,S,{onFocus:cu(d,C),onBlur:cu(p,O),onMouseEnter:cu(g,C),onMouseLeave:cu(y,O),onTouchStart:cu(_,C)}]:[!1,S,{}]}function cu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function S2({page:e,...t}){let{router:n}=ub(),s=V.useMemo(()=>YA(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?V.createElement(b2,{page:e,matches:s,...t}):null}function A2(e){let{manifest:t,routeModules:n}=cb(),[s,a]=V.useState([]);return V.useEffect(()=>{let l=!1;return p2(e,t,n).then(c=>{l||a(c)}),()=>{l=!0}},[e,t,n]),s}function b2({page:e,matches:t,...n}){let s=wa(),{manifest:a,routeModules:l}=cb(),{basename:c}=ub(),{loaderData:d,matches:p}=T2(),g=V.useMemo(()=>sE(e,t,p,a,s,"data"),[e,t,p,a,s]),y=V.useMemo(()=>sE(e,t,p,a,s,"assets"),[e,t,p,a,s]),_=V.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let O=new Set,U=!1;if(t.forEach(B=>{let G=a.routes[B.route.id];!G||!G.hasLoader||(!g.some(Q=>Q.route.id===B.route.id)&&B.route.id in d&&l[B.route.id]?.shouldRevalidate||G.hasClientLoader?U=!0:O.add(B.route.id))}),O.size===0)return[];let k=f2(e,c,"data");return U&&O.size>0&&k.searchParams.set("_routes",t.filter(B=>O.has(B.route.id)).map(B=>B.route.id).join(",")),[k.pathname+k.search]},[c,d,s,a,g,t,e,l]),S=V.useMemo(()=>g2(y,a),[y,a]),C=A2(y);return V.createElement(V.Fragment,null,_.map(O=>V.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),S.map(O=>V.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),C.map(({key:O,link:U})=>V.createElement("link",{key:O,nonce:n.nonce,...U})))}function w2(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var R2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{R2&&(window.__reactRouterVersion="7.11.0")}catch{}function C2({basename:e,children:t,unstable_useTransitions:n,window:s}){let a=V.useRef();a.current==null&&(a.current=ox({window:s,v5Compat:!0}));let l=a.current,[c,d]=V.useState({action:l.action,location:l.location}),p=V.useCallback(g=>{n===!1?d(g):V.startTransition(()=>d(g))},[n]);return V.useLayoutEffect(()=>l.listen(p),[l,p]),V.createElement(n2,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var hb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kg=V.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:d,target:p,to:g,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:S,...C},O){let{basename:U,unstable_useTransitions:k}=V.useContext(Xn),B=typeof g=="string"&&hb.test(g),G=tb(g,U);g=G.to;let Q=Bx(g,{relative:a}),[lt,at,st]=E2(s,C),R=V2(g,{replace:c,state:d,target:p,preventScrollReset:y,relative:a,viewTransition:_,unstable_defaultShouldRevalidate:S,unstable_useTransitions:k});function b(M){t&&t(M),M.defaultPrevented||R(M)}let I=V.createElement("a",{...C,...st,href:G.absoluteURL||Q,onClick:G.isExternal||l?t:b,ref:w2(O,at),target:p,"data-discover":!B&&n==="render"?"true":void 0});return lt&&!B?V.createElement(V.Fragment,null,I,V.createElement(S2,{page:Q})):I});Kg.displayName="Link";var I2=V.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:d,children:p,...g},y){let _=Gu(c,{relative:g.relative}),S=wa(),C=V.useContext(Lf),{navigator:O,basename:U}=V.useContext(Xn),k=C!=null&&L2(_)&&d===!0,B=O.encodeLocation?O.encodeLocation(_).pathname:_.pathname,G=S.pathname,Q=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(G=G.toLowerCase(),Q=Q?Q.toLowerCase():null,B=B.toLowerCase()),Q&&U&&(Q=Ts(Q,U)||Q);const lt=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let at=G===B||!a&&G.startsWith(B)&&G.charAt(lt)==="/",st=Q!=null&&(Q===B||!a&&Q.startsWith(B)&&Q.charAt(B.length)==="/"),R={isActive:at,isPending:st,isTransitioning:k},b=at?t:void 0,I;typeof s=="function"?I=s(R):I=[s,at?"active":null,st?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(R):l;return V.createElement(Kg,{...g,"aria-current":b,className:I,ref:y,style:M,to:c,viewTransition:d},typeof p=="function"?p(R):p)});I2.displayName="NavLink";var x2=V.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:a,state:l,method:c=Kh,action:d,onSubmit:p,relative:g,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:S,...C},O)=>{let{unstable_useTransitions:U}=V.useContext(Xn),k=O2(),B=P2(d,{relative:g}),G=c.toLowerCase()==="get"?"get":"post",Q=typeof d=="string"&&hb.test(d),lt=at=>{if(p&&p(at),at.defaultPrevented)return;at.preventDefault();let st=at.nativeEvent.submitter,R=st?.getAttribute("formmethod")||c,b=()=>k(st||at.currentTarget,{fetcherKey:t,method:R,navigate:n,replace:a,state:l,relative:g,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:S});U&&n!==!1?V.startTransition(()=>b()):b()};return V.createElement("form",{ref:O,method:G,action:B,onSubmit:s?p:lt,...C,"data-discover":!Q&&e==="render"?"true":void 0})});x2.displayName="Form";function D2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fb(e){let t=V.useContext(Ko);return he(t,D2(e)),t}function V2(e,{target:t,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:p}={}){let g=Bg(),y=wa(),_=Gu(e,{relative:l});return V.useCallback(S=>{if(l2(S,t)){S.preventDefault();let C=n!==void 0?n:Cu(y)===Cu(_),O=()=>g(e,{replace:C,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});p?V.startTransition(()=>O()):O()}},[y,g,_,n,s,t,e,a,l,c,d,p])}var N2=0,M2=()=>`__${String(++N2)}__`;function O2(){let{router:e}=fb("useSubmit"),{basename:t}=V.useContext(Xn),n=Zx(),s=e.fetch,a=e.navigate;return V.useCallback(async(l,c={})=>{let{action:d,method:p,encType:g,formData:y,body:_}=h2(l,t);if(c.navigate===!1){let S=c.fetcherKey||M2();await s(S,n,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||p,formEncType:c.encType||g,flushSync:c.flushSync})}else await a(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||p,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,t,n])}function P2(e,{relative:t}={}){let{basename:n}=V.useContext(Xn),s=V.useContext(Cs);he(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Gu(e||".",{relative:t})},c=wa();if(e==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(y=>y==="")){d.delete("index"),p.filter(_=>_).forEach(_=>d.append("index",_));let y=d.toString();l.search=y?`?${y}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:ys([n,l.pathname])),Cu(l)}function L2(e,{relative:t}={}){let n=V.useContext(nb);he(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=fb("useViewTransitionState"),a=Gu(e,{relative:t});if(!n.isTransitioning)return!1;let l=Ts(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Ts(n.nextLocation.pathname,s)||n.nextLocation.pathname;return uf(a.pathname,c)!=null||uf(a.pathname,l)!=null}const k2=()=>{};var rE={};const db=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},U2=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const a=e[n++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],c=e[n++],d=e[n++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const l=e[n++],c=e[n++];t[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},mb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<e.length;a+=3){const l=e[a],c=a+1<e.length,d=c?e[a+1]:0,p=a+2<e.length,g=p?e[a+2]:0,y=l>>2,_=(l&3)<<4|d>>4;let S=(d&15)<<2|g>>6,C=g&63;p||(C=64,c||(S=64)),s.push(n[y],n[_],n[S],n[C])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(db(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):U2(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],d=a<e.length?n[e.charAt(a)]:0;++a;const g=a<e.length?n[e.charAt(a)]:64;++a;const _=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||d==null||g==null||_==null)throw new j2;const S=l<<2|d>>4;if(s.push(S),g!==64){const C=d<<4&240|g>>2;if(s.push(C),_!==64){const O=g<<6&192|_;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class j2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const z2=function(e){const t=db(e);return mb.encodeByteArray(t,!0)},cf=function(e){return z2(e).replace(/\./g,"")},pb=function(e){try{return mb.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function B2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const F2=()=>B2().__FIREBASE_DEFAULTS__,H2=()=>{if(typeof process>"u"||typeof rE>"u")return;const e=rE.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},q2=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&pb(e[1]);return t&&JSON.parse(t)},Uf=()=>{try{return k2()||F2()||H2()||q2()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},gb=e=>Uf()?.emulatorHosts?.[e],G2=e=>{const t=gb(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},yb=()=>Uf()?.config,vb=e=>Uf()?.[`_${e}`];class K2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function Yo(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _b(e){return(await fetch(e,{credentials:"include"})).ok}function Y2(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...e};return[cf(JSON.stringify(n)),cf(JSON.stringify(c)),""].join(".")}const yu={};function Q2(){const e={prod:[],emulator:[]};for(const t of Object.keys(yu))yu[t]?e.emulator.push(t):e.prod.push(t);return e}function $2(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let aE=!1;function Tb(e,t){if(typeof window>"u"||typeof document>"u"||!Yo(window.location.host)||yu[e]===t||yu[e]||aE)return;yu[e]=t;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",l=Q2().prod.length>0;function c(){const S=document.getElementById(s);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,C){S.setAttribute("width","24"),S.setAttribute("id",C),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{aE=!0,c()},S}function y(S,C){S.setAttribute("id",C),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function _(){const S=$2(s),C=n("text"),O=document.getElementById(C)||document.createElement("span"),U=n("learnmore"),k=document.getElementById(U)||document.createElement("a"),B=n("preprendIcon"),G=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const Q=S.element;d(Q),y(k,U);const lt=g();p(G,B),Q.append(G,O,k,lt),document.body.appendChild(Q)}l?(O.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function X2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function W2(){const e=Uf()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Z2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function J2(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function tD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eD(){const e=on();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function nD(){return!W2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iD(){try{return typeof indexedDB=="object"}catch{return!1}}function sD(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(n){t(n)}})}const rD="FirebaseError";class Is extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=rD,Object.setPrototypeOf(this,Is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ku.prototype.create)}}class Ku{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?aD(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Is(a,d,s)}}function aD(e,t){return e.replace(oD,(n,s)=>{const a=t[s];return a!=null?String(a):`<${s}?>`})}const oD=/\{\$([^}]+)}/g;function lD(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function va(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const a of n){if(!s.includes(a))return!1;const l=e[a],c=t[a];if(oE(l)&&oE(c)){if(!va(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function oE(e){return e!==null&&typeof e=="object"}function Yu(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function uD(e,t){const n=new cD(e,t);return n.subscribe.bind(n)}class cD{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let a;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");hD(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:s},a.next===void 0&&(a.next=mp),a.error===void 0&&(a.error=mp),a.complete===void 0&&(a.complete=mp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hD(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function mp(){}function En(e){return e&&e._delegate?e._delegate:e}class _a{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const la="[DEFAULT]";class fD{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new K2;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(mD(t))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(t=la){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=la){return this.instances.has(t)}getOptions(t=la){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(t),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&t(l,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:dD(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=la){return this.component?this.component.multipleInstances?t:la:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dD(e){return e===la?void 0:e}function mD(e){return e.instantiationMode==="EAGER"}class pD{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new fD(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Lt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Lt||(Lt={}));const gD={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},yD=Lt.INFO,vD={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},_D=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),a=vD[t];if(a)console[a](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Yg{constructor(t){this.name=t,this._logLevel=yD,this._logHandler=_D,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?gD[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const TD=(e,t)=>t.some(n=>e instanceof n);let lE,uE;function ED(){return lE||(lE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SD(){return uE||(uE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Eb=new WeakMap,Kp=new WeakMap,Sb=new WeakMap,pp=new WeakMap,Qg=new WeakMap;function AD(e){const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(mr(e.result)),a()},c=()=>{s(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&Eb.set(n,e)}).catch(()=>{}),Qg.set(t,e),t}function bD(e){if(Kp.has(e))return;const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});Kp.set(e,t)}let Yp={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Kp.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Sb.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function wD(e){Yp=e(Yp)}function RD(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(gp(this),t,...n);return Sb.set(s,t.sort?t.sort():[t]),mr(s)}:SD().includes(e)?function(...t){return e.apply(gp(this),t),mr(Eb.get(this))}:function(...t){return mr(e.apply(gp(this),t))}}function CD(e){return typeof e=="function"?RD(e):(e instanceof IDBTransaction&&bD(e),TD(e,ED())?new Proxy(e,Yp):e)}function mr(e){if(e instanceof IDBRequest)return AD(e);if(pp.has(e))return pp.get(e);const t=CD(e);return t!==e&&(pp.set(e,t),Qg.set(t,e)),t}const gp=e=>Qg.get(e);function ID(e,t,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(e,t),d=mr(c);return s&&c.addEventListener("upgradeneeded",p=>{s(mr(c.result),p.oldVersion,p.newVersion,mr(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const xD=["get","getKey","getAll","getAllKeys","count"],DD=["put","add","delete","clear"],yp=new Map;function cE(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(yp.get(t))return yp.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,a=DD.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||xD.includes(n)))return;const l=async function(c,...d){const p=this.transaction(c,a?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),a&&p.done]))[0]};return yp.set(t,l),l}wD(e=>({...e,get:(t,n,s)=>cE(t,n)||e.get(t,n,s),has:(t,n)=>!!cE(t,n)||e.has(t,n)}));class VD{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ND(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function ND(e){return e.getComponent()?.type==="VERSION"}const Qp="@firebase/app",hE="0.14.6";const Es=new Yg("@firebase/app"),MD="@firebase/app-compat",OD="@firebase/analytics-compat",PD="@firebase/analytics",LD="@firebase/app-check-compat",kD="@firebase/app-check",UD="@firebase/auth",jD="@firebase/auth-compat",zD="@firebase/database",BD="@firebase/data-connect",FD="@firebase/database-compat",HD="@firebase/functions",qD="@firebase/functions-compat",GD="@firebase/installations",KD="@firebase/installations-compat",YD="@firebase/messaging",QD="@firebase/messaging-compat",$D="@firebase/performance",XD="@firebase/performance-compat",WD="@firebase/remote-config",ZD="@firebase/remote-config-compat",JD="@firebase/storage",tV="@firebase/storage-compat",eV="@firebase/firestore",nV="@firebase/ai",iV="@firebase/firestore-compat",sV="firebase",rV="12.6.0";const $p="[DEFAULT]",aV={[Qp]:"fire-core",[MD]:"fire-core-compat",[PD]:"fire-analytics",[OD]:"fire-analytics-compat",[kD]:"fire-app-check",[LD]:"fire-app-check-compat",[UD]:"fire-auth",[jD]:"fire-auth-compat",[zD]:"fire-rtdb",[BD]:"fire-data-connect",[FD]:"fire-rtdb-compat",[HD]:"fire-fn",[qD]:"fire-fn-compat",[GD]:"fire-iid",[KD]:"fire-iid-compat",[YD]:"fire-fcm",[QD]:"fire-fcm-compat",[$D]:"fire-perf",[XD]:"fire-perf-compat",[WD]:"fire-rc",[ZD]:"fire-rc-compat",[JD]:"fire-gcs",[tV]:"fire-gcs-compat",[eV]:"fire-fst",[iV]:"fire-fst-compat",[nV]:"fire-vertex","fire-js":"fire-js",[sV]:"fire-js-all"};const hf=new Map,oV=new Map,Xp=new Map;function fE(e,t){try{e.container.addComponent(t)}catch(n){Es.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Lo(e){const t=e.name;if(Xp.has(t))return Es.debug(`There were multiple attempts to register component ${t}.`),!1;Xp.set(t,e);for(const n of hf.values())fE(n,e);for(const n of oV.values())fE(n,e);return!0}function $g(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function hi(e){return e==null?!1:e.settings!==void 0}const lV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pr=new Ku("app","Firebase",lV);class uV{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new _a("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}}const Qo=rV;function Ab(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s={name:$p,automaticDataCollectionEnabled:!0,...t},a=s.name;if(typeof a!="string"||!a)throw pr.create("bad-app-name",{appName:String(a)});if(n||(n=yb()),!n)throw pr.create("no-options");const l=hf.get(a);if(l){if(va(n,l.options)&&va(s,l.config))return l;throw pr.create("duplicate-app",{appName:a})}const c=new pD(a);for(const p of Xp.values())c.addComponent(p);const d=new uV(n,s,c);return hf.set(a,d),d}function bb(e=$p){const t=hf.get(e);if(!t&&e===$p&&yb())return Ab();if(!t)throw pr.create("no-app",{appName:e});return t}function gr(e,t,n){let s=aV[e]??e;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${t}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Es.warn(c.join(" "));return}Lo(new _a(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const cV="firebase-heartbeat-database",hV=1,Iu="firebase-heartbeat-store";let vp=null;function wb(){return vp||(vp=ID(cV,hV,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Iu)}catch(n){console.warn(n)}}}}).catch(e=>{throw pr.create("idb-open",{originalErrorMessage:e.message})})),vp}async function fV(e){try{const n=(await wb()).transaction(Iu),s=await n.objectStore(Iu).get(Rb(e));return await n.done,s}catch(t){if(t instanceof Is)Es.warn(t.message);else{const n=pr.create("idb-get",{originalErrorMessage:t?.message});Es.warn(n.message)}}}async function dE(e,t){try{const s=(await wb()).transaction(Iu,"readwrite");await s.objectStore(Iu).put(t,Rb(e)),await s.done}catch(n){if(n instanceof Is)Es.warn(n.message);else{const s=pr.create("idb-set",{originalErrorMessage:n?.message});Es.warn(s.message)}}}function Rb(e){return`${e.name}!${e.options.appId}`}const dV=1024,mV=30;class pV{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yV(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=mE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>mV){const a=vV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Es.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=mE(),{heartbeatsToSend:n,unsentEntries:s}=gV(this._heartbeatsCache.heartbeats),a=cf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Es.warn(t),""}}}function mE(){return new Date().toISOString().substring(0,10)}function gV(e,t=dV){const n=[];let s=e.slice();for(const a of e){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),pE(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),pE(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class yV{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iD()?sD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return dE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return dE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function pE(e){return cf(JSON.stringify({version:2,heartbeats:e})).length}function vV(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}function _V(e){Lo(new _a("platform-logger",t=>new VD(t),"PRIVATE")),Lo(new _a("heartbeat",t=>new pV(t),"PRIVATE")),gr(Qp,hE,e),gr(Qp,hE,"esm2020"),gr("fire-js","")}_V("");var TV="firebase",EV="12.7.0";gr(TV,EV,"app");function Cb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SV=Cb,Ib=new Ku("auth","Firebase",Cb());const ff=new Yg("@firebase/auth");function AV(e,...t){ff.logLevel<=Lt.WARN&&ff.warn(`Auth (${Qo}): ${e}`,...t)}function Qh(e,...t){ff.logLevel<=Lt.ERROR&&ff.error(`Auth (${Qo}): ${e}`,...t)}function Yi(e,...t){throw Wg(e,...t)}function mi(e,...t){return Wg(e,...t)}function Xg(e,t,n){const s={...SV(),[t]:n};return new Ku("auth","Firebase",s).create(t,{appName:e.name})}function ma(e){return Xg(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bV(e,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&Yi(e,"argument-error"),Xg(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wg(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return Ib.create(e,...t)}function Et(e,t,...n){if(!e)throw Wg(t,...n)}function ps(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Qh(t),new Error(t)}function Ss(e,t){e||ps(t)}function Wp(){return typeof self<"u"&&self.location?.href||""}function wV(){return gE()==="http:"||gE()==="https:"}function gE(){return typeof self<"u"&&self.location?.protocol||null}function RV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wV()||J2()||"connection"in navigator)?navigator.onLine:!0}function CV(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}class Qu{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ss(n>t,"Short delay should be less than long delay!"),this.isMobile=X2()||tD()}get(){return RV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zg(e,t){Ss(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class xb{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const IV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const xV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DV=new Qu(3e4,6e4);function Jg(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function $o(e,t,n,s,a={}){return Db(e,a,async()=>{let l={},c={};s&&(t==="GET"?c=s:l={body:JSON.stringify(s)});const d=Yu({key:e.config.apiKey,...c}).slice(1),p=await e._getAdditionalHeaders();p["Content-Type"]="application/json",e.languageCode&&(p["X-Firebase-Locale"]=e.languageCode);const g={method:t,headers:p,...l};return Z2()||(g.referrerPolicy="no-referrer"),e.emulatorConfig&&Yo(e.emulatorConfig.host)&&(g.credentials="include"),xb.fetch()(await Vb(e,e.config.apiHost,n,d),g)})}async function Db(e,t,n){e._canInitEmulator=!1;const s={...IV,...t};try{const a=new NV(e),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Lh(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lh(e,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Lh(e,"email-already-in-use",c);if(p==="USER_DISABLED")throw Lh(e,"user-disabled",c);const y=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Xg(e,y,g);Yi(e,y)}}catch(a){if(a instanceof Is)throw a;Yi(e,"network-request-failed",{message:String(a)})}}async function VV(e,t,n,s,a={}){const l=await $o(e,t,n,s,a);return"mfaPendingCredential"in l&&Yi(e,"multi-factor-auth-required",{_serverResponse:l}),l}async function Vb(e,t,n,s){const a=`${t}${n}?${s}`,l=e,c=l.config.emulator?Zg(e.config,a):`${e.config.apiScheme}://${a}`;return xV.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class NV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(mi(this.auth,"network-request-failed")),DV.get())})}}function Lh(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=mi(e,t,s);return a.customData._tokenResponse=n,a}async function MV(e,t){return $o(e,"POST","/v1/accounts:delete",t)}async function df(e,t){return $o(e,"POST","/v1/accounts:lookup",t)}function vu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function OV(e,t=!1){const n=En(e),s=await n.getIdToken(t),a=ty(s);Et(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:vu(_p(a.auth_time)),issuedAtTime:vu(_p(a.iat)),expirationTime:vu(_p(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function _p(e){return Number(e)*1e3}function ty(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return Qh("JWT malformed, contained fewer than 3 sections"),null;try{const a=pb(n);return a?JSON.parse(a):(Qh("Failed to decode base64 JWT payload"),null)}catch(a){return Qh("Caught error parsing JWT payload as JSON",a?.toString()),null}}function yE(e){const t=ty(e);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function xu(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Is&&PV(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function PV({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}class LV{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Zp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vu(this.lastLoginAt),this.creationTime=vu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function mf(e){const t=e.auth,n=await e.getIdToken(),s=await xu(e,df(t,{idToken:n}));Et(s?.users.length,t,"internal-error");const a=s.users[0];e._notifyReloadListener(a);const l=a.providerUserInfo?.length?Nb(a.providerUserInfo):[],c=UV(e.providerData,l),d=e.isAnonymous,p=!(e.email&&a.passwordHash)&&!c?.length,g=d?p:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Zp(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(e,y)}async function kV(e){const t=En(e);await mf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function UV(e,t){return[...e.filter(s=>!t.some(a=>a.providerId===s.providerId)),...t]}function Nb(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function jV(e,t){const n=await Db(e,{},async()=>{const s=Yu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=e.config,c=await Vb(e,a,"/v1/token",`key=${l}`),d=await e._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return e.emulatorConfig&&Yo(e.emulatorConfig.host)&&(p.credentials="include"),xb.fetch()(c,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function zV(e,t){return $o(e,"POST","/v2/accounts:revokeToken",Jg(e,t))}class Do{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):yE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const n=yE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await jV(t,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new Do;return s&&(Et(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),a&&(Et(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(Et(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Do,this.toJSON())}_performRefresh(){return ps("not implemented")}}function lr(e,t){Et(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class fi{constructor({uid:t,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new LV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Zp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const n=await xu(this,this.stsTokenManager.getToken(this.auth,t));return Et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return OV(this,t)}reload(){return kV(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new fi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await mf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hi(this.auth.app))return Promise.reject(ma(this.auth));const t=await this.getIdToken();return await xu(this,MV(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:_,emailVerified:S,isAnonymous:C,providerData:O,stsTokenManager:U}=n;Et(_&&U,t,"internal-error");const k=Do.fromJSON(this.name,U);Et(typeof _=="string",t,"internal-error"),lr(s,t.name),lr(a,t.name),Et(typeof S=="boolean",t,"internal-error"),Et(typeof C=="boolean",t,"internal-error"),lr(l,t.name),lr(c,t.name),lr(d,t.name),lr(p,t.name),lr(g,t.name),lr(y,t.name);const B=new fi({uid:_,auth:t,email:a,emailVerified:S,displayName:s,isAnonymous:C,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:k,createdAt:g,lastLoginAt:y});return O&&Array.isArray(O)&&(B.providerData=O.map(G=>({...G}))),p&&(B._redirectEventId=p),B}static async _fromIdTokenResponse(t,n,s=!1){const a=new Do;a.updateFromServerResponse(n);const l=new fi({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:s});return await mf(l),l}static async _fromGetAccountInfoResponse(t,n,s){const a=n.users[0];Et(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Nb(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new Do;d.updateFromIdToken(s);const p=new fi({uid:a.localId,auth:t,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Zp(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(p,g),p}}const vE=new Map;function gs(e){Ss(e instanceof Function,"Expected a class definition");let t=vE.get(e);return t?(Ss(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,vE.set(e,t),t)}class Mb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Mb.type="NONE";const _E=Mb;function $h(e,t,n){return`firebase:${e}:${t}:${n}`}class Vo{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=$h(this.userKey,a.apiKey,l),this.fullPersistenceKey=$h("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await df(this.auth,{idToken:t}).catch(()=>{});return n?fi._fromGetAccountInfoResponse(this.auth,n,t):null}return fi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Vo(gs(_E),t,s);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||gs(_E);const c=$h(s,t.config.apiKey,t.name);let d=null;for(const g of n)try{const y=await g._get(c);if(y){let _;if(typeof y=="string"){const S=await df(t,{idToken:y}).catch(()=>{});if(!S)break;_=await fi._fromGetAccountInfoResponse(t,S,y)}else _=fi._fromJSON(t,y);g!==l&&(d=_),l=g;break}}catch{}const p=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Vo(l,t,s):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Vo(l,t,s))}}function TE(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(kb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ob(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(jb(t))return"Blackberry";if(zb(t))return"Webos";if(Pb(t))return"Safari";if((t.includes("chrome/")||Lb(t))&&!t.includes("edge/"))return"Chrome";if(Ub(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if(s?.length===2)return s[1]}return"Other"}function Ob(e=on()){return/firefox\//i.test(e)}function Pb(e=on()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Lb(e=on()){return/crios\//i.test(e)}function kb(e=on()){return/iemobile/i.test(e)}function Ub(e=on()){return/android/i.test(e)}function jb(e=on()){return/blackberry/i.test(e)}function zb(e=on()){return/webos/i.test(e)}function ey(e=on()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function BV(e=on()){return ey(e)&&!!window.navigator?.standalone}function FV(){return eD()&&document.documentMode===10}function Bb(e=on()){return ey(e)||Ub(e)||zb(e)||jb(e)||/windows phone/i.test(e)||kb(e)}function Fb(e,t=[]){let n;switch(e){case"Browser":n=TE(on());break;case"Worker":n=`${TE(on())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qo}/${s}`}class HV{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=l=>new Promise((c,d)=>{try{const p=t(l);c(p)}catch(p){d(p)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function qV(e,t={}){return $o(e,"GET","/v2/passwordPolicy",Jg(e,t))}const GV=6;class KV{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??GV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),a&&(n.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<t.length;a++)s=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}class YV{constructor(t,n,s,a){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new EE(this),this.idTokenSubscription=new EE(this),this.beforeStateQueue=new HV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ib,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=gs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Vo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await df(this,{idToken:t}),s=await fi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(hi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(t);(!l||l===c)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await mf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=CV()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(hi(this.app))return Promise.reject(ma(this));const n=t?En(t):null;return n&&Et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return hi(this.app)?Promise.reject(ma(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return hi(this.app)?Promise.reject(ma(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await qV(this),n=new KV(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ku("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await zV(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&gs(t)||this._popupRedirectResolver;Et(n,this,"argument-error"),this.redirectPersistenceManager=await Vo.create(this,[gs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,a);return()=>{c=!0,p()}}else{const p=t.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Fb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(hi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&AV(`Error while retrieving App Check token: ${t.error}`),t?.token}}function jf(e){return En(e)}class EE{constructor(t){this.auth=t,this.observer=null,this.addObserver=uD(n=>this.observer=n)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ny={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QV(e){ny=e}function $V(e){return ny.loadJS(e)}function XV(){return ny.gapiScript}function WV(e){return`__${e}${Math.floor(Math.random()*1e6)}`}function ZV(e,t){const n=$g(e,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(va(l,t??{}))return a;Yi(a,"already-initialized")}return n.initialize({options:t})}function JV(e,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(gs);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t?.popupRedirectResolver)}function tN(e,t,n){const s=jf(e);Et(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const a=!1,l=Hb(t),{host:c,port:d}=eN(t),p=d===null?"":`:${d}`,g={url:`${l}//${c}${p}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Et(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Et(va(g,s.config.emulator)&&va(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,Yo(c)?(_b(`${l}//${c}${p}`),Tb("Auth",!0)):nN()}function Hb(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function eN(e){const t=Hb(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:SE(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:SE(c)}}}function SE(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function nN(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}class qb{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ps("not implemented")}_getIdTokenResponse(t){return ps("not implemented")}_linkToIdToken(t,n){return ps("not implemented")}_getReauthenticationResolver(t){return ps("not implemented")}}async function No(e,t){return VV(e,"POST","/v1/accounts:signInWithIdp",Jg(e,t))}const iN="http://localhost";class Ta extends qb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ta(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Yi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new Ta(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return No(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,No(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,No(t,n)}buildRequest(){const t={requestUri:iN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Yu(n)}return t}}class iy{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class $u extends iy{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class cr extends $u{constructor(){super("facebook.com")}static credential(t){return Ta._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return cr.credentialFromTaggedObject(t)}static credentialFromError(t){return cr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return cr.credential(t.oauthAccessToken)}catch{return null}}}cr.FACEBOOK_SIGN_IN_METHOD="facebook.com";cr.PROVIDER_ID="facebook.com";class ms extends $u{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ta._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ms.credentialFromTaggedObject(t)}static credentialFromError(t){return ms.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return ms.credential(n,s)}catch{return null}}}ms.GOOGLE_SIGN_IN_METHOD="google.com";ms.PROVIDER_ID="google.com";class hr extends $u{constructor(){super("github.com")}static credential(t){return Ta._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return hr.credentialFromTaggedObject(t)}static credentialFromError(t){return hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return hr.credential(t.oauthAccessToken)}catch{return null}}}hr.GITHUB_SIGN_IN_METHOD="github.com";hr.PROVIDER_ID="github.com";class fr extends $u{constructor(){super("twitter.com")}static credential(t,n){return Ta._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return fr.credentialFromTaggedObject(t)}static credentialFromError(t){return fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return fr.credential(n,s)}catch{return null}}}fr.TWITTER_SIGN_IN_METHOD="twitter.com";fr.PROVIDER_ID="twitter.com";class ko{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,a=!1){const l=await fi._fromIdTokenResponse(t,s,a),c=AE(s);return new ko({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const a=AE(s);return new ko({user:t,providerId:a,_tokenResponse:s,operationType:n})}}function AE(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class pf extends Is{constructor(t,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,pf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,a){return new pf(t,n,s,a)}}function Gb(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?pf._fromErrorAndOperation(e,l,t,s):l})}async function sN(e,t,n=!1){const s=await xu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ko._forOperation(e,"link",s)}async function rN(e,t,n=!1){const{auth:s}=e;if(hi(s.app))return Promise.reject(ma(s));const a="reauthenticate";try{const l=await xu(e,Gb(s,a,t,e),n);Et(l.idToken,s,"internal-error");const c=ty(l.idToken);Et(c,s,"internal-error");const{sub:d}=c;return Et(e.uid===d,s,"user-mismatch"),ko._forOperation(e,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Yi(s,"user-mismatch"),l}}async function aN(e,t,n=!1){if(hi(e.app))return Promise.reject(ma(e));const s="signIn",a=await Gb(e,s,t),l=await ko._fromIdTokenResponse(e,s,a);return n||await e._updateCurrentUser(l.user),l}function oN(e,t,n,s){return En(e).onIdTokenChanged(t,n,s)}function lN(e,t,n){return En(e).beforeAuthStateChanged(t,n)}function uN(e,t,n,s){return En(e).onAuthStateChanged(t,n,s)}function cN(e){return En(e).signOut()}const gf="__sak";class Kb{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gf,"1"),this.storage.removeItem(gf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const hN=1e3,fN=10;class Yb extends Kb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Bb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&t(n,a,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);FV()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,fN):a()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},hN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Yb.type="LOCAL";const dN=Yb;class Qb extends Kb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Qb.type="SESSION";const $b=Qb;function mN(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class zf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(a=>a.isListeningto(t));if(n)return n;const s=new zf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async g=>g(n.origin,l)),p=await mN(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zf.receivers=[];function sy(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}class pN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const g=sy("",20);a.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(_){const S=_;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(S.data.response);break;default:clearTimeout(y),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function zi(){return window}function gN(e){zi().location.href=e}function Xb(){return typeof zi().WorkerGlobalScope<"u"&&typeof zi().importScripts=="function"}async function yN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vN(){return navigator?.serviceWorker?.controller||null}function _N(){return Xb()?self:null}const Wb="firebaseLocalStorageDb",TN=1,yf="firebaseLocalStorage",Zb="fbase_key";class Xu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Bf(e,t){return e.transaction([yf],t?"readwrite":"readonly").objectStore(yf)}function EN(){const e=indexedDB.deleteDatabase(Wb);return new Xu(e).toPromise()}function Jp(){const e=indexedDB.open(Wb,TN);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(yf,{keyPath:Zb})}catch(a){n(a)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(yf)?t(s):(s.close(),await EN(),t(await Jp()))})})}async function bE(e,t,n){const s=Bf(e,!0).put({[Zb]:t,value:n});return new Xu(s).toPromise()}async function SN(e,t){const n=Bf(e,!1).get(t),s=await new Xu(n).toPromise();return s===void 0?null:s.value}function wE(e,t){const n=Bf(e,!0).delete(t);return new Xu(n).toPromise()}const AN=800,bN=3;class Jb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>bN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Xb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zf._getInstance(_N()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await yN(),!this.activeServiceWorker)return;this.sender=new pN(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||vN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Jp();return await bE(t,gf,"1"),await wE(t,gf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>bE(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>SN(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>wE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=Bf(a,!1).getAll();return new Xu(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Jb.type="LOCAL";const wN=Jb;new Qu(3e4,6e4);function t1(e,t){return t?gs(t):(Et(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class ry extends qb{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return No(t,this._buildIdpRequest())}_linkToIdToken(t,n){return No(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return No(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function RN(e){return aN(e.auth,new ry(e),e.bypassAuthState)}function CN(e){const{auth:t,user:n}=e;return Et(n,t,"internal-error"),rN(n,new ry(e),e.bypassAuthState)}async function IN(e){const{auth:t,user:n}=e;return Et(n,t,"internal-error"),sN(n,new ry(e),e.bypassAuthState)}class e1{constructor(t,n,s,a,l=!1){this.auth=t,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return RN;case"linkViaPopup":case"linkViaRedirect":return IN;case"reauthViaPopup":case"reauthViaRedirect":return CN;default:Yi(this.auth,"internal-error")}}resolve(t){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xN=new Qu(2e3,1e4);async function DN(e,t,n){if(hi(e.app))return Promise.reject(mi(e,"operation-not-supported-in-this-environment"));const s=jf(e);bV(e,t,iy);const a=t1(s,n);return new ca(s,"signInViaPopup",t,a).executeNotNull()}class ca extends e1{constructor(t,n,s,a,l){super(t,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,ca.currentPopupAction&&ca.currentPopupAction.cancel(),ca.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){Ss(this.filter.length===1,"Popup operations only handle one event");const t=sy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ca.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,xN.get())};t()}}ca.currentPopupAction=null;const VN="pendingRedirect",Xh=new Map;class NN extends e1{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Xh.get(this.auth._key());if(!t){try{const s=await MN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Xh.set(this.auth._key(),t)}return this.bypassAuthState||Xh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MN(e,t){const n=LN(t),s=PN(e);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function ON(e,t){Xh.set(e._key(),t)}function PN(e){return gs(e._redirectPersistence)}function LN(e){return $h(VN,e.config.apiKey,e.name)}async function kN(e,t,n=!1){if(hi(e.app))return Promise.reject(ma(e));const s=jf(e),a=t1(s,t),c=await new NN(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}const UN=600*1e3;class jN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!zN(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!n1(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(mi(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=UN&&this.cachedEventUids.clear(),this.cachedEventUids.has(RE(t))}saveEventToCache(t){this.cachedEventUids.add(RE(t)),this.lastProcessedEventTime=Date.now()}}function RE(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function n1({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function zN(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return n1(e);default:return!1}}async function BN(e,t={}){return $o(e,"GET","/v1/projects",t)}const FN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HN=/^https?/;async function qN(e){if(e.config.emulator)return;const{authorizedDomains:t}=await BN(e);for(const n of t)try{if(GN(n))return}catch{}Yi(e,"unauthorized-domain")}function GN(e){const t=Wp(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!HN.test(n))return!1;if(FN.test(e))return s===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const KN=new Qu(3e4,6e4);function CE(){const e=zi().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function YN(e){return new Promise((t,n)=>{function s(){CE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{CE(),n(mi(e,"network-request-failed"))},timeout:KN.get()})}if(zi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(zi().gapi?.load)s();else{const a=WV("iframefcb");return zi()[a]=()=>{gapi.load?s():n(mi(e,"network-request-failed"))},$V(`${XV()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw Wh=null,t})}let Wh=null;function QN(e){return Wh=Wh||YN(e),Wh}const $N=new Qu(5e3,15e3),XN="__/auth/iframe",WN="emulator/auth/iframe",ZN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tM(e){const t=e.config;Et(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Zg(t,WN):`https://${e.config.authDomain}/${XN}`,s={apiKey:t.apiKey,appName:e.name,v:Qo},a=JN.get(e.config.apiHost);a&&(s.eid=a);const l=e._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Yu(s).slice(1)}`}async function eM(e){const t=await QN(e),n=zi().gapi;return Et(n,e,"internal-error"),t.open({where:document.body,url:tM(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZN,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=mi(e,"network-request-failed"),d=zi().setTimeout(()=>{l(c)},$N.get());function p(){zi().clearTimeout(d),a(s)}s.ping(p).then(p,()=>{l(c)})}))}const nM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iM=500,sM=600,rM="_blank",aM="http://localhost";class IE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oM(e,t,n,s=iM,a=sM){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p={...nM,width:s.toString(),height:a.toString(),top:l,left:c},g=on().toLowerCase();n&&(d=Lb(g)?rM:n),Ob(g)&&(t=t||aM,p.scrollbars="yes");const y=Object.entries(p).reduce((S,[C,O])=>`${S}${C}=${O},`,"");if(BV(g)&&d!=="_self")return lM(t||"",d),new IE(null);const _=window.open(t||"",d,y);Et(_,e,"popup-blocked");try{_.focus()}catch{}return new IE(_)}function lM(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const uM="__/auth/handler",cM="emulator/auth/handler",hM=encodeURIComponent("fac");async function xE(e,t,n,s,a,l){Et(e.config.authDomain,e,"auth-domain-config-required"),Et(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:Qo,eventId:a};if(t instanceof iy){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",lD(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(t instanceof $u){const y=t.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}e.tenantId&&(c.tid=e.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const p=await e._getAppCheckToken(),g=p?`#${hM}=${encodeURIComponent(p)}`:"";return`${fM(e)}?${Yu(d).slice(1)}${g}`}function fM({config:e}){return e.emulator?Zg(e,cM):`https://${e.authDomain}/${uM}`}const Tp="webStorageSupport";class dM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$b,this._completeRedirectFn=kN,this._overrideRedirectResult=ON}async _openPopup(t,n,s,a){Ss(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await xE(t,n,s,Wp(),a);return oM(t,l,sy())}async _openRedirect(t,n,s,a){await this._originValidation(t);const l=await xE(t,n,s,Wp(),a);return gN(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Ss(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await eM(t),s=new jN(t);return n.register("authEvent",a=>(Et(a?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Tp,{type:Tp},a=>{const l=a?.[0]?.[Tp];l!==void 0&&n(!!l),Yi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qN(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Bb()||Pb()||ey()}}const mM=dM;var DE="@firebase/auth",VE="1.12.0";class pM{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function gM(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yM(e){Lo(new _a("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;Et(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:d,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fb(e)},g=new YV(s,a,l,p);return JV(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Lo(new _a("auth-internal",t=>{const n=jf(t.getProvider("auth").getImmediate());return(s=>new pM(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gr(DE,VE,gM(e)),gr(DE,VE,"esm2020")}const vM=300,_M=vb("authIdTokenMaxAge")||vM;let NE=null;const TM=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>_M)return;const a=n?.token;NE!==a&&(NE=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function EM(e=bb()){const t=$g(e,"auth");if(t.isInitialized())return t.getImmediate();const n=ZV(e,{popupRedirectResolver:mM,persistence:[wN,dN,$b]}),s=vb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=TM(l.toString());lN(n,c,()=>c(n.currentUser)),oN(n,d=>c(d))}}const a=gb("auth");return a&&tN(n,`http://${a}`),n}function SM(){return document.getElementsByTagName("head")?.[0]??document}QV({loadJS(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=a=>{const l=mi("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",SM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yM("Browser");var ME=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var yr,i1;(function(){var e;function t(R,b){function I(){}I.prototype=b.prototype,R.F=b.prototype,R.prototype=new I,R.prototype.constructor=R,R.D=function(M,N,z){for(var x=Array(arguments.length-2),te=2;te<arguments.length;te++)x[te-2]=arguments[te];return b.prototype[N].apply(M,x)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,b,I){I||(I=0);const M=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)M[N]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(N=0;N<16;++N)M[N]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=R.g[0],I=R.g[1],N=R.g[2];let z=R.g[3],x;x=b+(z^I&(N^z))+M[0]+3614090360&4294967295,b=I+(x<<7&4294967295|x>>>25),x=z+(N^b&(I^N))+M[1]+3905402710&4294967295,z=b+(x<<12&4294967295|x>>>20),x=N+(I^z&(b^I))+M[2]+606105819&4294967295,N=z+(x<<17&4294967295|x>>>15),x=I+(b^N&(z^b))+M[3]+3250441966&4294967295,I=N+(x<<22&4294967295|x>>>10),x=b+(z^I&(N^z))+M[4]+4118548399&4294967295,b=I+(x<<7&4294967295|x>>>25),x=z+(N^b&(I^N))+M[5]+1200080426&4294967295,z=b+(x<<12&4294967295|x>>>20),x=N+(I^z&(b^I))+M[6]+2821735955&4294967295,N=z+(x<<17&4294967295|x>>>15),x=I+(b^N&(z^b))+M[7]+4249261313&4294967295,I=N+(x<<22&4294967295|x>>>10),x=b+(z^I&(N^z))+M[8]+1770035416&4294967295,b=I+(x<<7&4294967295|x>>>25),x=z+(N^b&(I^N))+M[9]+2336552879&4294967295,z=b+(x<<12&4294967295|x>>>20),x=N+(I^z&(b^I))+M[10]+4294925233&4294967295,N=z+(x<<17&4294967295|x>>>15),x=I+(b^N&(z^b))+M[11]+2304563134&4294967295,I=N+(x<<22&4294967295|x>>>10),x=b+(z^I&(N^z))+M[12]+1804603682&4294967295,b=I+(x<<7&4294967295|x>>>25),x=z+(N^b&(I^N))+M[13]+4254626195&4294967295,z=b+(x<<12&4294967295|x>>>20),x=N+(I^z&(b^I))+M[14]+2792965006&4294967295,N=z+(x<<17&4294967295|x>>>15),x=I+(b^N&(z^b))+M[15]+1236535329&4294967295,I=N+(x<<22&4294967295|x>>>10),x=b+(N^z&(I^N))+M[1]+4129170786&4294967295,b=I+(x<<5&4294967295|x>>>27),x=z+(I^N&(b^I))+M[6]+3225465664&4294967295,z=b+(x<<9&4294967295|x>>>23),x=N+(b^I&(z^b))+M[11]+643717713&4294967295,N=z+(x<<14&4294967295|x>>>18),x=I+(z^b&(N^z))+M[0]+3921069994&4294967295,I=N+(x<<20&4294967295|x>>>12),x=b+(N^z&(I^N))+M[5]+3593408605&4294967295,b=I+(x<<5&4294967295|x>>>27),x=z+(I^N&(b^I))+M[10]+38016083&4294967295,z=b+(x<<9&4294967295|x>>>23),x=N+(b^I&(z^b))+M[15]+3634488961&4294967295,N=z+(x<<14&4294967295|x>>>18),x=I+(z^b&(N^z))+M[4]+3889429448&4294967295,I=N+(x<<20&4294967295|x>>>12),x=b+(N^z&(I^N))+M[9]+568446438&4294967295,b=I+(x<<5&4294967295|x>>>27),x=z+(I^N&(b^I))+M[14]+3275163606&4294967295,z=b+(x<<9&4294967295|x>>>23),x=N+(b^I&(z^b))+M[3]+4107603335&4294967295,N=z+(x<<14&4294967295|x>>>18),x=I+(z^b&(N^z))+M[8]+1163531501&4294967295,I=N+(x<<20&4294967295|x>>>12),x=b+(N^z&(I^N))+M[13]+2850285829&4294967295,b=I+(x<<5&4294967295|x>>>27),x=z+(I^N&(b^I))+M[2]+4243563512&4294967295,z=b+(x<<9&4294967295|x>>>23),x=N+(b^I&(z^b))+M[7]+1735328473&4294967295,N=z+(x<<14&4294967295|x>>>18),x=I+(z^b&(N^z))+M[12]+2368359562&4294967295,I=N+(x<<20&4294967295|x>>>12),x=b+(I^N^z)+M[5]+4294588738&4294967295,b=I+(x<<4&4294967295|x>>>28),x=z+(b^I^N)+M[8]+2272392833&4294967295,z=b+(x<<11&4294967295|x>>>21),x=N+(z^b^I)+M[11]+1839030562&4294967295,N=z+(x<<16&4294967295|x>>>16),x=I+(N^z^b)+M[14]+4259657740&4294967295,I=N+(x<<23&4294967295|x>>>9),x=b+(I^N^z)+M[1]+2763975236&4294967295,b=I+(x<<4&4294967295|x>>>28),x=z+(b^I^N)+M[4]+1272893353&4294967295,z=b+(x<<11&4294967295|x>>>21),x=N+(z^b^I)+M[7]+4139469664&4294967295,N=z+(x<<16&4294967295|x>>>16),x=I+(N^z^b)+M[10]+3200236656&4294967295,I=N+(x<<23&4294967295|x>>>9),x=b+(I^N^z)+M[13]+681279174&4294967295,b=I+(x<<4&4294967295|x>>>28),x=z+(b^I^N)+M[0]+3936430074&4294967295,z=b+(x<<11&4294967295|x>>>21),x=N+(z^b^I)+M[3]+3572445317&4294967295,N=z+(x<<16&4294967295|x>>>16),x=I+(N^z^b)+M[6]+76029189&4294967295,I=N+(x<<23&4294967295|x>>>9),x=b+(I^N^z)+M[9]+3654602809&4294967295,b=I+(x<<4&4294967295|x>>>28),x=z+(b^I^N)+M[12]+3873151461&4294967295,z=b+(x<<11&4294967295|x>>>21),x=N+(z^b^I)+M[15]+530742520&4294967295,N=z+(x<<16&4294967295|x>>>16),x=I+(N^z^b)+M[2]+3299628645&4294967295,I=N+(x<<23&4294967295|x>>>9),x=b+(N^(I|~z))+M[0]+4096336452&4294967295,b=I+(x<<6&4294967295|x>>>26),x=z+(I^(b|~N))+M[7]+1126891415&4294967295,z=b+(x<<10&4294967295|x>>>22),x=N+(b^(z|~I))+M[14]+2878612391&4294967295,N=z+(x<<15&4294967295|x>>>17),x=I+(z^(N|~b))+M[5]+4237533241&4294967295,I=N+(x<<21&4294967295|x>>>11),x=b+(N^(I|~z))+M[12]+1700485571&4294967295,b=I+(x<<6&4294967295|x>>>26),x=z+(I^(b|~N))+M[3]+2399980690&4294967295,z=b+(x<<10&4294967295|x>>>22),x=N+(b^(z|~I))+M[10]+4293915773&4294967295,N=z+(x<<15&4294967295|x>>>17),x=I+(z^(N|~b))+M[1]+2240044497&4294967295,I=N+(x<<21&4294967295|x>>>11),x=b+(N^(I|~z))+M[8]+1873313359&4294967295,b=I+(x<<6&4294967295|x>>>26),x=z+(I^(b|~N))+M[15]+4264355552&4294967295,z=b+(x<<10&4294967295|x>>>22),x=N+(b^(z|~I))+M[6]+2734768916&4294967295,N=z+(x<<15&4294967295|x>>>17),x=I+(z^(N|~b))+M[13]+1309151649&4294967295,I=N+(x<<21&4294967295|x>>>11),x=b+(N^(I|~z))+M[4]+4149444226&4294967295,b=I+(x<<6&4294967295|x>>>26),x=z+(I^(b|~N))+M[11]+3174756917&4294967295,z=b+(x<<10&4294967295|x>>>22),x=N+(b^(z|~I))+M[2]+718787259&4294967295,N=z+(x<<15&4294967295|x>>>17),x=I+(z^(N|~b))+M[9]+3951481745&4294967295,R.g[0]=R.g[0]+b&4294967295,R.g[1]=R.g[1]+(N+(x<<21&4294967295|x>>>11))&4294967295,R.g[2]=R.g[2]+N&4294967295,R.g[3]=R.g[3]+z&4294967295}s.prototype.v=function(R,b){b===void 0&&(b=R.length);const I=b-this.blockSize,M=this.C;let N=this.h,z=0;for(;z<b;){if(N==0)for(;z<=I;)a(this,R,z),z+=this.blockSize;if(typeof R=="string"){for(;z<b;)if(M[N++]=R.charCodeAt(z++),N==this.blockSize){a(this,M),N=0;break}}else for(;z<b;)if(M[N++]=R[z++],N==this.blockSize){a(this,M),N=0;break}}this.h=N,this.o+=b},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var b=1;b<R.length-8;++b)R[b]=0;b=this.o*8;for(var I=R.length-8;I<R.length;++I)R[I]=b&255,b/=256;for(this.v(R),R=Array(16),b=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)R[b++]=this.g[I]>>>M&255;return R};function l(R,b){var I=d;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=b(R)}function c(R,b){this.h=b;const I=[];let M=!0;for(let N=R.length-1;N>=0;N--){const z=R[N]|0;M&&z==b||(I[N]=z,M=!1)}this.g=I}var d={};function p(R){return-128<=R&&R<128?l(R,function(b){return new c([b|0],b<0?-1:0)}):new c([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return _;if(R<0)return k(g(-R));const b=[];let I=1;for(let M=0;R>=I;M++)b[M]=R/I|0,I*=4294967296;return new c(b,0)}function y(R,b){if(R.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(R.charAt(0)=="-")return k(y(R.substring(1),b));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(b,8));let M=_;for(let z=0;z<R.length;z+=8){var N=Math.min(8,R.length-z);const x=parseInt(R.substring(z,z+N),b);N<8?(N=g(Math.pow(b,N)),M=M.j(N).add(g(x))):(M=M.j(I),M=M.add(g(x)))}return M}var _=p(0),S=p(1),C=p(16777216);e=c.prototype,e.m=function(){if(U(this))return-k(this).m();let R=0,b=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);R+=(M>=0?M:4294967296+M)*b,b*=4294967296}return R},e.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(O(this))return"0";if(U(this))return"-"+k(this).toString(R);const b=g(Math.pow(R,6));var I=this;let M="";for(;;){const N=lt(I,b).g;I=B(I,N.j(b));let z=((I.g.length>0?I.g[0]:I.h)>>>0).toString(R);if(I=N,O(I))return z+M;for(;z.length<6;)z="0"+z;M=z+M}},e.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function O(R){if(R.h!=0)return!1;for(let b=0;b<R.g.length;b++)if(R.g[b]!=0)return!1;return!0}function U(R){return R.h==-1}e.l=function(R){return R=B(this,R),U(R)?-1:O(R)?0:1};function k(R){const b=R.g.length,I=[];for(let M=0;M<b;M++)I[M]=~R.g[M];return new c(I,~R.h).add(S)}e.abs=function(){return U(this)?k(this):this},e.add=function(R){const b=Math.max(this.g.length,R.g.length),I=[];let M=0;for(let N=0;N<=b;N++){let z=M+(this.i(N)&65535)+(R.i(N)&65535),x=(z>>>16)+(this.i(N)>>>16)+(R.i(N)>>>16);M=x>>>16,z&=65535,x&=65535,I[N]=x<<16|z}return new c(I,I[I.length-1]&-2147483648?-1:0)};function B(R,b){return R.add(k(b))}e.j=function(R){if(O(this)||O(R))return _;if(U(this))return U(R)?k(this).j(k(R)):k(k(this).j(R));if(U(R))return k(this.j(k(R)));if(this.l(C)<0&&R.l(C)<0)return g(this.m()*R.m());const b=this.g.length+R.g.length,I=[];for(var M=0;M<2*b;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<R.g.length;N++){const z=this.i(M)>>>16,x=this.i(M)&65535,te=R.i(N)>>>16,de=R.i(N)&65535;I[2*M+2*N]+=x*de,G(I,2*M+2*N),I[2*M+2*N+1]+=z*de,G(I,2*M+2*N+1),I[2*M+2*N+1]+=x*te,G(I,2*M+2*N+1),I[2*M+2*N+2]+=z*te,G(I,2*M+2*N+2)}for(R=0;R<b;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=b;R<2*b;R++)I[R]=0;return new c(I,0)};function G(R,b){for(;(R[b]&65535)!=R[b];)R[b+1]+=R[b]>>>16,R[b]&=65535,b++}function Q(R,b){this.g=R,this.h=b}function lt(R,b){if(O(b))throw Error("division by zero");if(O(R))return new Q(_,_);if(U(R))return b=lt(k(R),b),new Q(k(b.g),k(b.h));if(U(b))return b=lt(R,k(b)),new Q(k(b.g),b.h);if(R.g.length>30){if(U(R)||U(b))throw Error("slowDivide_ only works with positive integers.");for(var I=S,M=b;M.l(R)<=0;)I=at(I),M=at(M);var N=st(I,1),z=st(M,1);for(M=st(M,2),I=st(I,2);!O(M);){var x=z.add(M);x.l(R)<=0&&(N=N.add(I),z=x),M=st(M,1),I=st(I,1)}return b=B(R,N.j(b)),new Q(N,b)}for(N=_;R.l(b)>=0;){for(I=Math.max(1,Math.floor(R.m()/b.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),z=g(I),x=z.j(b);U(x)||x.l(R)>0;)I-=M,z=g(I),x=z.j(b);O(z)&&(z=S),N=N.add(z),R=B(R,x)}return new Q(N,R)}e.B=function(R){return lt(this,R).h},e.and=function(R){const b=Math.max(this.g.length,R.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)&R.i(M);return new c(I,this.h&R.h)},e.or=function(R){const b=Math.max(this.g.length,R.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)|R.i(M);return new c(I,this.h|R.h)},e.xor=function(R){const b=Math.max(this.g.length,R.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)^R.i(M);return new c(I,this.h^R.h)};function at(R){const b=R.g.length+1,I=[];for(let M=0;M<b;M++)I[M]=R.i(M)<<1|R.i(M-1)>>>31;return new c(I,R.h)}function st(R,b){const I=b>>5;b%=32;const M=R.g.length-I,N=[];for(let z=0;z<M;z++)N[z]=b>0?R.i(z+I)>>>b|R.i(z+I+1)<<32-b:R.i(z+I);return new c(N,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,i1=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,yr=c}).apply(typeof ME<"u"?ME:typeof self<"u"?self:typeof window<"u"?window:{});var kh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var s1,fu,r1,Zh,tg,a1,o1,l1;(function(){var e,t=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof kh=="object"&&kh];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function a(h,v){if(v)t:{var E=s;h=h.split(".");for(var w=0;w<h.length-1;w++){var F=h[w];if(!(F in E))break t;E=E[F]}h=h[h.length-1],w=E[h],v=v(w),v!=w&&v!=null&&t(E,h,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(v){var E=[],w;for(w in v)Object.prototype.hasOwnProperty.call(v,w)&&E.push([w,v[w]]);return E}});var l=l||{},c=this||self;function d(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function p(h,v,E){return h.call.apply(h.bind,arguments)}function g(h,v,E){return g=p,g.apply(null,arguments)}function y(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var w=E.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function _(h,v){function E(){}E.prototype=v.prototype,h.Z=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(w,F,$){for(var ot=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)ot[Rt-2]=arguments[Rt];return v.prototype[F].apply(w,ot)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function C(h){const v=h.length;if(v>0){const E=Array(v);for(let w=0;w<v;w++)E[w]=h[w];return E}return[]}function O(h,v){for(let w=1;w<arguments.length;w++){const F=arguments[w];var E=typeof F;if(E=E!="object"?E:F?Array.isArray(F)?"array":E:"null",E=="array"||E=="object"&&typeof F.length=="number"){E=h.length||0;const $=F.length||0;h.length=E+$;for(let ot=0;ot<$;ot++)h[E+ot]=F[ot]}else h.push(F)}}class U{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function k(h){c.setTimeout(()=>{throw h},0)}function B(){var h=R;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class G{constructor(){this.h=this.g=null}add(v,E){const w=Q.get();w.set(v,E),this.h?this.h.next=w:this.g=w,this.h=w}}var Q=new U(()=>new lt,h=>h.reset());class lt{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let at,st=!1,R=new G,b=()=>{const h=Promise.resolve(void 0);at=()=>{h.then(I)}};function I(){for(var h;h=B();){try{h.h.call(h.g)}catch(E){k(E)}var v=Q;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}st=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,v),c.removeEventListener("test",E,v)}catch{}return h})();function x(h){return/^[\s\xa0]*$/.test(h)}function te(h,v){N.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}_(te,N),te.prototype.init=function(h,v){const E=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&te.Z.h.call(this)},te.prototype.h=function(){te.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),Z=0;function rt(h,v,E,w,F){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!w,this.ha=F,this.key=++Z,this.da=this.fa=!1}function dt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function It(h,v,E){for(const w in h)v.call(E,h[w],w,h)}function Mt(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function L(h){const v={};for(const E in h)v[E]=h[E];return v}const nt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(h,v){let E,w;for(let F=1;F<arguments.length;F++){w=arguments[F];for(E in w)h[E]=w[E];for(let $=0;$<nt.length;$++)E=nt[$],Object.prototype.hasOwnProperty.call(w,E)&&(h[E]=w[E])}}function ft(h){this.src=h,this.g={},this.h=0}ft.prototype.add=function(h,v,E,w,F){const $=h.toString();h=this.g[$],h||(h=this.g[$]=[],this.h++);const ot=xt(h,v,w,F);return ot>-1?(v=h[ot],E||(v.fa=!1)):(v=new rt(v,this.src,$,!!w,F),v.fa=E,h.push(v)),v};function St(h,v){const E=v.type;if(E in h.g){var w=h.g[E],F=Array.prototype.indexOf.call(w,v,void 0),$;($=F>=0)&&Array.prototype.splice.call(w,F,1),$&&(dt(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function xt(h,v,E,w){for(let F=0;F<h.length;++F){const $=h[F];if(!$.da&&$.listener==v&&$.capture==!!E&&$.ha==w)return F}return-1}var zt="closure_lm_"+(Math.random()*1e6|0),Le={};function ae(h,v,E,w,F){if(Array.isArray(v)){for(let $=0;$<v.length;$++)ae(h,v[$],E,w,F);return null}return E=al(E),h&&h[de]?h.J(v,E,d(w)?!!w.capture:!1,F):Dr(h,v,E,!1,w,F)}function Dr(h,v,E,w,F,$){if(!v)throw Error("Invalid event type");const ot=d(F)?!!F.capture:!!F;let Rt=Vr(h);if(Rt||(h[zt]=Rt=new ft(h)),E=Rt.add(v,E,w,ot,$),E.proxy)return E;if(w=Da(),E.proxy=w,w.src=h,w.listener=E,h.addEventListener)z||(F=ot),F===void 0&&(F=!1),h.addEventListener(v.toString(),w,F);else if(h.attachEvent)h.attachEvent(yi(v.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Da(){function h(E){return v.call(h.src,h.listener,E)}const v=sl;return h}function Va(h,v,E,w,F){if(Array.isArray(v))for(var $=0;$<v.length;$++)Va(h,v[$],E,w,F);else w=d(w)?!!w.capture:!!w,E=al(E),h&&h[de]?(h=h.i,$=String(v).toString(),$ in h.g&&(v=h.g[$],E=xt(v,E,w,F),E>-1&&(dt(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete h.g[$],h.h--)))):h&&(h=Vr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=xt(v,E,w,F)),(E=h>-1?v[h]:null)&&Na(E))}function Na(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[de])St(v.i,h);else{var E=h.type,w=h.proxy;v.removeEventListener?v.removeEventListener(E,w,h.capture):v.detachEvent?v.detachEvent(yi(E),w):v.addListener&&v.removeListener&&v.removeListener(w),(E=Vr(v))?(St(E,h),E.h==0&&(E.src=null,v[zt]=null)):dt(h)}}}function yi(h){return h in Le?Le[h]:Le[h]="on"+h}function sl(h,v){if(h.da)h=!0;else{v=new te(v,this);const E=h.listener,w=h.ha||h.src;h.fa&&Na(h),h=E.call(w,v)}return h}function Vr(h){return h=h[zt],h instanceof ft?h:null}var rl="__closure_events_fn_"+(Math.random()*1e9>>>0);function al(h){return typeof h=="function"?h:(h[rl]||(h[rl]=function(v){return h.handleEvent(v)}),h[rl])}function Se(){M.call(this),this.i=new ft(this),this.M=this,this.G=null}_(Se,M),Se.prototype[de]=!0,Se.prototype.removeEventListener=function(h,v,E,w){Va(this,h,v,E,w)};function ke(h,v){var E,w=h.G;if(w)for(E=[];w;w=w.G)E.push(w);if(h=h.M,w=v.type||v,typeof v=="string")v=new N(v,h);else if(v instanceof N)v.target=v.target||h;else{var F=v;v=new N(w,h),ut(v,F)}F=!0;let $,ot;if(E)for(ot=E.length-1;ot>=0;ot--)$=v.g=E[ot],F=xs($,w,!0,v)&&F;if($=v.g=h,F=xs($,w,!0,v)&&F,F=xs($,w,!1,v)&&F,E)for(ot=0;ot<E.length;ot++)$=v.g=E[ot],F=xs($,w,!1,v)&&F}Se.prototype.N=function(){if(Se.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const E=h.g[v];for(let w=0;w<E.length;w++)dt(E[w]);delete h.g[v],h.h--}}this.G=null},Se.prototype.J=function(h,v,E,w){return this.i.add(String(h),v,!1,E,w)},Se.prototype.K=function(h,v,E,w){return this.i.add(String(h),v,!0,E,w)};function xs(h,v,E,w){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let F=!0;for(let $=0;$<v.length;++$){const ot=v[$];if(ot&&!ot.da&&ot.capture==E){const Rt=ot.listener,ve=ot.ha||ot.src;ot.fa&&St(h.i,ot),F=Rt.call(ve,w)!==!1&&F}}return F&&!w.defaultPrevented}function od(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(h,v||0)}function ac(h){h.g=od(()=>{h.g=null,h.i&&(h.i=!1,ac(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class ln extends M{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ac(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nr(h){M.call(this),this.h=h,this.g={}}_(Nr,M);var ol=[];function ll(h){It(h.g,function(v,E){this.g.hasOwnProperty(E)&&Na(v)},h),h.g={}}Nr.prototype.N=function(){Nr.Z.N.call(this),ll(this)},Nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ds=c.JSON.stringify,ld=c.JSON.parse,oc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function lc(){}function uc(){}var Wn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ge(){N.call(this,"d")}_(Ge,N);function Vn(){N.call(this,"c")}_(Vn,N);var ye={},cc=null;function Ma(){return cc=cc||new Se}ye.Ia="serverreachability";function hc(h){N.call(this,ye.Ia,h)}_(hc,N);function vi(h){const v=Ma();ke(v,new hc(v))}ye.STAT_EVENT="statevent";function Mr(h,v){N.call(this,ye.STAT_EVENT,h),this.stat=v}_(Mr,N);function Ae(h){const v=Ma();ke(v,new Mr(v,h))}ye.Ja="timingevent";function _i(h,v){N.call(this,ye.Ja,h),this.size=v}_(_i,N);function Ti(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function Zn(){this.g=!0}Zn.prototype.ua=function(){this.g=!1};function ud(h,v,E,w,F,$){h.info(function(){if(h.g)if($){var ot="",Rt=$.split("&");for(let qt=0;qt<Rt.length;qt++){var ve=Rt[qt].split("=");if(ve.length>1){const oe=ve[0];ve=ve[1];const Pn=oe.split("_");ot=Pn.length>=2&&Pn[1]=="type"?ot+(oe+"="+ve+"&"):ot+(oe+"=redacted&")}}}else ot=null;else ot=$;return"XMLHTTP REQ ("+w+") [attempt "+F+"]: "+v+`
`+E+`
`+ot})}function fc(h,v,E,w,F,$,ot){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+F+"]: "+v+`
`+E+`
`+$+" "+ot})}function Ei(h,v,E,w){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+cd(h,E)+(w?" "+w:"")})}function Or(h,v){h.info(function(){return"TIMEOUT: "+v})}Zn.prototype.info=function(){};function cd(h,v){if(!h.g)return v;if(!v)return null;try{const $=JSON.parse(v);if($){for(h=0;h<$.length;h++)if(Array.isArray($[h])){var E=$[h];if(!(E.length<2)){var w=E[1];if(Array.isArray(w)&&!(w.length<1)){var F=w[0];if(F!="noop"&&F!="stop"&&F!="close")for(let ot=1;ot<w.length;ot++)w[ot]=""}}}}return Ds($)}catch{return v}}var Pr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ul={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},cl;function Lr(){}_(Lr,lc),Lr.prototype.g=function(){return new XMLHttpRequest},cl=new Lr;function $i(h){return encodeURIComponent(String(h))}function dc(h){var v=1;h=h.split(":");const E=[];for(;v>0&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function Jn(h,v,E,w){this.j=h,this.i=v,this.l=E,this.S=w||1,this.V=new Nr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ti}function ti(){this.i=null,this.g="",this.h=!1}var be={},Be={};function Si(h,v,E){h.M=1,h.A=kr(Re(v)),h.u=E,h.R=!0,Oa(h,null)}function Oa(h,v){h.F=Date.now(),Ai(h),h.B=Re(h.A);var E=h.B,w=h.S;Array.isArray(w)||(w=[String(w)]),Ua(E.i,"t",w),h.C=0,E=h.j.L,h.h=new ti,h.g=Ic(h.j,E?v:null,!h.u),h.P>0&&(h.O=new ln(g(h.Y,h,h.g),h.P)),v=h.V,E=h.g,w=h.ba;var F="readystatechange";Array.isArray(F)||(F&&(ol[0]=F.toString()),F=ol);for(let $=0;$<F.length;$++){const ot=ae(E,F[$],w||v.handleEvent,!1,v.h||v);if(!ot)break;v.g[ot.key]=ot}v=h.J?L(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),vi(),ud(h.i,h.v,h.B,h.l,h.S,h.u)}Jn.prototype.ba=function(h){h=h.target;const v=this.O;v&&ii(h)==3?v.j():this.Y(h)},Jn.prototype.Y=function(h){try{if(h==this.g)t:{const Rt=ii(this.g),ve=this.g.ya(),qt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Ke(this.g)))){this.K||Rt!=4||ve==7||(ve==8||qt<=0?vi(3):vi(2)),bi(this);var v=this.g.ca();this.X=v;var E=hd(this);if(this.o=v==200,fc(this.i,this.v,this.B,this.l,this.S,Rt,v),this.o){if(this.U&&!this.L){e:{if(this.g){var w,F=this.g;if((w=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(w)){var $=w;break e}}$=null}if(h=$)Ei(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wi(this,h);else{this.o=!1,this.m=3,Ae(12),Sn(this),Nn(this);break t}}if(this.R){h=!0;let oe;for(;!this.K&&this.C<E.length;)if(oe=pc(this,E),oe==Be){Rt==4&&(this.m=4,Ae(14),h=!1),Ei(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==be){this.m=4,Ae(15),Ei(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else Ei(this.i,this.l,oe,null),wi(this,oe);if(mc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||E.length!=0||this.h.h||(this.m=1,Ae(16),h=!1),this.o=this.o&&h,!h)Ei(this.i,this.l,E,"[Invalid Chunked Response]"),Sn(this),Nn(this);else if(E.length>0&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.aa&&!ot.P&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),wl(ot),ot.P=!0,Ae(11))}}else Ei(this.i,this.l,E,null),wi(this,E);Rt==4&&Sn(this),this.o&&!this.K&&(Rt==4?bc(this.j,this):(this.o=!1,Ai(this)))}else Wi(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),Sn(this),Nn(this)}}}catch{}finally{}};function hd(h){if(!mc(h))return h.g.la();const v=Ke(h.g);if(v==="")return"";let E="";const w=v.length,F=ii(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Sn(h),Nn(h),"";h.h.i=new c.TextDecoder}for(let $=0;$<w;$++)h.h.h=!0,E+=h.h.i.decode(v[$],{stream:!(F&&$==w-1)});return v.length=0,h.h.g+=E,h.C=0,h.h.g}function mc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function pc(h,v){var E=h.C,w=v.indexOf(`
`,E);return w==-1?Be:(E=Number(v.substring(E,w)),isNaN(E)?be:(w+=1,w+E>v.length?Be:(v=v.slice(w,w+E),h.C=w+E,v)))}Jn.prototype.cancel=function(){this.K=!0,Sn(this)};function Ai(h){h.T=Date.now()+h.H,Pa(h,h.H)}function Pa(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ti(g(h.aa,h),v)}function bi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Jn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Or(this.i,this.B),this.M!=2&&(vi(),Ae(17)),Sn(this),this.m=2,Nn(this)):Pa(this,this.T-h)};function Nn(h){h.j.I==0||h.K||bc(h.j,h)}function Sn(h){bi(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,ll(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function wi(h,v){try{var E=h.j;if(E.I!=0&&(E.g==h||Ci(E.h,h))){if(!h.L&&Ci(E.h,h)&&E.I==3){try{var w=E.Ba.g.parse(v)}catch{w=null}if(Array.isArray(w)&&w.length==3){var F=w;if(F[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Ha(E),Us(E);else break t;qr(E),Ae(18)}}else E.xa=F[1],0<E.xa-E.K&&F[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ti(g(E.Va,E),6e3));Ri(E.h)<=1&&E.ta&&(E.ta=void 0)}else Mi(E,11)}else if((h.L||E.g==h)&&Ha(E),!x(v))for(F=E.Ba.g.parse(v),v=0;v<F.length;v++){let qt=F[v];const oe=qt[0];if(!(oe<=E.K))if(E.K=oe,qt=qt[1],E.I==2)if(qt[0]=="c"){E.M=qt[1],E.ba=qt[2];const Pn=qt[3];Pn!=null&&(E.ka=Pn,E.j.info("VER="+E.ka));const Oi=qt[4];Oi!=null&&(E.za=Oi,E.j.info("SVER="+E.za));const si=qt[5];si!=null&&typeof si=="number"&&si>0&&(w=1.5*si,E.O=w,E.j.info("backChannelRequestTimeoutMs_="+w)),w=E;const ri=h.g;if(ri){const Gr=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gr){var $=w.h;$.g||Gr.indexOf("spdy")==-1&&Gr.indexOf("quic")==-1&&Gr.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(dl($,$.h),$.h=null))}if(w.G){const qa=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;qa&&(w.wa=qa,Yt(w.J,w.G,qa))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),w=E;var ot=h;if(w.na=Cc(w,w.L?w.ba:null,w.W),ot.L){ml(w.h,ot);var Rt=ot,ve=w.O;ve&&(Rt.H=ve),Rt.D&&(bi(Rt),Ai(Rt)),w.g=ot}else Sc(w);E.i.length>0&&Ni(E)}else qt[0]!="stop"&&qt[0]!="close"||Mi(E,7);else E.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?Mi(E,7):Al(E):qt[0]!="noop"&&E.l&&E.l.qa(qt),E.A=0)}}vi(4)}catch{}}var we=class{constructor(h,v){this.g=h,this.map=v}};function hl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function fl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ri(h){return h.h?1:h.g?h.g.size:0}function Ci(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function dl(h,v){h.g?h.g.add(v):h.h=v}function ml(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}hl.prototype.cancel=function(){if(this.i=pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function pl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.G);return v}return C(h.i)}var gc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function La(h,v){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const w=h[E].indexOf("=");let F,$=null;w>=0?(F=h[E].substring(0,w),$=h[E].substring(w+1)):F=h[E],v(F,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function An(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof An?(this.l=h.l,Fe(this,h.j),this.o=h.o,this.g=h.g,Vs(this,h.u),this.h=h.h,gl(this,Tc(h.i)),this.m=h.m):h&&(v=String(h).match(gc))?(this.l=!1,Fe(this,v[1]||"",!0),this.o=Ii(v[2]||""),this.g=Ii(v[3]||"",!0),Vs(this,v[4]),this.h=Ii(v[5]||"",!0),gl(this,v[6]||"",!0),this.m=Ii(v[7]||"")):(this.l=!1,this.i=new Ms(null,this.l))}An.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Ur(v,ka,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Ur(v,ka,!0),"@"),h.push($i(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Ur(E,E.charAt(0)=="/"?yl:yc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Ur(E,vc)),h.join("")},An.prototype.resolve=function(h){const v=Re(this);let E=!!h.j;E?Fe(v,h.j):E=!!h.o,E?v.o=h.o:E=!!h.g,E?v.g=h.g:E=h.u!=null;var w=h.h;if(E)Vs(v,h.u);else if(E=!!h.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var F=v.h.lastIndexOf("/");F!=-1&&(w=v.h.slice(0,F+1)+w)}if(F=w,F==".."||F==".")w="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){w=F.lastIndexOf("/",0)==0,F=F.split("/");const $=[];for(let ot=0;ot<F.length;){const Rt=F[ot++];Rt=="."?w&&ot==F.length&&$.push(""):Rt==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),w&&ot==F.length&&$.push("")):($.push(Rt),w=!0)}w=$.join("/")}else w=F}return E?v.h=w:E=h.i.toString()!=="",E?gl(v,Tc(h.i)):E=!!h.m,E&&(v.m=h.m),v};function Re(h){return new An(h)}function Fe(h,v,E){h.j=E?Ii(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Vs(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function gl(h,v,E){v instanceof Ms?(h.i=v,ja(h.i,h.l)):(E||(v=Ur(v,Ns)),h.i=new Ms(v,h.l))}function Yt(h,v,E){h.i.set(v,E)}function kr(h){return Yt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ii(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ur(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,fn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function fn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ka=/[#\/\?@]/g,yc=/[#\?:]/g,yl=/[#\?]/g,Ns=/[#\?@]/g,vc=/#/g;function Ms(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function dn(h){h.g||(h.g=new Map,h.h=0,h.i&&La(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}e=Ms.prototype,e.add=function(h,v){dn(this),this.i=null,h=Os(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function _c(h,v){dn(h),v=Os(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function vl(h,v){return dn(h),v=Os(h,v),h.g.has(v)}e.forEach=function(h,v){dn(this),this.g.forEach(function(E,w){E.forEach(function(F){h.call(v,F,w,this)},this)},this)};function _l(h,v){dn(h);let E=[];if(typeof v=="string")vl(h,v)&&(E=E.concat(h.g.get(Os(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)E=E.concat(h[v]);return E}e.set=function(h,v){return dn(this),this.i=null,h=Os(this,h),vl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},e.get=function(h,v){return h?(h=_l(this,h),h.length>0?String(h[0]):v):v};function Ua(h,v,E){_c(h,v),E.length>0&&(h.i=null,h.g.set(Os(h,v),C(E)),h.h+=E.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let w=0;w<v.length;w++){var E=v[w];const F=$i(E);E=_l(this,E);for(let $=0;$<E.length;$++){let ot=F;E[$]!==""&&(ot+="="+$i(E[$])),h.push(ot)}}return this.i=h.join("&")};function Tc(h){const v=new Ms;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function Os(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function ja(h,v){v&&!h.j&&(dn(h),h.i=null,h.g.forEach(function(E,w){const F=w.toLowerCase();w!=F&&(_c(this,w),Ua(this,F,E))},h)),h.j=v}function ei(h,v){const E=new Zn;if(c.Image){const w=new Image;w.onload=y(Mn,E,"TestLoadImage: loaded",!0,v,w),w.onerror=y(Mn,E,"TestLoadImage: error",!1,v,w),w.onabort=y(Mn,E,"TestLoadImage: abort",!1,v,w),w.ontimeout=y(Mn,E,"TestLoadImage: timeout",!1,v,w),c.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else v(!1)}function Tl(h,v){const E=new Zn,w=new AbortController,F=setTimeout(()=>{w.abort(),Mn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:w.signal}).then($=>{clearTimeout(F),$.ok?Mn(E,"TestPingServer: ok",!0,v):Mn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(F),Mn(E,"TestPingServer: error",!1,v)})}function Mn(h,v,E,w,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),w(E)}catch{}}function Ps(){this.g=new oc}function xi(h){this.i=h.Sb||null,this.h=h.ab||!1}_(xi,lc),xi.prototype.g=function(){return new jr(this.i,this.h)};function jr(h,v){Se.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(jr,Se),e=jr.prototype,e.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,ni(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ls(this)),this.readyState=0},e.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;za(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function za(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}e.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Ls(this):ni(this),this.readyState==3&&za(this)}},e.Oa=function(h){this.g&&(this.response=this.responseText=h,Ls(this))},e.Na=function(h){this.g&&(this.response=h,Ls(this))},e.ga=function(){this.g&&Ls(this)};function Ls(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ni(h)}e.setRequestHeader=function(h,v){this.A.append(h,v)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function ni(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(jr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function On(h){let v="";return It(h,function(E,w){v+=w,v+=":",v+=E,v+=`\r
`}),v}function zr(h,v,E){t:{for(w in E){var w=!1;break t}w=!0}w||(E=On(E),typeof h=="string"?E!=null&&$i(E):Yt(h,v,E))}function Xt(h){Se.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(Xt,Se);var Di=/^https?$/i,El=["POST","PUT"];e=Xt.prototype,e.Fa=function(h){this.H=h},e.ea=function(h,v,E,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():cl.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch($){Br(this,$);return}if(h=E||"",E=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var F in w)E.set(F,w[F]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const $ of w.keys())E.set($,w.get($));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(E.keys()).find($=>$.toLowerCase()=="content-type"),F=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(El,v,void 0)>=0)||w||F||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ot]of E)this.g.setRequestHeader($,ot);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch($){Br(this,$)}};function Br(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,Sl(h),Xi(h)}function Sl(h){h.A||(h.A=!0,ke(h,"complete"),ke(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,ke(this,"complete"),ke(this,"abort"),Xi(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xi(this,!0)),Xt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Fr(this):this.Xa())},e.Xa=function(){Fr(this)};function Fr(h){if(h.h&&typeof l<"u"){if(h.v&&ii(h)==4)setTimeout(h.Ca.bind(h),0);else if(ke(h,"readystatechange"),ii(h)==4){h.h=!1;try{const $=h.ca();t:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var E;if(!(E=v)){var w;if(w=$===0){let ot=String(h.D).match(gc)[1]||null;!ot&&c.self&&c.self.location&&(ot=c.self.location.protocol.slice(0,-1)),w=!Di.test(ot?ot.toLowerCase():"")}E=w}if(E)ke(h,"complete"),ke(h,"success");else{h.o=6;try{var F=ii(h)>2?h.g.statusText:""}catch{F=""}h.l=F+" ["+h.ca()+"]",Sl(h)}}finally{Xi(h)}}}}function Xi(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,v||ke(h,"ready");try{E.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function ii(h){return h.g?h.g.readyState:0}e.ca=function(){try{return ii(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),ld(v)}};function Ke(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Wi(h){const v={};h=(h.g&&ii(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(x(h[w]))continue;var E=dc(h[w]);const F=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const $=v[F]||[];v[F]=$,$.push(E)}Mt(v,function(w){return w.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vi(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function ks(h){this.za=0,this.i=[],this.j=new Zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vi("baseRetryDelayMs",5e3,h),this.Za=Vi("retryDelaySeedMs",1e4,h),this.Ta=Vi("forwardChannelMaxRetries",2,h),this.va=Vi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new hl(h&&h.concurrentRequestLimit),this.Ba=new Ps,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=ks.prototype,e.ka=8,e.I=1,e.connect=function(h,v,E,w){Ae(0),this.W=h,this.H=v||{},E&&w!==void 0&&(this.H.OSID=E,this.H.OAID=w),this.F=this.X,this.J=Cc(this,null,this.W),Ni(this)};function Al(h){if(Ba(h),h.I==3){var v=h.V++,E=Re(h.J);if(Yt(E,"SID",h.M),Yt(E,"RID",v),Yt(E,"TYPE","terminate"),Hr(h,E),v=new Jn(h,h.j,v),v.M=2,v.A=kr(Re(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=v.A,E=!0),E||(v.g=Ic(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ai(v)}Rc(h)}function Us(h){h.g&&(wl(h),h.g.cancel(),h.g=null)}function Ba(h){Us(h),h.v&&(c.clearTimeout(h.v),h.v=null),Ha(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Ni(h){if(!fl(h.h)&&!h.m){h.m=!0;var v=h.Ea;at||b(),st||(at(),st=!0),R.add(v,h),h.D=0}}function Fa(h,v){return Ri(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ti(g(h.Ea,h,v),wc(h,h.D)),h.D++,!0)}e.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const F=new Jn(this,this.j,h);let $=this.o;if(this.U&&($?($=L($),ut($,this.U)):$=this.U),this.u!==null||this.R||(F.J=$,$=null),this.S)t:{for(var v=0,E=0;E<this.i.length;E++){e:{var w=this.i[E];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(v+=w,v>4096){v=E;break t}if(v===4096||E===this.i.length-1){v=E+1;break t}}v=1e3}else v=1e3;v=Ec(this,F,v),E=Re(this.J),Yt(E,"RID",h),Yt(E,"CVER",22),this.G&&Yt(E,"X-HTTP-Session-Id",this.G),Hr(this,E),$&&(this.R?v="headers="+$i(On($))+"&"+v:this.u&&zr(E,this.u,$)),dl(this.h,F),this.Ra&&Yt(E,"TYPE","init"),this.S?(Yt(E,"$req",v),Yt(E,"SID","null"),F.U=!0,Si(F,E,null)):Si(F,E,v),this.I=2}}else this.I==3&&(h?bl(this,h):this.i.length==0||fl(this.h)||bl(this))};function bl(h,v){var E;v?E=v.l:E=h.V++;const w=Re(h.J);Yt(w,"SID",h.M),Yt(w,"RID",E),Yt(w,"AID",h.K),Hr(h,w),h.u&&h.o&&zr(w,h.u,h.o),E=new Jn(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),v&&(h.i=v.G.concat(h.i)),v=Ec(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),dl(h.h,E),Si(E,w,v)}function Hr(h,v){h.H&&It(h.H,function(E,w){Yt(v,w,E)}),h.l&&It({},function(E,w){Yt(v,w,E)})}function Ec(h,v,E){E=Math.min(h.i.length,E);const w=h.l?g(h.l.Ka,h.l,h):null;t:{var F=h.i;let Rt=-1;for(;;){const ve=["count="+E];Rt==-1?E>0?(Rt=F[0].g,ve.push("ofs="+Rt)):Rt=0:ve.push("ofs="+Rt);let qt=!0;for(let oe=0;oe<E;oe++){var $=F[oe].g;const Pn=F[oe].map;if($-=Rt,$<0)Rt=Math.max(0,F[oe].g-100),qt=!1;else try{$="req"+$+"_"||"";try{var ot=Pn instanceof Map?Pn:Object.entries(Pn);for(const[Oi,si]of ot){let ri=si;d(si)&&(ri=Ds(si)),ve.push($+Oi+"="+encodeURIComponent(ri))}}catch(Oi){throw ve.push($+"type="+encodeURIComponent("_badmap")),Oi}}catch{w&&w(Pn)}}if(qt){ot=ve.join("&");break t}}ot=void 0}return h=h.i.splice(0,E),v.G=h,ot}function Sc(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;at||b(),st||(at(),st=!0),R.add(v,h),h.A=0}}function qr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ti(g(h.Da,h),wc(h,h.A)),h.A++,!0)}e.Da=function(){if(this.v=null,Ac(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ti(g(this.Wa,this),h)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),Us(this),Ac(this))};function wl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Ac(h){h.g=new Jn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=Re(h.na);Yt(v,"RID","rpc"),Yt(v,"SID",h.M),Yt(v,"AID",h.K),Yt(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&Yt(v,"TO",h.ia),Yt(v,"TYPE","xmlhttp"),Hr(h,v),h.u&&h.o&&zr(v,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=kr(Re(v)),E.u=null,E.R=!0,Oa(E,h)}e.Va=function(){this.C!=null&&(this.C=null,Us(this),qr(this),Ae(19))};function Ha(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function bc(h,v){var E=null;if(h.g==v){Ha(h),wl(h),h.g=null;var w=2}else if(Ci(h.h,v))E=v.G,ml(h.h,v),w=1;else return;if(h.I!=0){if(v.o)if(w==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var F=h.D;w=Ma(),ke(w,new _i(w,E)),Ni(h)}else Sc(h);else if(F=v.m,F==3||F==0&&v.X>0||!(w==1&&Fa(h,v)||w==2&&qr(h)))switch(E&&E.length>0&&(v=h.h,v.i=v.i.concat(E)),F){case 1:Mi(h,5);break;case 4:Mi(h,10);break;case 3:Mi(h,6);break;default:Mi(h,2)}}}function wc(h,v){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*v}function Mi(h,v){if(h.j.info("Error code "+v),v==2){var E=g(h.bb,h),w=h.Ua;const F=!w;w=new An(w||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Fe(w,"https"),kr(w),F?ei(w.toString(),E):Tl(w.toString(),E)}else Ae(2);h.I=0,h.l&&h.l.pa(v),Rc(h),Ba(h)}e.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function Rc(h){if(h.I=0,h.ja=[],h.l){const v=pl(h.h);(v.length!=0||h.i.length!=0)&&(O(h.ja,v),O(h.ja,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.oa()}}function Cc(h,v,E){var w=E instanceof An?Re(E):new An(E);if(w.g!="")v&&(w.g=v+"."+w.g),Vs(w,w.u);else{var F=c.location;w=F.protocol,v=v?v+"."+F.hostname:F.hostname,F=+F.port;const $=new An(null);w&&Fe($,w),v&&($.g=v),F&&Vs($,F),E&&($.h=E),w=$}return E=h.G,v=h.wa,E&&v&&Yt(w,E,v),Yt(w,"VER",h.ka),Hr(h,w),w}function Ic(h,v,E){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new Xt(new xi({ab:E})):new Xt(h.ma),v.Fa(h.L),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function xc(){}e=xc.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function js(){}js.prototype.g=function(h,v){return new un(h,v)};function un(h,v){Se.call(this),this.g=new ks(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!x(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!x(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Zi(this)}_(un,Se),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Al(this.g)},un.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Ds(h),h=E);v.i.push(new we(v.Ya++,h)),v.I==3&&Ni(v)},un.prototype.N=function(){this.g.l=null,delete this.j,Al(this.g),delete this.g,un.Z.N.call(this)};function Dc(h){Ge.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const E in v){h=E;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}_(Dc,Ge);function Vc(){Vn.call(this),this.status=1}_(Vc,Vn);function Zi(h){this.g=h}_(Zi,xc),Zi.prototype.ra=function(){ke(this.g,"a")},Zi.prototype.qa=function(h){ke(this.g,new Dc(h))},Zi.prototype.pa=function(h){ke(this.g,new Vc)},Zi.prototype.oa=function(){ke(this.g,"b")},js.prototype.createWebChannel=js.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,l1=function(){return new js},o1=function(){return Ma()},a1=ye,tg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Pr.NO_ERROR=0,Pr.TIMEOUT=8,Pr.HTTP_ERROR=6,Zh=Pr,ul.COMPLETE="complete",r1=ul,uc.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",Se.prototype.listen=Se.prototype.J,fu=uc,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,s1=Xt}).apply(typeof kh<"u"?kh:typeof self<"u"?self:typeof window<"u"?window:{});const OE="@firebase/firestore",PE="4.9.3";let sn=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let Xo="12.7.0";const Ea=new Yg("@firebase/firestore");function Eo(){return Ea.logLevel}function ht(e,...t){if(Ea.logLevel<=Lt.DEBUG){const n=t.map(ay);Ea.debug(`Firestore (${Xo}): ${e}`,...n)}}function As(e,...t){if(Ea.logLevel<=Lt.ERROR){const n=t.map(ay);Ea.error(`Firestore (${Xo}): ${e}`,...n)}}function Uo(e,...t){if(Ea.logLevel<=Lt.WARN){const n=t.map(ay);Ea.warn(`Firestore (${Xo}): ${e}`,...n)}}function ay(e){if(typeof e=="string")return e;try{return(function(n){return JSON.stringify(n)})(e)}catch{return e}}function _t(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,u1(e,s,n)}function u1(e,t,n){let s=`FIRESTORE (${Xo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw As(s),new Error(s)}function Kt(e,t,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,e||u1(t,a,s)}function wt(e,t){return e}const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Is{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vs{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class c1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class AM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(sn.UNAUTHENTICATED)))}shutdown(){}}class bM{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class wM{constructor(t){this.t=t,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Kt(this.o===void 0,42304);let s=this.i;const a=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let l=new vs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new vs,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const p=l;t.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},d=p=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new vs)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Kt(typeof s.accessToken=="string",31837,{l:s}),new c1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new sn(t)}}class RM{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class CM{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new RM(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class LE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IM{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Kt(this.o===void 0,3512);const s=l=>{l.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ht("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>s(l)))};const a=l=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new LE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Kt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new LE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function xM(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}class oy{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=xM(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=t.charAt(a[l]%62))}return s}}function kt(e,t){return e<t?-1:e>t?1:0}function eg(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const a=e.charAt(s),l=t.charAt(s);if(a!==l)return Ep(a)===Ep(l)?kt(a,l):Ep(a)?1:-1}return kt(e.length,t.length)}const DM=55296,VM=57343;function Ep(e){const t=e.charCodeAt(0);return t>=DM&&t<=VM}function jo(e,t,n){return e.length===t.length&&e.every(((s,a)=>n(s,t[a])))}const kE="__name__";class ji{constructor(t,n,s){n===void 0?n=0:n>t.length&&_t(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&_t(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return ji.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ji?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let a=0;a<s;a++){const l=ji.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return kt(t.length,n.length)}static compareSegments(t,n){const s=ji.isNumericId(t),a=ji.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?ji.extractNumericId(t).compare(ji.extractNumericId(n)):eg(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return yr.fromString(t.substring(4,t.length-2))}}class ne extends ji{construct(t,n,s){return new ne(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ct(tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new ne(n)}static emptyPath(){return new ne([])}}const NM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends ji{construct(t,n,s){return new Je(t,n,s)}static isValidIdentifier(t){return NM.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===kE}static keyField(){return new Je([kE])}static fromServerFormat(t){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ct(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<t.length;){const d=t[a];if(d==="\\"){if(a+1===t.length)throw new ct(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ct(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new ct(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Je(n)}static emptyPath(){return new Je([])}}class yt{constructor(t){this.path=t}static fromPath(t){return new yt(ne.fromString(t))}static fromName(t){return new yt(ne.fromString(t).popFirst(5))}static empty(){return new yt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ne.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new ne(t.slice()))}}function h1(e,t,n){if(!n)throw new ct(tt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function MM(e,t,n,s){if(t===!0&&s===!0)throw new ct(tt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function UE(e){if(!yt.isDocumentKey(e))throw new ct(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function jE(e){if(yt.isDocumentKey(e))throw new ct(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function f1(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Ff(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":_t(12329,{type:typeof e})}function Sa(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ct(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ff(e);throw new ct(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Oe(e,t){const n={typeString:e};return t&&(n.value=t),n}function Wu(e,t){if(!f1(e))throw new ct(tt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const a=t[s].typeString,l="value"in t[s]?{value:t[s].value}:void 0;if(!(s in e)){n=`JSON missing required field: '${s}'`;break}const c=e[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new ct(tt.INVALID_ARGUMENT,n);return!0}const zE=-62135596800,BE=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*BE);return new re(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<zE)throw new ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BE}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Wu(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-zE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Oe("string",re._jsonSchemaVersion),seconds:Oe("number"),nanoseconds:Oe("number")};class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new re(0,0))}static max(){return new At(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Du=-1;function OM(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,a=At.fromTimestamp(s===1e9?new re(n+1,0):new re(n,s));return new _r(a,yt.empty(),t)}function PM(e){return new _r(e.readTime,e.key,Du)}class _r{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new _r(At.min(),yt.empty(),Du)}static max(){return new _r(At.max(),yt.empty(),Du)}}function LM(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(e.documentKey,t.documentKey),n!==0?n:kt(e.largestBatchId,t.largestBatchId))}const kM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Wo(e){if(e.code!==tt.FAILED_PRECONDITION||e.message!==kM)throw e;ht("LocalStore","Unexpectedly lost primary lease")}class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new it(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof it?n:it.resolve(n)}catch(n){return it.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):it.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):it.reject(n)}static resolve(t){return new it(((n,s)=>{n(t)}))}static reject(t){return new it(((n,s)=>{s(t)}))}static waitFor(t){return new it(((n,s)=>{let a=0,l=0,c=!1;t.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&n()}),(p=>s(p)))})),c=!0,l===a&&n()}))}static or(t){let n=it.resolve(!1);for(const s of t)n=n.next((a=>a?it.resolve(a):s()));return n}static forEach(t,n){const s=[];return t.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(t,n){return new it(((s,a)=>{const l=t.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;n(t[g]).next((y=>{c[g]=y,++d,d===l&&s(c)}),(y=>a(y)))}}))}static doWhile(t,n){return new it(((s,a)=>{const l=()=>{t()===!0?n().next((()=>{l()}),a):s()};l()}))}}function jM(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Zo(e){return e.name==="IndexedDbTransactionError"}class Hf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Hf.ce=-1;const ly=-1;function qf(e){return e==null}function vf(e){return e===0&&1/e==-1/0}function zM(e){return typeof e=="number"&&Number.isInteger(e)&&!vf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const d1="";function BM(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=FE(t)),t=FM(e.get(n),t);return FE(t)}function FM(e,t){let n=t;const s=e.length;for(let a=0;a<s;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case d1:n+="";break;default:n+=l}}return n}function FE(e){return e+d1+""}function HE(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ra(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function m1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class fe{constructor(t,n){this.comparator=t,this.root=n||Ze.EMPTY}insert(t,n){return new fe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(t){return new fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(t,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Uh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Uh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Uh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Uh(this.root,t,this.comparator,!0)}}class Uh{constructor(t,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?s(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ze{constructor(t,n,s,a,l){this.key=t,this.value=n,this.color=s??Ze.RED,this.left=a??Ze.EMPTY,this.right=l??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,a,l){return new Ze(t??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let a=this;const l=s(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return Ze.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,n,s,a,l){return this}insert(t,n,s){return new Ze(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ze{constructor(t){this.comparator=t,this.data=new fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new qE(this.data.getIterator())}getIteratorFrom(t){return new qE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof ze)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new ze(this.comparator);return n.data=t,n}}class qE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class di{constructor(t){this.fields=t,t.sort(Je.comparator)}static empty(){return new di([])}unionWith(t){let n=new ze(Je.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new di(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return jo(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class p1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new p1("Invalid base64 string: "+l):l}})(t);return new tn(n)}static fromUint8Array(t){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(t);return new tn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const HM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tr(e){if(Kt(!!e,39018),typeof e=="string"){let t=0;const n=HM.exec(e);if(Kt(!!n,46558,{timestamp:e}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ee(e.seconds),nanos:Ee(e.nanos)}}function Ee(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Er(e){return typeof e=="string"?tn.fromBase64String(e):tn.fromUint8Array(e)}const g1="server_timestamp",y1="__type__",v1="__previous_value__",_1="__local_write_time__";function uy(e){return(e?.mapValue?.fields||{})[y1]?.stringValue===g1}function Gf(e){const t=e.mapValue.fields[v1];return uy(t)?Gf(t):t}function Vu(e){const t=Tr(e.mapValue.fields[_1].timestampValue);return new re(t.seconds,t.nanos)}class qM{constructor(t,n,s,a,l,c,d,p,g,y){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=y}}const _f="(default)";class Nu{constructor(t,n){this.projectId=t,this.database=n||_f}static empty(){return new Nu("","")}get isDefaultDatabase(){return this.database===_f}isEqual(t){return t instanceof Nu&&t.projectId===this.projectId&&t.database===this.database}}const T1="__type__",GM="__max__",jh={mapValue:{}},E1="__vector__",Tf="value";function Sr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?uy(e)?4:YM(e)?9007199254740991:KM(e)?10:11:_t(28295,{value:e})}function Qi(e,t){if(e===t)return!0;const n=Sr(e);if(n!==Sr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Vu(e).isEqual(Vu(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Tr(a.timestampValue),d=Tr(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(a,l){return Er(a.bytesValue).isEqual(Er(l.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(a,l){return Ee(a.geoPointValue.latitude)===Ee(l.geoPointValue.latitude)&&Ee(a.geoPointValue.longitude)===Ee(l.geoPointValue.longitude)})(e,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Ee(a.integerValue)===Ee(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Ee(a.doubleValue),d=Ee(l.doubleValue);return c===d?vf(c)===vf(d):isNaN(c)&&isNaN(d)}return!1})(e,t);case 9:return jo(e.arrayValue.values||[],t.arrayValue.values||[],Qi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(HE(c)!==HE(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Qi(c[p],d[p])))return!1;return!0})(e,t);default:return _t(52216,{left:e})}}function Mu(e,t){return(e.values||[]).find((n=>Qi(n,t)))!==void 0}function zo(e,t){if(e===t)return 0;const n=Sr(e),s=Sr(t);if(n!==s)return kt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return kt(e.booleanValue,t.booleanValue);case 2:return(function(l,c){const d=Ee(l.integerValue||l.doubleValue),p=Ee(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(e,t);case 3:return GE(e.timestampValue,t.timestampValue);case 4:return GE(Vu(e),Vu(t));case 5:return eg(e.stringValue,t.stringValue);case 6:return(function(l,c){const d=Er(l),p=Er(c);return d.compareTo(p)})(e.bytesValue,t.bytesValue);case 7:return(function(l,c){const d=l.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const y=kt(d[g],p[g]);if(y!==0)return y}return kt(d.length,p.length)})(e.referenceValue,t.referenceValue);case 8:return(function(l,c){const d=kt(Ee(l.latitude),Ee(c.latitude));return d!==0?d:kt(Ee(l.longitude),Ee(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return KE(e.arrayValue,t.arrayValue);case 10:return(function(l,c){const d=l.fields||{},p=c.fields||{},g=d[Tf]?.arrayValue,y=p[Tf]?.arrayValue,_=kt(g?.values?.length||0,y?.values?.length||0);return _!==0?_:KE(g,y)})(e.mapValue,t.mapValue);case 11:return(function(l,c){if(l===jh.mapValue&&c===jh.mapValue)return 0;if(l===jh.mapValue)return 1;if(c===jh.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=c.fields||{},y=Object.keys(g);p.sort(),y.sort();for(let _=0;_<p.length&&_<y.length;++_){const S=eg(p[_],y[_]);if(S!==0)return S;const C=zo(d[p[_]],g[y[_]]);if(C!==0)return C}return kt(p.length,y.length)})(e.mapValue,t.mapValue);default:throw _t(23264,{he:n})}}function GE(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return kt(e,t);const n=Tr(e),s=Tr(t),a=kt(n.seconds,s.seconds);return a!==0?a:kt(n.nanos,s.nanos)}function KE(e,t){const n=e.values||[],s=t.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=zo(n[a],s[a]);if(l)return l}return kt(n.length,s.length)}function Bo(e){return ng(e)}function ng(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const s=Tr(n);return`time(${s.seconds},${s.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return Er(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return yt.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=ng(l);return s+"]"})(e.arrayValue):"mapValue"in e?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${ng(n.fields[c])}`;return a+"}"})(e.mapValue):_t(61005,{value:e})}function Jh(e){switch(Sr(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Gf(e);return t?16+Jh(t):16;case 5:return 2*e.stringValue.length;case 6:return Er(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Jh(l)),0)})(e.arrayValue);case 10:case 11:return(function(s){let a=0;return Ra(s.fields,((l,c)=>{a+=l.length+Jh(c)})),a})(e.mapValue);default:throw _t(13486,{value:e})}}function YE(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function ig(e){return!!e&&"integerValue"in e}function cy(e){return!!e&&"arrayValue"in e}function QE(e){return!!e&&"nullValue"in e}function $E(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function tf(e){return!!e&&"mapValue"in e}function KM(e){return(e?.mapValue?.fields||{})[T1]?.stringValue===E1}function _u(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Ra(e.mapValue.fields,((n,s)=>t.mapValue.fields[n]=_u(s))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=_u(e.arrayValue.values[n]);return t}return{...e}}function YM(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===GM}class Gn{constructor(t){this.value=t}static empty(){return new Gn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!tf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=_u(n)}setAll(t){let n=Je.emptyPath(),s={},a=[];t.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const p=this.getFieldsMap(n);this.applyChanges(p,s,a),s={},a=[],n=d.popLast()}c?s[d.lastSegment()]=_u(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(t){const n=this.field(t.popLast());tf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Qi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let a=n.mapValue.fields[t.get(s)];tf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,s){Ra(n,((a,l)=>t[a]=l));for(const a of s)delete t[a]}clone(){return new Gn(_u(this.value))}}function S1(e){const t=[];return Ra(e.fields,((n,s)=>{const a=new Je([n]);if(tf(s)){const l=S1(s.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)})),new di(t)}class rn{constructor(t,n,s,a,l,c,d){this.key=t,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new rn(t,0,At.min(),At.min(),At.min(),Gn.empty(),0)}static newFoundDocument(t,n,s,a){return new rn(t,1,n,At.min(),s,a,0)}static newNoDocument(t,n){return new rn(t,2,n,At.min(),At.min(),Gn.empty(),0)}static newUnknownDocument(t,n){return new rn(t,3,n,At.min(),At.min(),Gn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof rn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ef{constructor(t,n){this.position=t,this.inclusive=n}}function XE(e,t,n){let s=0;for(let a=0;a<e.position.length;a++){const l=t[a],c=e.position[a];if(l.field.isKeyField()?s=yt.comparator(yt.fromName(c.referenceValue),n.key):s=zo(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function WE(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Qi(e.position[n],t.position[n]))return!1;return!0}class Ou{constructor(t,n="asc"){this.field=t,this.dir=n}}function QM(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class A1{}class Me extends A1{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new XM(t,n,s):n==="array-contains"?new JM(t,s):n==="in"?new tO(t,s):n==="not-in"?new eO(t,s):n==="array-contains-any"?new nO(t,s):new Me(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new WM(t,s):new ZM(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(zo(n,this.value)):n!==null&&Sr(this.value)===Sr(n)&&this.matchesComparison(zo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gi extends A1{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new gi(t,n)}matches(t){return b1(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function b1(e){return e.op==="and"}function w1(e){return $M(e)&&b1(e)}function $M(e){for(const t of e.filters)if(t instanceof gi)return!1;return!0}function sg(e){if(e instanceof Me)return e.field.canonicalString()+e.op.toString()+Bo(e.value);if(w1(e))return e.filters.map((t=>sg(t))).join(",");{const t=e.filters.map((n=>sg(n))).join(",");return`${e.op}(${t})`}}function R1(e,t){return e instanceof Me?(function(s,a){return a instanceof Me&&s.op===a.op&&s.field.isEqual(a.field)&&Qi(s.value,a.value)})(e,t):e instanceof gi?(function(s,a){return a instanceof gi&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,d)=>l&&R1(c,a.filters[d])),!0):!1})(e,t):void _t(19439)}function C1(e){return e instanceof Me?(function(n){return`${n.field.canonicalString()} ${n.op} ${Bo(n.value)}`})(e):e instanceof gi?(function(n){return n.op.toString()+" {"+n.getFilters().map(C1).join(" ,")+"}"})(e):"Filter"}class XM extends Me{constructor(t,n,s){super(t,n,s),this.key=yt.fromName(s.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class WM extends Me{constructor(t,n){super(t,"in",n),this.keys=I1("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class ZM extends Me{constructor(t,n){super(t,"not-in",n),this.keys=I1("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function I1(e,t){return(t.arrayValue?.values||[]).map((n=>yt.fromName(n.referenceValue)))}class JM extends Me{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return cy(n)&&Mu(n.arrayValue,this.value)}}class tO extends Me{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Mu(this.value.arrayValue,n)}}class eO extends Me{constructor(t,n){super(t,"not-in",n)}matches(t){if(Mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Mu(this.value.arrayValue,n)}}class nO extends Me{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!cy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Mu(this.value.arrayValue,s)))}}class iO{constructor(t,n=null,s=[],a=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function ZE(e,t=null,n=[],s=[],a=null,l=null,c=null){return new iO(e,t,n,s,a,l,c)}function hy(e){const t=wt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>sg(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),qf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>Bo(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>Bo(s))).join(",")),t.Te=n}return t.Te}function fy(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!QM(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!R1(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!WE(e.startAt,t.startAt)&&WE(e.endAt,t.endAt)}function rg(e){return yt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class Jo{constructor(t,n=null,s=[],a=[],l=null,c="F",d=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function sO(e,t,n,s,a,l,c,d){return new Jo(e,t,n,s,a,l,c,d)}function dy(e){return new Jo(e)}function JE(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function x1(e){return e.collectionGroup!==null}function Tu(e){const t=wt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),n.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new ze(Je.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(t).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new Ou(l,s))})),n.has(Je.keyField().canonicalString())||t.Ie.push(new Ou(Je.keyField(),s))}return t.Ie}function Bi(e){const t=wt(e);return t.Ee||(t.Ee=rO(t,Tu(e))),t.Ee}function rO(e,t){if(e.limitType==="F")return ZE(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Ou(a.field,l)}));const n=e.endAt?new Ef(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Ef(e.startAt.position,e.startAt.inclusive):null;return ZE(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function ag(e,t){const n=e.filters.concat([t]);return new Jo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Sf(e,t,n){return new Jo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Kf(e,t){return fy(Bi(e),Bi(t))&&e.limitType===t.limitType}function D1(e){return`${hy(Bi(e))}|lt:${e.limitType}`}function So(e){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>C1(a))).join(", ")}]`),qf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Bo(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Bo(a))).join(",")),`Target(${s})`})(Bi(e))}; limitType=${e.limitType})`}function Yf(e,t){return t.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):yt.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(e,t)&&(function(s,a){for(const l of Tu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(e,t)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(e,t)&&(function(s,a){return!(s.startAt&&!(function(c,d,p){const g=XE(c,d,p);return c.inclusive?g<=0:g<0})(s.startAt,Tu(s),a)||s.endAt&&!(function(c,d,p){const g=XE(c,d,p);return c.inclusive?g>=0:g>0})(s.endAt,Tu(s),a))})(e,t)}function aO(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function V1(e){return(t,n)=>{let s=!1;for(const a of Tu(e)){const l=oO(a,t,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function oO(e,t,n){const s=e.field.isKeyField()?yt.comparator(t.key,n.key):(function(l,c,d){const p=c.data.field(l),g=d.data.field(l);return p!==null&&g!==null?zo(p,g):_t(42886)})(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return _t(19790,{direction:e.dir})}}class Ca{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),a=this.inner[s];if(a===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Ra(this.inner,((n,s)=>{for(const[a,l]of s)t(a,l)}))}isEmpty(){return m1(this.inner)}size(){return this.innerSize}}const lO=new fe(yt.comparator);function bs(){return lO}const N1=new fe(yt.comparator);function du(...e){let t=N1;for(const n of e)t=t.insert(n.key,n);return t}function M1(e){let t=N1;return e.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function ha(){return Eu()}function O1(){return Eu()}function Eu(){return new Ca((e=>e.toString()),((e,t)=>e.isEqual(t)))}const uO=new fe(yt.comparator),cO=new ze(yt.comparator);function Ut(...e){let t=cO;for(const n of e)t=t.add(n);return t}const hO=new ze(kt);function fO(){return hO}function my(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vf(t)?"-0":t}}function P1(e){return{integerValue:""+e}}function dO(e,t){return zM(t)?P1(t):my(e,t)}class Qf{constructor(){this._=void 0}}function mO(e,t,n){return e instanceof Af?(function(a,l){const c={fields:{[y1]:{stringValue:g1},[_1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&uy(l)&&(l=Gf(l)),l&&(c.fields[v1]=l),{mapValue:c}})(n,t):e instanceof Pu?k1(e,t):e instanceof Lu?U1(e,t):(function(a,l){const c=L1(a,l),d=tS(c)+tS(a.Ae);return ig(c)&&ig(a.Ae)?P1(d):my(a.serializer,d)})(e,t)}function pO(e,t,n){return e instanceof Pu?k1(e,t):e instanceof Lu?U1(e,t):n}function L1(e,t){return e instanceof bf?(function(s){return ig(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(t)?t:{integerValue:0}:null}class Af extends Qf{}class Pu extends Qf{constructor(t){super(),this.elements=t}}function k1(e,t){const n=j1(t);for(const s of e.elements)n.some((a=>Qi(a,s)))||n.push(s);return{arrayValue:{values:n}}}class Lu extends Qf{constructor(t){super(),this.elements=t}}function U1(e,t){let n=j1(t);for(const s of e.elements)n=n.filter((a=>!Qi(a,s)));return{arrayValue:{values:n}}}class bf extends Qf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function tS(e){return Ee(e.integerValue||e.doubleValue)}function j1(e){return cy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function gO(e,t){return e.field.isEqual(t.field)&&(function(s,a){return s instanceof Pu&&a instanceof Pu||s instanceof Lu&&a instanceof Lu?jo(s.elements,a.elements,Qi):s instanceof bf&&a instanceof bf?Qi(s.Ae,a.Ae):s instanceof Af&&a instanceof Af})(e.transform,t.transform)}class yO{constructor(t,n){this.version=t,this.transformResults=n}}class _s{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new _s}static exists(t){return new _s(void 0,t)}static updateTime(t){return new _s(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ef(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class $f{}function z1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new F1(e.key,_s.none()):new Zu(e.key,e.data,_s.none());{const n=e.data,s=Gn.empty();let a=new ze(Je.comparator);for(let l of t.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Ia(e.key,s,new di(a.toArray()),_s.none())}}function vO(e,t,n){e instanceof Zu?(function(a,l,c){const d=a.value.clone(),p=nS(a.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(e,t,n):e instanceof Ia?(function(a,l,c){if(!ef(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=nS(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(B1(a)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(e,t,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function Su(e,t,n,s){return e instanceof Zu?(function(l,c,d,p){if(!ef(l.precondition,c))return d;const g=l.value.clone(),y=iS(l.fieldTransforms,p,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(e,t,n,s):e instanceof Ia?(function(l,c,d,p){if(!ef(l.precondition,c))return d;const g=iS(l.fieldTransforms,p,c),y=c.data;return y.setAll(B1(l)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(e,t,n,s):(function(l,c,d){return ef(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(e,t,n)}function _O(e,t){let n=null;for(const s of e.fieldTransforms){const a=t.data.field(s.field),l=L1(s.transform,a||null);l!=null&&(n===null&&(n=Gn.empty()),n.set(s.field,l))}return n||null}function eS(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&jo(s,a,((l,c)=>gO(l,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Zu extends $f{constructor(t,n,s,a=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ia extends $f{constructor(t,n,s,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function B1(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}})),t}function nS(e,t,n){const s=new Map;Kt(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let a=0;a<n.length;a++){const l=e[a],c=l.transform,d=t.data.field(l.field);s.set(l.field,pO(c,d,n[a]))}return s}function iS(e,t,n){const s=new Map;for(const a of e){const l=a.transform,c=n.data.field(a.field);s.set(a.field,mO(l,c,t))}return s}class F1 extends $f{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TO extends $f{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class EO{constructor(t,n,s,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&vO(l,t,s[a])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Su(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Su(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=O1();return this.mutations.forEach((a=>{const l=t.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const p=z1(c,d);p!==null&&s.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(At.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&jo(this.mutations,t.mutations,((n,s)=>eS(n,s)))&&jo(this.baseMutations,t.baseMutations,((n,s)=>eS(n,s)))}}class py{constructor(t,n,s,a){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(t,n,s){Kt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let a=(function(){return uO})();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new py(t,n,s,a)}}class SO{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class AO{constructor(t,n){this.count=t,this.unchangedNames=n}}var Ve,Bt;function bO(e){switch(e){case tt.OK:return _t(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return _t(15467,{code:e})}}function H1(e){if(e===void 0)return As("GRPC error has no .code"),tt.UNKNOWN;switch(e){case Ve.OK:return tt.OK;case Ve.CANCELLED:return tt.CANCELLED;case Ve.UNKNOWN:return tt.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return tt.INTERNAL;case Ve.UNAVAILABLE:return tt.UNAVAILABLE;case Ve.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case Ve.NOT_FOUND:return tt.NOT_FOUND;case Ve.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case Ve.ABORTED:return tt.ABORTED;case Ve.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case Ve.DATA_LOSS:return tt.DATA_LOSS;default:return _t(39323,{code:e})}}(Bt=Ve||(Ve={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";function wO(){return new TextEncoder}const RO=new yr([4294967295,4294967295],0);function sS(e){const t=wO().encode(e),n=new i1;return n.update(t),new Uint8Array(n.digest())}function rS(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new yr([n,s],0),new yr([a,l],0)]}class gy{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new mu(`Invalid padding: ${n}`);if(s<0)throw new mu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new mu(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new mu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=yr.fromNumber(this.ge)}ye(t,n,s){let a=t.add(n.multiply(yr.fromNumber(s)));return a.compare(RO)===1&&(a=new yr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=sS(t),[s,a]=rS(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(t,n,s){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new gy(l,a,n);return s.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const n=sS(t),[s,a]=rS(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class mu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Xf{constructor(t,n,s,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const a=new Map;return a.set(t,Ju.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Xf(At.min(),a,new fe(kt),bs(),Ut())}}class Ju{constructor(t,n,s,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Ju(s,n,Ut(),Ut(),Ut())}}class nf{constructor(t,n,s,a){this.be=t,this.removedTargetIds=n,this.key=s,this.De=a}}class q1{constructor(t,n){this.targetId=t,this.Ce=n}}class G1{constructor(t,n,s=tn.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=a}}class aS{constructor(){this.ve=0,this.Fe=oS(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),n=Ut(),s=Ut();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:_t(38017,{changeType:l})}})),new Ju(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=oS()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class CO{constructor(t){this.Ge=t,this.ze=new Map,this.je=bs(),this.Je=zh(),this.He=zh(),this.Ye=new fe(kt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(t){const n=t.targetId,s=t.Ce.count,a=this.ot(n);if(a){const l=a.target;if(rg(l))if(s===0){const c=new yt(l.path);this.et(n,c,rn.newNoDocument(c,At.min()))}else Kt(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const d=this.ut(t),p=d?this.ct(d,t,c):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=Er(s).toUint8Array()}catch(p){if(p instanceof p1)return Uo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new gy(c,a,l)}catch(p){return Uo(p instanceof mu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(t){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&rg(d.target)){const p=new yt(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,rn.newNoDocument(p,t))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let s=Ut();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(t)));const a=new Xf(t,n,this.Ye,this.je,s);return this.je=bs(),this.Je=zh(),this.He=zh(),this.Ye=new fe(kt),a}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new aS,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new ze(kt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new ze(kt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ht("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new aS),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function zh(){return new fe(yt.comparator)}function oS(){return new fe(yt.comparator)}const IO={asc:"ASCENDING",desc:"DESCENDING"},xO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DO={and:"AND",or:"OR"};class VO{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function og(e,t){return e.useProto3Json||qf(t)?t:{value:t}}function wf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function K1(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function NO(e,t){return wf(e,t.toTimestamp())}function Fi(e){return Kt(!!e,49232),At.fromTimestamp((function(n){const s=Tr(n);return new re(s.seconds,s.nanos)})(e))}function yy(e,t){return lg(e,t).canonicalString()}function lg(e,t){const n=(function(a){return new ne(["projects",a.projectId,"databases",a.database])})(e).child("documents");return t===void 0?n:n.child(t)}function Y1(e){const t=ne.fromString(e);return Kt(Z1(t),10190,{key:t.toString()}),t}function ug(e,t){return yy(e.databaseId,t.path)}function Sp(e,t){const n=Y1(t);if(n.get(1)!==e.databaseId.projectId)throw new ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new yt($1(n))}function Q1(e,t){return yy(e.databaseId,t)}function MO(e){const t=Y1(e);return t.length===4?ne.emptyPath():$1(t)}function cg(e){return new ne(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function $1(e){return Kt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function lS(e,t,n){return{name:ug(e,t),fields:n.value.mapValue.fields}}function OO(e,t){let n;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:_t(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(g,y){return g.useProto3Json?(Kt(y===void 0||typeof y=="string",58123),tn.fromBase64String(y||"")):(Kt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),tn.fromUint8Array(y||new Uint8Array))})(e,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(g){const y=g.code===void 0?tt.UNKNOWN:H1(g.code);return new ct(y,g.message||"")})(c);n=new G1(s,a,l,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const a=Sp(e,s.document.name),l=Fi(s.document.updateTime),c=s.document.createTime?Fi(s.document.createTime):At.min(),d=new Gn({mapValue:{fields:s.document.fields}}),p=rn.newFoundDocument(a,l,c,d),g=s.targetIds||[],y=s.removedTargetIds||[];n=new nf(g,y,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const a=Sp(e,s.document),l=s.readTime?Fi(s.readTime):At.min(),c=rn.newNoDocument(a,l),d=s.removedTargetIds||[];n=new nf([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const a=Sp(e,s.document),l=s.removedTargetIds||[];n=new nf([],l,a,null)}else{if(!("filter"in t))return _t(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new AO(a,l),d=s.targetId;n=new q1(d,c)}}return n}function PO(e,t){let n;if(t instanceof Zu)n={update:lS(e,t.key,t.value)};else if(t instanceof F1)n={delete:ug(e,t.key)};else if(t instanceof Ia)n={update:lS(e,t.key,t.data),updateMask:qO(t.fieldMask)};else{if(!(t instanceof TO))return _t(16599,{Vt:t.type});n={verify:ug(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(l,c){const d=c.transform;if(d instanceof Af)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Pu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Lu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof bf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw _t(20930,{transform:c.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:NO(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:_t(27497)})(e,t.precondition)),n}function LO(e,t){return e&&e.length>0?(Kt(t!==void 0,14353),e.map((n=>(function(a,l){let c=a.updateTime?Fi(a.updateTime):Fi(l);return c.isEqual(At.min())&&(c=Fi(l)),new yO(c,a.transformResults||[])})(n,t)))):[]}function kO(e,t){return{documents:[Q1(e,t.path)]}}function UO(e,t){const n={structuredQuery:{}},s=t.path;let a;t.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Q1(e,a);const l=(function(g){if(g.length!==0)return W1(gi.create(g,"and"))})(t.filters);l&&(n.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((y=>(function(S){return{field:Ao(S.field),direction:BO(S.dir)}})(y)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const d=og(e,t.limit);return d!==null&&(n.structuredQuery.limit=d),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:a}}function jO(e){let t=MO(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Kt(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=(function(_){const S=X1(_);return S instanceof gi&&w1(S)?S.getFilters():[S]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((S=>(function(O){return new Ou(bo(O.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(S)))})(n.orderBy));let d=null;n.limit&&(d=(function(_){let S;return S=typeof _=="object"?_.value:_,qf(S)?null:S})(n.limit));let p=null;n.startAt&&(p=(function(_){const S=!!_.before,C=_.values||[];return new Ef(C,S)})(n.startAt));let g=null;return n.endAt&&(g=(function(_){const S=!_.before,C=_.values||[];return new Ef(C,S)})(n.endAt)),sO(t,a,c,l,d,"F",p,g)}function zO(e,t){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:a})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function X1(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=bo(n.unaryFilter.field);return Me.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=bo(n.unaryFilter.field);return Me.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=bo(n.unaryFilter.field);return Me.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=bo(n.unaryFilter.field);return Me.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(e):e.fieldFilter!==void 0?(function(n){return Me.create(bo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return gi.create(n.compositeFilter.filters.map((s=>X1(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(n.compositeFilter.op))})(e):_t(30097,{filter:e})}function BO(e){return IO[e]}function FO(e){return xO[e]}function HO(e){return DO[e]}function Ao(e){return{fieldPath:e.canonicalString()}}function bo(e){return Je.fromServerFormat(e.fieldPath)}function W1(e){return e instanceof Me?(function(n){if(n.op==="=="){if($E(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NAN"}};if(QE(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($E(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NOT_NAN"}};if(QE(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ao(n.field),op:FO(n.op),value:n.value}}})(e):e instanceof gi?(function(n){const s=n.getFilters().map((a=>W1(a)));return s.length===1?s[0]:{compositeFilter:{op:HO(n.op),filters:s}}})(e):_t(54877,{filter:e})}function qO(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function Z1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}class dr{constructor(t,n,s,a,l=At.min(),c=At.min(),d=tn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(t){return new dr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class GO{constructor(t){this.yt=t}}function KO(e){const t=jO({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Sf(t,t.limit,"L"):t}class YO{constructor(){this.Cn=new QO}addToCollectionParentIndex(t,n){return this.Cn.add(n),it.resolve()}getCollectionParents(t,n){return it.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return it.resolve()}deleteFieldIndex(t,n){return it.resolve()}deleteAllFieldIndexes(t){return it.resolve()}createTargetIndexes(t,n){return it.resolve()}getDocumentsMatchingTarget(t,n){return it.resolve(null)}getIndexType(t,n){return it.resolve(0)}getFieldIndexes(t,n){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,n){return it.resolve(_r.min())}getMinOffsetFromCollectionGroup(t,n){return it.resolve(_r.min())}updateCollectionGroup(t,n,s){return it.resolve()}updateIndexEntries(t,n){return it.resolve()}}class QO{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n]||new ze(ne.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(t){return(this.index[t]||new ze(ne.comparator)).toArray()}}const uS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},J1=41943040;class _n{static withCacheSize(t){return new _n(t,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(J1,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class Fo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Fo(0)}static cr(){return new Fo(-1)}}const cS="LruGarbageCollector",$O=1048576;function hS([e,t],[n,s]){const a=kt(e,n);return a===0?kt(t,s):a}class XO{constructor(t){this.Ir=t,this.buffer=new ze(hS),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();hS(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class WO{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ht(cS,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Zo(n)?ht(cS,"Ignoring IndexedDB error during garbage collection: ",n):await Wo(n)}await this.Vr(3e5)}))}}class ZO{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return it.resolve(Hf.ce);const s=new XO(n);return this.mr.forEachTarget(t,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(t,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(uS)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uS):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,a,l,c,d,p,g;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(t,a)))).next((_=>(s=_,d=Date.now(),this.removeTargets(t,s,n)))).next((_=>(l=_,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((_=>(g=Date.now(),Eo()<=Lt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${_} documents in `+(g-p)+`ms
Total Duration: ${g-y}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function JO(e,t){return new ZO(e,t)}class tP{constructor(){this.changes=new Ca((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,rn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?it.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class eP{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class nP{constructor(t,n,s,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(t,n)))).next((a=>(s!==null&&Su(s.mutation,a,di.empty(),re.now()),a)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Ut()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Ut()){const a=ha();return this.populateOverlays(t,a,n).next((()=>this.computeViews(t,n,a,s).next((l=>{let c=du();return l.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const s=ha();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Ut())))}populateOverlays(t,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(t,n,s,a){let l=bs();const c=Eu(),d=(function(){return Eu()})();return n.forEach(((p,g)=>{const y=s.get(g.key);a.has(g.key)&&(y===void 0||y.mutation instanceof Ia)?l=l.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),Su(y.mutation,g,y.mutation.getFieldMask(),re.now())):c.set(g.key,di.empty())})),this.recalculateAndSaveOverlays(t,l).next((p=>(p.forEach(((g,y)=>c.set(g,y))),n.forEach(((g,y)=>d.set(g,new eP(y,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(t,n){const s=Eu();let a=new fe(((c,d)=>c-d)),l=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const d of c)d.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let y=s.get(p)||di.empty();y=d.applyToLocalView(g,y),s.set(p,y);const _=(a.get(d.batchId)||Ut()).add(p);a=a.insert(d.batchId,_)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,y=p.value,_=O1();y.forEach((S=>{if(!l.has(S)){const C=z1(n.get(S),s.get(S));C!==null&&_.set(S,C),l=l.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,_))}return it.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,a){return(function(c){return yt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):x1(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,a):this.getDocumentsMatchingCollectionQuery(t,n,s,a)}getNextDocuments(t,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,a-l.size):it.resolve(ha());let d=Du,p=l;return c.next((g=>it.forEach(g,((y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(y)?it.resolve():this.remoteDocumentCache.getEntry(t,y).next((S=>{p=p.insert(y,S)}))))).next((()=>this.populateOverlays(t,g,l))).next((()=>this.computeViews(t,p,g,Ut()))).next((y=>({batchId:d,changes:M1(y)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next((s=>{let a=du();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,a){const l=n.collectionGroup;let c=du();return this.indexManager.getCollectionParents(t,l).next((d=>it.forEach(d,(p=>{const g=(function(_,S){return new Jo(S,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(t,g,s,a).next((y=>{y.forEach(((_,S)=>{c=c.insert(_,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,l,a)))).next((c=>{l.forEach(((p,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,rn.newInvalidDocument(y)))}));let d=du();return c.forEach(((p,g)=>{const y=l.get(p);y!==void 0&&Su(y.mutation,g,di.empty(),re.now()),Yf(n,g)&&(d=d.insert(p,g))})),d}))}}class iP{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return it.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Fi(a.createTime)}})(n)),it.resolve()}getNamedQuery(t,n){return it.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:KO(a.bundledQuery),readTime:Fi(a.readTime)}})(n)),it.resolve()}}class sP{constructor(){this.overlays=new fe(yt.comparator),this.qr=new Map}getOverlay(t,n){return it.resolve(this.overlays.get(n))}getOverlays(t,n){const s=ha();return it.forEach(n,(a=>this.getOverlay(t,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((a,l)=>{this.St(t,n,l)})),it.resolve()}removeOverlaysForBatchId(t,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),it.resolve()}getOverlaysForCollection(t,n,s){const a=ha(),l=n.length+1,c=new yt(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>s&&a.set(p.getKey(),p)}return it.resolve(a)}getOverlaysForCollectionGroup(t,n,s,a){let l=new fe(((g,y)=>g-y));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let y=l.get(g.largestBatchId);y===null&&(y=ha(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const d=ha(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,y)=>d.set(g,y))),!(d.size()>=a)););return it.resolve(d)}St(t,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new SO(n,s));let l=this.qr.get(n);l===void 0&&(l=Ut(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}class rP{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(t){return it.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,it.resolve()}}class vy{constructor(){this.Qr=new ze(qe.$r),this.Ur=new ze(qe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new qe(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new qe(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new yt(new ne([])),s=new qe(n,t),a=new qe(n,t+1),l=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new yt(new ne([])),s=new qe(n,t),a=new qe(n,t+1);let l=Ut();return this.Ur.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(t){const n=new qe(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class qe{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return yt.comparator(t.key,n.key)||kt(t.Yr,n.Yr)}static Kr(t,n){return kt(t.Yr,n.Yr)||yt.comparator(t.key,n.key)}}class aP{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ze(qe.$r)}checkEmpty(t){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new EO(l,n,s,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new qe(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return it.resolve(c)}lookupMutationBatch(t,n){return it.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return it.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?ly:this.tr-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new qe(n,0),a=new qe(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),it.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new ze(kt);return n.forEach((a=>{const l=new qe(a,0),c=new qe(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{s=s.add(d.Yr)}))})),it.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,a=s.length+1;let l=s;yt.isDocumentKey(l)||(l=l.child(""));const c=new qe(new yt(l),0);let d=new ze(kt);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(d=d.add(p.Yr)),!0)}),c),it.resolve(this.ti(d))}ti(t){const n=[];return t.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(t,n){Kt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return it.forEach(n.mutations,(a=>{const l=new qe(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new qe(n,0),a=this.Zr.firstAfterOrEqual(s);return it.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class oP{constructor(t){this.ri=t,this.docs=(function(){return new fe(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return it.resolve(s?s.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(t,n){let s=bs();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():rn.newInvalidDocument(a))})),it.resolve(s)}getDocumentsMatchingQuery(t,n,s,a){let l=bs();const c=n.path,d=new yt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:y}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||LM(PM(y),s)<=0||(a.has(y.key)||Yf(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return it.resolve(l)}getAllFromCollectionGroup(t,n,s,a){_t(9500)}ii(t,n){return it.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new lP(this)}getSize(t){return it.resolve(this.size)}}class lP extends tP{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(s)})),it.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class uP{constructor(t){this.persistence=t,this.si=new Ca((n=>hy(n)),fy),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new vy,this.targetCount=0,this.ai=Fo.ur()}forEachTarget(t,n){return this.si.forEach(((s,a)=>n(a))),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),it.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Fo(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,it.resolve()}updateTargetData(t,n){return this.Pr(n),it.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,n,s){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),a++)})),it.waitFor(l).next((()=>a))}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return it.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),it.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(t,c))})),it.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),it.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return it.resolve(s)}containsKey(t,n){return it.resolve(this._i.containsKey(n))}}class tw{constructor(t,n){this.ui={},this.overlays={},this.ci=new Hf(0),this.li=!1,this.li=!0,this.hi=new rP,this.referenceDelegate=t(this),this.Pi=new uP(this),this.indexManager=new YO,this.remoteDocumentCache=(function(a){return new oP(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new GO(n),this.Ii=new iP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new sP,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new aP(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ht("MemoryPersistence","Starting transaction:",t);const a=new cP(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(t,n){return it.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class cP extends UM{constructor(t){super(),this.currentSequenceNumber=t}}class _y{constructor(t){this.persistence=t,this.Ri=new vy,this.Vi=null}static mi(t){return new _y(t)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),it.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),it.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),it.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.fi,(s=>{const a=yt.fromPath(s);return this.gi(t,a).next((l=>{l||n.removeEntry(a,At.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return it.or([()=>it.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Rf{constructor(t,n){this.persistence=t,this.pi=new Ca((s=>BM(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=JO(this,n)}static mi(t,n){return new Rf(t,n)}Ei(){}di(t){return it.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((a=>s+a))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return it.forEach(this.pi,((s,a)=>this.br(t,s,a).next((l=>l?it.resolve():n(a)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(t,(c=>this.br(t,c,n).next((d=>{d||(s++,l.removeEntry(c,At.min()))})))).next((()=>l.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),it.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),it.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),it.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),it.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Jh(t.data.value)),n}br(t,n,s){return it.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.pi.get(n);return it.resolve(a!==void 0&&a>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Ty{constructor(t,n,s,a){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=a}static As(t,n){let s=Ut(),a=Ut();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Ty(t,n.fromCache,s,a)}}class hP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class fP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return nD()?8:jM(on())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,a){const l={result:null};return this.ys(t,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(t,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new hP;return this.Ss(t,n,c).next((d=>{if(l.result=d,this.Vs)return this.bs(t,n,c,d.size)}))})).next((()=>l.result))}bs(t,n,s,a){return s.documentReadCount<this.fs?(Eo()<=Lt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",So(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),it.resolve()):(Eo()<=Lt.DEBUG&&ht("QueryEngine","Query:",So(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Eo()<=Lt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",So(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Bi(n))):it.resolve())}ys(t,n){if(JE(n))return it.resolve(null);let s=Bi(n);return this.indexManager.getIndexType(t,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Sf(n,null,"F"),s=Bi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((l=>{const c=Ut(...l);return this.ps.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,s).next((p=>{const g=this.Ds(n,d);return this.Cs(n,g,c,p.readTime)?this.ys(t,Sf(n,null,"F")):this.vs(t,g,n,p)}))))})))))}ws(t,n,s,a){return JE(n)||a.isEqual(At.min())?it.resolve(null):this.ps.getDocuments(t,s).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,a)?it.resolve(null):(Eo()<=Lt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),So(n)),this.vs(t,c,n,OM(a,Du)).next((d=>d)))}))}Ds(t,n){let s=new ze(V1(t));return n.forEach(((a,l)=>{Yf(t,l)&&(s=s.add(l))})),s}Cs(t,n,s,a){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(t,n,s){return Eo()<=Lt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",So(n)),this.ps.getDocumentsMatchingQuery(t,n,_r.min(),s)}vs(t,n,s,a){return this.ps.getDocumentsMatchingQuery(t,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const Ey="LocalStore",dP=3e8;class mP{constructor(t,n,s,a){this.persistence=t,this.Fs=n,this.serializer=a,this.Ms=new fe(kt),this.xs=new Ca((l=>hy(l)),fy),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new nP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function pP(e,t,n,s){return new mP(e,t,n,s)}async function ew(e,t){const n=wt(e);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],d=[];let p=Ut();for(const g of a){c.push(g.batchId);for(const y of g.mutations)p=p.add(y.key)}for(const g of l){d.push(g.batchId);for(const y of g.mutations)p=p.add(y.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function gP(e,t){const n=wt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=t.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,y){const _=g.batch,S=_.keys();let C=it.resolve();return S.forEach((O=>{C=C.next((()=>y.getEntry(p,O))).next((U=>{const k=g.docVersions.get(O);Kt(k!==null,48541),U.version.compareTo(k)<0&&(_.applyToRemoteDocument(U,g),U.isValidDocument()&&(U.setReadTime(g.commitVersion),y.addEntry(U)))}))})),C.next((()=>d.mutationQueue.removeMutationBatch(p,_)))})(n,s,t,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let p=Ut();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function nw(e){const t=wt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function yP(e,t){const n=wt(e),s=t.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];t.targetChanges.forEach(((y,_)=>{const S=a.get(_);if(!S)return;d.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,_))));let C=S.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(_)!==null?C=C.withResumeToken(tn.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):y.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(y.resumeToken,s)),a=a.insert(_,C),(function(U,k,B){return U.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=dP?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(S,C,y)&&d.push(n.Pi.updateTargetData(l,C))}));let p=bs(),g=Ut();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push(vP(l,c,t.documentUpdates).next((y=>{p=y.ks,g=y.qs}))),!s.isEqual(At.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((_=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(y)}return it.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(n.Ms=a,l)))}function vP(e,t,n){let s=Ut(),a=Ut();return n.forEach((l=>s=s.add(l))),t.getEntries(e,s).next((l=>{let c=bs();return n.forEach(((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),p.isNoDocument()&&p.version.isEqual(At.min())?(t.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(d,p)):ht(Ey,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:a}}))}function _P(e,t){const n=wt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=ly),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function TP(e,t){const n=wt(e);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,t).next((l=>l?(a=l,it.resolve(a)):n.Pi.allocateTargetId(s).next((c=>(a=new dr(t,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function hg(e,t,n){const s=wt(e),a=s.Ms.get(t),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Zo(c))throw c;ht(Ey,`Failed to update sequence numbers for target ${t}: ${c}`)}s.Ms=s.Ms.remove(t),s.xs.delete(a.target)}function fS(e,t,n){const s=wt(e);let a=At.min(),l=Ut();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,y){const _=wt(p),S=_.xs.get(y);return S!==void 0?it.resolve(_.Ms.get(S)):_.Pi.getTargetData(g,y)})(s,c,Bi(t)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((p=>{l=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,t,n?a:At.min(),n?l:Ut()))).next((d=>(EP(s,aO(t),d),{documents:d,Qs:l})))))}function EP(e,t,n){let s=e.Os.get(t)||At.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),e.Os.set(t,s)}class dS{constructor(){this.activeTargetIds=fO()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class SP{constructor(){this.Mo=new dS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new dS,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class AP{Oo(t){}shutdown(){}}const mS="ConnectivityMonitor";class pS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ht(mS,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ht(mS,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Bh=null;function fg(){return Bh===null?Bh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bh++,"0x"+Bh.toString(16)}const Ap="RestConnection",bP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wP{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===_f?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(t,n,s,a,l){const c=fg(),d=this.zo(t,n.toUriEncodedString());ht(Ap,`Sending RPC '${t}' ${c}:`,d,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,a,l);const{host:g}=new URL(d),y=Yo(g);return this.Jo(t,d,p,s,y).then((_=>(ht(Ap,`Received RPC '${t}' ${c}: `,_),_)),(_=>{throw Uo(Ap,`RPC '${t}' ${c} failed with error: `,_,"url: ",d,"request:",s),_}))}Ho(t,n,s,a,l,c){return this.Go(t,n,s,a,l)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Xo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>t[l]=a)),s&&s.headers.forEach(((a,l)=>t[l]=a))}zo(t,n){const s=bP[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class RP{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const nn="WebChannelConnection";class CP extends wP{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,a,l){const c=fg();return new Promise(((d,p)=>{const g=new s1;g.setWithCredentials(!0),g.listenOnce(r1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Zh.NO_ERROR:const _=g.getResponseJson();ht(nn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(_)),d(_);break;case Zh.TIMEOUT:ht(nn,`RPC '${t}' ${c} timed out`),p(new ct(tt.DEADLINE_EXCEEDED,"Request time out"));break;case Zh.HTTP_ERROR:const S=g.getStatus();if(ht(nn,`RPC '${t}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const O=C?.error;if(O&&O.status&&O.message){const U=(function(B){const G=B.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(G)>=0?G:tt.UNKNOWN})(O.status);p(new ct(U,O.message))}else p(new ct(tt.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ct(tt.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ht(nn,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(a);ht(nn,`RPC '${t}' ${c} sending request:`,a),g.send(n,"POST",y,s,15)}))}T_(t,n,s){const a=fg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=l1(),d=o1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const y=l.join("");ht(nn,`Creating RPC '${t}' stream ${a}: ${y}`,p);const _=c.createWebChannel(y,p);this.I_(_);let S=!1,C=!1;const O=new RP({Yo:k=>{C?ht(nn,`Not sending because RPC '${t}' stream ${a} is closed:`,k):(S||(ht(nn,`Opening RPC '${t}' stream ${a} transport.`),_.open(),S=!0),ht(nn,`RPC '${t}' stream ${a} sending:`,k),_.send(k))},Zo:()=>_.close()}),U=(k,B,G)=>{k.listen(B,(Q=>{try{G(Q)}catch(lt){setTimeout((()=>{throw lt}),0)}}))};return U(_,fu.EventType.OPEN,(()=>{C||(ht(nn,`RPC '${t}' stream ${a} transport opened.`),O.o_())})),U(_,fu.EventType.CLOSE,(()=>{C||(C=!0,ht(nn,`RPC '${t}' stream ${a} transport closed`),O.a_(),this.E_(_))})),U(_,fu.EventType.ERROR,(k=>{C||(C=!0,Uo(nn,`RPC '${t}' stream ${a} transport errored. Name:`,k.name,"Message:",k.message),O.a_(new ct(tt.UNAVAILABLE,"The operation could not be completed")))})),U(_,fu.EventType.MESSAGE,(k=>{if(!C){const B=k.data[0];Kt(!!B,16349);const G=B,Q=G?.error||G[0]?.error;if(Q){ht(nn,`RPC '${t}' stream ${a} received error:`,Q);const lt=Q.status;let at=(function(b){const I=Ve[b];if(I!==void 0)return H1(I)})(lt),st=Q.message;at===void 0&&(at=tt.INTERNAL,st="Unknown error status: "+lt+" with message "+Q.message),C=!0,O.a_(new ct(at,st)),_.close()}else ht(nn,`RPC '${t}' stream ${a} received:`,B),O.u_(B)}})),U(d,a1.STAT_EVENT,(k=>{k.stat===tg.PROXY?ht(nn,`RPC '${t}' stream ${a} detected buffering proxy`):k.stat===tg.NOPROXY&&ht(nn,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{O.__()}),0),O}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function bp(){return typeof document<"u"?document:null}function Wf(e){return new VO(e,!0)}class iw{constructor(t,n,s=1e3,a=1.5,l=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&ht("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const gS="PersistentStream";class sw{constructor(t,n,s,a,l,c,d,p){this.Mi=t,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new iw(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===tt.RESOURCE_EXHAUSTED?(As(n.toString()),As("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{t((()=>{const a=new ct(tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ht(gS,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ht(gS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class IP extends sw{constructor(t,n,s,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=OO(this.serializer,t),s=(function(l){if(!("targetChange"in l))return At.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?At.min():c.readTime?Fi(c.readTime):At.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=cg(this.serializer),n.addTarget=(function(l,c){let d;const p=c.target;if(d=rg(p)?{documents:kO(l,p)}:{query:UO(l,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=K1(l,c.resumeToken);const g=og(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(At.min())>0){d.readTime=wf(l,c.snapshotVersion.toTimestamp());const g=og(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,t);const s=zO(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=cg(this.serializer),n.removeTarget=t,this.q_(n)}}class xP extends sw{constructor(t,n,s,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=LO(t.writeResults,t.commitTime),s=Fi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=cg(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>PO(this.serializer,s)))};this.q_(n)}}class DP{}class VP extends DP{constructor(t,n,s,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ct(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(t,lg(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ct(tt.UNKNOWN,l.toString())}))}Ho(t,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(t,lg(n,s),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(tt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class NP{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(As(n),this.aa=!1):ht("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Aa="RemoteStore";class MP{constructor(t,n,s,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{xa(this)&&(ht(Aa,"Restarting streams for network reachability change."),await(async function(p){const g=wt(p);g.Ea.add(4),await tc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Zf(g)})(this))}))})),this.Ra=new NP(s,a)}}async function Zf(e){if(xa(e))for(const t of e.da)await t(!0)}async function tc(e){for(const t of e.da)await t(!1)}function rw(e,t){const n=wt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),wy(n)?by(n):tl(n).O_()&&Ay(n,t))}function Sy(e,t){const n=wt(e),s=tl(n);n.Ia.delete(t),s.O_()&&aw(n,t),n.Ia.size===0&&(s.O_()?s.L_():xa(n)&&n.Ra.set("Unknown"))}function Ay(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}tl(e).Y_(t)}function aw(e,t){e.Va.Ue(t),tl(e).Z_(t)}function by(e){e.Va=new CO({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),tl(e).start(),e.Ra.ua()}function wy(e){return xa(e)&&!tl(e).x_()&&e.Ia.size>0}function xa(e){return wt(e).Ea.size===0}function ow(e){e.Va=void 0}async function OP(e){e.Ra.set("Online")}async function PP(e){e.Ia.forEach(((t,n)=>{Ay(e,t)}))}async function LP(e,t){ow(e),wy(e)?(e.Ra.ha(t),by(e)):e.Ra.set("Unknown")}async function kP(e,t,n){if(e.Ra.set("Online"),t instanceof G1&&t.state===2&&t.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(e,t)}catch(s){ht(Aa,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Cf(e,s)}else if(t instanceof nf?e.Va.Ze(t):t instanceof q1?e.Va.st(t):e.Va.tt(t),!n.isEqual(At.min()))try{const s=await nw(e.localStore);n.compareTo(s)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const y=l.Ia.get(g);y&&l.Ia.set(g,y.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,g)=>{const y=l.Ia.get(p);if(!y)return;l.Ia.set(p,y.withResumeToken(tn.EMPTY_BYTE_STRING,y.snapshotVersion)),aw(l,p);const _=new dr(y.target,p,g,y.sequenceNumber);Ay(l,_)})),l.remoteSyncer.applyRemoteEvent(d)})(e,n)}catch(s){ht(Aa,"Failed to raise snapshot:",s),await Cf(e,s)}}async function Cf(e,t,n){if(!Zo(t))throw t;e.Ea.add(1),await tc(e),e.Ra.set("Offline"),n||(n=()=>nw(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ht(Aa,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Zf(e)}))}function lw(e,t){return t().catch((n=>Cf(e,n,t)))}async function Jf(e){const t=wt(e),n=Ar(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ly;for(;UP(t);)try{const a=await _P(t.localStore,s);if(a===null){t.Ta.length===0&&n.L_();break}s=a.batchId,jP(t,a)}catch(a){await Cf(t,a)}uw(t)&&cw(t)}function UP(e){return xa(e)&&e.Ta.length<10}function jP(e,t){e.Ta.push(t);const n=Ar(e);n.O_()&&n.X_&&n.ea(t.mutations)}function uw(e){return xa(e)&&!Ar(e).x_()&&e.Ta.length>0}function cw(e){Ar(e).start()}async function zP(e){Ar(e).ra()}async function BP(e){const t=Ar(e);for(const n of e.Ta)t.ea(n.mutations)}async function FP(e,t,n){const s=e.Ta.shift(),a=py.from(s,t,n);await lw(e,(()=>e.remoteSyncer.applySuccessfulWrite(a))),await Jf(e)}async function HP(e,t){t&&Ar(e).X_&&await(async function(s,a){if((function(c){return bO(c)&&c!==tt.ABORTED})(a.code)){const l=s.Ta.shift();Ar(s).B_(),await lw(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Jf(s)}})(e,t),uw(e)&&cw(e)}async function yS(e,t){const n=wt(e);n.asyncQueue.verifyOperationInProgress(),ht(Aa,"RemoteStore received new credentials");const s=xa(n);n.Ea.add(3),await tc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Zf(n)}async function qP(e,t){const n=wt(e);t?(n.Ea.delete(2),await Zf(n)):t||(n.Ea.add(2),await tc(n),n.Ra.set("Unknown"))}function tl(e){return e.ma||(e.ma=(function(n,s,a){const l=wt(n);return l.sa(),new IP(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Xo:OP.bind(null,e),t_:PP.bind(null,e),r_:LP.bind(null,e),H_:kP.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),wy(e)?by(e):e.Ra.set("Unknown")):(await e.ma.stop(),ow(e))}))),e.ma}function Ar(e){return e.fa||(e.fa=(function(n,s,a){const l=wt(n);return l.sa(),new xP(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:zP.bind(null,e),r_:HP.bind(null,e),ta:BP.bind(null,e),na:FP.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await Jf(e)):(await e.fa.stop(),e.Ta.length>0&&(ht(Aa,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}class Ry{constructor(t,n,s,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,a,l){const c=Date.now()+s,d=new Ry(t,n,c,a,l);return d.start(s),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cy(e,t){if(As("AsyncQueue",`${t}: ${e}`),Zo(e))return new ct(tt.UNAVAILABLE,`${t}: ${e}`);throw e}class Mo{static emptySet(t){return new Mo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||yt.comparator(n.key,s.key):(n,s)=>yt.comparator(n.key,s.key),this.keyedMap=du(),this.sortedSet=new fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Mo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Mo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class vS{constructor(){this.ga=new fe(yt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):_t(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class Ho{constructor(t,n,s,a,l,c,d,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,a,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Ho(t,n,Mo.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Kf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class GP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class KP{constructor(){this.queries=_S(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=wt(n),l=a.queries;a.queries=_S(),l.forEach(((c,d)=>{for(const p of d.Sa)p.onError(s)}))})(this,new ct(tt.ABORTED,"Firestore shutting down"))}}function _S(){return new Ca((e=>D1(e)),Kf)}async function hw(e,t){const n=wt(e);let s=3;const a=t.query;let l=n.queries.get(a);l?!l.ba()&&t.Da()&&(s=2):(l=new GP,s=t.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=Cy(c,`Initialization of query '${So(t.query)}' failed`);return void t.onError(d)}n.queries.set(a,l),l.Sa.push(t),t.va(n.onlineState),l.wa&&t.Fa(l.wa)&&Iy(n)}async function fw(e,t){const n=wt(e),s=t.query;let a=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(t);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=t.Da()?0:1:!l.ba()&&t.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function YP(e,t){const n=wt(e);let s=!1;for(const a of t){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(s=!0);c.wa=a}}s&&Iy(n)}function QP(e,t,n){const s=wt(e),a=s.queries.get(t);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(t)}function Iy(e){e.Ca.forEach((t=>{t.next()}))}var dg,TS;(TS=dg||(dg={})).Ma="default",TS.Cache="cache";class dw{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const a of t.docChanges)a.type!==3&&s.push(a);t=new Ho(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Ho.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==dg.Cache}}class mw{constructor(t){this.key=t}}class pw{constructor(t){this.key=t}}class $P{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=V1(t),this.tu=new Mo(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new vS,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,_)=>{const S=a.get(y),C=Yf(this.query,_)?_:null,O=!!S&&this.mutatedKeys.has(S.key),U=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let k=!1;S&&C?S.data.isEqual(C.data)?O!==U&&(s.track({type:3,doc:C}),k=!0):this.su(S,C)||(s.track({type:2,doc:C}),k=!0,(p&&this.eu(C,p)>0||g&&this.eu(C,g)<0)&&(d=!0)):!S&&C?(s.track({type:0,doc:C}),k=!0):S&&!C&&(s.track({type:1,doc:S}),k=!0,(p||g)&&(d=!0)),k&&(C?(c=c.add(C),l=U?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Cs:d,mutatedKeys:l}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,_)=>(function(C,O){const U=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:k})}};return U(C)-U(O)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(s),a=a??!1;const d=n&&!a?this._u():[],p=this.Xa.size===0&&this.current&&!a?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new Ho(this.query,t.tu,l,c,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ut(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new pw(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new mw(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Ut();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Ho.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const xy="SyncEngine";class XP{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class WP{constructor(t){this.key=t,this.hu=!1}}class ZP{constructor(t,n,s,a,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ca((d=>D1(d)),Kf),this.Iu=new Map,this.Eu=new Set,this.du=new fe(yt.comparator),this.Au=new Map,this.Ru=new vy,this.Vu={},this.mu=new Map,this.fu=Fo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function JP(e,t,n=!0){const s=Ew(e);let a;const l=s.Tu.get(t);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await gw(s,t,n,!0),a}async function t4(e,t){const n=Ew(e);await gw(n,t,!0,!1)}async function gw(e,t,n,s){const a=await TP(e.localStore,Bi(t)),l=a.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await e4(e,t,l,c==="current",a.resumeToken)),e.isPrimaryClient&&n&&rw(e.remoteStore,a),d}async function e4(e,t,n,s,a){e.pu=(_,S,C)=>(async function(U,k,B,G){let Q=k.view.ru(B);Q.Cs&&(Q=await fS(U.localStore,k.query,!1).then((({documents:R})=>k.view.ru(R,Q))));const lt=G&&G.targetChanges.get(k.targetId),at=G&&G.targetMismatches.get(k.targetId)!=null,st=k.view.applyChanges(Q,U.isPrimaryClient,lt,at);return SS(U,k.targetId,st.au),st.snapshot})(e,_,S,C);const l=await fS(e.localStore,t,!0),c=new $P(t,l.Qs),d=c.ru(l.documents),p=Ju.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",a),g=c.applyChanges(d,e.isPrimaryClient,p);SS(e,n,g.au);const y=new XP(t,n,c);return e.Tu.set(t,y),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),g.snapshot}async function n4(e,t,n){const s=wt(e),a=s.Tu.get(t),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!Kf(c,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await hg(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Sy(s.remoteStore,a.targetId),mg(s,a.targetId)})).catch(Wo)):(mg(s,a.targetId),await hg(s.localStore,a.targetId,!0))}async function i4(e,t){const n=wt(e),s=n.Tu.get(t),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Sy(n.remoteStore,s.targetId))}async function s4(e,t,n){const s=h4(e);try{const a=await(function(c,d){const p=wt(c),g=re.now(),y=d.reduce(((C,O)=>C.add(O.key)),Ut());let _,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let O=bs(),U=Ut();return p.Ns.getEntries(C,y).next((k=>{O=k,O.forEach(((B,G)=>{G.isValidDocument()||(U=U.add(B))}))})).next((()=>p.localDocuments.getOverlayedDocuments(C,O))).next((k=>{_=k;const B=[];for(const G of d){const Q=_O(G,_.get(G.key).overlayedDocument);Q!=null&&B.push(new Ia(G.key,Q,S1(Q.value.mapValue),_s.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,B,d)})).next((k=>{S=k;const B=k.applyToLocalDocumentSet(_,U);return p.documentOverlayCache.saveOverlays(C,k.batchId,B)}))})).then((()=>({batchId:S.batchId,changes:M1(_)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(a.batchId),(function(c,d,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new fe(kt)),g=g.insert(d,p),c.Vu[c.currentUser.toKey()]=g})(s,a.batchId,n),await ec(s,a.changes),await Jf(s.remoteStore)}catch(a){const l=Cy(a,"Failed to persist write");n.reject(l)}}async function yw(e,t){const n=wt(e);try{const s=await yP(n.localStore,t);t.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(Kt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Kt(c.hu,14607):a.removedDocuments.size>0&&(Kt(c.hu,42227),c.hu=!1))})),await ec(n,s,t)}catch(s){await Wo(s)}}function ES(e,t,n){const s=wt(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const d=c.view.va(t);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const p=wt(c);p.onlineState=d;let g=!1;p.queries.forEach(((y,_)=>{for(const S of _.Sa)S.va(d)&&(g=!0)})),g&&Iy(p)})(s.eventManager,t),a.length&&s.Pu.H_(a),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function r4(e,t,n){const s=wt(e);s.sharedClientState.updateQueryState(t,"rejected",n);const a=s.Au.get(t),l=a&&a.key;if(l){let c=new fe(yt.comparator);c=c.insert(l,rn.newNoDocument(l,At.min()));const d=Ut().add(l),p=new Xf(At.min(),new Map,new fe(kt),c,d);await yw(s,p),s.du=s.du.remove(l),s.Au.delete(t),Dy(s)}else await hg(s.localStore,t,!1).then((()=>mg(s,t,n))).catch(Wo)}async function a4(e,t){const n=wt(e),s=t.batch.batchId;try{const a=await gP(n.localStore,t);_w(n,s,null),vw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ec(n,a)}catch(a){await Wo(a)}}async function o4(e,t,n){const s=wt(e);try{const a=await(function(c,d){const p=wt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return p.mutationQueue.lookupMutationBatch(g,d).next((_=>(Kt(_!==null,37113),y=_.keys(),p.mutationQueue.removeMutationBatch(g,_)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,y,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>p.localDocuments.getDocuments(g,y)))}))})(s.localStore,t);_w(s,t,n),vw(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await ec(s,a)}catch(a){await Wo(a)}}function vw(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function _w(e,t,n){const s=wt(e);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(t);l&&(n?l.reject(n):l.resolve(),a=a.remove(t)),s.Vu[s.currentUser.toKey()]=a}}function mg(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Iu.get(t))e.Tu.delete(s),n&&e.Pu.yu(s,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((s=>{e.Ru.containsKey(s)||Tw(e,s)}))}function Tw(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(Sy(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Dy(e))}function SS(e,t,n){for(const s of n)s instanceof mw?(e.Ru.addReference(s.key,t),l4(e,s)):s instanceof pw?(ht(xy,"Document no longer in limbo: "+s.key),e.Ru.removeReference(s.key,t),e.Ru.containsKey(s.key)||Tw(e,s.key)):_t(19791,{wu:s})}function l4(e,t){const n=t.key,s=n.path.canonicalString();e.du.get(n)||e.Eu.has(s)||(ht(xy,"New document in limbo: "+n),e.Eu.add(s),Dy(e))}function Dy(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new yt(ne.fromString(t)),s=e.fu.next();e.Au.set(s,new WP(n)),e.du=e.du.insert(n,s),rw(e.remoteStore,new dr(Bi(dy(n.path)),s,"TargetPurposeLimboResolution",Hf.ce))}}async function ec(e,t,n){const s=wt(e),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,p)=>{c.push(s.pu(p,t,n).then((g=>{if((g||n)&&s.isPrimaryClient){const y=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,y?"current":"not-current")}if(g){a.push(g);const y=Ty.As(p.targetId,g);l.push(y)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(p,g){const y=wt(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>it.forEach(g,(S=>it.forEach(S.Es,(C=>y.persistence.referenceDelegate.addReference(_,S.targetId,C))).next((()=>it.forEach(S.ds,(C=>y.persistence.referenceDelegate.removeReference(_,S.targetId,C)))))))))}catch(_){if(!Zo(_))throw _;ht(Ey,"Failed to update sequence numbers: "+_)}for(const _ of g){const S=_.targetId;if(!_.fromCache){const C=y.Ms.get(S),O=C.snapshotVersion,U=C.withLastLimboFreeSnapshotVersion(O);y.Ms=y.Ms.insert(S,U)}}})(s.localStore,l))}async function u4(e,t){const n=wt(e);if(!n.currentUser.isEqual(t)){ht(xy,"User change. New user:",t.toKey());const s=await ew(n.localStore,t);n.currentUser=t,(function(l,c){l.mu.forEach((d=>{d.forEach((p=>{p.reject(new ct(tt.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await ec(n,s.Ls)}}function c4(e,t){const n=wt(e),s=n.Au.get(t);if(s&&s.hu)return Ut().add(s.key);{let a=Ut();const l=n.Iu.get(t);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function Ew(e){const t=wt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=yw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=c4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=r4.bind(null,t),t.Pu.H_=YP.bind(null,t.eventManager),t.Pu.yu=QP.bind(null,t.eventManager),t}function h4(e){const t=wt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=a4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=o4.bind(null,t),t}class If{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Wf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return pP(this.persistence,new fP,t.initialUser,this.serializer)}Cu(t){return new tw(_y.mi,this.serializer)}Du(t){return new SP}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}If.provider={build:()=>new If};class f4 extends If{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Kt(this.persistence.referenceDelegate instanceof Rf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new WO(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new tw((s=>Rf.mi(s,n)),this.serializer)}}class pg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ES(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=u4.bind(null,this.syncEngine),await qP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new KP})()}createDatastore(t){const n=Wf(t.databaseInfo.databaseId),s=(function(l){return new CP(l)})(t.databaseInfo);return(function(l,c,d,p){return new VP(l,c,d,p)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,a,l,c,d){return new MP(s,a,l,c,d)})(this.localStore,this.datastore,t.asyncQueue,(n=>ES(this.syncEngine,n,0)),(function(){return pS.v()?new pS:new AP})())}createSyncEngine(t,n){return(function(a,l,c,d,p,g,y){const _=new ZP(a,l,c,d,p,g);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=wt(n);ht(Aa,"RemoteStore shutting down."),s.Ea.add(5),await tc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}pg.provider={build:()=>new pg};class Sw{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):As("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const br="FirestoreClient";class d4{constructor(t,n,s,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=sn.UNAUTHENTICATED,this.clientId=oy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{ht(br,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ht(br,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Cy(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function wp(e,t){e.asyncQueue.verifyOperationInProgress(),ht(br,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener((async a=>{s.isEqual(a)||(await ew(t.localStore,a),s=a)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function AS(e,t){e.asyncQueue.verifyOperationInProgress();const n=await m4(e);ht(br,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((s=>yS(t.remoteStore,s))),e.setAppCheckTokenChangeListener(((s,a)=>yS(t.remoteStore,a))),e._onlineComponents=t}async function m4(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ht(br,"Using user provided OfflineComponentProvider");try{await wp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(a){return a.name==="FirebaseError"?a.code===tt.FAILED_PRECONDITION||a.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Uo("Error using user provided cache. Falling back to memory cache: "+n),await wp(e,new If)}}else ht(br,"Using default OfflineComponentProvider"),await wp(e,new f4(void 0));return e._offlineComponents}async function Aw(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ht(br,"Using user provided OnlineComponentProvider"),await AS(e,e._uninitializedComponentsProvider._online)):(ht(br,"Using default OnlineComponentProvider"),await AS(e,new pg))),e._onlineComponents}function p4(e){return Aw(e).then((t=>t.syncEngine))}async function bw(e){const t=await Aw(e),n=t.eventManager;return n.onListen=JP.bind(null,t.syncEngine),n.onUnlisten=n4.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=t4.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=i4.bind(null,t.syncEngine),n}function g4(e,t,n={}){const s=new vs;return e.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,g){const y=new Sw({next:S=>{y.Nu(),c.enqueueAndForget((()=>fw(l,_)));const C=S.docs.has(d);!C&&S.fromCache?g.reject(new ct(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&S.fromCache&&p&&p.source==="server"?g.reject(new ct(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),_=new dw(dy(d.path),y,{includeMetadataChanges:!0,qa:!0});return hw(l,_)})(await bw(e),e.asyncQueue,t,n,s))),s.promise}function y4(e,t,n={}){const s=new vs;return e.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,g){const y=new Sw({next:S=>{y.Nu(),c.enqueueAndForget((()=>fw(l,_))),S.fromCache&&p.source==="server"?g.reject(new ct(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),_=new dw(d,y,{includeMetadataChanges:!0,qa:!0});return hw(l,_)})(await bw(e),e.asyncQueue,t,n,s))),s.promise}function ww(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const bS=new Map;const Rw="firestore.googleapis.com",wS=!0;class RS{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Rw,this.ssl=wS}else this.host=t.host,this.ssl=t.ssl??wS;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=J1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<$O)throw new ct(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}MM("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ww(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class td{constructor(t,n,s,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RS(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new AM;switch(s.type){case"firstParty":return new CM(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=bS.get(n);s&&(ht("ComponentProvider","Removing Datastore"),bS.delete(n),s.terminate())})(this),Promise.resolve()}}function v4(e,t,n,s={}){e=Sa(e,td);const a=Yo(t),l=e._getSettings(),c={...l,emulatorOptions:e._getEmulatorOptions()},d=`${t}:${n}`;a&&(_b(`https://${d}`),Tb("Firestore",!0)),l.host!==Rw&&l.host!==d&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:d,ssl:a,emulatorOptions:s};if(!va(p,c)&&(e._setSettings(p),s.mockUserToken)){let g,y;if(typeof s.mockUserToken=="string")g=s.mockUserToken,y=sn.MOCK_USER;else{g=Y2(s.mockUserToken,e._app?.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new ct(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new sn(_)}e._authCredentials=new bM(new c1(g,y))}}class Cr{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Cr(this.firestore,t,this._query)}}class Pe{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Pe(this.firestore,t,this._key)}toJSON(){return{type:Pe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Wu(n,Pe._jsonSchema))return new Pe(t,s||null,new yt(ne.fromString(n.referencePath)))}}Pe._jsonSchemaVersion="firestore/documentReference/1.0",Pe._jsonSchema={type:Oe("string",Pe._jsonSchemaVersion),referencePath:Oe("string")};class vr extends Cr{constructor(t,n,s){super(t,n,dy(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Pe(this.firestore,null,new yt(t))}withConverter(t){return new vr(this.firestore,t,this._path)}}function _4(e,t,...n){if(e=En(e),h1("collection","path",t),e instanceof td){const s=ne.fromString(t,...n);return jE(s),new vr(e,null,s)}{if(!(e instanceof Pe||e instanceof vr))throw new ct(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(ne.fromString(t,...n));return jE(s),new vr(e.firestore,null,s)}}function CS(e,t,...n){if(e=En(e),arguments.length===1&&(t=oy.newId()),h1("doc","path",t),e instanceof td){const s=ne.fromString(t,...n);return UE(s),new Pe(e,null,new yt(s))}{if(!(e instanceof Pe||e instanceof vr))throw new ct(tt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(ne.fromString(t,...n));return UE(s),new Pe(e.firestore,e instanceof vr?e.converter:null,new yt(s))}}const IS="AsyncQueue";class xS{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new iw(this,"async_queue_retry"),this._c=()=>{const s=bp();s&&ht(IS,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=bp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=bp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new vs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Zo(t))throw t;ht(IS,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,As("INTERNAL UNHANDLED ERROR: ",DS(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const a=Ry.createAndSchedule(this,t,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&_t(47125,{Pc:DS(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function DS(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class ed extends td{constructor(t,n,s,a){super(t,n,s,a),this.type="firestore",this._queue=new xS,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new xS(t),this._firestoreClient=void 0,await t}}}function T4(e,t){const n=typeof e=="object"?e:bb(),s=typeof e=="string"?e:_f,a=$g(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=G2("firestore");l&&v4(a,...l)}return a}function Vy(e){if(e._terminated)throw new ct(tt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||E4(e),e._firestoreClient}function E4(e){const t=e._freezeSettings(),n=(function(a,l,c,d){return new qM(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,ww(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new d4(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(e._componentsProvider))}class Kn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Kn(tn.fromBase64String(t))}catch(n){throw new ct(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Kn(tn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Wu(t,Kn._jsonSchema))return Kn.fromBase64String(t.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:Oe("string",Kn._jsonSchemaVersion),bytes:Oe("string")};class Ny{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ct(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Cw{constructor(t){this._methodName=t}}class Hi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ct(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ct(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hi._jsonSchemaVersion}}static fromJSON(t){if(Wu(t,Hi._jsonSchema))return new Hi(t.latitude,t.longitude)}}Hi._jsonSchemaVersion="firestore/geoPoint/1.0",Hi._jsonSchema={type:Oe("string",Hi._jsonSchemaVersion),latitude:Oe("number"),longitude:Oe("number")};class qi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Wu(t,qi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new qi(t.vectorValues);throw new ct(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qi._jsonSchemaVersion="firestore/vectorValue/1.0",qi._jsonSchema={type:Oe("string",qi._jsonSchemaVersion),vectorValues:Oe("object")};const S4=/^__.*__$/;class A4{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Ia(t,this.data,this.fieldMask,n,this.fieldTransforms):new Zu(t,this.data,n,this.fieldTransforms)}}function Iw(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:e})}}class My{constructor(t,n,s,a,l,c){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new My({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return xf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(Iw(this.Ac)&&S4.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class b4{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Wf(t)}Cc(t,n,s,a=!1){return new My({Ac:t,methodName:n,Dc:s,path:Je.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xw(e){const t=e._freezeSettings(),n=Wf(e._databaseId);return new b4(e._databaseId,!!t.ignoreUndefinedProperties,n)}function w4(e,t,n,s,a,l={}){const c=e.Cc(l.merge||l.mergeFields?2:0,t,n,a);Nw("Data must be an object, but it was:",c,s);const d=Dw(s,c);let p,g;if(l.merge)p=new di(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const S=C4(t,_,n);if(!c.contains(S))throw new ct(tt.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);x4(y,S)||y.push(S)}p=new di(y),g=c.fieldTransforms.filter((_=>p.covers(_.field)))}else p=null,g=c.fieldTransforms;return new A4(new Gn(d),p,g)}function R4(e,t,n,s=!1){return Oy(n,e.Cc(s?4:3,t))}function Oy(e,t){if(Vw(e=En(e)))return Nw("Unsupported field value:",t,e),Dw(e,t);if(e instanceof Cw)return(function(s,a){if(!Iw(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const d of s){let p=Oy(d,a.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(e,t)}return(function(s,a){if((s=En(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return dO(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=re.fromDate(s);return{timestampValue:wf(a.serializer,l)}}if(s instanceof re){const l=new re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:wf(a.serializer,l)}}if(s instanceof Hi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Kn)return{bytesValue:K1(a.serializer,s._byteString)};if(s instanceof Pe){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:yy(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof qi)return(function(c,d){return{mapValue:{fields:{[T1]:{stringValue:E1},[Tf]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return my(d.serializer,g)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${Ff(s)}`)})(e,t)}function Dw(e,t){const n={};return m1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ra(e,((s,a)=>{const l=Oy(a,t.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function Vw(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof re||e instanceof Hi||e instanceof Kn||e instanceof Pe||e instanceof Cw||e instanceof qi)}function Nw(e,t,n){if(!Vw(n)||!f1(n)){const s=Ff(n);throw s==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+s)}}function C4(e,t,n){if((t=En(t))instanceof Ny)return t._internalPath;if(typeof t=="string")return Mw(e,t);throw xf("Field path arguments must be of type string or ",e,!1,void 0,n)}const I4=new RegExp("[~\\*/\\[\\]]");function Mw(e,t,n){if(t.search(I4)>=0)throw xf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Ny(...t.split("."))._internalPath}catch{throw xf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function xf(e,t,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${t}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${s}`),c&&(p+=` in document ${a}`),p+=")"),new ct(tt.INVALID_ARGUMENT,d+e+p)}function x4(e,t){return e.some((n=>n.isEqual(t)))}class Ow{constructor(t,n,s,a,l){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Pe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new D4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Py("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class D4 extends Ow{data(){return super.data()}}function Py(e,t){return typeof t=="string"?Mw(e,t):t instanceof Ny?t._internalPath:t._delegate._internalPath}function V4(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new ct(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ly{}class ky extends Ly{}function N4(e,t,...n){let s=[];t instanceof Ly&&s.push(t),s=s.concat(n),(function(l){const c=l.filter((p=>p instanceof jy)).length,d=l.filter((p=>p instanceof Uy)).length;if(c>1||c>0&&d>0)throw new ct(tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)e=a._apply(e);return e}class Uy extends ky{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Uy(t,n,s)}_apply(t){const n=this._parse(t);return Pw(t._query,n),new Cr(t.firestore,t.converter,ag(t._query,n))}_parse(t){const n=xw(t.firestore);return(function(l,c,d,p,g,y,_){let S;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ct(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){NS(_,y);const O=[];for(const U of _)O.push(VS(p,l,U));S={arrayValue:{values:O}}}else S=VS(p,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||NS(_,y),S=R4(d,c,_,y==="in"||y==="not-in");return Me.create(g,y,S)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class jy extends Ly{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new jy(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:gi.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const p of d)Pw(c,p),c=ag(c,p)})(t._query,n),new Cr(t.firestore,t.converter,ag(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class zy extends ky{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new zy(t,n)}_apply(t){const n=(function(a,l,c){if(a.startAt!==null)throw new ct(tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ct(tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ou(l,c)})(t._query,this._field,this._direction);return new Cr(t.firestore,t.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new Jo(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(t._query,n))}}function M4(e,t="asc"){const n=t,s=Py("orderBy",e);return zy._create(s,n)}class By extends ky{constructor(t,n,s){super(),this.type=t,this._limit=n,this._limitType=s}static _create(t,n,s){return new By(t,n,s)}_apply(t){return new Cr(t.firestore,t.converter,Sf(t._query,this._limit,this._limitType))}}function O4(e){return By._create("limit",e,"F")}function VS(e,t,n){if(typeof(n=En(n))=="string"){if(n==="")throw new ct(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!x1(t)&&n.indexOf("/")!==-1)throw new ct(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ne.fromString(n));if(!yt.isDocumentKey(s))throw new ct(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return YE(e,new yt(s))}if(n instanceof Pe)return YE(e,n._key);throw new ct(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ff(n)}.`)}function NS(e,t){if(!Array.isArray(e)||e.length===0)throw new ct(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Pw(e,t){const n=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(e.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ct(tt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct(tt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class P4{convertValue(t,n="none"){switch(Sr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Er(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Ra(t,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(t){const n=t.fields?.[Tf].arrayValue?.values?.map((s=>Ee(s.doubleValue)));return new qi(n)}convertGeoPoint(t){return new Hi(Ee(t.latitude),Ee(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Gf(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Vu(t));default:return null}}convertTimestamp(t){const n=Tr(t);return new re(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ne.fromString(t);Kt(Z1(s),9688,{name:t});const a=new Nu(s.get(1),s.get(3)),l=new yt(s.popFirst(5));return a.isEqual(n)||As(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function L4(e,t,n){let s;return s=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,s}class pu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class pa extends Ow{constructor(t,n,s,a,l,c){super(t,n,s,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new sf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Py("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=pa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}pa._jsonSchemaVersion="firestore/documentSnapshot/1.0",pa._jsonSchema={type:Oe("string",pa._jsonSchemaVersion),bundleSource:Oe("string","DocumentSnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class sf extends pa{data(t={}){return super.data(t)}}class Oo{constructor(t,n,s,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new pu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new sf(this._firestore,this._userDataWriter,s.key,s,new pu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ct(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const p=new sf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new pu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const p=new sf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new pu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,y=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:k4(d.type),doc:p,oldIndex:g,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Oo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=oy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function k4(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:e})}}function U4(e){e=Sa(e,Pe);const t=Sa(e.firestore,ed);return g4(Vy(t),e._key).then((n=>F4(t,e,n)))}Oo._jsonSchemaVersion="firestore/querySnapshot/1.0",Oo._jsonSchema={type:Oe("string",Oo._jsonSchemaVersion),bundleSource:Oe("string","QuerySnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class Lw extends P4{constructor(t){super(),this.firestore=t}convertBytes(t){return new Kn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Pe(this.firestore,null,n)}}function j4(e){e=Sa(e,Cr);const t=Sa(e.firestore,ed),n=Vy(t),s=new Lw(t);return V4(e._query),y4(n,e._query).then((a=>new Oo(t,s,e,a)))}function z4(e,t,n){e=Sa(e,Pe);const s=Sa(e.firestore,ed),a=L4(e.converter,t,n);return B4(s,[w4(xw(s),"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,_s.none())])}function B4(e,t){return(function(s,a){const l=new vs;return s.asyncQueue.enqueueAndForget((async()=>s4(await p4(s),a,l))),l.promise})(Vy(e),t)}function F4(e,t,n){const s=n.docs.get(t._key),a=new Lw(e);return new pa(e,a,t._key,s,new pu(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(a){Xo=a})(Qo),Lo(new _a("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new ed(new wM(s.getProvider("auth-internal")),new IM(c,s.getProvider("app-check-internal")),(function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ct(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nu(g.options.projectId,y)})(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),gr(OE,PE,t),gr(OE,PE,"esm2020")})();const H4={apiKey:"AIzaSyAv3lXBF8luX9q6-p9lCd12iB2VbcX6JyU",authDomain:"employment-simulator.firebaseapp.com",projectId:"employment-simulator",storageBucket:"employment-simulator.firebasestorage.app",messagingSenderId:"33354203420",appId:"1:33354203420:web:744ff4c254a7e9ad70fad9"},kw=Ab(H4),Rp=EM(kw),gg=T4(kw),Uw=Fp.createContext();function Fy(){return V.useContext(Uw)}function q4({children:e}){const[t,n]=V.useState(null),[s,a]=V.useState(!0);function l(){const p=new ms;return DN(Rp,p)}function c(){return cN(Rp)}V.useEffect(()=>uN(Rp,g=>{n(g),a(!1)}),[]);const d={currentUser:t,loginWithGoogle:l,logout:c};return Y.jsx(Uw.Provider,{value:d,children:!s&&e})}const Hy=V.createContext({});function qy(e){const t=V.useRef(null);return t.current===null&&(t.current=e()),t.current}const Gy=typeof window<"u",jw=Gy?V.useLayoutEffect:V.useEffect,nd=V.createContext(null);function Ky(e,t){e.indexOf(t)===-1&&e.push(t)}function Yy(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ws=(e,t,n)=>n>t?t:n<e?e:n;let Qy=()=>{};const Rs={},zw=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Bw(e){return typeof e=="object"&&e!==null}const Fw=e=>/^0[^.\s]+$/u.test(e);function $y(e){let t;return()=>(t===void 0&&(t=e()),t)}const Qn=e=>e,G4=(e,t)=>n=>t(e(n)),nc=(...e)=>e.reduce(G4),ku=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class Xy{constructor(){this.subscriptions=[]}add(t){return Ky(this.subscriptions,t),()=>Yy(this.subscriptions,t)}notify(t,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Gi=e=>e*1e3,Yn=e=>e/1e3;function Hw(e,t){return t?e*(1e3/t):0}const qw=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,K4=1e-7,Y4=12;function Q4(e,t,n,s,a){let l,c,d=0;do c=t+(n-t)/2,l=qw(c,s,a)-e,l>0?n=c:t=c;while(Math.abs(l)>K4&&++d<Y4);return c}function ic(e,t,n,s){if(e===t&&n===s)return Qn;const a=l=>Q4(l,0,1,e,n);return l=>l===0||l===1?l:qw(a(l),t,s)}const Gw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Kw=e=>t=>1-e(1-t),Yw=ic(.33,1.53,.69,.99),Wy=Kw(Yw),Qw=Gw(Wy),$w=e=>(e*=2)<1?.5*Wy(e):.5*(2-Math.pow(2,-10*(e-1))),Zy=e=>1-Math.sin(Math.acos(e)),Xw=Kw(Zy),Ww=Gw(Zy),$4=ic(.42,0,1,1),X4=ic(0,0,.58,1),Zw=ic(.42,0,.58,1),W4=e=>Array.isArray(e)&&typeof e[0]!="number",Jw=e=>Array.isArray(e)&&typeof e[0]=="number",Z4={linear:Qn,easeIn:$4,easeInOut:Zw,easeOut:X4,circIn:Zy,circInOut:Ww,circOut:Xw,backIn:Wy,backInOut:Qw,backOut:Yw,anticipate:$w},J4=e=>typeof e=="string",MS=e=>{if(Jw(e)){Qy(e.length===4);const[t,n,s,a]=e;return ic(t,n,s,a)}else if(J4(e))return Z4[e];return e},Fh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function tL(e,t){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function p(y){c.has(y)&&(g.schedule(y),e()),y(d)}const g={schedule:(y,_=!1,S=!1)=>{const O=S&&a?n:s;return _&&c.add(y),O.has(y)||O.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(d=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(p),n.clear(),a=!1,l&&(l=!1,g.process(y))}};return g}const eL=40;function tR(e,t){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Fh.reduce((Q,lt)=>(Q[lt]=tL(l),Q),{}),{setup:d,read:p,resolveKeyframes:g,preUpdate:y,update:_,preRender:S,render:C,postRender:O}=c,U=()=>{const Q=Rs.useManualTiming?a.timestamp:performance.now();n=!1,Rs.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(Q-a.timestamp,eL),1)),a.timestamp=Q,a.isProcessing=!0,d.process(a),p.process(a),g.process(a),y.process(a),_.process(a),S.process(a),C.process(a),O.process(a),a.isProcessing=!1,n&&t&&(s=!1,e(U))},k=()=>{n=!0,s=!0,a.isProcessing||e(U)};return{schedule:Fh.reduce((Q,lt)=>{const at=c[lt];return Q[lt]=(st,R=!1,b=!1)=>(n||k(),at.schedule(st,R,b)),Q},{}),cancel:Q=>{for(let lt=0;lt<Fh.length;lt++)c[Fh[lt]].cancel(Q)},state:a,steps:c}}const{schedule:ue,cancel:wr,state:We,steps:Cp}=tR(typeof requestAnimationFrame<"u"?requestAnimationFrame:Qn,!0);let rf;function nL(){rf=void 0}const Tn={now:()=>(rf===void 0&&Tn.set(We.isProcessing||Rs.useManualTiming?We.timestamp:performance.now()),rf),set:e=>{rf=e,queueMicrotask(nL)}},eR=e=>t=>typeof t=="string"&&t.startsWith(e),Jy=eR("--"),iL=eR("var(--"),tv=e=>iL(e)?sL.test(e.split("/*")[0].trim()):!1,sL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,el={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Uu={...el,transform:e=>ws(0,1,e)},Hh={...el,default:1},Au=e=>Math.round(e*1e5)/1e5,ev=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function rL(e){return e==null}const aL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,nv=(e,t)=>n=>!!(typeof n=="string"&&aL.test(n)&&n.startsWith(e)||t&&!rL(n)&&Object.prototype.hasOwnProperty.call(n,t)),nR=(e,t,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,d]=s.match(ev);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},oL=e=>ws(0,255,e),Ip={...el,transform:e=>Math.round(oL(e))},fa={test:nv("rgb","red"),parse:nR("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Ip.transform(e)+", "+Ip.transform(t)+", "+Ip.transform(n)+", "+Au(Uu.transform(s))+")"};function lL(e){let t="",n="",s="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const yg={test:nv("#"),parse:lL,transform:fa.transform},sc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ur=sc("deg"),Ki=sc("%"),Tt=sc("px"),uL=sc("vh"),cL=sc("vw"),OS={...Ki,parse:e=>Ki.parse(e)/100,transform:e=>Ki.transform(e*100)},wo={test:nv("hsl","hue"),parse:nR("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Ki.transform(Au(t))+", "+Ki.transform(Au(n))+", "+Au(Uu.transform(s))+")"},Ne={test:e=>fa.test(e)||yg.test(e)||wo.test(e),parse:e=>fa.test(e)?fa.parse(e):wo.test(e)?wo.parse(e):yg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?fa.transform(e):wo.transform(e),getAnimatableNone:e=>{const t=Ne.parse(e);return t.alpha=0,Ne.transform(t)}},hL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function fL(e){return isNaN(e)&&typeof e=="string"&&(e.match(ev)?.length||0)+(e.match(hL)?.length||0)>0}const iR="number",sR="color",dL="var",mL="var(",PS="${}",pL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ju(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=t.replace(pL,p=>(Ne.test(p)?(s.color.push(l),a.push(sR),n.push(Ne.parse(p))):p.startsWith(mL)?(s.var.push(l),a.push(dL),n.push(p)):(s.number.push(l),a.push(iR),n.push(parseFloat(p))),++l,PS)).split(PS);return{values:n,split:d,indexes:s,types:a}}function rR(e){return ju(e).values}function aR(e){const{split:t,types:n}=ju(e),s=t.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=t[c],a[c]!==void 0){const d=n[c];d===iR?l+=Au(a[c]):d===sR?l+=Ne.transform(a[c]):l+=a[c]}return l}}const gL=e=>typeof e=="number"?0:Ne.test(e)?Ne.getAnimatableNone(e):e;function yL(e){const t=rR(e);return aR(e)(t.map(gL))}const Rr={test:fL,parse:rR,createTransformer:aR,getAnimatableNone:yL};function xp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function vL({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let a=0,l=0,c=0;if(!t)a=l=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,p=2*n-d;a=xp(p,d,e+1/3),l=xp(p,d,e),c=xp(p,d,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Df(e,t){return n=>n>0?t:e}const ce=(e,t,n)=>e+(t-e)*n,Dp=(e,t,n)=>{const s=e*e,a=n*(t*t-s)+s;return a<0?0:Math.sqrt(a)},_L=[yg,fa,wo],TL=e=>_L.find(t=>t.test(e));function LS(e){const t=TL(e);if(!t)return!1;let n=t.parse(e);return t===wo&&(n=vL(n)),n}const kS=(e,t)=>{const n=LS(e),s=LS(t);if(!n||!s)return Df(e,t);const a={...n};return l=>(a.red=Dp(n.red,s.red,l),a.green=Dp(n.green,s.green,l),a.blue=Dp(n.blue,s.blue,l),a.alpha=ce(n.alpha,s.alpha,l),fa.transform(a))},vg=new Set(["none","hidden"]);function EL(e,t){return vg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function SL(e,t){return n=>ce(e,t,n)}function iv(e){return typeof e=="number"?SL:typeof e=="string"?tv(e)?Df:Ne.test(e)?kS:wL:Array.isArray(e)?oR:typeof e=="object"?Ne.test(e)?kS:AL:Df}function oR(e,t){const n=[...e],s=n.length,a=e.map((l,c)=>iv(l)(l,t[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function AL(e,t){const n={...e,...t},s={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(s[a]=iv(e[a])(e[a],t[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function bL(e,t){const n=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=e.indexes[l][s[l]],d=e.values[c]??0;n[a]=d,s[l]++}return n}const wL=(e,t)=>{const n=Rr.createTransformer(t),s=ju(e),a=ju(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?vg.has(e)&&!a.values.length||vg.has(t)&&!s.values.length?EL(e,t):nc(oR(bL(s,a),a.values),n):Df(e,t)};function lR(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ce(e,t,n):iv(e)(e,t)}const RL=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ue.update(t,n),stop:()=>wr(t),now:()=>We.isProcessing?We.timestamp:Tn.now()}},uR=(e,t,n=10)=>{let s="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)s+=Math.round(e(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Vf=2e4;function sv(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<Vf;)t+=n,s=e.next(t);return t>=Vf?1/0:t}function CL(e,t=100,n){const s=n({...e,keyframes:[0,t]}),a=Math.min(sv(s),Vf);return{type:"keyframes",ease:l=>s.next(a*l).value/t,duration:Yn(a)}}const IL=5;function cR(e,t,n){const s=Math.max(t-IL,0);return Hw(n-e(s),t-s)}const ge={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Vp=.001;function xL({duration:e=ge.duration,bounce:t=ge.bounce,velocity:n=ge.velocity,mass:s=ge.mass}){let a,l,c=1-t;c=ws(ge.minDamping,ge.maxDamping,c),e=ws(ge.minDuration,ge.maxDuration,Yn(e)),c<1?(a=g=>{const y=g*c,_=y*e,S=y-n,C=_g(g,c),O=Math.exp(-_);return Vp-S/C*O},l=g=>{const _=g*c*e,S=_*n+n,C=Math.pow(c,2)*Math.pow(g,2)*e,O=Math.exp(-_),U=_g(Math.pow(g,2),c);return(-a(g)+Vp>0?-1:1)*((S-C)*O)/U}):(a=g=>{const y=Math.exp(-g*e),_=(g-n)*e+1;return-Vp+y*_},l=g=>{const y=Math.exp(-g*e),_=(n-g)*(e*e);return y*_});const d=5/e,p=VL(a,l,d);if(e=Gi(e),isNaN(p))return{stiffness:ge.stiffness,damping:ge.damping,duration:e};{const g=Math.pow(p,2)*s;return{stiffness:g,damping:c*2*Math.sqrt(s*g),duration:e}}}const DL=12;function VL(e,t,n){let s=n;for(let a=1;a<DL;a++)s=s-e(s)/t(s);return s}function _g(e,t){return e*Math.sqrt(1-t*t)}const NL=["duration","bounce"],ML=["stiffness","damping","mass"];function US(e,t){return t.some(n=>e[n]!==void 0)}function OL(e){let t={velocity:ge.velocity,stiffness:ge.stiffness,damping:ge.damping,mass:ge.mass,isResolvedFromDuration:!1,...e};if(!US(e,ML)&&US(e,NL))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*ws(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:ge.mass,stiffness:a,damping:l}}else{const n=xL(e);t={...t,...n,mass:ge.mass},t.isResolvedFromDuration=!0}return t}function Nf(e=ge.visualDuration,t=ge.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:p,damping:g,mass:y,duration:_,velocity:S,isResolvedFromDuration:C}=OL({...n,velocity:-Yn(n.velocity||0)}),O=S||0,U=g/(2*Math.sqrt(p*y)),k=c-l,B=Yn(Math.sqrt(p/y)),G=Math.abs(k)<5;s||(s=G?ge.restSpeed.granular:ge.restSpeed.default),a||(a=G?ge.restDelta.granular:ge.restDelta.default);let Q;if(U<1){const at=_g(B,U);Q=st=>{const R=Math.exp(-U*B*st);return c-R*((O+U*B*k)/at*Math.sin(at*st)+k*Math.cos(at*st))}}else if(U===1)Q=at=>c-Math.exp(-B*at)*(k+(O+B*k)*at);else{const at=B*Math.sqrt(U*U-1);Q=st=>{const R=Math.exp(-U*B*st),b=Math.min(at*st,300);return c-R*((O+U*B*k)*Math.sinh(b)+at*k*Math.cosh(b))/at}}const lt={calculatedDuration:C&&_||null,next:at=>{const st=Q(at);if(C)d.done=at>=_;else{let R=at===0?O:0;U<1&&(R=at===0?Gi(O):cR(Q,at,st));const b=Math.abs(R)<=s,I=Math.abs(c-st)<=a;d.done=b&&I}return d.value=d.done?c:st,d},toString:()=>{const at=Math.min(sv(lt),Vf),st=uR(R=>lt.next(at*R).value,at,30);return at+"ms "+st},toTransition:()=>{}};return lt}Nf.applyToOptions=e=>{const t=CL(e,100,Nf);return e.ease=t.ease,e.duration=Gi(t.duration),e.type="keyframes",e};function Tg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:p,restDelta:g=.5,restSpeed:y}){const _=e[0],S={done:!1,value:_},C=b=>d!==void 0&&b<d||p!==void 0&&b>p,O=b=>d===void 0?p:p===void 0||Math.abs(d-b)<Math.abs(p-b)?d:p;let U=n*t;const k=_+U,B=c===void 0?k:c(k);B!==k&&(U=B-_);const G=b=>-U*Math.exp(-b/s),Q=b=>B+G(b),lt=b=>{const I=G(b),M=Q(b);S.done=Math.abs(I)<=g,S.value=S.done?B:M};let at,st;const R=b=>{C(S.value)&&(at=b,st=Nf({keyframes:[S.value,O(S.value)],velocity:cR(Q,b,S.value),damping:a,stiffness:l,restDelta:g,restSpeed:y}))};return R(0),{calculatedDuration:null,next:b=>{let I=!1;return!st&&at===void 0&&(I=!0,lt(b),R(b)),at!==void 0&&b>=at?st.next(b-at):(!I&&lt(b),S)}}}function PL(e,t,n){const s=[],a=n||Rs.mix||lR,l=e.length-1;for(let c=0;c<l;c++){let d=a(e[c],e[c+1]);if(t){const p=Array.isArray(t)?t[c]||Qn:t;d=nc(p,d)}s.push(d)}return s}function LL(e,t,{clamp:n=!0,ease:s,mixer:a}={}){const l=e.length;if(Qy(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=PL(t,s,a),p=d.length,g=y=>{if(c&&y<e[0])return t[0];let _=0;if(p>1)for(;_<e.length-2&&!(y<e[_+1]);_++);const S=ku(e[_],e[_+1],y);return d[_](S)};return n?y=>g(ws(e[0],e[l-1],y)):g}function kL(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const a=ku(0,t,s);e.push(ce(n,1,a))}}function UL(e){const t=[0];return kL(t,e.length-1),t}function jL(e,t){return e.map(n=>n*t)}function zL(e,t){return e.map(()=>t||Zw).splice(0,e.length-1)}function bu({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const a=W4(s)?s.map(MS):MS(s),l={done:!1,value:t[0]},c=jL(n&&n.length===t.length?n:UL(t),e),d=LL(c,t,{ease:Array.isArray(a)?a:zL(t,a)});return{calculatedDuration:e,next:p=>(l.value=d(p),l.done=p>=e,l)}}const BL=e=>e!==null;function rv(e,{repeat:t,repeatType:n="loop"},s,a=1){const l=e.filter(BL),d=a<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const FL={decay:Tg,inertia:Tg,tween:bu,keyframes:bu,spring:Nf};function hR(e){typeof e.type=="string"&&(e.type=FL[e.type])}class av{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const HL=e=>e/100;class ov extends av{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Tn.now()&&this.tick(Tn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;hR(t);const{type:n=bu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:d}=t;const p=n||bu;p!==bu&&typeof d[0]!="number"&&(this.mixKeyframes=nc(HL,lR(d[0],d[1])),d=[0,100]);const g=p({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...d].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=sv(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=g}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:p}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:y,repeat:_,repeatType:S,repeatDelay:C,type:O,onUpdate:U,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const B=this.currentTime-g*(this.playbackSpeed>=0?1:-1),G=this.playbackSpeed>=0?B<0:B>a;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let Q=this.currentTime,lt=s;if(_){const b=Math.min(this.currentTime,a)/d;let I=Math.floor(b),M=b%1;!M&&b>=1&&(M=1),M===1&&I--,I=Math.min(I,_+1),!!(I%2)&&(S==="reverse"?(M=1-M,C&&(M-=C/d)):S==="mirror"&&(lt=c)),Q=ws(0,1,M)*d}const at=G?{done:!1,value:y[0]}:lt.next(Q);l&&(at.value=l(at.value));let{done:st}=at;!G&&p!==null&&(st=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&st);return R&&O!==Tg&&(at.value=rv(y,this.options,k,this.speed)),U&&U(at.value),R&&this.finish(),at}then(t,n){return this.finished.then(t,n)}get duration(){return Yn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Yn(t)}get time(){return Yn(this.currentTime)}set time(t){t=Gi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Tn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Yn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=RL,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Tn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function qL(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const da=e=>e*180/Math.PI,Eg=e=>{const t=da(Math.atan2(e[1],e[0]));return Sg(t)},GL={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Eg,rotateZ:Eg,skewX:e=>da(Math.atan(e[1])),skewY:e=>da(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Sg=e=>(e=e%360,e<0&&(e+=360),e),jS=Eg,zS=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),BS=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),KL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:zS,scaleY:BS,scale:e=>(zS(e)+BS(e))/2,rotateX:e=>Sg(da(Math.atan2(e[6],e[5]))),rotateY:e=>Sg(da(Math.atan2(-e[2],e[0]))),rotateZ:jS,rotate:jS,skewX:e=>da(Math.atan(e[4])),skewY:e=>da(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Ag(e){return e.includes("scale")?1:0}function bg(e,t){if(!e||e==="none")return Ag(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=KL,a=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=GL,a=d}if(!a)return Ag(t);const l=s[t],c=a[1].split(",").map(QL);return typeof l=="function"?l(c):c[l]}const YL=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return bg(n,t)};function QL(e){return parseFloat(e.trim())}const nl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],il=new Set(nl),FS=e=>e===el||e===Tt,$L=new Set(["x","y","z"]),XL=nl.filter(e=>!$L.has(e));function WL(e){const t=[];return XL.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const ga={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>bg(t,"x"),y:(e,{transform:t})=>bg(t,"y")};ga.translateX=ga.x;ga.translateY=ga.y;const ya=new Set;let wg=!1,Rg=!1,Cg=!1;function fR(){if(Rg){const e=Array.from(ya).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const a=WL(s);a.length&&(n.set(s,a),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Rg=!1,wg=!1,ya.forEach(e=>e.complete(Cg)),ya.clear()}function dR(){ya.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Rg=!0)})}function ZL(){Cg=!0,dR(),fR(),Cg=!1}class lv{constructor(t,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ya.add(this),wg||(wg=!0,ue.read(dR),ue.resolveKeyframes(fR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:a}=this;if(t[0]===null){const l=a?.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(s&&n){const d=s.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}qL(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ya.delete(this)}cancel(){this.state==="scheduled"&&(ya.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const JL=e=>e.startsWith("--");function tk(e,t,n){JL(t)?e.style.setProperty(t,n):e.style[t]=n}const ek=$y(()=>window.ScrollTimeline!==void 0),nk={};function ik(e,t){const n=$y(e);return()=>nk[t]??n()}const mR=ik(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),gu=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,HS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:gu([0,.65,.55,1]),circOut:gu([.55,0,1,.45]),backIn:gu([.31,.01,.66,-.59]),backOut:gu([.33,1.53,.69,.99])};function pR(e,t){if(e)return typeof e=="function"?mR()?uR(e,t):"ease-out":Jw(e)?gu(e):Array.isArray(e)?e.map(n=>pR(n,t)||HS.easeOut):HS[e]}function sk(e,t,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:p}={},g=void 0){const y={[t]:n};p&&(y.offset=p);const _=pR(d,a);Array.isArray(_)&&(y.easing=_);const S={delay:s,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return g&&(S.pseudoElement=g),e.animate(y,S)}function gR(e){return typeof e=="function"&&"applyToOptions"in e}function rk({type:e,...t}){return gR(e)&&mR()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class ak extends av{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:p}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,Qy(typeof t.type!="string");const g=rk(t);this.animation=sk(n,s,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=rv(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):tk(n,s,y),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Yn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Yn(t)}get time(){return Yn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Gi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&ek()?(this.animation.timeline=t,Qn):n(this)}}const yR={anticipate:$w,backInOut:Qw,circInOut:Ww};function ok(e){return e in yR}function lk(e){typeof e.ease=="string"&&ok(e.ease)&&(e.ease=yR[e.ease])}const qS=10;class uk extends ak{constructor(t){lk(t),hR(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new ov({...c,autoplay:!1}),p=Gi(this.finishedTime??this.time);n.setWithVelocity(d.sample(p-qS).value,d.sample(p).value,qS),d.stop()}}const GS=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Rr.test(e)||e==="0")&&!e.startsWith("url("));function ck(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function hk(e,t,n,s){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=GS(a,t),d=GS(l,t);return!c||!d?!1:ck(e)||(n==="spring"||gR(n))&&s}function Ig(e){e.duration=0,e.type="keyframes"}const fk=new Set(["opacity","clipPath","filter","transform"]),dk=$y(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function mk(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return dk()&&n&&fk.has(n)&&(n!=="transform"||!g)&&!p&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const pk=40;class gk extends av{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:p,motionValue:g,element:y,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Tn.now();const S={autoplay:t,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:p,motionValue:g,element:y,..._},C=y?.KeyframeResolver||lv;this.keyframeResolver=new C(d,(O,U,k)=>this.onKeyframesResolved(O,U,S,!k),p,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:p,isHandoff:g,onUpdate:y}=s;this.resolvedAt=Tn.now(),hk(t,l,c,d)||((Rs.instantAnimations||!p)&&y?.(rv(t,s,n)),t[0]=t[t.length-1],Ig(s),s.repeat=0);const S={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>pk?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},C=!g&&mk(S)?new uk({...S,element:S.motionValue.owner.current}):new ov(S);C.finished.then(()=>this.notifyFinished()).catch(Qn),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),ZL()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const yk=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function vk(e){const t=yk.exec(e);if(!t)return[,];const[,n,s,a]=t;return[`--${n??s}`,a]}function vR(e,t,n=1){const[s,a]=vk(e);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const c=l.trim();return zw(c)?parseFloat(c):c}return tv(a)?vR(a,t,n+1):a}function uv(e,t){return e?.[t]??e?.default??e}const _R=new Set(["width","height","top","left","right","bottom",...nl]),_k={test:e=>e==="auto",parse:e=>e},TR=e=>t=>t.test(e),ER=[el,Tt,Ki,ur,cL,uL,_k],KS=e=>ER.find(TR(e));function Tk(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Fw(e):!0}const Ek=new Set(["brightness","contrast","saturate","opacity"]);function Sk(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(ev)||[];if(!s)return e;const a=n.replace(s,"");let l=Ek.has(t)?1:0;return s!==n&&(l*=100),t+"("+l+a+")"}const Ak=/\b([a-z-]*)\(.*?\)/gu,xg={...Rr,getAnimatableNone:e=>{const t=e.match(Ak);return t?t.map(Sk).join(" "):e}},YS={...el,transform:Math.round},bk={rotate:ur,rotateX:ur,rotateY:ur,rotateZ:ur,scale:Hh,scaleX:Hh,scaleY:Hh,scaleZ:Hh,skew:ur,skewX:ur,skewY:ur,distance:Tt,translateX:Tt,translateY:Tt,translateZ:Tt,x:Tt,y:Tt,z:Tt,perspective:Tt,transformPerspective:Tt,opacity:Uu,originX:OS,originY:OS,originZ:Tt},cv={borderWidth:Tt,borderTopWidth:Tt,borderRightWidth:Tt,borderBottomWidth:Tt,borderLeftWidth:Tt,borderRadius:Tt,radius:Tt,borderTopLeftRadius:Tt,borderTopRightRadius:Tt,borderBottomRightRadius:Tt,borderBottomLeftRadius:Tt,width:Tt,maxWidth:Tt,height:Tt,maxHeight:Tt,top:Tt,right:Tt,bottom:Tt,left:Tt,padding:Tt,paddingTop:Tt,paddingRight:Tt,paddingBottom:Tt,paddingLeft:Tt,margin:Tt,marginTop:Tt,marginRight:Tt,marginBottom:Tt,marginLeft:Tt,backgroundPositionX:Tt,backgroundPositionY:Tt,...bk,zIndex:YS,fillOpacity:Uu,strokeOpacity:Uu,numOctaves:YS},wk={...cv,color:Ne,backgroundColor:Ne,outlineColor:Ne,fill:Ne,stroke:Ne,borderColor:Ne,borderTopColor:Ne,borderRightColor:Ne,borderBottomColor:Ne,borderLeftColor:Ne,filter:xg,WebkitFilter:xg},SR=e=>wk[e];function AR(e,t){let n=SR(e);return n!==xg&&(n=Rr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Rk=new Set(["auto","none","0"]);function Ck(e,t,n){let s=0,a;for(;s<e.length&&!a;){const l=e[s];typeof l=="string"&&!Rk.has(l)&&ju(l).values.length&&(a=e[s]),s++}if(a&&n)for(const l of t)e[l]=AR(n,a)}class Ik extends lv{constructor(t,n,s,a,l){super(t,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),tv(g))){const y=vR(g,n.current);y!==void 0&&(t[p]=y),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!_R.has(s)||t.length!==2)return;const[a,l]=t,c=KS(a),d=KS(l);if(c!==d)if(FS(c)&&FS(d))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else ga[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||Tk(t[a]))&&s.push(a);s.length&&Ck(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ga[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=ga[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,p])=>{t.getValue(d).set(p)}),this.resolveNoneKeyframes()}}function xk(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const a=n?.[e]??s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const bR=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function wR(e){return Bw(e)&&"offsetHeight"in e}const QS=30,Dk=e=>!isNaN(parseFloat(e));class Vk{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Tn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Tn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Dk(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Xy);const s=this.events[t].add(n);return t==="change"?()=>{s(),ue.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Tn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>QS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,QS);return Hw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qo(e,t){return new Vk(e,t)}const{schedule:hv}=tR(queueMicrotask,!1),ci={x:!1,y:!1};function RR(){return ci.x||ci.y}function Nk(e){return e==="x"||e==="y"?ci[e]?null:(ci[e]=!0,()=>{ci[e]=!1}):ci.x||ci.y?null:(ci.x=ci.y=!0,()=>{ci.x=ci.y=!1})}function CR(e,t){const n=xk(e),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[n,a,()=>s.abort()]}function $S(e){return!(e.pointerType==="touch"||RR())}function Mk(e,t,n={}){const[s,a,l]=CR(e,n),c=d=>{if(!$S(d))return;const{target:p}=d,g=t(p,d);if(typeof g!="function"||!p)return;const y=_=>{$S(_)&&(g(_),p.removeEventListener("pointerleave",y))};p.addEventListener("pointerleave",y,a)};return s.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const IR=(e,t)=>t?e===t?!0:IR(e,t.parentElement):!1,fv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Ok=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Pk(e){return Ok.has(e.tagName)||e.tabIndex!==-1}const af=new WeakSet;function XS(e){return t=>{t.key==="Enter"&&e(t)}}function Np(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Lk=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=XS(()=>{if(af.has(n))return;Np(n,"down");const a=XS(()=>{Np(n,"up")}),l=()=>Np(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function WS(e){return fv(e)&&!RR()}function kk(e,t,n={}){const[s,a,l]=CR(e,n),c=d=>{const p=d.currentTarget;if(!WS(d))return;af.add(p);const g=t(p,d),y=(C,O)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",S),af.has(p)&&af.delete(p),WS(C)&&typeof g=="function"&&g(C,{success:O})},_=C=>{y(C,p===window||p===document||n.useGlobalTarget||IR(p,C.target))},S=C=>{y(C,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",S,a)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),wR(d)&&(d.addEventListener("focus",g=>Lk(g,a)),!Pk(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function xR(e){return Bw(e)&&"ownerSVGElement"in e}function Uk(e){return xR(e)&&e.tagName==="svg"}const an=e=>!!(e&&e.getVelocity),jk=[...ER,Ne,Rr],zk=e=>jk.find(TR(e)),dv=V.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function ZS(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Bk(...e){return t=>{let n=!1;const s=e.map(a=>{const l=ZS(a,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():ZS(e[a],null)}}}}function Fk(...e){return V.useCallback(Bk(...e),e)}class Hk extends V.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=wR(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function qk({children:e,isPresent:t,anchorX:n,root:s}){const a=V.useId(),l=V.useRef(null),c=V.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=V.useContext(dv),p=Fk(l,e?.ref);return V.useInsertionEffect(()=>{const{width:g,height:y,top:_,left:S,right:C}=c.current;if(t||!l.current||!g||!y)return;const O=n==="left"?`left: ${S}`:`right: ${C}`;l.current.dataset.motionPopId=a;const U=document.createElement("style");d&&(U.nonce=d);const k=s??document.head;return k.appendChild(U),U.sheet&&U.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${y}px !important;
            ${O}px !important;
            top: ${_}px !important;
          }
        `),()=>{k.contains(U)&&k.removeChild(U)}},[t]),Y.jsx(Hk,{isPresent:t,childRef:l,sizeRef:c,children:V.cloneElement(e,{ref:p})})}const Gk=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:d,root:p})=>{const g=qy(Kk),y=V.useId();let _=!0,S=V.useMemo(()=>(_=!1,{id:y,initial:t,isPresent:n,custom:a,onExitComplete:C=>{g.set(C,!0);for(const O of g.values())if(!O)return;s&&s()},register:C=>(g.set(C,!1),()=>g.delete(C))}),[n,g,s]);return l&&_&&(S={...S}),V.useMemo(()=>{g.forEach((C,O)=>g.set(O,!1))},[n]),V.useEffect(()=>{!n&&!g.size&&s&&s()},[n]),c==="popLayout"&&(e=Y.jsx(qk,{isPresent:n,anchorX:d,root:p,children:e})),Y.jsx(nd.Provider,{value:S,children:e})};function Kk(){return new Map}function DR(e=!0){const t=V.useContext(nd);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=t,l=V.useId();V.useEffect(()=>{if(e)return a(l)},[e]);const c=V.useCallback(()=>e&&s&&s(l),[l,s,e]);return!n&&s?[!1,c]:[!0]}const qh=e=>e.key||"";function JS(e){const t=[];return V.Children.forEach(e,n=>{V.isValidElement(n)&&t.push(n)}),t}const VR=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",root:p})=>{const[g,y]=DR(c),_=V.useMemo(()=>JS(e),[e]),S=c&&!g?[]:_.map(qh),C=V.useRef(!0),O=V.useRef(_),U=qy(()=>new Map),[k,B]=V.useState(_),[G,Q]=V.useState(_);jw(()=>{C.current=!1,O.current=_;for(let st=0;st<G.length;st++){const R=qh(G[st]);S.includes(R)?U.delete(R):U.get(R)!==!0&&U.set(R,!1)}},[G,S.length,S.join("-")]);const lt=[];if(_!==k){let st=[..._];for(let R=0;R<G.length;R++){const b=G[R],I=qh(b);S.includes(I)||(st.splice(R,0,b),lt.push(b))}return l==="wait"&&lt.length&&(st=lt),Q(JS(st)),B(_),null}const{forceRender:at}=V.useContext(Hy);return Y.jsx(Y.Fragment,{children:G.map(st=>{const R=qh(st),b=c&&!g?!1:_===G||S.includes(R),I=()=>{if(U.has(R))U.set(R,!0);else return;let M=!0;U.forEach(N=>{N||(M=!1)}),M&&(at?.(),Q(O.current),c&&y?.(),s&&s())};return Y.jsx(Gk,{isPresent:b,initial:!C.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:b?void 0:I,anchorX:d,children:st},R)})})},NR=V.createContext({strict:!1}),tA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Go={};for(const e in tA)Go[e]={isEnabled:t=>tA[e].some(n=>!!t[n])};function Yk(e){for(const t in e)Go[t]={...Go[t],...e[t]}}const Qk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Mf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Qk.has(e)}let MR=e=>!Mf(e);function $k(e){typeof e=="function"&&(MR=t=>t.startsWith("on")?!Mf(t):e(t))}try{$k(require("@emotion/is-prop-valid").default)}catch{}function Xk(e,t,n){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(MR(a)||n===!0&&Mf(a)||!t&&!Mf(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}const id=V.createContext({});function sd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function zu(e){return typeof e=="string"||Array.isArray(e)}const mv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],pv=["initial",...mv];function rd(e){return sd(e.animate)||pv.some(t=>zu(e[t]))}function OR(e){return!!(rd(e)||e.variants)}function Wk(e,t){if(rd(e)){const{initial:n,animate:s}=e;return{initial:n===!1||zu(n)?n:void 0,animate:zu(s)?s:void 0}}return e.inherit!==!1?t:{}}function Zk(e){const{initial:t,animate:n}=Wk(e,V.useContext(id));return V.useMemo(()=>({initial:t,animate:n}),[eA(t),eA(n)])}function eA(e){return Array.isArray(e)?e.join(" "):e}const Bu={};function Jk(e){for(const t in e)Bu[t]=e[t],Jy(t)&&(Bu[t].isCSSVariable=!0)}function PR(e,{layout:t,layoutId:n}){return il.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Bu[e]||e==="opacity")}const t3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},e3=nl.length;function n3(e,t,n){let s="",a=!0;for(let l=0;l<e3;l++){const c=nl[l],d=e[c];if(d===void 0)continue;let p=!0;if(typeof d=="number"?p=d===(c.startsWith("scale")?1:0):p=parseFloat(d)===0,!p||n){const g=bR(d,cv[c]);if(!p){a=!1;const y=t3[c]||c;s+=`${y}(${g}) `}n&&(t[c]=g)}}return s=s.trim(),n?s=n(t,a?"":s):a&&(s="none"),s}function gv(e,t,n){const{style:s,vars:a,transformOrigin:l}=e;let c=!1,d=!1;for(const p in t){const g=t[p];if(il.has(p)){c=!0;continue}else if(Jy(p)){a[p]=g;continue}else{const y=bR(g,cv[p]);p.startsWith("origin")?(d=!0,l[p]=y):s[p]=y}}if(t.transform||(c||n?s.transform=n3(t,e.transform,n):s.transform&&(s.transform="none")),d){const{originX:p="50%",originY:g="50%",originZ:y=0}=l;s.transformOrigin=`${p} ${g} ${y}`}}const yv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function LR(e,t,n){for(const s in t)!an(t[s])&&!PR(s,n)&&(e[s]=t[s])}function i3({transformTemplate:e},t){return V.useMemo(()=>{const n=yv();return gv(n,t,e),Object.assign({},n.vars,n.style)},[t])}function s3(e,t){const n=e.style||{},s={};return LR(s,n,e),Object.assign(s,i3(e,t)),s}function r3(e,t){const n={},s=s3(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const a3={offset:"stroke-dashoffset",array:"stroke-dasharray"},o3={offset:"strokeDashoffset",array:"strokeDasharray"};function l3(e,t,n=1,s=0,a=!0){e.pathLength=1;const l=a?a3:o3;e[l.offset]=Tt.transform(-s);const c=Tt.transform(t),d=Tt.transform(n);e[l.array]=`${c} ${d}`}function kR(e,{attrX:t,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},p,g,y){if(gv(e,d,g),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:_,style:S}=e;_.transform&&(S.transform=_.transform,delete _.transform),(S.transform||_.transformOrigin)&&(S.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),S.transform&&(S.transformBox=y?.transformBox??"fill-box",delete _.transformBox),t!==void 0&&(_.x=t),n!==void 0&&(_.y=n),s!==void 0&&(_.scale=s),a!==void 0&&l3(_,a,l,c,!1)}const UR=()=>({...yv(),attrs:{}}),jR=e=>typeof e=="string"&&e.toLowerCase()==="svg";function u3(e,t,n,s){const a=V.useMemo(()=>{const l=UR();return kR(l,t,jR(s),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};LR(l,e.style,e),a.style={...l,...a.style}}return a}const c3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function vv(e){return typeof e!="string"||e.includes("-")?!1:!!(c3.indexOf(e)>-1||/[A-Z]/u.test(e))}function h3(e,t,n,{latestValues:s},a,l=!1){const d=(vv(e)?u3:r3)(t,s,a,e),p=Xk(t,typeof e=="string",l),g=e!==V.Fragment?{...p,...d,ref:n}:{},{children:y}=t,_=V.useMemo(()=>an(y)?y.get():y,[y]);return V.createElement(e,{...g,children:_})}function nA(e){const t=[{},{}];return e?.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function _v(e,t,n,s){if(typeof t=="function"){const[a,l]=nA(s);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=nA(s);t=t(n!==void 0?n:e.custom,a,l)}return t}function of(e){return an(e)?e.get():e}function f3({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,a){return{latestValues:d3(n,s,a,e),renderState:t()}}function d3(e,t,n,s){const a={},l=s(e,{});for(const S in l)a[S]=of(l[S]);let{initial:c,animate:d}=e;const p=rd(e),g=OR(e);t&&g&&!p&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?d:c;if(_&&typeof _!="boolean"&&!sd(_)){const S=Array.isArray(_)?_:[_];for(let C=0;C<S.length;C++){const O=_v(e,S[C]);if(O){const{transitionEnd:U,transition:k,...B}=O;for(const G in B){let Q=B[G];if(Array.isArray(Q)){const lt=y?Q.length-1:0;Q=Q[lt]}Q!==null&&(a[G]=Q)}for(const G in U)a[G]=U[G]}}}return a}const zR=e=>(t,n)=>{const s=V.useContext(id),a=V.useContext(nd),l=()=>f3(e,t,s,a);return n?l():qy(l)};function Tv(e,t,n){const{style:s}=e,a={};for(const l in s)(an(s[l])||t.style&&an(t.style[l])||PR(l,e)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const m3=zR({scrapeMotionValuesFromProps:Tv,createRenderState:yv});function BR(e,t,n){const s=Tv(e,t,n);for(const a in e)if(an(e[a])||an(t[a])){const l=nl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=e[a]}return s}const p3=zR({scrapeMotionValuesFromProps:BR,createRenderState:UR}),g3=Symbol.for("motionComponentSymbol");function Ro(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function y3(e,t,n){return V.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):Ro(n)&&(n.current=s))},[t])}const Ev=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),v3="framerAppearId",FR="data-"+Ev(v3),HR=V.createContext({});function _3(e,t,n,s,a){const{visualElement:l}=V.useContext(id),c=V.useContext(NR),d=V.useContext(nd),p=V.useContext(dv).reducedMotion,g=V.useRef(null);s=s||c.renderer,!g.current&&s&&(g.current=s(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p}));const y=g.current,_=V.useContext(HR);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&T3(g.current,n,a,_);const S=V.useRef(!1);V.useInsertionEffect(()=>{y&&S.current&&y.update(n,d)});const C=n[FR],O=V.useRef(!!C&&!window.MotionHandoffIsComplete?.(C)&&window.MotionHasOptimisedAnimation?.(C));return jw(()=>{y&&(S.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),O.current&&y.animationState&&y.animationState.animateChanges())}),V.useEffect(()=>{y&&(!O.current&&y.animationState&&y.animationState.animateChanges(),O.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(C)}),O.current=!1),y.enteringChildren=void 0)}),y}function T3(e,t,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:p,layoutRoot:g,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:qR(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&Ro(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:p,layoutRoot:g})}function qR(e){if(e)return e.options.allowProjection!==!1?e.projection:qR(e.parent)}function Mp(e,{forwardMotionProps:t=!1}={},n,s){n&&Yk(n);const a=vv(e)?p3:m3;function l(d,p){let g;const y={...V.useContext(dv),...d,layoutId:E3(d)},{isStatic:_}=y,S=Zk(d),C=a(d,_);if(!_&&Gy){S3();const O=A3(y);g=O.MeasureLayout,S.visualElement=_3(e,C,y,s,O.ProjectionNode)}return Y.jsxs(id.Provider,{value:S,children:[g&&S.visualElement?Y.jsx(g,{visualElement:S.visualElement,...y}):null,h3(e,d,y3(C,S.visualElement,p),C,_,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=V.forwardRef(l);return c[g3]=e,c}function E3({layoutId:e}){const t=V.useContext(Hy).id;return t&&e!==void 0?t+"-"+e:e}function S3(e,t){V.useContext(NR).strict}function A3(e){const{drag:t,layout:n}=Go;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function b3(e,t){if(typeof Proxy>"u")return Mp;const n=new Map,s=(l,c)=>Mp(l,c,e,t),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,Mp(c,void 0,e,t)),n.get(c))})}function GR({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function w3({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function R3(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Op(e){return e===void 0||e===1}function Dg({scale:e,scaleX:t,scaleY:n}){return!Op(e)||!Op(t)||!Op(n)}function ua(e){return Dg(e)||KR(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function KR(e){return iA(e.x)||iA(e.y)}function iA(e){return e&&e!=="0%"}function Of(e,t,n){const s=e-n,a=t*s;return n+a}function sA(e,t,n,s,a){return a!==void 0&&(e=Of(e,a,s)),Of(e,n,s)+t}function Vg(e,t=0,n=1,s,a){e.min=sA(e.min,t,n,s,a),e.max=sA(e.max,t,n,s,a)}function YR(e,{x:t,y:n}){Vg(e.x,t.translate,t.scale,t.originPoint),Vg(e.y,n.translate,n.scale,n.originPoint)}const rA=.999999999999,aA=1.0000000000001;function C3(e,t,n,s=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Io(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,YR(e,c)),s&&ua(l.latestValues)&&Io(e,l.latestValues))}t.x<aA&&t.x>rA&&(t.x=1),t.y<aA&&t.y>rA&&(t.y=1)}function Co(e,t){e.min=e.min+t,e.max=e.max+t}function oA(e,t,n,s,a=.5){const l=ce(e.min,e.max,a);Vg(e,t,n,l,s)}function Io(e,t){oA(e.x,t.x,t.scaleX,t.scale,t.originX),oA(e.y,t.y,t.scaleY,t.scale,t.originY)}function QR(e,t){return GR(R3(e.getBoundingClientRect(),t))}function I3(e,t,n){const s=QR(e,n),{scroll:a}=t;return a&&(Co(s.x,a.offset.x),Co(s.y,a.offset.y)),s}const lA=()=>({translate:0,scale:1,origin:0,originPoint:0}),xo=()=>({x:lA(),y:lA()}),uA=()=>({min:0,max:0}),je=()=>({x:uA(),y:uA()}),Ng={current:null},$R={current:!1};function x3(){if($R.current=!0,!!Gy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ng.current=e.matches;e.addEventListener("change",t),t()}else Ng.current=!1}const D3=new WeakMap;function V3(e,t,n){for(const s in t){const a=t[s],l=n[s];if(an(a))e.addValue(s,a);else if(an(l))e.addValue(s,qo(a,{owner:e}));else if(l!==a)if(e.hasValue(s)){const c=e.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(s);e.addValue(s,qo(c!==void 0?c:a,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const cA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class N3{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=lv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=Tn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,ue.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=rd(n),this.isVariantNode=OR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in _){const C=_[S];p[S]!==void 0&&an(C)&&C.set(p[S])}}mount(t){this.current=t,D3.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),$R.current||x3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ng.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),wr(this.notifyUpdate),wr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=il.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ue.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Go){const n=Go[t];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):je()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<cA.length;s++){const a=cA[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=V3(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=qo(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(zw(s)||Fw(s))?s=parseFloat(s):!zk(s)&&Rr.test(n)&&(s=AR(t,n)),this.setBaseTarget(t,an(s)?s.get():s)),an(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=_v(this.props,n,this.presenceContext?.custom);l&&(s=l[t])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!an(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Xy),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){hv.render(this.render)}}class XR extends N3{constructor(){super(...arguments),this.KeyframeResolver=Ik}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;an(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function WR(e,{style:t,vars:n},s,a){const l=e.style;let c;for(c in t)l[c]=t[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function M3(e){return window.getComputedStyle(e)}class O3 extends XR{constructor(){super(...arguments),this.type="html",this.renderInstance=WR}readValueFromInstance(t,n){if(il.has(n))return this.projection?.isProjecting?Ag(n):YL(t,n);{const s=M3(t),a=(Jy(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return QR(t,n)}build(t,n,s){gv(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return Tv(t,n,s)}}const ZR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function P3(e,t,n,s){WR(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(ZR.has(a)?a:Ev(a),t.attrs[a])}class L3 extends XR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=je}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(il.has(n)){const s=SR(n);return s&&s.default||0}return n=ZR.has(n)?n:Ev(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return BR(t,n,s)}build(t,n,s){kR(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,a){P3(t,n,s,a)}mount(t){this.isSVGTag=jR(t.tagName),super.mount(t)}}const k3=(e,t)=>vv(e)?new L3(t):new O3(t,{allowProjection:e!==V.Fragment});function Po(e,t,n){const s=e.getProps();return _v(s,t,n!==void 0?n:s.custom,e)}const Mg=e=>Array.isArray(e);function U3(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,qo(n))}function j3(e){return Mg(e)?e[e.length-1]||0:e}function z3(e,t){const n=Po(e,t);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const d=j3(l[c]);U3(e,c,d)}}function B3(e){return!!(an(e)&&e.add)}function Og(e,t){const n=e.getValue("willChange");if(B3(n))return n.add(t);if(!n&&Rs.WillChange){const s=new Rs.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function JR(e){return e.props[FR]}const F3=e=>e!==null;function H3(e,{repeat:t,repeatType:n="loop"},s){const a=e.filter(F3),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[l]}const q3={type:"spring",stiffness:500,damping:25,restSpeed:10},G3=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),K3={type:"keyframes",duration:.8},Y3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Q3=(e,{keyframes:t})=>t.length>2?K3:il.has(e)?e.startsWith("scale")?G3(t[1]):q3:Y3;function $3({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:p,elapsed:g,...y}){return!!Object.keys(y).length}const Sv=(e,t,n,s={},a,l)=>c=>{const d=uv(s,e)||{},p=d.delay||s.delay||0;let{elapsed:g=0}=s;g=g-Gi(p);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:S=>{t.set(S),d.onUpdate&&d.onUpdate(S)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:a};$3(d)||Object.assign(y,Q3(e,y)),y.duration&&(y.duration=Gi(y.duration)),y.repeatDelay&&(y.repeatDelay=Gi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Ig(y),y.delay===0&&(_=!0)),(Rs.instantAnimations||Rs.skipAnimations)&&(_=!0,Ig(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,_&&!l&&t.get()!==void 0){const S=H3(y.keyframes,d);if(S!==void 0){ue.update(()=>{y.onUpdate(S),y.onComplete()});return}}return d.isSync?new ov(y):new gk(y)};function X3({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function tC(e,t,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...d}=t;s&&(l=s);const p=[],g=a&&e.animationState&&e.animationState.getState()[a];for(const y in d){const _=e.getValue(y,e.latestValues[y]??null),S=d[y];if(S===void 0||g&&X3(g,y))continue;const C={delay:n,...uv(l||{},y)},O=_.get();if(O!==void 0&&!_.isAnimating&&!Array.isArray(S)&&S===O&&!C.velocity)continue;let U=!1;if(window.MotionHandoffAnimation){const B=JR(e);if(B){const G=window.MotionHandoffAnimation(B,y,ue);G!==null&&(C.startTime=G,U=!0)}}Og(e,y),_.start(Sv(y,_,S,e.shouldReduceMotion&&_R.has(y)?{type:!1}:C,e,U));const k=_.animation;k&&p.push(k)}return c&&Promise.all(p).then(()=>{ue.update(()=>{c&&z3(e,c)})}),p}function eC(e,t,n,s=0,a=1){const l=Array.from(e).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),c=e.size,d=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:d-l*s}function Pg(e,t,n={}){const s=Po(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(tC(e,s,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:_}=a;return W3(e,t,p,g,y,_,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[p,g]=d==="beforeChildren"?[l,c]:[c,l];return p().then(()=>g())}else return Promise.all([l(),c(n.delay)])}function W3(e,t,n=0,s=0,a=0,l=1,c){const d=[];for(const p of e.variantChildren)p.notify("AnimationStart",t),d.push(Pg(p,t,{...c,delay:n+(typeof s=="function"?0:s)+eC(e.variantChildren,p,s,a,l)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(d)}function Z3(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(l=>Pg(e,l,n));s=Promise.all(a)}else if(typeof t=="string")s=Pg(e,t,n);else{const a=typeof t=="function"?Po(e,t,n.custom):t;s=Promise.all(tC(e,a,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function nC(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const J3=pv.length;function iC(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?iC(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<J3;n++){const s=pv[n],a=e.props[s];(zu(a)||a===!1)&&(t[s]=a)}return t}const t6=[...mv].reverse(),e6=mv.length;function n6(e){return t=>Promise.all(t.map(({animation:n,options:s})=>Z3(e,n,s)))}function i6(e){let t=n6(e),n=hA(),s=!0;const a=p=>(g,y)=>{const _=Po(e,y,p==="exit"?e.presenceContext?.custom:void 0);if(_){const{transition:S,transitionEnd:C,...O}=_;g={...g,...O,...C}}return g};function l(p){t=p(e)}function c(p){const{props:g}=e,y=iC(e.parent)||{},_=[],S=new Set;let C={},O=1/0;for(let k=0;k<e6;k++){const B=t6[k],G=n[B],Q=g[B]!==void 0?g[B]:y[B],lt=zu(Q),at=B===p?G.isActive:null;at===!1&&(O=k);let st=Q===y[B]&&Q!==g[B]&&lt;if(st&&s&&e.manuallyAnimateOnMount&&(st=!1),G.protectedKeys={...C},!G.isActive&&at===null||!Q&&!G.prevProp||sd(Q)||typeof Q=="boolean")continue;const R=s6(G.prevProp,Q);let b=R||B===p&&G.isActive&&!st&&lt||k>O&&lt,I=!1;const M=Array.isArray(Q)?Q:[Q];let N=M.reduce(a(B),{});at===!1&&(N={});const{prevResolvedValues:z={}}=G,x={...z,...N},te=rt=>{b=!0,S.has(rt)&&(I=!0,S.delete(rt)),G.needsAnimating[rt]=!0;const dt=e.getValue(rt);dt&&(dt.liveStyle=!1)};for(const rt in x){const dt=N[rt],It=z[rt];if(C.hasOwnProperty(rt))continue;let Mt=!1;Mg(dt)&&Mg(It)?Mt=!nC(dt,It):Mt=dt!==It,Mt?dt!=null?te(rt):S.add(rt):dt!==void 0&&S.has(rt)?te(rt):G.protectedKeys[rt]=!0}G.prevProp=Q,G.prevResolvedValues=N,G.isActive&&(C={...C,...N}),s&&e.blockInitialAnimation&&(b=!1);const de=st&&R;b&&(!de||I)&&_.push(...M.map(rt=>{const dt={type:B};if(typeof rt=="string"&&s&&!de&&e.manuallyAnimateOnMount&&e.parent){const{parent:It}=e,Mt=Po(It,rt);if(It.enteringChildren&&Mt){const{delayChildren:L}=Mt.transition||{};dt.delay=eC(It.enteringChildren,e,L)}}return{animation:rt,options:dt}}))}if(S.size){const k={};if(typeof g.initial!="boolean"){const B=Po(e,Array.isArray(g.initial)?g.initial[0]:g.initial);B&&B.transition&&(k.transition=B.transition)}S.forEach(B=>{const G=e.getBaseTarget(B),Q=e.getValue(B);Q&&(Q.liveStyle=!0),k[B]=G??null}),_.push({animation:k})}let U=!!_.length;return s&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(U=!1),s=!1,U?t(_):Promise.resolve()}function d(p,g){if(n[p].isActive===g)return Promise.resolve();e.variantChildren?.forEach(_=>_.animationState?.setActive(p,g)),n[p].isActive=g;const y=c(p);for(const _ in n)n[_].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=hA()}}}function s6(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!nC(t,e):!1}function oa(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function hA(){return{animate:oa(!0),whileInView:oa(),whileHover:oa(),whileTap:oa(),whileDrag:oa(),whileFocus:oa(),exit:oa()}}class Ir{constructor(t){this.isMounted=!1,this.node=t}update(){}}class r6 extends Ir{constructor(t){super(t),t.animationState||(t.animationState=i6(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();sd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let a6=0;class o6 extends Ir{constructor(){super(...arguments),this.id=a6++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const l6={animation:{Feature:r6},exit:{Feature:o6}};function Fu(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function rc(e){return{point:{x:e.pageX,y:e.pageY}}}const u6=e=>t=>fv(t)&&e(t,rc(t));function wu(e,t,n,s){return Fu(e,t,u6(n),s)}const sC=1e-4,c6=1-sC,h6=1+sC,rC=.01,f6=0-rC,d6=0+rC;function hn(e){return e.max-e.min}function m6(e,t,n){return Math.abs(e-t)<=n}function fA(e,t,n,s=.5){e.origin=s,e.originPoint=ce(t.min,t.max,e.origin),e.scale=hn(n)/hn(t),e.translate=ce(n.min,n.max,e.origin)-e.originPoint,(e.scale>=c6&&e.scale<=h6||isNaN(e.scale))&&(e.scale=1),(e.translate>=f6&&e.translate<=d6||isNaN(e.translate))&&(e.translate=0)}function Ru(e,t,n,s){fA(e.x,t.x,n.x,s?s.originX:void 0),fA(e.y,t.y,n.y,s?s.originY:void 0)}function dA(e,t,n){e.min=n.min+t.min,e.max=e.min+hn(t)}function p6(e,t,n){dA(e.x,t.x,n.x),dA(e.y,t.y,n.y)}function mA(e,t,n){e.min=t.min-n.min,e.max=e.min+hn(t)}function Pf(e,t,n){mA(e.x,t.x,n.x),mA(e.y,t.y,n.y)}function qn(e){return[e("x"),e("y")]}const aC=({current:e})=>e?e.ownerDocument.defaultView:null,pA=(e,t)=>Math.abs(e-t);function g6(e,t){const n=pA(e.x,t.x),s=pA(e.y,t.y);return Math.sqrt(n**2+s**2)}class oC{constructor(t,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Lp(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,O=g6(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!O)return;const{point:U}=S,{timestamp:k}=We;this.history.push({...U,timestamp:k});const{onStart:B,onMove:G}=this.handlers;C||(B&&B(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),G&&G(this.lastMoveEvent,S)},this.handlePointerMove=(S,C)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=Pp(C,this.transformPagePoint),ue.update(this.updatePoint,!0)},this.handlePointerUp=(S,C)=>{this.end();const{onEnd:O,onSessionEnd:U,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const B=Lp(S.type==="pointercancel"?this.lastMoveEventInfo:Pp(C,this.transformPagePoint),this.history);this.startEvent&&O&&O(S,B),U&&U(S,B)},!fv(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const d=rc(t),p=Pp(d,this.transformPagePoint),{point:g}=p,{timestamp:y}=We;this.history=[{...g,timestamp:y}];const{onSessionStart:_}=n;_&&_(t,Lp(p,this.history)),this.removeListeners=nc(wu(this.contextWindow,"pointermove",this.handlePointerMove),wu(this.contextWindow,"pointerup",this.handlePointerUp),wu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),wr(this.updatePoint)}}function Pp(e,t){return t?{point:t(e.point)}:e}function gA(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Lp({point:e},t){return{point:e,delta:gA(e,lC(t)),offset:gA(e,y6(t)),velocity:v6(t,.1)}}function y6(e){return e[0]}function lC(e){return e[e.length-1]}function v6(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const a=lC(e);for(;n>=0&&(s=e[n],!(a.timestamp-s.timestamp>Gi(t)));)n--;if(!s)return{x:0,y:0};const l=Yn(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function _6(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?ce(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?ce(n,e,s.max):Math.min(e,n)),e}function yA(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function T6(e,{top:t,left:n,bottom:s,right:a}){return{x:yA(e.x,n,a),y:yA(e.y,t,s)}}function vA(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function E6(e,t){return{x:vA(e.x,t.x),y:vA(e.y,t.y)}}function S6(e,t){let n=.5;const s=hn(e),a=hn(t);return a>s?n=ku(t.min,t.max-s,e.min):s>a&&(n=ku(e.min,e.max-a,t.min)),ws(0,1,n)}function A6(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Lg=.35;function b6(e=Lg){return e===!1?e=0:e===!0&&(e=Lg),{x:_A(e,"left","right"),y:_A(e,"top","bottom")}}function _A(e,t,n){return{min:TA(e,t),max:TA(e,n)}}function TA(e,t){return typeof e=="number"?e:e[t]||0}const w6=new WeakMap;class R6{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=je(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(rc(_).point)},c=(_,S)=>{const{drag:C,dragPropagation:O,onDragStart:U}=this.getProps();if(C&&!O&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Nk(C),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qn(B=>{let G=this.getAxisMotionValue(B).get()||0;if(Ki.test(G)){const{projection:Q}=this.visualElement;if(Q&&Q.layout){const lt=Q.layout.layoutBox[B];lt&&(G=hn(lt)*(parseFloat(G)/100))}}this.originPoint[B]=G}),U&&ue.postRender(()=>U(_,S)),Og(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},d=(_,S)=>{this.latestPointerEvent=_,this.latestPanInfo=S;const{dragPropagation:C,dragDirectionLock:O,onDirectionLock:U,onDrag:k}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:B}=S;if(O&&this.currentDirection===null){this.currentDirection=C6(B),this.currentDirection!==null&&U&&U(this.currentDirection);return}this.updateAxis("x",S.point,B),this.updateAxis("y",S.point,B),this.visualElement.render(),k&&k(_,S)},p=(_,S)=>{this.latestPointerEvent=_,this.latestPanInfo=S,this.stop(_,S),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>qn(_=>this.getAnimationState(_)==="paused"&&this.getAxisMotionValue(_).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new oC(t,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:aC(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&ue.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:a}=this.getProps();if(!s||!Gh(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=_6(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&Ro(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=T6(s.layoutBox,t):this.constraints=!1,this.elastic=b6(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&qn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=A6(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ro(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=I3(s,a.root,this.visualElement.getTransformPagePoint());let c=E6(a.layout.layoutBox,l);if(n){const d=n(w3(c));this.hasMutatedConstraints=!!d,d&&(c=GR(d))}return c}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),p=this.constraints||{},g=qn(y=>{if(!Gh(y,n,this.currentDirection))return;let _=p&&p[y]||{};c&&(_={min:0,max:0});const S=a?200:1e6,C=a?40:1e7,O={type:"inertia",velocity:s?t[y]:0,bounceStiffness:S,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,O)});return Promise.all(g).then(d)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Og(this.visualElement,t),s.start(Sv(t,s,0,n,this.visualElement,!1))}stopAnimation(){qn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){qn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){qn(n=>{const{drag:s}=this.getProps();if(!Gh(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n];l.set(t[n]-ce(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Ro(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};qn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const p=d.get();a[c]=S6({min:p,max:p},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),qn(c=>{if(!Gh(c,t,null))return;const d=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];d.set(ce(p,g,a[c]))})}addListeners(){if(!this.visualElement.current)return;w6.set(this.visualElement,this);const t=this.visualElement.current,n=wu(t,"pointerdown",p=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(p)}),s=()=>{const{dragConstraints:p}=this.getProps();Ro(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ue.read(s);const c=Fu(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(qn(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=p[y].translate,_.set(_.get()+p[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Lg,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Gh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function C6(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class I6 extends Ir{constructor(t){super(t),this.removeGroupControls=Qn,this.removeListeners=Qn,this.controls=new R6(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Qn}unmount(){this.removeGroupControls(),this.removeListeners()}}const EA=e=>(t,n)=>{e&&ue.postRender(()=>e(t,n))};class x6 extends Ir{constructor(){super(...arguments),this.removePointerDownListener=Qn}onPointerDown(t){this.session=new oC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:aC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:EA(t),onStart:EA(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&ue.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=wu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const lf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function SA(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const hu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Tt.test(e))e=parseFloat(e);else return e;const n=SA(e,t.target.x),s=SA(e,t.target.y);return`${n}% ${s}%`}},D6={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,a=Rr.parse(e);if(a.length>5)return s;const l=Rr.createTransformer(e),c=typeof a[0]!="number"?1:0,d=n.x.scale*t.x,p=n.y.scale*t.y;a[0+c]/=d,a[1+c]/=p;const g=ce(d,p,.5);return typeof a[2+c]=="number"&&(a[2+c]/=g),typeof a[3+c]=="number"&&(a[3+c]/=g),l(a)}};let kp=!1;class V6 extends V.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=t;Jk(N6),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),kp&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),lf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,kp=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||ue.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),hv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=t;kp=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function uC(e){const[t,n]=DR(),s=V.useContext(Hy);return Y.jsx(V6,{...e,layoutGroup:s,switchLayoutGroup:V.useContext(HR),isPresent:t,safeToRemove:n})}const N6={borderRadius:{...hu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:hu,borderTopRightRadius:hu,borderBottomLeftRadius:hu,borderBottomRightRadius:hu,boxShadow:D6};function M6(e,t,n){const s=an(e)?e:qo(e);return s.start(Sv("",s,t,n)),s.animation}const O6=(e,t)=>e.depth-t.depth;class P6{constructor(){this.children=[],this.isDirty=!1}add(t){Ky(this.children,t),this.isDirty=!0}remove(t){Yy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(O6),this.isDirty=!1,this.children.forEach(t)}}function L6(e,t){const n=Tn.now(),s=({timestamp:a})=>{const l=a-n;l>=t&&(wr(s),e(l-t))};return ue.setup(s,!0),()=>wr(s)}const cC=["TopLeft","TopRight","BottomLeft","BottomRight"],k6=cC.length,AA=e=>typeof e=="string"?parseFloat(e):e,bA=e=>typeof e=="number"||Tt.test(e);function U6(e,t,n,s,a,l){a?(e.opacity=ce(0,n.opacity??1,j6(s)),e.opacityExit=ce(t.opacity??1,0,z6(s))):l&&(e.opacity=ce(t.opacity??1,n.opacity??1,s));for(let c=0;c<k6;c++){const d=`border${cC[c]}Radius`;let p=wA(t,d),g=wA(n,d);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||bA(p)===bA(g)?(e[d]=Math.max(ce(AA(p),AA(g),s),0),(Ki.test(g)||Ki.test(p))&&(e[d]+="%")):e[d]=g}(t.rotate||n.rotate)&&(e.rotate=ce(t.rotate||0,n.rotate||0,s))}function wA(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const j6=hC(0,.5,Xw),z6=hC(.5,.95,Qn);function hC(e,t,n){return s=>s<e?0:s>t?1:n(ku(e,t,s))}function RA(e,t){e.min=t.min,e.max=t.max}function ui(e,t){RA(e.x,t.x),RA(e.y,t.y)}function CA(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function IA(e,t,n,s,a){return e-=t,e=Of(e,1/n,s),a!==void 0&&(e=Of(e,1/a,s)),e}function B6(e,t=0,n=1,s=.5,a,l=e,c=e){if(Ki.test(t)&&(t=parseFloat(t),t=ce(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=ce(l.min,l.max,s);e===l&&(d-=t),e.min=IA(e.min,t,n,d,a),e.max=IA(e.max,t,n,d,a)}function xA(e,t,[n,s,a],l,c){B6(e,t[n],t[s],t[a],t.scale,l,c)}const F6=["x","scaleX","originX"],H6=["y","scaleY","originY"];function DA(e,t,n,s){xA(e.x,t,F6,n?n.x:void 0,s?s.x:void 0),xA(e.y,t,H6,n?n.y:void 0,s?s.y:void 0)}function VA(e){return e.translate===0&&e.scale===1}function fC(e){return VA(e.x)&&VA(e.y)}function NA(e,t){return e.min===t.min&&e.max===t.max}function q6(e,t){return NA(e.x,t.x)&&NA(e.y,t.y)}function MA(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function dC(e,t){return MA(e.x,t.x)&&MA(e.y,t.y)}function OA(e){return hn(e.x)/hn(e.y)}function PA(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class G6{constructor(){this.members=[]}add(t){Ky(this.members,t),t.scheduleRender()}remove(t){if(Yy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function K6(e,t,n){let s="";const a=e.x.translate/t.x,l=e.y.translate/t.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:g,rotate:y,rotateX:_,rotateY:S,skewX:C,skewY:O}=n;g&&(s=`perspective(${g}px) ${s}`),y&&(s+=`rotate(${y}deg) `),_&&(s+=`rotateX(${_}deg) `),S&&(s+=`rotateY(${S}deg) `),C&&(s+=`skewX(${C}deg) `),O&&(s+=`skewY(${O}deg) `)}const d=e.x.scale*t.x,p=e.y.scale*t.y;return(d!==1||p!==1)&&(s+=`scale(${d}, ${p})`),s||"none"}const Up=["","X","Y","Z"],Y6=1e3;let Q6=0;function jp(e,t,n,s){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),s&&(s[e]=0))}function mC(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=JR(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ue,!(a||l))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&mC(s)}function pC({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},d=t?.()){this.id=Q6++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(W6),this.nodes.forEach(eU),this.nodes.forEach(nU),this.nodes.forEach(Z6)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new P6)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Xy),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const p=this.eventHandlers.get(c);p&&p.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=xR(c)&&!Uk(c),this.instance=c;const{layoutId:d,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||d)&&(this.isLayoutDirty=!0),e){let y,_=0;const S=()=>this.root.updateBlockedByResize=!1;ue.read(()=>{_=window.innerWidth}),e(c,()=>{const C=window.innerWidth;C!==_&&(_=C,this.root.updateBlockedByResize=!0,y&&y(),y=L6(S,250),lf.hasAnimatedSinceResize&&(lf.hasAnimatedSinceResize=!1,this.nodes.forEach(UA)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:S,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const O=this.options.transition||g.getDefaultTransition()||oU,{onLayoutAnimationStart:U,onLayoutAnimationComplete:k}=g.getProps(),B=!this.targetLayout||!dC(this.targetLayout,C),G=!_&&S;if(this.options.layoutRoot||this.resumeFrom||G||_&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Q={...uv(O,"layout"),onPlay:U,onComplete:k};(g.shouldReduceMotion||this.options.layoutRoot)&&(Q.delay=0,Q.type=!1),this.startAnimation(Q),this.setAnimationOrigin(y,G)}else _||UA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),wr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(iU),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&mC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:d,layout:p}=this.options;if(d===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(LA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(kA);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(tU),this.nodes.forEach($6),this.nodes.forEach(X6)):this.nodes.forEach(kA),this.clearAllSnapshots();const d=Tn.now();We.delta=ws(0,1e3/60,d-We.timestamp),We.timestamp=d,We.isProcessing=!0,Cp.update.process(We),Cp.preRender.process(We),Cp.render.process(We),We.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,hv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(J6),this.sharedNodes.forEach(sU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ue.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ue.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hn(this.snapshot.measuredBox.x)&&!hn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=je(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const p=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!fC(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;c&&this.instance&&(d||ua(this.latestValues)||y)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let p=this.removeElementScroll(d);return c&&(p=this.removeTransform(p)),lU(p),{animationId:this.root.animationId,measuredBox:d,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return je();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(uU))){const{scroll:g}=this.root;g&&(Co(d.x,g.offset.x),Co(d.y,g.offset.y))}return d}removeElementScroll(c){const d=je();if(ui(d,c),this.scroll?.wasRoot)return d;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:y,options:_}=g;g!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&ui(d,c),Co(d.x,y.offset.x),Co(d.y,y.offset.y))}return d}applyTransform(c,d=!1){const p=je();ui(p,c);for(let g=0;g<this.path.length;g++){const y=this.path[g];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Io(p,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),ua(y.latestValues)&&Io(p,y.latestValues)}return ua(this.latestValues)&&Io(p,this.latestValues),p}removeTransform(c){const d=je();ui(d,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!ua(g.latestValues))continue;Dg(g.latestValues)&&g.updateSnapshot();const y=je(),_=g.measurePageBox();ui(y,_),DA(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return ua(this.latestValues)&&DA(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==We.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!this.layout||!(y||_))return;this.resolvedRelativeTargetAt=We.timestamp;const S=this.getClosestProjectingParent();S&&this.linkedParentVersion!==S.layoutVersion&&!S.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(S&&S.layout?this.createRelativeTarget(S,this.layout.layoutBox,S.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=je(),this.targetWithTransforms=je()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),p6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ui(this.target,this.layout.layoutBox),YR(this.target,this.targetDelta)):ui(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?this.createRelativeTarget(S,this.target,S.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Dg(this.parent.latestValues)||KR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,p){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=je(),this.relativeTargetOrigin=je(),Pf(this.relativeTargetOrigin,d,p),ui(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===We.timestamp&&(p=!1),p)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;ui(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,S=this.treeScale.y;C3(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=je());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(CA(this.prevProjectionDelta.x,this.projectionDelta.x),CA(this.prevProjectionDelta.y,this.projectionDelta.y)),Ru(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==S||!PA(this.projectionDelta.x,this.prevProjectionDelta.x)||!PA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=xo(),this.projectionDelta=xo(),this.projectionDeltaWithTransform=xo()}setAnimationOrigin(c,d=!1){const p=this.snapshot,g=p?p.latestValues:{},y={...this.latestValues},_=xo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const S=je(),C=p?p.source:void 0,O=this.layout?this.layout.source:void 0,U=C!==O,k=this.getStack(),B=!k||k.members.length<=1,G=!!(U&&!B&&this.options.crossfade===!0&&!this.path.some(aU));this.animationProgress=0;let Q;this.mixTargetDelta=lt=>{const at=lt/1e3;jA(_.x,c.x,at),jA(_.y,c.y,at),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Pf(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),rU(this.relativeTarget,this.relativeTargetOrigin,S,at),Q&&q6(this.relativeTarget,Q)&&(this.isProjectionDirty=!1),Q||(Q=je()),ui(Q,this.relativeTarget)),U&&(this.animationValues=y,U6(y,g,this.latestValues,at,G,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=at},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(wr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ue.update(()=>{lf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=qo(0)),this.currentAnimation=M6(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Y6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:p,layout:g,latestValues:y}=c;if(!(!d||!p||!g)){if(this!==c&&this.layout&&g&&gC(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||je();const _=hn(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+_;const S=hn(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+S}ui(d,p),Io(d,y),Ru(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new G6),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(d=!0),!d)return;const g={};p.z&&jp("z",c,g,this.animationValues);for(let y=0;y<Up.length;y++)jp(`rotate${Up[y]}`,c,g,this.animationValues),jp(`skew${Up[y]}`,c,g,this.animationValues);c.render();for(const y in g)c.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=of(d?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=of(d?.pointerEvents)||""),this.hasProjected&&!ua(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let _=K6(this.projectionDeltaWithTransform,this.treeScale,y);p&&(_=p(y,_)),c.transform=_;const{x:S,y:C}=this.projectionDelta;c.transformOrigin=`${S.origin*100}% ${C.origin*100}% 0`,g.animationValues?c.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const O in Bu){if(y[O]===void 0)continue;const{correct:U,applyTo:k,isCSSVariable:B}=Bu[O],G=_==="none"?y[O]:U(y[O],g);if(k){const Q=k.length;for(let lt=0;lt<Q;lt++)c[k[lt]]=G}else B?this.options.visualElement.renderState.vars[O]=G:c[O]=G}this.options.layoutId&&(c.pointerEvents=g===this?of(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(LA),this.root.sharedNodes.clear()}}}function $6(e){e.updateLayout()}function X6(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:a}=e.options,l=t.source!==e.layout.source;a==="size"?qn(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],S=hn(_);_.min=n[y].min,_.max=_.min+S}):gC(a,t.layoutBox,n)&&qn(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],S=hn(n[y]);_.max=_.min+S,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+S)});const c=xo();Ru(c,n,t.layoutBox);const d=xo();l?Ru(d,e.applyTransform(s,!0),t.measuredBox):Ru(d,n,t.layoutBox);const p=!fC(c);let g=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:S}=y;if(_&&S){const C=je();Pf(C,t.layoutBox,_.layoutBox);const O=je();Pf(O,n,S.layoutBox),dC(C,O)||(g=!0),y.options.layoutRoot&&(e.relativeTarget=O,e.relativeTargetOrigin=C,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function W6(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Z6(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function J6(e){e.clearSnapshot()}function LA(e){e.clearMeasurements()}function kA(e){e.isLayoutDirty=!1}function tU(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function UA(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function eU(e){e.resolveTargetDelta()}function nU(e){e.calcProjection()}function iU(e){e.resetSkewAndRotation()}function sU(e){e.removeLeadSnapshot()}function jA(e,t,n){e.translate=ce(t.translate,0,n),e.scale=ce(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function zA(e,t,n,s){e.min=ce(t.min,n.min,s),e.max=ce(t.max,n.max,s)}function rU(e,t,n,s){zA(e.x,t.x,n.x,s),zA(e.y,t.y,n.y,s)}function aU(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const oU={duration:.45,ease:[.4,0,.1,1]},BA=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),FA=BA("applewebkit/")&&!BA("chrome/")?Math.round:Qn;function HA(e){e.min=FA(e.min),e.max=FA(e.max)}function lU(e){HA(e.x),HA(e.y)}function gC(e,t,n){return e==="position"||e==="preserve-aspect"&&!m6(OA(t),OA(n),.2)}function uU(e){return e!==e.root&&e.scroll?.wasRoot}const cU=pC({attachResizeListener:(e,t)=>Fu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zp={current:void 0},yC=pC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!zp.current){const e=new cU({});e.mount(window),e.setOptions({layoutScroll:!0}),zp.current=e}return zp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),hU={pan:{Feature:x6},drag:{Feature:I6,ProjectionNode:yC,MeasureLayout:uC}};function qA(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&ue.postRender(()=>l(t,rc(t)))}class fU extends Ir{mount(){const{current:t}=this.node;t&&(this.unmount=Mk(t,(n,s)=>(qA(this.node,s,"Start"),a=>qA(this.node,a,"End"))))}unmount(){}}class dU extends Ir{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=nc(Fu(this.node.current,"focus",()=>this.onFocus()),Fu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function GA(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&ue.postRender(()=>l(t,rc(t)))}class mU extends Ir{mount(){const{current:t}=this.node;t&&(this.unmount=kk(t,(n,s)=>(GA(this.node,s,"Start"),(a,{success:l})=>GA(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const kg=new WeakMap,Bp=new WeakMap,pU=e=>{const t=kg.get(e.target);t&&t(e)},gU=e=>{e.forEach(pU)};function yU({root:e,...t}){const n=e||document;Bp.has(n)||Bp.set(n,{});const s=Bp.get(n),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(gU,{root:e,...t})),s[a]}function vU(e,t,n){const s=yU(t);return kg.set(e,n),s.observe(e),()=>{kg.delete(e),s.unobserve(e)}}const _U={some:0,all:1};class TU extends Ir{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:_U[a]},d=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),S=g?y:_;S&&S(p)};return vU(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(EU(t,n))&&this.startObserver()}unmount(){}}function EU({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const SU={inView:{Feature:TU},tap:{Feature:mU},focus:{Feature:dU},hover:{Feature:fU}},AU={layout:{ProjectionNode:yC,MeasureLayout:uC}},bU={...l6,...SU,...hU,...AU},pi=b3(bU,k3);function wU(){const{loginWithGoogle:e}=Fy(),[t,n]=V.useState(""),[s,a]=V.useState(!1),l=Bg();async function c(){try{n(""),a(!0),await e(),l("/")}catch(d){console.error(d),n("Failed to log in with Google")}a(!1)}return Y.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900",children:Y.jsxs("div",{className:"w-full max-w-md p-8 bg-white dark:bg-gray-800 rounded-lg shadow-md text-center",children:[Y.jsx("h2",{className:"text-2xl font-bold mb-6 dark:text-white",children:"Welcome Back"}),t&&Y.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",role:"alert",children:t}),Y.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"Sign in to access the simulator."}),Y.jsxs(pi.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:c,disabled:s,className:"w-full bg-white text-gray-700 border border-gray-300 font-bold py-3 px-4 rounded-lg flex items-center justify-center gap-2 hover:bg-gray-50 focus:outline-none focus:shadow-outline disabled:opacity-50 transition-colors",children:[Y.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[Y.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),Y.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),Y.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),Y.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Sign in with Google"]})]})})}const RU=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CU=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),KA=e=>{const t=CU(e);return t.charAt(0).toUpperCase()+t.slice(1)},vC=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),IU=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var xU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const DU=V.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...d},p)=>V.createElement("svg",{ref:p,...xU,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:vC("lucide",a),...!l&&!IU(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,y])=>V.createElement(g,y)),...Array.isArray(l)?l:[l]]));const xr=(e,t)=>{const n=V.forwardRef(({className:s,...a},l)=>V.createElement(DU,{ref:l,iconNode:t,className:vC(`lucide-${RU(KA(e))}`,`lucide-${e}`,s),...a}));return n.displayName=KA(e),n};const VU=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],NU=xr("briefcase",VU);const MU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],OU=xr("circle",MU);const PU=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ug=xr("clock",PU);const LU=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],_C=xr("log-out",LU);const kU=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],UU=xr("rotate-ccw",kU);const jU=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],ad=xr("trophy",jU);const zU=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],BU=xr("user",zU);const FU=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],HU=xr("x",FU),qU=({onClockIn:e})=>{const{currentUser:t,logout:n}=Fy();Bg();const[s,a]=V.useState(t?.displayName?.split(" ")[0]||""),[l,c]=V.useState(""),[d,p]=V.useState(30),[g,y]=V.useState(""),_=C=>{C.preventDefault(),s&&l&&d>0&&e({name:s,goal:l,duration:d})},S=async()=>{y("");try{await n()}catch{y("Failed to log out")}};return Y.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white p-4",children:Y.jsxs(pi.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md bg-white/10 backdrop-blur-lg rounded-2xl p-8 shadow-2xl border border-white/20",children:[Y.jsxs("div",{className:"flex justify-between items-center mb-8",children:[Y.jsx("div",{className:"flex items-center justify-center",children:Y.jsx("div",{className:"p-3 bg-blue-500/20 rounded-full",children:Y.jsx(Ug,{className:"w-8 h-8 text-blue-400"})})}),Y.jsx("div",{children:t?Y.jsxs("div",{className:"flex items-center gap-4",children:[Y.jsxs("span",{className:"text-sm text-gray-300",children:["Welcome ",t.displayName.split(" ")[0],"!"]}),Y.jsxs("button",{onClick:S,className:"text-sm text-red-400 hover:text-red-300 flex items-center gap-1",children:[Y.jsx(_C,{size:16})," Logout"]})]}):Y.jsx("div",{className:"flex items-center gap-4",children:Y.jsx(Kg,{to:"/login",className:"text-sm text-blue-400 hover:text-blue-300",children:"Login"})})})]}),Y.jsx("h1",{className:"text-3xl font-bold text-center mb-2",children:"Employment Simulator"}),Y.jsx("p",{className:"text-gray-400 text-center mb-8",children:"Clock in to start your shift."}),g&&Y.jsx("div",{className:"bg-red-500/20 border border-red-500 text-red-100 px-4 py-2 rounded mb-4 text-center text-sm",children:g}),Y.jsxs("form",{onSubmit:_,className:"space-y-6",children:[Y.jsxs("div",{className:"space-y-2",children:[Y.jsxs("label",{className:"text-sm font-medium text-gray-300 flex items-center gap-2",children:[Y.jsx(BU,{size:16})," Employee Name"]}),Y.jsx("input",{type:"text",value:s,onChange:C=>a(C.target.value),className:"w-full bg-black/20 border border-white/10 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all text-white placeholder-gray-500",placeholder:"John Doe",required:!0})]}),Y.jsxs("div",{className:"space-y-2",children:[Y.jsxs("label",{className:"text-sm font-medium text-gray-300 flex items-center gap-2",children:[Y.jsx(NU,{size:16})," Work Goal"]}),Y.jsx("input",{type:"text",value:l,onChange:C=>c(C.target.value),className:"w-full bg-black/20 border border-white/10 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all text-white placeholder-gray-500",placeholder:"Complete the project report",required:!0})]}),Y.jsxs("div",{className:"space-y-2",children:[Y.jsxs("label",{className:"text-sm font-medium text-gray-300 flex items-center gap-2",children:[Y.jsx(Ug,{size:16})," Shift Duration (Minutes)"]}),Y.jsx("input",{type:"number",value:d,onChange:C=>p(parseInt(C.target.value)),min:"1",max:"480",className:"w-full bg-black/20 border border-white/10 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all text-white placeholder-gray-500",required:!0})]}),Y.jsx(pi.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400 text-white font-bold py-3 rounded-lg shadow-lg shadow-blue-500/20 transition-all",children:"Clock In"})]})]})})},GU=[],KU=e=>{const[t,n]=V.useState(e.duration*60),[s,a]=V.useState(0),[l,c]=V.useState(0),[d,p]=V.useState(GU),[g,y]=V.useState([{text:`Welcome to the team! Let's hit that goal:
        ${e.goal}!`,sender:"Manager",id:0}]),[_,S]=V.useState(!0),[C,O]=V.useState(null),U=V.useRef(!1),k=V.useRef({score:s,timeLeft:t,goal:e.goal}),{currentUser:B}=Fy();V.useEffect(()=>{(async()=>{if(B)try{const R=CS(gg,"users",B.uid),b=await U4(R);b.exists()&&a(b.data().score||0)}catch(R){console.error("Error loading score:",R)}})()},[B]),V.useEffect(()=>{if(!B)return;const st=setTimeout(async()=>{try{const R=CS(gg,"users",B.uid);await z4(R,{score:s,displayName:B.displayName||"Anonymous"},{merge:!0})}catch(R){console.error("Error saving score:",R)}},1e3);return()=>clearTimeout(st)},[s,B]),V.useEffect(()=>{k.current={score:s,timeLeft:t,goal:e.goal}},[s,t,e.goal]),V.useEffect(()=>{if(!_||t<=0)return;const st=setInterval(()=>{n(R=>R-1)},1e3);return()=>clearInterval(st)},[_,t]),V.useEffect(()=>{if(!_)return;const st=setInterval(async()=>{if(Math.random()>.6&&!U.current){U.current=!0;try{const{goal:R}=k.current,b=`
                        You are a manager in a workplace simulation.
                        The user's goal is: "${R}".
                        Current tasks are: ${d.map(z=>z.text).join(", ").slice(-2)}.

                        Generate a short, 1-sentence message to the employee. 
                        Address the employee as ${e.name}.
                        It can be encouraging, pressuring, or just a random check-in.
                        Do not include quotes.
                    `,N=(await(await fetch("https://desktop-f2niegj.tail23801d.ts.net/api/llm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"user",content:b}]})})).json()).message.content;G(N)}catch(R){console.error("Error generating message:",R),O(R.message||"Unknown error generating message")}finally{U.current=!1}}},3e4);return()=>clearInterval(st)},[_,d]);const G=st=>{y(R=>[...R,{text:st,sender:"Manager",id:Date.now()}])},Q=async()=>{if(!U.current){U.current=!0;try{const st=`
                You are a manager. The user's goal is: "${e.goal}".
                Generate a single, realistic work task that works toward this goal, 
                builds on top of previous tasks, and is different from the user's previous tasks.
                The user's previous tasks were: ${d.map(N=>N.text).join(", ").slice(-2)}.
                Return ONLY the task text. NO numbering, NO quotes.
                Keep it short.
            `,I=(await(await fetch("https://desktop-f2niegj.tail23801d.ts.net/api/llm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"user",content:st}]})})).json()).message.content,M=Date.now();p(N=>[...N,{id:M,text:I,completed:!1,difficulty:Math.floor(Math.random()*3)+1}]),G(`Hey ${e.name}, for your new task: ${I}`)}catch(st){console.error("Error generating task:",st),O(st.message||"Unknown error generating task");const R=Date.now();p(b=>[...b,{id:R,text:"Review previous work",completed:!1,difficulty:1}]),G(`Hey ${e.name}, for your new task: Review previous work`)}finally{U.current=!1}}};V.useEffect(()=>{(async()=>{await Q(),await Q()})()},[]);const lt=V.useCallback(st=>{p(b=>b.map(I=>I.id===st?{...I,completed:!0}:I));const R=d.find(b=>b.id===st);R&&!R.completed&&(a(b=>b+R.difficulty*100),c(b=>b+1),setTimeout(()=>{Q()},3e4))},[d]);return{timeLeft:t,score:s,tasksCompleted:l,tasks:d,messages:g,completeTask:lt,formatTime:st=>{const R=Math.floor(st/60),b=st%60;return`${R}:${b.toString().padStart(2,"0")}`},isActive:_,setIsActive:S,error:C}},YU=({messages:e,onToggleLeaderboard:t})=>{const n=useRef(null),s=useRef(e.length);return useEffect(()=>{if(e.length>s.current){const a=new Audio("https://assets.mixkit.co/active_storage/sfx/2574/2574-preview.mp3");a.volume=.2,a.play().catch(l=>console.log("Audio playback failed:",l))}s.current=e.length,n.current&&(n.current.scrollTop=n.current.scrollHeight)},[e]),Y.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-6 h-full flex flex-col min-h-[500px]",children:[Y.jsxs("div",{className:"flex items-center justify-between mb-4 border-b border-white/10 pb-2",children:[Y.jsx("div",{className:"flex items-center gap-2",children:Y.jsx("h2",{className:"text-lg font-semibold text-white",children:"Manager"})}),Y.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-full transition-colors text-yellow-500 hover:text-yellow-400",title:"View Leaderboard",children:Y.jsx(ad,{size:20})})]}),Y.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 pr-2 custom-scrollbar",ref:n,children:Y.jsx(AnimatePresence,{children:e.map(a=>Y.jsxs(motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-3 text-sm text-gray-200",children:[Y.jsx("span",{className:"font-bold text-blue-400 text-xs block mb-1",children:a.sender}),a.text]},a.id))})})]})},QU=({tasks:e,onComplete:t})=>{const n=e.filter(s=>!s.completed);return Y.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-4 h-[300px] flex flex-col",children:[Y.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b border-white/10 pb-2",children:[Y.jsx("h2",{className:"text-lg font-semibold text-white",children:"Current Tasks"}),Y.jsx("span",{className:"bg-blue-500 text-xs px-2 py-0.5 rounded-full text-white",children:n.length})]}),Y.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 pr-2 custom-scrollbar",children:Y.jsx(VR,{children:n.length===0?Y.jsx("p",{className:"text-gray-500 text-center mt-10",children:"No active tasks. Good job!"}):n.map(s=>Y.jsxs(pi.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,x:20},className:"group flex items-center gap-3 bg-white/5 hover:bg-white/10 border border-white/5 rounded-xl p-3 cursor-pointer transition-all",onClick:()=>t(s.id),children:[Y.jsx("div",{className:"text-gray-400 group-hover:text-green-400 transition-colors",children:Y.jsx(OU,{size:20})}),Y.jsxs("div",{className:"flex-1",children:[Y.jsx("p",{className:"text-gray-200 text-sm",children:s.text}),Y.jsx("div",{className:"flex gap-1 mt-1",children:[...Array(s.difficulty)].map((a,l)=>Y.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-yellow-500/50"},l))})]})]},s.id))})})]})},$U=({isOpen:e,onClose:t})=>{const[n,s]=V.useState([]),[a,l]=V.useState(!0);return V.useEffect(()=>{e&&(async()=>{l(!0);try{const d=N4(_4(gg,"users"),M4("score","desc"),O4(10)),g=(await j4(d)).docs.map(y=>({id:y.id,...y.data()}));s(g)}catch(d){console.error("Error fetching leaderboard:",d)}l(!1)})()},[e]),Y.jsx(VR,{children:e&&Y.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[Y.jsx(pi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),Y.jsxs(pi.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-md bg-gray-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden",children:[Y.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10 bg-white/5",children:[Y.jsxs("div",{className:"flex items-center gap-3",children:[Y.jsx("div",{className:"p-2 bg-yellow-500/20 rounded-full",children:Y.jsx(ad,{className:"w-6 h-6 text-yellow-500"})}),Y.jsx("h2",{className:"text-xl font-bold text-white",children:"Leaderboard"})]}),Y.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-full transition-colors text-gray-400 hover:text-white",children:Y.jsx(HU,{size:20})})]}),Y.jsx("div",{className:"p-6 max-h-[60vh] overflow-y-auto custom-scrollbar",children:a?Y.jsx("div",{className:"text-center py-8 text-gray-400",children:"Loading scores..."}):n.length===0?Y.jsx("div",{className:"text-center py-8 text-gray-400",children:"No scores yet."}):Y.jsx("div",{className:"space-y-2",children:n.map((c,d)=>Y.jsxs(pi.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:d*.05},className:`flex items-center justify-between p-3 rounded-lg border ${d===0?"bg-yellow-500/10 border-yellow-500/30":d===1?"bg-gray-400/10 border-gray-400/30":d===2?"bg-orange-500/10 border-orange-500/30":"bg-white/5 border-white/5"}`,children:[Y.jsxs("div",{className:"flex items-center gap-4",children:[Y.jsxs("span",{className:`font-mono font-bold w-6 text-center ${d===0?"text-yellow-500":d===1?"text-gray-300":d===2?"text-orange-400":"text-gray-500"}`,children:["#",d+1]}),Y.jsx("span",{className:"text-white font-medium truncate max-w-[150px]",children:c.displayName})]}),Y.jsx("span",{className:"font-mono text-gray-300",children:c.score?.toLocaleString()})]},c.id))})})]})]})})},XU=({sessionData:e,onEndSession:t})=>{const{timeLeft:n,score:s,tasksCompleted:a,tasks:l,messages:c,completeTask:d,formatTime:p,isActive:g,setIsActive:y,error:_}=KU(e),[S,C]=Fp.useState(!1);Fp.useEffect(()=>{n<=0&&g&&(y(!1),t({score:s,tasksCompleted:a}))},[n,g,t,s,a,y]);const O=()=>{y(!1),t({score:s,tasksCompleted:a})};return Y.jsxs("div",{className:"min-h-screen bg-gray-900 text-white p-6 flex flex-col relative",children:[Y.jsx($U,{isOpen:S,onClose:()=>C(!1)}),Y.jsxs("header",{className:"flex justify-between items-center mb-8 bg-white/5 p-4 rounded-xl border border-white/10",children:[Y.jsx("div",{className:"flex items-center gap-4",children:Y.jsxs("div",{className:"text-left",children:[Y.jsx("h1",{className:"text-xl font-bold text-white",children:e.name}),Y.jsxs("p",{className:"text-xs text-gray-400",children:["Goal: ",e.goal]})]})}),Y.jsxs("div",{className:"flex items-center gap-8",children:[Y.jsxs("div",{className:"flex flex-col items-center",children:[Y.jsx("span",{className:"text-xs text-gray-400 uppercase tracking-wider",children:"Time Remaining"}),Y.jsxs("div",{className:`text-2xl font-mono font-bold flex items-center gap-2 ${n<60?"text-red-400 animate-pulse":"text-blue-400"}`,children:[Y.jsx(Ug,{size:20}),p(n)]})]}),Y.jsxs("div",{className:"flex flex-col items-center",children:[Y.jsx("span",{className:"text-xs text-gray-400 uppercase tracking-wider",children:"Score"}),Y.jsxs("div",{className:"text-2xl font-mono font-bold text-yellow-400 flex items-center gap-2",children:[Y.jsx(ad,{size:20}),s.toLocaleString()]})]})]}),Y.jsxs("button",{onClick:O,className:"bg-red-500/10 hover:bg-red-500/20 text-red-400 px-4 py-2 rounded-lg border border-red-500/20 flex items-center gap-2 transition-colors",children:[Y.jsx(_C,{size:18}),"Clock Out"]})]}),_&&Y.jsxs("div",{className:"bg-red-500/20 border border-red-500 text-red-200 p-4 rounded-xl mb-6",children:["Error: ",_]}),Y.jsxs("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-[1.5fr_1fr] gap-6 overflow-hidden",children:[Y.jsx(pi.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:Y.jsx(YU,{messages:c,onToggleLeaderboard:()=>C(!0)})}),Y.jsx(pi.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:Y.jsx(QU,{tasks:l,onComplete:d})})]})]})},WU=({results:e,onRestart:t})=>Y.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-900 text-white p-4",children:Y.jsxs(pi.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"w-full max-w-md bg-white/10 backdrop-blur-lg rounded-2xl p-8 shadow-2xl border border-white/20 text-center",children:[Y.jsx("div",{className:"flex justify-center mb-6",children:Y.jsx("div",{className:"p-4 bg-yellow-500/20 rounded-full",children:Y.jsx(ad,{className:"w-12 h-12 text-yellow-400"})})}),Y.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Shift Complete!"}),Y.jsx("p",{className:"text-gray-400 mb-8",children:"Here is how you performed today."}),Y.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[Y.jsxs("div",{className:"bg-black/20 p-4 rounded-xl border border-white/5",children:[Y.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Total Score"}),Y.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:e.score.toLocaleString()})]}),Y.jsxs("div",{className:"bg-black/20 p-4 rounded-xl border border-white/5",children:[Y.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Tasks Done"}),Y.jsx("p",{className:"text-2xl font-bold text-blue-400",children:e.tasksCompleted})]})]}),Y.jsxs(pi.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"w-full bg-white text-gray-900 font-bold py-3 rounded-lg shadow-lg hover:bg-gray-100 transition-all flex items-center justify-center gap-2",children:[Y.jsx(UU,{size:18}),"Start New Shift"]})]})});function ZU(){const[e,t]=V.useState("CLOCK_IN"),[n,s]=V.useState(null),[a,l]=V.useState(null),c=g=>{s(g),t("WORK")},d=g=>{l(g),t("SUMMARY")},p=()=>{s(null),l(null),t("CLOCK_IN")};return Y.jsxs("div",{className:"bg-black min-h-screen font-sans",children:[e==="CLOCK_IN"&&Y.jsx(qU,{onClockIn:c}),e==="WORK"&&Y.jsx(XU,{sessionData:n,onEndSession:d}),e==="SUMMARY"&&Y.jsx(WU,{results:a,onRestart:p})]})}function JU(){return Y.jsx(C2,{children:Y.jsx(q4,{children:Y.jsxs(i2,{children:[Y.jsx(qp,{path:"/login",element:Y.jsx(wU,{})}),Y.jsx(qp,{path:"/",element:Y.jsx(ZU,{})})]})})})}ax.createRoot(document.getElementById("root")).render(Y.jsx(V.StrictMode,{children:Y.jsx(JU,{})}));
