(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function q1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fp={exports:{}},uu={};var yE;function J2(){if(yE)return uu;yE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:e,type:r,key:c,ref:a!==void 0?a:null,props:l}}return uu.Fragment=t,uu.jsx=n,uu.jsxs=n,uu}var vE;function Z2(){return vE||(vE=1,fp.exports=J2()),fp.exports}var V=Z2(),dp={exports:{}},Dt={};var _E;function tI(){if(_E)return Dt;_E=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),b=Symbol.iterator;function C(R){return R===null||typeof R!="object"?null:(R=b&&R[b]||R["@@iterator"],typeof R=="function"?R:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,L={};function z(R,F,tt){this.props=R,this.context=F,this.refs=L,this.updater=tt||O}z.prototype.isReactComponent={},z.prototype.setState=function(R,F){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,F,"setState")},z.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function G(){}G.prototype=z.prototype;function q(R,F,tt){this.props=R,this.context=F,this.refs=L,this.updater=tt||O}var lt=q.prototype=new G;lt.constructor=q,U(lt,z.prototype),lt.isPureReactComponent=!0;var at=Array.isArray;function ht(){}var x={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(R,F,tt){var ct=tt.ref;return{$$typeof:e,type:R,key:F,ref:ct!==void 0?ct:null,props:tt}}function k(R,F){return I(R.type,F,R.props)}function P(R){return typeof R=="object"&&R!==null&&R.$$typeof===e}function B(R){var F={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(tt){return F[tt]})}var D=/\/+/g;function Mt(R,F){return typeof R=="object"&&R!==null&&R.key!=null?B(""+R.key):F.toString(36)}function $t(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(ht,ht):(R.status="pending",R.then(function(F){R.status==="pending"&&(R.status="fulfilled",R.value=F)},function(F){R.status==="pending"&&(R.status="rejected",R.reason=F)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function Q(R,F,tt,ct,gt){var _t=typeof R;(_t==="undefined"||_t==="boolean")&&(R=null);var wt=!1;if(R===null)wt=!0;else switch(_t){case"bigint":case"string":case"number":wt=!0;break;case"object":switch(R.$$typeof){case e:case t:wt=!0;break;case y:return wt=R._init,Q(wt(R._payload),F,tt,ct,gt)}}if(wt)return gt=gt(R),wt=ct===""?"."+Mt(R,0):ct,at(gt)?(tt="",wt!=null&&(tt=wt.replace(D,"$&/")+"/"),Q(gt,F,tt,"",function(xt){return xt})):gt!=null&&(P(gt)&&(gt=k(gt,tt+(gt.key==null||R&&R.key===gt.key?"":(""+gt.key).replace(D,"$&/")+"/")+wt)),F.push(gt)),1;wt=0;var Ut=ct===""?".":ct+":";if(at(R))for(var vt=0;vt<R.length;vt++)ct=R[vt],_t=Ut+Mt(ct,vt),wt+=Q(ct,F,tt,_t,gt);else if(vt=C(R),typeof vt=="function")for(R=vt.call(R),vt=0;!(ct=R.next()).done;)ct=ct.value,_t=Ut+Mt(ct,vt++),wt+=Q(ct,F,tt,_t,gt);else if(_t==="object"){if(typeof R.then=="function")return Q($t(R),F,tt,ct,gt);throw F=String(R),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return wt}function nt(R,F,tt){if(R==null)return R;var ct=[],gt=0;return Q(R,ct,"","",function(_t){return F.call(tt,_t,gt++)}),ct}function ft(R){if(R._status===-1){var F=R._result;F=F(),F.then(function(tt){(R._status===0||R._status===-1)&&(R._status=1,R._result=tt)},function(tt){(R._status===0||R._status===-1)&&(R._status=2,R._result=tt)}),R._status===-1&&(R._status=0,R._result=F)}if(R._status===1)return R._result.default;throw R._result}var J=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},X={map:nt,forEach:function(R,F,tt){nt(R,function(){F.apply(this,arguments)},tt)},count:function(R){var F=0;return nt(R,function(){F++}),F},toArray:function(R){return nt(R,function(F){return F})||[]},only:function(R){if(!P(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Dt.Activity=_,Dt.Children=X,Dt.Component=z,Dt.Fragment=n,Dt.Profiler=a,Dt.PureComponent=q,Dt.StrictMode=r,Dt.Suspense=m,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(R){return x.H.useMemoCache(R)}},Dt.cache=function(R){return function(){return R.apply(null,arguments)}},Dt.cacheSignal=function(){return null},Dt.cloneElement=function(R,F,tt){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var ct=U({},R.props),gt=R.key;if(F!=null)for(_t in F.key!==void 0&&(gt=""+F.key),F)!A.call(F,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&F.ref===void 0||(ct[_t]=F[_t]);var _t=arguments.length-2;if(_t===1)ct.children=tt;else if(1<_t){for(var wt=Array(_t),Ut=0;Ut<_t;Ut++)wt[Ut]=arguments[Ut+2];ct.children=wt}return I(R.type,gt,ct)},Dt.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:l,_context:R},R},Dt.createElement=function(R,F,tt){var ct,gt={},_t=null;if(F!=null)for(ct in F.key!==void 0&&(_t=""+F.key),F)A.call(F,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(gt[ct]=F[ct]);var wt=arguments.length-2;if(wt===1)gt.children=tt;else if(1<wt){for(var Ut=Array(wt),vt=0;vt<wt;vt++)Ut[vt]=arguments[vt+2];gt.children=Ut}if(R&&R.defaultProps)for(ct in wt=R.defaultProps,wt)gt[ct]===void 0&&(gt[ct]=wt[ct]);return I(R,_t,gt)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(R){return{$$typeof:d,render:R}},Dt.isValidElement=P,Dt.lazy=function(R){return{$$typeof:y,_payload:{_status:-1,_result:R},_init:ft}},Dt.memo=function(R,F){return{$$typeof:g,type:R,compare:F===void 0?null:F}},Dt.startTransition=function(R){var F=x.T,tt={};x.T=tt;try{var ct=R(),gt=x.S;gt!==null&&gt(tt,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(ht,J)}catch(_t){J(_t)}finally{F!==null&&tt.types!==null&&(F.types=tt.types),x.T=F}},Dt.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Dt.use=function(R){return x.H.use(R)},Dt.useActionState=function(R,F,tt){return x.H.useActionState(R,F,tt)},Dt.useCallback=function(R,F){return x.H.useCallback(R,F)},Dt.useContext=function(R){return x.H.useContext(R)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(R,F){return x.H.useDeferredValue(R,F)},Dt.useEffect=function(R,F){return x.H.useEffect(R,F)},Dt.useEffectEvent=function(R){return x.H.useEffectEvent(R)},Dt.useId=function(){return x.H.useId()},Dt.useImperativeHandle=function(R,F,tt){return x.H.useImperativeHandle(R,F,tt)},Dt.useInsertionEffect=function(R,F){return x.H.useInsertionEffect(R,F)},Dt.useLayoutEffect=function(R,F){return x.H.useLayoutEffect(R,F)},Dt.useMemo=function(R,F){return x.H.useMemo(R,F)},Dt.useOptimistic=function(R,F){return x.H.useOptimistic(R,F)},Dt.useReducer=function(R,F,tt){return x.H.useReducer(R,F,tt)},Dt.useRef=function(R){return x.H.useRef(R)},Dt.useState=function(R){return x.H.useState(R)},Dt.useSyncExternalStore=function(R,F,tt){return x.H.useSyncExternalStore(R,F,tt)},Dt.useTransition=function(){return x.H.useTransition()},Dt.version="19.2.1",Dt}var TE;function hy(){return TE||(TE=1,dp.exports=tI()),dp.exports}var N=hy();const gg=q1(N);var mp={exports:{}},cu={},pp={exports:{}},gp={};var EE;function eI(){return EE||(EE=1,(function(e){function t(Q,nt){var ft=Q.length;Q.push(nt);t:for(;0<ft;){var J=ft-1>>>1,X=Q[J];if(0<a(X,nt))Q[J]=nt,Q[ft]=X,ft=J;else break t}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var nt=Q[0],ft=Q.pop();if(ft!==nt){Q[0]=ft;t:for(var J=0,X=Q.length,R=X>>>1;J<R;){var F=2*(J+1)-1,tt=Q[F],ct=F+1,gt=Q[ct];if(0>a(tt,ft))ct<X&&0>a(gt,tt)?(Q[J]=gt,Q[ct]=ft,J=ct):(Q[J]=tt,Q[F]=ft,J=F);else if(ct<X&&0>a(gt,ft))Q[J]=gt,Q[ct]=ft,J=ct;else break t}}return nt}function a(Q,nt){var ft=Q.sortIndex-nt.sortIndex;return ft!==0?ft:Q.id-nt.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var m=[],g=[],y=1,_=null,b=3,C=!1,O=!1,U=!1,L=!1,z=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function lt(Q){for(var nt=n(g);nt!==null;){if(nt.callback===null)r(g);else if(nt.startTime<=Q)r(g),nt.sortIndex=nt.expirationTime,t(m,nt);else break;nt=n(g)}}function at(Q){if(U=!1,lt(Q),!O)if(n(m)!==null)O=!0,ht||(ht=!0,B());else{var nt=n(g);nt!==null&&$t(at,nt.startTime-Q)}}var ht=!1,x=-1,A=5,I=-1;function k(){return L?!0:!(e.unstable_now()-I<A)}function P(){if(L=!1,ht){var Q=e.unstable_now();I=Q;var nt=!0;try{t:{O=!1,U&&(U=!1,G(x),x=-1),C=!0;var ft=b;try{e:{for(lt(Q),_=n(m);_!==null&&!(_.expirationTime>Q&&k());){var J=_.callback;if(typeof J=="function"){_.callback=null,b=_.priorityLevel;var X=J(_.expirationTime<=Q);if(Q=e.unstable_now(),typeof X=="function"){_.callback=X,lt(Q),nt=!0;break e}_===n(m)&&r(m),lt(Q)}else r(m);_=n(m)}if(_!==null)nt=!0;else{var R=n(g);R!==null&&$t(at,R.startTime-Q),nt=!1}}break t}finally{_=null,b=ft,C=!1}nt=void 0}}finally{nt?B():ht=!1}}}var B;if(typeof q=="function")B=function(){q(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Mt=D.port2;D.port1.onmessage=P,B=function(){Mt.postMessage(null)}}else B=function(){z(P,0)};function $t(Q,nt){x=z(function(){Q(e.unstable_now())},nt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Q){Q.callback=null},e.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Q?Math.floor(1e3/Q):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(Q){switch(b){case 1:case 2:case 3:var nt=3;break;default:nt=b}var ft=b;b=nt;try{return Q()}finally{b=ft}},e.unstable_requestPaint=function(){L=!0},e.unstable_runWithPriority=function(Q,nt){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ft=b;b=Q;try{return nt()}finally{b=ft}},e.unstable_scheduleCallback=function(Q,nt,ft){var J=e.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?J+ft:J):ft=J,Q){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ft+X,Q={id:y++,callback:nt,priorityLevel:Q,startTime:ft,expirationTime:X,sortIndex:-1},ft>J?(Q.sortIndex=ft,t(g,Q),n(m)===null&&Q===n(g)&&(U?(G(x),x=-1):U=!0,$t(at,ft-J))):(Q.sortIndex=X,t(m,Q),O||C||(O=!0,ht||(ht=!0,B()))),Q},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(Q){var nt=b;return function(){var ft=b;b=nt;try{return Q.apply(this,arguments)}finally{b=ft}}}})(gp)),gp}var bE;function nI(){return bE||(bE=1,pp.exports=eI()),pp.exports}var yp={exports:{}},ln={};var SE;function iI(){if(SE)return ln;SE=1;var e=hy();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:g,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ln.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return l(m,g,null,y)},ln.flushSync=function(m){var g=c.T,y=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=g,r.p=y,r.d.f()}},ln.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(m,g))},ln.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},ln.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,_=d(y,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?r.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:C}):y==="script"&&r.d.X(m,{crossOrigin:_,integrity:b,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ln.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=d(g.as,g.crossOrigin);r.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(m)},ln.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,_=d(y,g.crossOrigin);r.d.L(m,y,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ln.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=d(g.as,g.crossOrigin);r.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(m)},ln.requestFormReset=function(m){r.d.r(m)},ln.unstable_batchedUpdates=function(m,g){return m(g)},ln.useFormState=function(m,g,y){return c.H.useFormState(m,g,y)},ln.useFormStatus=function(){return c.H.useHostTransitionStatus()},ln.version="19.2.1",ln}var wE;function rI(){if(wE)return yp.exports;wE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),yp.exports=iI(),yp.exports}var AE;function sI(){if(AE)return cu;AE=1;var e=nI(),t=hy(),n=rI();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(r(188))}function g(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,u=s;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return m(f),i;if(p===u)return m(f),s;p=p.sibling}throw Error(r(188))}if(o.return!==u.return)o=f,u=p;else{for(var T=!1,S=f.child;S;){if(S===o){T=!0,o=f,u=p;break}if(S===u){T=!0,u=f,o=p;break}S=S.sibling}if(!T){for(S=p.child;S;){if(S===o){T=!0,o=p,u=f;break}if(S===u){T=!0,u=p,o=f;break}S=S.sibling}if(!T)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function y(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=y(i),s!==null)return s;i=i.sibling}return null}var _=Object.assign,b=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),q=Symbol.for("react.context"),lt=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),ht=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function Mt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case U:return"Fragment";case z:return"Profiler";case L:return"StrictMode";case at:return"Suspense";case ht:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case O:return"Portal";case q:return i.displayName||"Context";case G:return(i._context.displayName||"Context")+".Consumer";case lt:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case x:return s=i.displayName||null,s!==null?s:Mt(i.type)||"Memo";case A:s=i._payload,i=i._init;try{return Mt(i(s))}catch{}}return null}var $t=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},J=[],X=-1;function R(i){return{current:i}}function F(i){0>X||(i.current=J[X],J[X]=null,X--)}function tt(i,s){X++,J[X]=i.current,i.current=s}var ct=R(null),gt=R(null),_t=R(null),wt=R(null);function Ut(i,s){switch(tt(_t,s),tt(gt,i),tt(ct,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?zT(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=zT(s),i=BT(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}F(ct),tt(ct,i)}function vt(){F(ct),F(gt),F(_t)}function xt(i){i.memoizedState!==null&&tt(wt,i);var s=ct.current,o=BT(s,i.type);s!==o&&(tt(gt,i),tt(ct,o))}function Wt(i){gt.current===i&&(F(ct),F(gt)),wt.current===i&&(F(wt),su._currentValue=ft)}var ze,Be;function Te(i){if(ze===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);ze=s&&s[1]||"",Be=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ze+i+Be}var Oa=!1;function ri(i,s){if(!i||Oa)return"";Oa=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ot=function(){throw Error()};if(Object.defineProperty(ot.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ot,[])}catch(et){var W=et}Reflect.construct(i,[],ot)}else{try{ot.call()}catch(et){W=et}i.call(ot.prototype)}}else{try{throw Error()}catch(et){W=et}(ot=i())&&typeof ot.catch=="function"&&ot.catch(function(){})}}catch(et){if(et&&W&&typeof et.stack=="string")return[et.stack,W.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),T=p[0],S=p[1];if(T&&S){var M=T.split(`
`),$=S.split(`
`);for(f=u=0;u<M.length&&!M[u].includes("DetermineComponentFrameRoot");)u++;for(;f<$.length&&!$[f].includes("DetermineComponentFrameRoot");)f++;if(u===M.length||f===$.length)for(u=M.length-1,f=$.length-1;1<=u&&0<=f&&M[u]!==$[f];)f--;for(;1<=u&&0<=f;u--,f--)if(M[u]!==$[f]){if(u!==1||f!==1)do if(u--,f--,0>f||M[u]!==$[f]){var it=`
`+M[u].replace(" at new "," at ");return i.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",i.displayName)),it}while(1<=u&&0<=f);break}}}finally{Oa=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Te(o):""}function Ps(i,s){switch(i.tag){case 26:case 27:case 5:return Te(i.type);case 16:return Te("Lazy");case 13:return i.child!==s&&s!==null?Te("Suspense Fallback"):Te("Suspense");case 19:return Te("SuspenseList");case 0:case 15:return ri(i.type,!1);case 11:return ri(i.type.render,!1);case 1:return ri(i.type,!0);case 31:return Te("Activity");default:return""}}function ol(i){try{var s="",o=null;do s+=Ps(i,o),o=i,i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Re=Object.prototype.hasOwnProperty,Fe=e.unstable_scheduleCallback,Pr=e.unstable_cancelCallback,md=e.unstable_shouldYield,uc=e.unstable_requestPaint,mn=e.unstable_now,Ls=e.unstable_getCurrentPriorityLevel,ll=e.unstable_ImmediatePriority,ul=e.unstable_UserBlockingPriority,Lr=e.unstable_NormalPriority,pd=e.unstable_LowPriority,cc=e.unstable_IdlePriority,hc=e.log,fc=e.unstable_setDisableYieldValue,si=null,Xe=null;function Un(i){if(typeof hc=="function"&&fc(i),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(si,i)}catch{}}var Ee=Math.clz32?Math.clz32:mc,dc=Math.log,Pa=Math.LN2;function mc(i){return i>>>=0,i===0?32:31-(dc(i)/Pa|0)|0}var wi=256,ks=262144,Ce=4194304;function Ai(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ri(i,s,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,p=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var S=u&134217727;return S!==0?(u=S&~p,u!==0?f=Ai(u):(T&=S,T!==0?f=Ai(T):o||(o=S&~i,o!==0&&(f=Ai(o))))):(S=u&~p,S!==0?f=Ai(S):T!==0?f=Ai(T):o||(o=u&~i,o!==0&&(f=Ai(o)))),f===0?0:s!==0&&s!==f&&(s&p)===0&&(p=f&-f,o=s&-s,p>=o||p===32&&(o&4194048)!==0)?s:f}function ai(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function gd(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pc(){var i=Ce;return Ce<<=1,(Ce&62914560)===0&&(Ce=4194304),i}function Ci(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function Us(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function yd(i,s,o,u,f,p){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,M=i.expirationTimes,$=i.hiddenUpdates;for(o=T&~o;0<o;){var it=31-Ee(o),ot=1<<it;S[it]=0,M[it]=-1;var W=$[it];if(W!==null)for($[it]=null,it=0;it<W.length;it++){var et=W[it];et!==null&&(et.lane&=-536870913)}o&=~ot}u!==0&&js(i,u,0),p!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=p&~(T&~s))}function js(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-Ee(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function cl(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-Ee(o),f=1<<u;f&s|i[u]&s&&(i[u]|=s),o&=~f}}function hl(i,s){var o=s&-s;return o=(o&42)!==0?1:zs(o),(o&(i.suspendedLanes|s))!==0?0:o}function zs(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function er(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function gc(){var i=nt.p;return i!==0?i:(i=window.event,i===void 0?32:cE(i.type))}function oi(i,s){var o=nt.p;try{return nt.p=i,s()}finally{nt.p=o}}var li=Math.random().toString(36).slice(2),xe="__reactFiber$"+li,Ke="__reactProps$"+li,xi="__reactContainer$"+li,La="__reactEvents$"+li,vd="__reactListeners$"+li,yc="__reactHandles$"+li,vc="__reactResources$"+li,Ii="__reactMarker$"+li;function ka(i){delete i[xe],delete i[Ke],delete i[La],delete i[vd],delete i[yc]}function Di(i){var s=i[xe];if(s)return s;for(var o=i.parentNode;o;){if(s=o[xi]||o[xe]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=$T(i);i!==null;){if(o=i[xe])return o;i=$T(i)}return s}i=o,o=i.parentNode}return null}function jn(i){if(i=i[xe]||i[xi]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function In(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Ni(i){var s=i[vc];return s||(s=i[vc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ie(i){i[Ii]=!0}var fl=new Set,dl={};function Mi(i,s){Vi(i,s),Vi(i+"Capture",s)}function Vi(i,s){for(dl[i]=s,i=0;i<s.length;i++)fl.add(s[i])}var ml=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pl={},gl={};function _c(i){return Re.call(gl,i)?!0:Re.call(pl,i)?!1:ml.test(i)?gl[i]=!0:(pl[i]=!0,!1)}function Ua(i,s,o){if(_c(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function Dn(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function De(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}function Ye(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function kr(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function yl(i,s,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,p=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return f.call(this)},set:function(T){o=""+T,p.call(this,T)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Zt(i){if(!i._valueTracker){var s=kr(i)?"checked":"value";i._valueTracker=yl(i,s,""+i[s])}}function Bs(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=kr(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function Oi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Fs=/[\n"\\]/g;function _n(i){return i.replace(Fs,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ja(i,s,o,u,f,p,T,S){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),s!=null?T==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Ye(s)):i.value!==""+Ye(s)&&(i.value=""+Ye(s)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),s!=null?vl(i,T,Ye(s)):o!=null?vl(i,T,Ye(o)):u!=null&&i.removeAttribute("value"),f==null&&p!=null&&(i.defaultChecked=!!p),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+Ye(S):i.removeAttribute("name")}function Tc(i,s,o,u,f,p,T,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),s!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||s!=null)){Zt(i);return}o=o!=null?""+Ye(o):"",s=s!=null?""+Ye(s):o,S||s===i.value||(i.value=s),i.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=S?i.checked:!!u,i.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),Zt(i)}function vl(i,s,o){s==="number"&&Oi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Ur(i,s,o,u){if(i=i.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=s.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+Ye(o),s=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}s!==null||i[f].disabled||(s=i[f])}s!==null&&(s.selected=!0)}}function Ec(i,s,o){if(s!=null&&(s=""+Ye(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+Ye(o):""}function jr(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if($t(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=Ye(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),Zt(i)}function Tn(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var bc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _l(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||bc.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function Tl(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&_l(i,f,u)}else for(var p in s)s.hasOwnProperty(p)&&_l(i,p,s[p])}function za(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ba(i){return zr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ui(){}var El=null;function zn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Br=null,Pi=null;function qs(i){var s=jn(i);if(s&&(i=s.stateNode)){var o=i[Ke]||null;t:switch(i=s.stateNode,s.type){case"input":if(ja(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+_n(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var f=u[Ke]||null;if(!f)throw Error(r(90));ja(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&Bs(u)}break t;case"textarea":Ec(i,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&Ur(i,!!o.multiple,s,!1)}}}var Fa=!1;function Fr(i,s,o){if(Fa)return i(s,o);Fa=!0;try{var u=i(s);return u}finally{if(Fa=!1,(Br!==null||Pi!==null)&&(gh(),Br&&(s=Br,i=Pi,Pi=Br=null,qs(s),i)))for(s=0;s<i.length;s++)qs(i[s])}}function ci(i,s){var o=i.stateNode;if(o===null)return null;var u=o[Ke]||null;if(u===null)return null;o=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hs=!1;if(Bn)try{var ne={};Object.defineProperty(ne,"passive",{get:function(){Hs=!0}}),window.addEventListener("test",ne,ne),window.removeEventListener("test",ne,ne)}catch{Hs=!1}var Li=null,bl=null,Gs=null;function Sl(){if(Gs)return Gs;var i,s=bl,o=s.length,u,f="value"in Li?Li.value:Li.textContent,p=f.length;for(i=0;i<o&&s[i]===f[i];i++);var T=o-i;for(u=1;u<=T&&s[o-u]===f[p-u];u++);return Gs=f.slice(i,1<u?1-u:void 0)}function Ks(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function nr(){return!0}function hi(){return!1}function We(i){function s(o,u,f,p,T){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?nr:hi,this.isPropagationStopped=hi,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=nr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=nr)},persist:function(){},isPersistent:nr}),s}var ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ki=We(ir),qr=_({},ir,{view:0,detail:0}),wl=We(qr),Hr,qa,Ui,Ha=_({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ui&&(Ui&&i.type==="mousemove"?(Hr=i.screenX-Ui.screenX,qa=i.screenY-Ui.screenY):qa=Hr=0,Ui=i),Hr)},movementY:function(i){return"movementY"in i?i.movementY:qa}}),Al=We(Ha),Ys=_({},Ha,{dataTransfer:0}),wc=We(Ys),Ac=_({},qr,{relatedTarget:0}),$s=We(Ac),Rl=_({},ir,{animationName:0,elapsedTime:0,pseudoElement:0}),Rc=We(Rl),Ga=_({},ir,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Cc=We(Ga),xc=_({},ir,{data:0}),ji=We(xc),Ic={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mc(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Nc[i])?!!s[i]:!1}function Gr(){return Mc}var pn=_({},qr,{key:function(i){if(i.key){var s=Ic[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Ks(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Dc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gr,charCode:function(i){return i.type==="keypress"?Ks(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ks(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Vc=We(pn),Oc=_({},Ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rr=We(Oc),h=_({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gr}),v=We(h),E=_({},ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=We(E),K=_({},Ha,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Z=We(K),dt=_({},ir,{newState:0,oldState:0}),Vt=We(dt),be=[9,13,27,32],Qt=Bn&&"CompositionEvent"in window,he=null;Bn&&"documentMode"in document&&(he=document.documentMode);var Fn=Bn&&"TextEvent"in window&&!he,zi=Bn&&(!Qt||he&&8<he&&11>=he),fi=" ",di=!1;function Qs(i,s){switch(i){case"keyup":return be.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ka(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ya=!1;function bx(i,s){switch(i){case"compositionend":return Ka(s);case"keypress":return s.which!==32?null:(di=!0,fi);case"textInput":return i=s.data,i===fi&&di?null:i;default:return null}}function Sx(i,s){if(Ya)return i==="compositionend"||!Qt&&Qs(i,s)?(i=Sl(),Gs=bl=Li=null,Ya=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return zi&&s.locale!=="ko"?null:s.data;default:return null}}var wx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wv(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!wx[i.type]:s==="textarea"}function Jv(i,s,o,u){Br?Pi?Pi.push(u):Pi=[u]:Br=u,s=Sh(s,"onChange"),0<s.length&&(o=new ki("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var Cl=null,xl=null;function Ax(i){OT(i,0)}function Pc(i){var s=In(i);if(Bs(s))return i}function Zv(i,s){if(i==="change")return s}var t0=!1;if(Bn){var _d;if(Bn){var Td="oninput"in document;if(!Td){var e0=document.createElement("div");e0.setAttribute("oninput","return;"),Td=typeof e0.oninput=="function"}_d=Td}else _d=!1;t0=_d&&(!document.documentMode||9<document.documentMode)}function n0(){Cl&&(Cl.detachEvent("onpropertychange",i0),xl=Cl=null)}function i0(i){if(i.propertyName==="value"&&Pc(xl)){var s=[];Jv(s,xl,i,zn(i)),Fr(Ax,s)}}function Rx(i,s,o){i==="focusin"?(n0(),Cl=s,xl=o,Cl.attachEvent("onpropertychange",i0)):i==="focusout"&&n0()}function Cx(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Pc(xl)}function xx(i,s){if(i==="click")return Pc(s)}function Ix(i,s){if(i==="input"||i==="change")return Pc(s)}function Dx(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Nn=typeof Object.is=="function"?Object.is:Dx;function Il(i,s){if(Nn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Re.call(s,f)||!Nn(i[f],s[f]))return!1}return!0}function r0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function s0(i,s){var o=r0(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=r0(o)}}function a0(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?a0(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function o0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Oi(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Oi(i.document)}return s}function Ed(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var Nx=Bn&&"documentMode"in document&&11>=document.documentMode,$a=null,bd=null,Dl=null,Sd=!1;function l0(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Sd||$a==null||$a!==Oi(u)||(u=$a,"selectionStart"in u&&Ed(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Dl&&Il(Dl,u)||(Dl=u,u=Sh(bd,"onSelect"),0<u.length&&(s=new ki("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=$a)))}function Xs(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var Qa={animationend:Xs("Animation","AnimationEnd"),animationiteration:Xs("Animation","AnimationIteration"),animationstart:Xs("Animation","AnimationStart"),transitionrun:Xs("Transition","TransitionRun"),transitionstart:Xs("Transition","TransitionStart"),transitioncancel:Xs("Transition","TransitionCancel"),transitionend:Xs("Transition","TransitionEnd")},wd={},u0={};Bn&&(u0=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function Ws(i){if(wd[i])return wd[i];if(!Qa[i])return i;var s=Qa[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in u0)return wd[i]=s[o];return i}var c0=Ws("animationend"),h0=Ws("animationiteration"),f0=Ws("animationstart"),Mx=Ws("transitionrun"),Vx=Ws("transitionstart"),Ox=Ws("transitioncancel"),d0=Ws("transitionend"),m0=new Map,Ad="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ad.push("scrollEnd");function mi(i,s){m0.set(i,s),Mi(s,[i])}var Lc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},qn=[],Xa=0,Rd=0;function kc(){for(var i=Xa,s=Rd=Xa=0;s<i;){var o=qn[s];qn[s++]=null;var u=qn[s];qn[s++]=null;var f=qn[s];qn[s++]=null;var p=qn[s];if(qn[s++]=null,u!==null&&f!==null){var T=u.pending;T===null?f.next=f:(f.next=T.next,T.next=f),u.pending=f}p!==0&&p0(o,f,p)}}function Uc(i,s,o,u){qn[Xa++]=i,qn[Xa++]=s,qn[Xa++]=o,qn[Xa++]=u,Rd|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Cd(i,s,o,u){return Uc(i,s,o,u),jc(i)}function Js(i,s){return Uc(i,null,null,s),jc(i)}function p0(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,p=i.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(f=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,f&&s!==null&&(f=31-Ee(o),i=p.hiddenUpdates,u=i[f],u===null?i[f]=[s]:u.push(s),s.lane=o|536870912),p):null}function jc(i){if(50<Jl)throw Jl=0,Lm=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Wa={};function Px(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(i,s,o,u){return new Px(i,s,o,u)}function xd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function sr(i,s){var o=i.alternate;return o===null?(o=Mn(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function g0(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function zc(i,s,o,u,f,p){var T=0;if(u=i,typeof i=="function")xd(i)&&(T=1);else if(typeof i=="string")T=z2(i,o,ct.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case I:return i=Mn(31,o,s,f),i.elementType=I,i.lanes=p,i;case U:return Zs(o.children,f,p,s);case L:T=8,f|=24;break;case z:return i=Mn(12,o,s,f|2),i.elementType=z,i.lanes=p,i;case at:return i=Mn(13,o,s,f),i.elementType=at,i.lanes=p,i;case ht:return i=Mn(19,o,s,f),i.elementType=ht,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case q:T=10;break t;case G:T=9;break t;case lt:T=11;break t;case x:T=14;break t;case A:T=16,u=null;break t}T=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=Mn(T,o,s,f),s.elementType=i,s.type=u,s.lanes=p,s}function Zs(i,s,o,u){return i=Mn(7,i,u,s),i.lanes=o,i}function Id(i,s,o){return i=Mn(6,i,null,s),i.lanes=o,i}function y0(i){var s=Mn(18,null,null,0);return s.stateNode=i,s}function Dd(i,s,o){return s=Mn(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var v0=new WeakMap;function Hn(i,s){if(typeof i=="object"&&i!==null){var o=v0.get(i);return o!==void 0?o:(s={value:i,source:s,stack:ol(s)},v0.set(i,s),s)}return{value:i,source:s,stack:ol(s)}}var Ja=[],Za=0,Bc=null,Nl=0,Gn=[],Kn=0,Kr=null,Bi=1,Fi="";function ar(i,s){Ja[Za++]=Nl,Ja[Za++]=Bc,Bc=i,Nl=s}function _0(i,s,o){Gn[Kn++]=Bi,Gn[Kn++]=Fi,Gn[Kn++]=Kr,Kr=i;var u=Bi;i=Fi;var f=32-Ee(u)-1;u&=~(1<<f),o+=1;var p=32-Ee(s)+f;if(30<p){var T=f-f%5;p=(u&(1<<T)-1).toString(32),u>>=T,f-=T,Bi=1<<32-Ee(s)+f|o<<f|u,Fi=p+i}else Bi=1<<p|o<<f|u,Fi=i}function Nd(i){i.return!==null&&(ar(i,1),_0(i,1,0))}function Md(i){for(;i===Bc;)Bc=Ja[--Za],Ja[Za]=null,Nl=Ja[--Za],Ja[Za]=null;for(;i===Kr;)Kr=Gn[--Kn],Gn[Kn]=null,Fi=Gn[--Kn],Gn[Kn]=null,Bi=Gn[--Kn],Gn[Kn]=null}function T0(i,s){Gn[Kn++]=Bi,Gn[Kn++]=Fi,Gn[Kn++]=Kr,Bi=s.id,Fi=s.overflow,Kr=i}var Je=null,le=null,Ht=!1,Yr=null,Yn=!1,Vd=Error(r(519));function $r(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ml(Hn(s,i)),Vd}function E0(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[xe]=i,s[Ke]=u,o){case"dialog":kt("cancel",s),kt("close",s);break;case"iframe":case"object":case"embed":kt("load",s);break;case"video":case"audio":for(o=0;o<tu.length;o++)kt(tu[o],s);break;case"source":kt("error",s);break;case"img":case"image":case"link":kt("error",s),kt("load",s);break;case"details":kt("toggle",s);break;case"input":kt("invalid",s),Tc(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":kt("invalid",s);break;case"textarea":kt("invalid",s),jr(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||UT(s.textContent,o)?(u.popover!=null&&(kt("beforetoggle",s),kt("toggle",s)),u.onScroll!=null&&kt("scroll",s),u.onScrollEnd!=null&&kt("scrollend",s),u.onClick!=null&&(s.onclick=ui),s=!0):s=!1,s||$r(i,!0)}function b0(i){for(Je=i.return;Je;)switch(Je.tag){case 5:case 31:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Je=Je.return}}function to(i){if(i!==Je)return!1;if(!Ht)return b0(i),Ht=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Wm(i.type,i.memoizedProps)),o=!o),o&&le&&$r(i),b0(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));le=YT(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));le=YT(i)}else s===27?(s=le,ls(i.type)?(i=np,np=null,le=i):le=s):le=Je?Qn(i.stateNode.nextSibling):null;return!0}function ta(){le=Je=null,Ht=!1}function Od(){var i=Yr;return i!==null&&(wn===null?wn=i:wn.push.apply(wn,i),Yr=null),i}function Ml(i){Yr===null?Yr=[i]:Yr.push(i)}var Pd=R(null),ea=null,or=null;function Qr(i,s,o){tt(Pd,s._currentValue),s._currentValue=o}function lr(i){i._currentValue=Pd.current,F(Pd)}function Ld(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function kd(i,s,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var p=f.dependencies;if(p!==null){var T=f.child;p=p.firstContext;t:for(;p!==null;){var S=p;p=f;for(var M=0;M<s.length;M++)if(S.context===s[M]){p.lanes|=o,S=p.alternate,S!==null&&(S.lanes|=o),Ld(p.return,o,i),u||(T=null);break t}p=S.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(r(341));T.lanes|=o,p=T.alternate,p!==null&&(p.lanes|=o),Ld(T,o,i),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===i){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function eo(i,s,o,u){i=null;for(var f=s,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var S=f.type;Nn(f.pendingProps.value,T.value)||(i!==null?i.push(S):i=[S])}}else if(f===wt.current){if(T=f.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(su):i=[su])}f=f.return}i!==null&&kd(s,i,o,u),s.flags|=262144}function Fc(i){for(i=i.firstContext;i!==null;){if(!Nn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function na(i){ea=i,or=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Ze(i){return S0(ea,i)}function qc(i,s){return ea===null&&na(i),S0(i,s)}function S0(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},or===null){if(i===null)throw Error(r(308));or=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else or=or.next=s;return o}var Lx=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},kx=e.unstable_scheduleCallback,Ux=e.unstable_NormalPriority,Ne={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ud(){return{controller:new Lx,data:new Map,refCount:0}}function Vl(i){i.refCount--,i.refCount===0&&kx(Ux,function(){i.controller.abort()})}var Ol=null,jd=0,no=0,io=null;function jx(i,s){if(Ol===null){var o=Ol=[];jd=0,no=Fm(),io={status:"pending",value:void 0,then:function(u){o.push(u)}}}return jd++,s.then(w0,w0),s}function w0(){if(--jd===0&&Ol!==null){io!==null&&(io.status="fulfilled");var i=Ol;Ol=null,no=0,io=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function zx(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var A0=Q.S;Q.S=function(i,s){lT=mn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&jx(i,s),A0!==null&&A0(i,s)};var ia=R(null);function zd(){var i=ia.current;return i!==null?i:ae.pooledCache}function Hc(i,s){s===null?tt(ia,ia.current):tt(ia,s.pool)}function R0(){var i=zd();return i===null?null:{parent:Ne._currentValue,pool:i}}var ro=Error(r(460)),Bd=Error(r(474)),Gc=Error(r(542)),Kc={then:function(){}};function C0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function x0(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(ui,ui),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,D0(i),i;default:if(typeof s.status=="string")s.then(ui,ui);else{if(i=ae,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,D0(i),i}throw sa=s,ro}}function ra(i){try{var s=i._init;return s(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(sa=o,ro):o}}var sa=null;function I0(){if(sa===null)throw Error(r(459));var i=sa;return sa=null,i}function D0(i){if(i===ro||i===Gc)throw Error(r(483))}var so=null,Pl=0;function Yc(i){var s=Pl;return Pl+=1,so===null&&(so=[]),x0(so,i,s)}function Ll(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function $c(i,s){throw s.$$typeof===b?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function N0(i){function s(H,j){if(i){var Y=H.deletions;Y===null?(H.deletions=[j],H.flags|=16):Y.push(j)}}function o(H,j){if(!i)return null;for(;j!==null;)s(H,j),j=j.sibling;return null}function u(H){for(var j=new Map;H!==null;)H.key!==null?j.set(H.key,H):j.set(H.index,H),H=H.sibling;return j}function f(H,j){return H=sr(H,j),H.index=0,H.sibling=null,H}function p(H,j,Y){return H.index=Y,i?(Y=H.alternate,Y!==null?(Y=Y.index,Y<j?(H.flags|=67108866,j):Y):(H.flags|=67108866,j)):(H.flags|=1048576,j)}function T(H){return i&&H.alternate===null&&(H.flags|=67108866),H}function S(H,j,Y,rt){return j===null||j.tag!==6?(j=Id(Y,H.mode,rt),j.return=H,j):(j=f(j,Y),j.return=H,j)}function M(H,j,Y,rt){var Et=Y.type;return Et===U?it(H,j,Y.props.children,rt,Y.key):j!==null&&(j.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===A&&ra(Et)===j.type)?(j=f(j,Y.props),Ll(j,Y),j.return=H,j):(j=zc(Y.type,Y.key,Y.props,null,H.mode,rt),Ll(j,Y),j.return=H,j)}function $(H,j,Y,rt){return j===null||j.tag!==4||j.stateNode.containerInfo!==Y.containerInfo||j.stateNode.implementation!==Y.implementation?(j=Dd(Y,H.mode,rt),j.return=H,j):(j=f(j,Y.children||[]),j.return=H,j)}function it(H,j,Y,rt,Et){return j===null||j.tag!==7?(j=Zs(Y,H.mode,rt,Et),j.return=H,j):(j=f(j,Y),j.return=H,j)}function ot(H,j,Y){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Id(""+j,H.mode,Y),j.return=H,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case C:return Y=zc(j.type,j.key,j.props,null,H.mode,Y),Ll(Y,j),Y.return=H,Y;case O:return j=Dd(j,H.mode,Y),j.return=H,j;case A:return j=ra(j),ot(H,j,Y)}if($t(j)||B(j))return j=Zs(j,H.mode,Y,null),j.return=H,j;if(typeof j.then=="function")return ot(H,Yc(j),Y);if(j.$$typeof===q)return ot(H,qc(H,j),Y);$c(H,j)}return null}function W(H,j,Y,rt){var Et=j!==null?j.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Et!==null?null:S(H,j,""+Y,rt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case C:return Y.key===Et?M(H,j,Y,rt):null;case O:return Y.key===Et?$(H,j,Y,rt):null;case A:return Y=ra(Y),W(H,j,Y,rt)}if($t(Y)||B(Y))return Et!==null?null:it(H,j,Y,rt,null);if(typeof Y.then=="function")return W(H,j,Yc(Y),rt);if(Y.$$typeof===q)return W(H,j,qc(H,Y),rt);$c(H,Y)}return null}function et(H,j,Y,rt,Et){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return H=H.get(Y)||null,S(j,H,""+rt,Et);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case C:return H=H.get(rt.key===null?Y:rt.key)||null,M(j,H,rt,Et);case O:return H=H.get(rt.key===null?Y:rt.key)||null,$(j,H,rt,Et);case A:return rt=ra(rt),et(H,j,Y,rt,Et)}if($t(rt)||B(rt))return H=H.get(Y)||null,it(j,H,rt,Et,null);if(typeof rt.then=="function")return et(H,j,Y,Yc(rt),Et);if(rt.$$typeof===q)return et(H,j,Y,qc(j,rt),Et);$c(j,rt)}return null}function yt(H,j,Y,rt){for(var Et=null,Kt=null,Tt=j,Pt=j=0,zt=null;Tt!==null&&Pt<Y.length;Pt++){Tt.index>Pt?(zt=Tt,Tt=null):zt=Tt.sibling;var Yt=W(H,Tt,Y[Pt],rt);if(Yt===null){Tt===null&&(Tt=zt);break}i&&Tt&&Yt.alternate===null&&s(H,Tt),j=p(Yt,j,Pt),Kt===null?Et=Yt:Kt.sibling=Yt,Kt=Yt,Tt=zt}if(Pt===Y.length)return o(H,Tt),Ht&&ar(H,Pt),Et;if(Tt===null){for(;Pt<Y.length;Pt++)Tt=ot(H,Y[Pt],rt),Tt!==null&&(j=p(Tt,j,Pt),Kt===null?Et=Tt:Kt.sibling=Tt,Kt=Tt);return Ht&&ar(H,Pt),Et}for(Tt=u(Tt);Pt<Y.length;Pt++)zt=et(Tt,H,Pt,Y[Pt],rt),zt!==null&&(i&&zt.alternate!==null&&Tt.delete(zt.key===null?Pt:zt.key),j=p(zt,j,Pt),Kt===null?Et=zt:Kt.sibling=zt,Kt=zt);return i&&Tt.forEach(function(ds){return s(H,ds)}),Ht&&ar(H,Pt),Et}function St(H,j,Y,rt){if(Y==null)throw Error(r(151));for(var Et=null,Kt=null,Tt=j,Pt=j=0,zt=null,Yt=Y.next();Tt!==null&&!Yt.done;Pt++,Yt=Y.next()){Tt.index>Pt?(zt=Tt,Tt=null):zt=Tt.sibling;var ds=W(H,Tt,Yt.value,rt);if(ds===null){Tt===null&&(Tt=zt);break}i&&Tt&&ds.alternate===null&&s(H,Tt),j=p(ds,j,Pt),Kt===null?Et=ds:Kt.sibling=ds,Kt=ds,Tt=zt}if(Yt.done)return o(H,Tt),Ht&&ar(H,Pt),Et;if(Tt===null){for(;!Yt.done;Pt++,Yt=Y.next())Yt=ot(H,Yt.value,rt),Yt!==null&&(j=p(Yt,j,Pt),Kt===null?Et=Yt:Kt.sibling=Yt,Kt=Yt);return Ht&&ar(H,Pt),Et}for(Tt=u(Tt);!Yt.done;Pt++,Yt=Y.next())Yt=et(Tt,H,Pt,Yt.value,rt),Yt!==null&&(i&&Yt.alternate!==null&&Tt.delete(Yt.key===null?Pt:Yt.key),j=p(Yt,j,Pt),Kt===null?Et=Yt:Kt.sibling=Yt,Kt=Yt);return i&&Tt.forEach(function(W2){return s(H,W2)}),Ht&&ar(H,Pt),Et}function se(H,j,Y,rt){if(typeof Y=="object"&&Y!==null&&Y.type===U&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case C:t:{for(var Et=Y.key;j!==null;){if(j.key===Et){if(Et=Y.type,Et===U){if(j.tag===7){o(H,j.sibling),rt=f(j,Y.props.children),rt.return=H,H=rt;break t}}else if(j.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===A&&ra(Et)===j.type){o(H,j.sibling),rt=f(j,Y.props),Ll(rt,Y),rt.return=H,H=rt;break t}o(H,j);break}else s(H,j);j=j.sibling}Y.type===U?(rt=Zs(Y.props.children,H.mode,rt,Y.key),rt.return=H,H=rt):(rt=zc(Y.type,Y.key,Y.props,null,H.mode,rt),Ll(rt,Y),rt.return=H,H=rt)}return T(H);case O:t:{for(Et=Y.key;j!==null;){if(j.key===Et)if(j.tag===4&&j.stateNode.containerInfo===Y.containerInfo&&j.stateNode.implementation===Y.implementation){o(H,j.sibling),rt=f(j,Y.children||[]),rt.return=H,H=rt;break t}else{o(H,j);break}else s(H,j);j=j.sibling}rt=Dd(Y,H.mode,rt),rt.return=H,H=rt}return T(H);case A:return Y=ra(Y),se(H,j,Y,rt)}if($t(Y))return yt(H,j,Y,rt);if(B(Y)){if(Et=B(Y),typeof Et!="function")throw Error(r(150));return Y=Et.call(Y),St(H,j,Y,rt)}if(typeof Y.then=="function")return se(H,j,Yc(Y),rt);if(Y.$$typeof===q)return se(H,j,qc(H,Y),rt);$c(H,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,j!==null&&j.tag===6?(o(H,j.sibling),rt=f(j,Y),rt.return=H,H=rt):(o(H,j),rt=Id(Y,H.mode,rt),rt.return=H,H=rt),T(H)):o(H,j)}return function(H,j,Y,rt){try{Pl=0;var Et=se(H,j,Y,rt);return so=null,Et}catch(Tt){if(Tt===ro||Tt===Gc)throw Tt;var Kt=Mn(29,Tt,null,H.mode);return Kt.lanes=rt,Kt.return=H,Kt}finally{}}}var aa=N0(!0),M0=N0(!1),Xr=!1;function Fd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qd(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Wr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Jr(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Xt&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=jc(i),p0(i,null,o),s}return Uc(i,u,s,o),jc(i)}function kl(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,cl(i,o)}}function Hd(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=T:p=p.next=T,o=o.next}while(o!==null);p===null?f=p=s:p=p.next=s}else f=p=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var Gd=!1;function Ul(){if(Gd){var i=io;if(i!==null)throw i}}function jl(i,s,o,u){Gd=!1;var f=i.updateQueue;Xr=!1;var p=f.firstBaseUpdate,T=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var M=S,$=M.next;M.next=null,T===null?p=$:T.next=$,T=M;var it=i.alternate;it!==null&&(it=it.updateQueue,S=it.lastBaseUpdate,S!==T&&(S===null?it.firstBaseUpdate=$:S.next=$,it.lastBaseUpdate=M))}if(p!==null){var ot=f.baseState;T=0,it=$=M=null,S=p;do{var W=S.lane&-536870913,et=W!==S.lane;if(et?(jt&W)===W:(u&W)===W){W!==0&&W===no&&(Gd=!0),it!==null&&(it=it.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var yt=i,St=S;W=s;var se=o;switch(St.tag){case 1:if(yt=St.payload,typeof yt=="function"){ot=yt.call(se,ot,W);break t}ot=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=St.payload,W=typeof yt=="function"?yt.call(se,ot,W):yt,W==null)break t;ot=_({},ot,W);break t;case 2:Xr=!0}}W=S.callback,W!==null&&(i.flags|=64,et&&(i.flags|=8192),et=f.callbacks,et===null?f.callbacks=[W]:et.push(W))}else et={lane:W,tag:S.tag,payload:S.payload,callback:S.callback,next:null},it===null?($=it=et,M=ot):it=it.next=et,T|=W;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;et=S,S=et.next,et.next=null,f.lastBaseUpdate=et,f.shared.pending=null}}while(!0);it===null&&(M=ot),f.baseState=M,f.firstBaseUpdate=$,f.lastBaseUpdate=it,p===null&&(f.shared.lanes=0),is|=T,i.lanes=T,i.memoizedState=ot}}function V0(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function O0(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)V0(o[i],s)}var ao=R(null),Qc=R(0);function P0(i,s){i=yr,tt(Qc,i),tt(ao,s),yr=i|s.baseLanes}function Kd(){tt(Qc,yr),tt(ao,ao.current)}function Yd(){yr=Qc.current,F(ao),F(Qc)}var Vn=R(null),$n=null;function Zr(i){var s=i.alternate;tt(Se,Se.current&1),tt(Vn,i),$n===null&&(s===null||ao.current!==null||s.memoizedState!==null)&&($n=i)}function $d(i){tt(Se,Se.current),tt(Vn,i),$n===null&&($n=i)}function L0(i){i.tag===22?(tt(Se,Se.current),tt(Vn,i),$n===null&&($n=i)):ts()}function ts(){tt(Se,Se.current),tt(Vn,Vn.current)}function On(i){F(Vn),$n===i&&($n=null),F(Se)}var Se=R(0);function Xc(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||tp(o)||ep(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ur=0,Ot=null,ie=null,Me=null,Wc=!1,oo=!1,oa=!1,Jc=0,zl=0,lo=null,Bx=0;function ye(){throw Error(r(321))}function Qd(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!Nn(i[o],s[o]))return!1;return!0}function Xd(i,s,o,u,f,p){return ur=p,Ot=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Q.H=i===null||i.memoizedState===null?__:hm,oa=!1,p=o(u,f),oa=!1,oo&&(p=U0(s,o,u,f)),k0(i),p}function k0(i){Q.H=ql;var s=ie!==null&&ie.next!==null;if(ur=0,Me=ie=Ot=null,Wc=!1,zl=0,lo=null,s)throw Error(r(300));i===null||Ve||(i=i.dependencies,i!==null&&Fc(i)&&(Ve=!0))}function U0(i,s,o,u){Ot=i;var f=0;do{if(oo&&(lo=null),zl=0,oo=!1,25<=f)throw Error(r(301));if(f+=1,Me=ie=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Q.H=T_,p=s(o,u)}while(oo);return p}function Fx(){var i=Q.H,s=i.useState()[0];return s=typeof s.then=="function"?Bl(s):s,i=i.useState()[0],(ie!==null?ie.memoizedState:null)!==i&&(Ot.flags|=1024),s}function Wd(){var i=Jc!==0;return Jc=0,i}function Jd(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function Zd(i){if(Wc){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Wc=!1}ur=0,Me=ie=Ot=null,oo=!1,zl=Jc=0,lo=null}function gn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?Ot.memoizedState=Me=i:Me=Me.next=i,Me}function we(){if(ie===null){var i=Ot.alternate;i=i!==null?i.memoizedState:null}else i=ie.next;var s=Me===null?Ot.memoizedState:Me.next;if(s!==null)Me=s,ie=i;else{if(i===null)throw Ot.alternate===null?Error(r(467)):Error(r(310));ie=i,i={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},Me===null?Ot.memoizedState=Me=i:Me=Me.next=i}return Me}function Zc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bl(i){var s=zl;return zl+=1,lo===null&&(lo=[]),i=x0(lo,i,s),s=Ot,(Me===null?s.memoizedState:Me.next)===null&&(s=s.alternate,Q.H=s===null||s.memoizedState===null?__:hm),i}function th(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Bl(i);if(i.$$typeof===q)return Ze(i)}throw Error(r(438,String(i)))}function tm(i){var s=null,o=Ot.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Ot.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Zc(),Ot.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=k;return s.index++,o}function cr(i,s){return typeof s=="function"?s(i):s}function eh(i){var s=we();return em(s,ie,i)}function em(i,s,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var f=i.baseQueue,p=u.pending;if(p!==null){if(f!==null){var T=f.next;f.next=p.next,p.next=T}s.baseQueue=f=p,u.pending=null}if(p=i.baseState,f===null)i.memoizedState=p;else{s=f.next;var S=T=null,M=null,$=s,it=!1;do{var ot=$.lane&-536870913;if(ot!==$.lane?(jt&ot)===ot:(ur&ot)===ot){var W=$.revertLane;if(W===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ot===no&&(it=!0);else if((ur&W)===W){$=$.next,W===no&&(it=!0);continue}else ot={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},M===null?(S=M=ot,T=p):M=M.next=ot,Ot.lanes|=W,is|=W;ot=$.action,oa&&o(p,ot),p=$.hasEagerState?$.eagerState:o(p,ot)}else W={lane:ot,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},M===null?(S=M=W,T=p):M=M.next=W,Ot.lanes|=ot,is|=ot;$=$.next}while($!==null&&$!==s);if(M===null?T=p:M.next=S,!Nn(p,i.memoizedState)&&(Ve=!0,it&&(o=io,o!==null)))throw o;i.memoizedState=p,i.baseState=T,i.baseQueue=M,u.lastRenderedState=p}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function nm(i){var s=we(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,p=s.memoizedState;if(f!==null){o.pending=null;var T=f=f.next;do p=i(p,T.action),T=T.next;while(T!==f);Nn(p,s.memoizedState)||(Ve=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),o.lastRenderedState=p}return[p,u]}function j0(i,s,o){var u=Ot,f=we(),p=Ht;if(p){if(o===void 0)throw Error(r(407));o=o()}else o=s();var T=!Nn((ie||f).memoizedState,o);if(T&&(f.memoizedState=o,Ve=!0),f=f.queue,sm(F0.bind(null,u,f,i),[i]),f.getSnapshot!==s||T||Me!==null&&Me.memoizedState.tag&1){if(u.flags|=2048,uo(9,{destroy:void 0},B0.bind(null,u,f,o,s),null),ae===null)throw Error(r(349));p||(ur&127)!==0||z0(u,s,o)}return o}function z0(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Ot.updateQueue,s===null?(s=Zc(),Ot.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function B0(i,s,o,u){s.value=o,s.getSnapshot=u,q0(s)&&H0(i)}function F0(i,s,o){return o(function(){q0(s)&&H0(i)})}function q0(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!Nn(i,o)}catch{return!0}}function H0(i){var s=Js(i,2);s!==null&&An(s,i,2)}function im(i){var s=gn();if(typeof i=="function"){var o=i;if(i=o(),oa){Un(!0);try{o()}finally{Un(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:i},s}function G0(i,s,o,u){return i.baseState=o,em(i,ie,typeof u=="function"?u:cr)}function qx(i,s,o,u,f){if(rh(i))throw Error(r(485));if(i=s.action,i!==null){var p={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};Q.T!==null?o(!0):p.isTransition=!1,u(p),o=s.pending,o===null?(p.next=s.pending=p,K0(s,p)):(p.next=o.next,s.pending=o.next=p)}}function K0(i,s){var o=s.action,u=s.payload,f=i.state;if(s.isTransition){var p=Q.T,T={};Q.T=T;try{var S=o(f,u),M=Q.S;M!==null&&M(T,S),Y0(i,s,S)}catch($){rm(i,s,$)}finally{p!==null&&T.types!==null&&(p.types=T.types),Q.T=p}}else try{p=o(f,u),Y0(i,s,p)}catch($){rm(i,s,$)}}function Y0(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){$0(i,s,u)},function(u){return rm(i,s,u)}):$0(i,s,o)}function $0(i,s,o){s.status="fulfilled",s.value=o,Q0(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,K0(i,o)))}function rm(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,Q0(s),s=s.next;while(s!==u)}i.action=null}function Q0(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function X0(i,s){return s}function W0(i,s){if(Ht){var o=ae.formState;if(o!==null){t:{var u=Ot;if(Ht){if(le){e:{for(var f=le,p=Yn;f.nodeType!==8;){if(!p){f=null;break e}if(f=Qn(f.nextSibling),f===null){f=null;break e}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){le=Qn(f.nextSibling),u=f.data==="F!";break t}}$r(u)}u=!1}u&&(s=o[0])}}return o=gn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:X0,lastRenderedState:s},o.queue=u,o=g_.bind(null,Ot,u),u.dispatch=o,u=im(!1),p=cm.bind(null,Ot,!1,u.queue),u=gn(),f={state:s,dispatch:null,action:i,pending:null},u.queue=f,o=qx.bind(null,Ot,f,p,o),f.dispatch=o,u.memoizedState=i,[s,o,!1]}function J0(i){var s=we();return Z0(s,ie,i)}function Z0(i,s,o){if(s=em(i,s,X0)[0],i=eh(cr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Bl(s)}catch(T){throw T===ro?Gc:T}else u=s;s=we();var f=s.queue,p=f.dispatch;return o!==s.memoizedState&&(Ot.flags|=2048,uo(9,{destroy:void 0},Hx.bind(null,f,o),null)),[u,p,i]}function Hx(i,s){i.action=s}function t_(i){var s=we(),o=ie;if(o!==null)return Z0(s,o,i);we(),s=s.memoizedState,o=we();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function uo(i,s,o,u){return i={tag:i,create:o,deps:u,inst:s,next:null},s=Ot.updateQueue,s===null&&(s=Zc(),Ot.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function e_(){return we().memoizedState}function nh(i,s,o,u){var f=gn();Ot.flags|=i,f.memoizedState=uo(1|s,{destroy:void 0},o,u===void 0?null:u)}function ih(i,s,o,u){var f=we();u=u===void 0?null:u;var p=f.memoizedState.inst;ie!==null&&u!==null&&Qd(u,ie.memoizedState.deps)?f.memoizedState=uo(s,p,o,u):(Ot.flags|=i,f.memoizedState=uo(1|s,p,o,u))}function n_(i,s){nh(8390656,8,i,s)}function sm(i,s){ih(2048,8,i,s)}function Gx(i){Ot.flags|=4;var s=Ot.updateQueue;if(s===null)s=Zc(),Ot.updateQueue=s,s.events=[i];else{var o=s.events;o===null?s.events=[i]:o.push(i)}}function i_(i){var s=we().memoizedState;return Gx({ref:s,nextImpl:i}),function(){if((Xt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function r_(i,s){return ih(4,2,i,s)}function s_(i,s){return ih(4,4,i,s)}function a_(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function o_(i,s,o){o=o!=null?o.concat([i]):null,ih(4,4,a_.bind(null,s,i),o)}function am(){}function l_(i,s){var o=we();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Qd(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function u_(i,s){var o=we();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Qd(s,u[1]))return u[0];if(u=i(),oa){Un(!0);try{i()}finally{Un(!1)}}return o.memoizedState=[u,s],u}function om(i,s,o){return o===void 0||(ur&1073741824)!==0&&(jt&261930)===0?i.memoizedState=s:(i.memoizedState=o,i=cT(),Ot.lanes|=i,is|=i,o)}function c_(i,s,o,u){return Nn(o,s)?o:ao.current!==null?(i=om(i,o,u),Nn(i,s)||(Ve=!0),i):(ur&42)===0||(ur&1073741824)!==0&&(jt&261930)===0?(Ve=!0,i.memoizedState=o):(i=cT(),Ot.lanes|=i,is|=i,s)}function h_(i,s,o,u,f){var p=nt.p;nt.p=p!==0&&8>p?p:8;var T=Q.T,S={};Q.T=S,cm(i,!1,s,o);try{var M=f(),$=Q.S;if($!==null&&$(S,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var it=zx(M,u);Fl(i,s,it,kn(i))}else Fl(i,s,u,kn(i))}catch(ot){Fl(i,s,{then:function(){},status:"rejected",reason:ot},kn())}finally{nt.p=p,T!==null&&S.types!==null&&(T.types=S.types),Q.T=T}}function Kx(){}function lm(i,s,o,u){if(i.tag!==5)throw Error(r(476));var f=f_(i).queue;h_(i,f,s,ft,o===null?Kx:function(){return d_(i),o(u)})}function f_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:ft},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function d_(i){var s=f_(i);s.next===null&&(s=i.alternate.memoizedState),Fl(i,s.next.queue,{},kn())}function um(){return Ze(su)}function m_(){return we().memoizedState}function p_(){return we().memoizedState}function Yx(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=kn();i=Wr(o);var u=Jr(s,i,o);u!==null&&(An(u,s,o),kl(u,s,o)),s={cache:Ud()},i.payload=s;return}s=s.return}}function $x(i,s,o){var u=kn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},rh(i)?y_(s,o):(o=Cd(i,s,o,u),o!==null&&(An(o,i,u),v_(o,s,u)))}function g_(i,s,o){var u=kn();Fl(i,s,o,u)}function Fl(i,s,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(rh(i))y_(s,f);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var T=s.lastRenderedState,S=p(T,o);if(f.hasEagerState=!0,f.eagerState=S,Nn(S,T))return Uc(i,s,f,0),ae===null&&kc(),!1}catch{}finally{}if(o=Cd(i,s,f,u),o!==null)return An(o,i,u),v_(o,s,u),!0}return!1}function cm(i,s,o,u){if(u={lane:2,revertLane:Fm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},rh(i)){if(s)throw Error(r(479))}else s=Cd(i,o,u,2),s!==null&&An(s,i,2)}function rh(i){var s=i.alternate;return i===Ot||s!==null&&s===Ot}function y_(i,s){oo=Wc=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function v_(i,s,o){if((o&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,cl(i,o)}}var ql={readContext:Ze,use:th,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useInsertionEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useSyncExternalStore:ye,useId:ye,useHostTransitionStatus:ye,useFormState:ye,useActionState:ye,useOptimistic:ye,useMemoCache:ye,useCacheRefresh:ye};ql.useEffectEvent=ye;var __={readContext:Ze,use:th,useCallback:function(i,s){return gn().memoizedState=[i,s===void 0?null:s],i},useContext:Ze,useEffect:n_,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,nh(4194308,4,a_.bind(null,s,i),o)},useLayoutEffect:function(i,s){return nh(4194308,4,i,s)},useInsertionEffect:function(i,s){nh(4,2,i,s)},useMemo:function(i,s){var o=gn();s=s===void 0?null:s;var u=i();if(oa){Un(!0);try{i()}finally{Un(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=gn();if(o!==void 0){var f=o(s);if(oa){Un(!0);try{o(s)}finally{Un(!1)}}}else f=s;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=$x.bind(null,Ot,i),[u.memoizedState,i]},useRef:function(i){var s=gn();return i={current:i},s.memoizedState=i},useState:function(i){i=im(i);var s=i.queue,o=g_.bind(null,Ot,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:am,useDeferredValue:function(i,s){var o=gn();return om(o,i,s)},useTransition:function(){var i=im(!1);return i=h_.bind(null,Ot,i.queue,!0,!1),gn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=Ot,f=gn();if(Ht){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),ae===null)throw Error(r(349));(jt&127)!==0||z0(u,s,o)}f.memoizedState=o;var p={value:o,getSnapshot:s};return f.queue=p,n_(F0.bind(null,u,p,i),[i]),u.flags|=2048,uo(9,{destroy:void 0},B0.bind(null,u,p,o,s),null),o},useId:function(){var i=gn(),s=ae.identifierPrefix;if(Ht){var o=Fi,u=Bi;o=(u&~(1<<32-Ee(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=Jc++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=Bx++,s="_"+s+"r_"+o.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:um,useFormState:W0,useActionState:W0,useOptimistic:function(i){var s=gn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=cm.bind(null,Ot,!0,o),o.dispatch=s,[i,s]},useMemoCache:tm,useCacheRefresh:function(){return gn().memoizedState=Yx.bind(null,Ot)},useEffectEvent:function(i){var s=gn(),o={impl:i};return s.memoizedState=o,function(){if((Xt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},hm={readContext:Ze,use:th,useCallback:l_,useContext:Ze,useEffect:sm,useImperativeHandle:o_,useInsertionEffect:r_,useLayoutEffect:s_,useMemo:u_,useReducer:eh,useRef:e_,useState:function(){return eh(cr)},useDebugValue:am,useDeferredValue:function(i,s){var o=we();return c_(o,ie.memoizedState,i,s)},useTransition:function(){var i=eh(cr)[0],s=we().memoizedState;return[typeof i=="boolean"?i:Bl(i),s]},useSyncExternalStore:j0,useId:m_,useHostTransitionStatus:um,useFormState:J0,useActionState:J0,useOptimistic:function(i,s){var o=we();return G0(o,ie,i,s)},useMemoCache:tm,useCacheRefresh:p_};hm.useEffectEvent=i_;var T_={readContext:Ze,use:th,useCallback:l_,useContext:Ze,useEffect:sm,useImperativeHandle:o_,useInsertionEffect:r_,useLayoutEffect:s_,useMemo:u_,useReducer:nm,useRef:e_,useState:function(){return nm(cr)},useDebugValue:am,useDeferredValue:function(i,s){var o=we();return ie===null?om(o,i,s):c_(o,ie.memoizedState,i,s)},useTransition:function(){var i=nm(cr)[0],s=we().memoizedState;return[typeof i=="boolean"?i:Bl(i),s]},useSyncExternalStore:j0,useId:m_,useHostTransitionStatus:um,useFormState:t_,useActionState:t_,useOptimistic:function(i,s){var o=we();return ie!==null?G0(o,ie,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:tm,useCacheRefresh:p_};T_.useEffectEvent=i_;function fm(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:_({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var dm={enqueueSetState:function(i,s,o){i=i._reactInternals;var u=kn(),f=Wr(u);f.payload=s,o!=null&&(f.callback=o),s=Jr(i,f,u),s!==null&&(An(s,i,u),kl(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=kn(),f=Wr(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=Jr(i,f,u),s!==null&&(An(s,i,u),kl(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=kn(),u=Wr(o);u.tag=2,s!=null&&(u.callback=s),s=Jr(i,u,o),s!==null&&(An(s,i,o),kl(s,i,o))}};function E_(i,s,o,u,f,p,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,p,T):s.prototype&&s.prototype.isPureReactComponent?!Il(o,u)||!Il(f,p):!0}function b_(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&dm.enqueueReplaceState(s,s.state,null)}function la(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=_({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}function S_(i){Lc(i)}function w_(i){console.error(i)}function A_(i){Lc(i)}function sh(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function R_(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function mm(i,s,o){return o=Wr(o),o.tag=3,o.payload={element:null},o.callback=function(){sh(i,s)},o}function C_(i){return i=Wr(i),i.tag=3,i}function x_(i,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=u.value;i.payload=function(){return f(p)},i.callback=function(){R_(s,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){R_(s,o,u),typeof f!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function Qx(i,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&eo(s,o,f,!0),o=Vn.current,o!==null){switch(o.tag){case 31:case 13:return $n===null?yh():o.alternate===null&&ve===0&&(ve=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Kc?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),jm(i,u,f)),!1;case 22:return o.flags|=65536,u===Kc?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),jm(i,u,f)),!1}throw Error(r(435,o.tag))}return jm(i,u,f),yh(),!1}if(Ht)return s=Vn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==Vd&&(i=Error(r(422),{cause:u}),Ml(Hn(i,o)))):(u!==Vd&&(s=Error(r(423),{cause:u}),Ml(Hn(s,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=Hn(u,o),f=mm(i.stateNode,u,f),Hd(i,f),ve!==4&&(ve=2)),!1;var p=Error(r(520),{cause:u});if(p=Hn(p,o),Wl===null?Wl=[p]:Wl.push(p),ve!==4&&(ve=2),s===null)return!0;u=Hn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=mm(o.stateNode,u,i),Hd(o,i),!1;case 1:if(s=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(rs===null||!rs.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=C_(f),x_(f,i,o,u),Hd(o,f),!1}o=o.return}while(o!==null);return!1}var pm=Error(r(461)),Ve=!1;function tn(i,s,o,u){s.child=i===null?M0(s,null,o,u):aa(s,i.child,o,u)}function I_(i,s,o,u,f){o=o.render;var p=s.ref;if("ref"in u){var T={};for(var S in u)S!=="ref"&&(T[S]=u[S])}else T=u;return na(s),u=Xd(i,s,o,T,p,f),S=Wd(),i!==null&&!Ve?(Jd(i,s,f),hr(i,s,f)):(Ht&&S&&Nd(s),s.flags|=1,tn(i,s,u,f),s.child)}function D_(i,s,o,u,f){if(i===null){var p=o.type;return typeof p=="function"&&!xd(p)&&p.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=p,N_(i,s,p,u,f)):(i=zc(o.type,null,u,s,s.mode,f),i.ref=s.ref,i.return=s,s.child=i)}if(p=i.child,!Sm(i,f)){var T=p.memoizedProps;if(o=o.compare,o=o!==null?o:Il,o(T,u)&&i.ref===s.ref)return hr(i,s,f)}return s.flags|=1,i=sr(p,u),i.ref=s.ref,i.return=s,s.child=i}function N_(i,s,o,u,f){if(i!==null){var p=i.memoizedProps;if(Il(p,u)&&i.ref===s.ref)if(Ve=!1,s.pendingProps=u=p,Sm(i,f))(i.flags&131072)!==0&&(Ve=!0);else return s.lanes=i.lanes,hr(i,s,f)}return gm(i,s,o,u,f)}function M_(i,s,o,u){var f=u.children,p=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,i!==null){for(u=s.child=i.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~p}else u=0,s.child=null;return V_(i,s,p,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Hc(s,p!==null?p.cachePool:null),p!==null?P0(s,p):Kd(),L0(s);else return u=s.lanes=536870912,V_(i,s,p!==null?p.baseLanes|o:o,o,u)}else p!==null?(Hc(s,p.cachePool),P0(s,p),ts(),s.memoizedState=null):(i!==null&&Hc(s,null),Kd(),ts());return tn(i,s,f,o),s.child}function Hl(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function V_(i,s,o,u,f){var p=zd();return p=p===null?null:{parent:Ne._currentValue,pool:p},s.memoizedState={baseLanes:o,cachePool:p},i!==null&&Hc(s,null),Kd(),L0(s),i!==null&&eo(i,s,u,!0),s.childLanes=f,null}function ah(i,s){return s=lh({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function O_(i,s,o){return aa(s,i.child,null,o),i=ah(s,s.pendingProps),i.flags|=2,On(s),s.memoizedState=null,i}function Xx(i,s,o){var u=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Ht){if(u.mode==="hidden")return i=ah(s,u),s.lanes=536870912,Hl(null,i);if($d(s),(i=le)?(i=KT(i,Yn),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Kr!==null?{id:Bi,overflow:Fi}:null,retryLane:536870912,hydrationErrors:null},o=y0(i),o.return=s,s.child=o,Je=s,le=null)):i=null,i===null)throw $r(s);return s.lanes=536870912,null}return ah(s,u)}var p=i.memoizedState;if(p!==null){var T=p.dehydrated;if($d(s),f)if(s.flags&256)s.flags&=-257,s=O_(i,s,o);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(Ve||eo(i,s,o,!1),f=(o&i.childLanes)!==0,Ve||f){if(u=ae,u!==null&&(T=hl(u,o),T!==0&&T!==p.retryLane))throw p.retryLane=T,Js(i,T),An(u,i,T),pm;yh(),s=O_(i,s,o)}else i=p.treeContext,le=Qn(T.nextSibling),Je=s,Ht=!0,Yr=null,Yn=!1,i!==null&&T0(s,i),s=ah(s,u),s.flags|=4096;return s}return i=sr(i.child,{mode:u.mode,children:u.children}),i.ref=s.ref,s.child=i,i.return=s,i}function oh(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function gm(i,s,o,u,f){return na(s),o=Xd(i,s,o,u,void 0,f),u=Wd(),i!==null&&!Ve?(Jd(i,s,f),hr(i,s,f)):(Ht&&u&&Nd(s),s.flags|=1,tn(i,s,o,f),s.child)}function P_(i,s,o,u,f,p){return na(s),s.updateQueue=null,o=U0(s,u,o,f),k0(i),u=Wd(),i!==null&&!Ve?(Jd(i,s,p),hr(i,s,p)):(Ht&&u&&Nd(s),s.flags|=1,tn(i,s,o,p),s.child)}function L_(i,s,o,u,f){if(na(s),s.stateNode===null){var p=Wa,T=o.contextType;typeof T=="object"&&T!==null&&(p=Ze(T)),p=new o(u,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=dm,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=u,p.state=s.memoizedState,p.refs={},Fd(s),T=o.contextType,p.context=typeof T=="object"&&T!==null?Ze(T):Wa,p.state=s.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(fm(s,o,T,u),p.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&dm.enqueueReplaceState(p,p.state,null),jl(s,u,p,f),Ul(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){p=s.stateNode;var S=s.memoizedProps,M=la(o,S);p.props=M;var $=p.context,it=o.contextType;T=Wa,typeof it=="object"&&it!==null&&(T=Ze(it));var ot=o.getDerivedStateFromProps;it=typeof ot=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,it||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||$!==T)&&b_(s,p,u,T),Xr=!1;var W=s.memoizedState;p.state=W,jl(s,u,p,f),Ul(),$=s.memoizedState,S||W!==$||Xr?(typeof ot=="function"&&(fm(s,o,ot,u),$=s.memoizedState),(M=Xr||E_(s,o,M,u,W,$,T))?(it||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=$),p.props=u,p.state=$,p.context=T,u=M):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{p=s.stateNode,qd(i,s),T=s.memoizedProps,it=la(o,T),p.props=it,ot=s.pendingProps,W=p.context,$=o.contextType,M=Wa,typeof $=="object"&&$!==null&&(M=Ze($)),S=o.getDerivedStateFromProps,($=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==ot||W!==M)&&b_(s,p,u,M),Xr=!1,W=s.memoizedState,p.state=W,jl(s,u,p,f),Ul();var et=s.memoizedState;T!==ot||W!==et||Xr||i!==null&&i.dependencies!==null&&Fc(i.dependencies)?(typeof S=="function"&&(fm(s,o,S,u),et=s.memoizedState),(it=Xr||E_(s,o,it,u,W,et,M)||i!==null&&i.dependencies!==null&&Fc(i.dependencies))?($||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,et,M),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,et,M)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===i.memoizedProps&&W===i.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&W===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=et),p.props=u,p.state=et,p.context=M,u=it):(typeof p.componentDidUpdate!="function"||T===i.memoizedProps&&W===i.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&W===i.memoizedState||(s.flags|=1024),u=!1)}return p=u,oh(i,s),u=(s.flags&128)!==0,p||u?(p=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,i!==null&&u?(s.child=aa(s,i.child,null,f),s.child=aa(s,null,o,f)):tn(i,s,o,f),s.memoizedState=p.state,i=s.child):i=hr(i,s,f),i}function k_(i,s,o,u){return ta(),s.flags|=256,tn(i,s,o,u),s.child}var ym={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vm(i){return{baseLanes:i,cachePool:R0()}}function _m(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=Ln),i}function U_(i,s,o){var u=s.pendingProps,f=!1,p=(s.flags&128)!==0,T;if((T=p)||(T=i!==null&&i.memoizedState===null?!1:(Se.current&2)!==0),T&&(f=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,i===null){if(Ht){if(f?Zr(s):ts(),(i=le)?(i=KT(i,Yn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Kr!==null?{id:Bi,overflow:Fi}:null,retryLane:536870912,hydrationErrors:null},o=y0(i),o.return=s,s.child=o,Je=s,le=null)):i=null,i===null)throw $r(s);return ep(i)?s.lanes=32:s.lanes=536870912,null}var S=u.children;return u=u.fallback,f?(ts(),f=s.mode,S=lh({mode:"hidden",children:S},f),u=Zs(u,f,o,null),S.return=s,u.return=s,S.sibling=u,s.child=S,u=s.child,u.memoizedState=vm(o),u.childLanes=_m(i,T,o),s.memoizedState=ym,Hl(null,u)):(Zr(s),Tm(s,S))}var M=i.memoizedState;if(M!==null&&(S=M.dehydrated,S!==null)){if(p)s.flags&256?(Zr(s),s.flags&=-257,s=Em(i,s,o)):s.memoizedState!==null?(ts(),s.child=i.child,s.flags|=128,s=null):(ts(),S=u.fallback,f=s.mode,u=lh({mode:"visible",children:u.children},f),S=Zs(S,f,o,null),S.flags|=2,u.return=s,S.return=s,u.sibling=S,s.child=u,aa(s,i.child,null,o),u=s.child,u.memoizedState=vm(o),u.childLanes=_m(i,T,o),s.memoizedState=ym,s=Hl(null,u));else if(Zr(s),ep(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var $=T.dgst;T=$,u=Error(r(419)),u.stack="",u.digest=T,Ml({value:u,source:null,stack:null}),s=Em(i,s,o)}else if(Ve||eo(i,s,o,!1),T=(o&i.childLanes)!==0,Ve||T){if(T=ae,T!==null&&(u=hl(T,o),u!==0&&u!==M.retryLane))throw M.retryLane=u,Js(i,u),An(T,i,u),pm;tp(S)||yh(),s=Em(i,s,o)}else tp(S)?(s.flags|=192,s.child=i.child,s=null):(i=M.treeContext,le=Qn(S.nextSibling),Je=s,Ht=!0,Yr=null,Yn=!1,i!==null&&T0(s,i),s=Tm(s,u.children),s.flags|=4096);return s}return f?(ts(),S=u.fallback,f=s.mode,M=i.child,$=M.sibling,u=sr(M,{mode:"hidden",children:u.children}),u.subtreeFlags=M.subtreeFlags&65011712,$!==null?S=sr($,S):(S=Zs(S,f,o,null),S.flags|=2),S.return=s,u.return=s,u.sibling=S,s.child=u,Hl(null,u),u=s.child,S=i.child.memoizedState,S===null?S=vm(o):(f=S.cachePool,f!==null?(M=Ne._currentValue,f=f.parent!==M?{parent:M,pool:M}:f):f=R0(),S={baseLanes:S.baseLanes|o,cachePool:f}),u.memoizedState=S,u.childLanes=_m(i,T,o),s.memoizedState=ym,Hl(i.child,u)):(Zr(s),o=i.child,i=o.sibling,o=sr(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(T=s.deletions,T===null?(s.deletions=[i],s.flags|=16):T.push(i)),s.child=o,s.memoizedState=null,o)}function Tm(i,s){return s=lh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function lh(i,s){return i=Mn(22,i,null,s),i.lanes=0,i}function Em(i,s,o){return aa(s,i.child,null,o),i=Tm(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function j_(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),Ld(i.return,s,o)}function bm(i,s,o,u,f,p){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:p}:(T.isBackwards=s,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=o,T.tailMode=f,T.treeForkCount=p)}function z_(i,s,o){var u=s.pendingProps,f=u.revealOrder,p=u.tail;u=u.children;var T=Se.current,S=(T&2)!==0;if(S?(T=T&1|2,s.flags|=128):T&=1,tt(Se,T),tn(i,s,u,o),u=Ht?Nl:0,!S&&i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&j_(i,o,s);else if(i.tag===19)j_(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(o=s.child,f=null;o!==null;)i=o.alternate,i!==null&&Xc(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),bm(s,!1,f,o,p,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(i=f.alternate,i!==null&&Xc(i)===null){s.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}bm(s,!0,o,null,p,u);break;case"together":bm(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function hr(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),is|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(eo(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=sr(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=sr(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function Sm(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Fc(i)))}function Wx(i,s,o){switch(s.tag){case 3:Ut(s,s.stateNode.containerInfo),Qr(s,Ne,i.memoizedState.cache),ta();break;case 27:case 5:xt(s);break;case 4:Ut(s,s.stateNode.containerInfo);break;case 10:Qr(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,$d(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Zr(s),s.flags|=128,null):(o&s.child.childLanes)!==0?U_(i,s,o):(Zr(s),i=hr(i,s,o),i!==null?i.sibling:null);Zr(s);break;case 19:var f=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(eo(i,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return z_(i,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),tt(Se,Se.current),u)break;return null;case 22:return s.lanes=0,M_(i,s,o,s.pendingProps);case 24:Qr(s,Ne,i.memoizedState.cache)}return hr(i,s,o)}function B_(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)Ve=!0;else{if(!Sm(i,o)&&(s.flags&128)===0)return Ve=!1,Wx(i,s,o);Ve=(i.flags&131072)!==0}else Ve=!1,Ht&&(s.flags&1048576)!==0&&_0(s,Nl,s.index);switch(s.lanes=0,s.tag){case 16:t:{var u=s.pendingProps;if(i=ra(s.elementType),s.type=i,typeof i=="function")xd(i)?(u=la(i,u),s.tag=1,s=L_(null,s,i,u,o)):(s.tag=0,s=gm(null,s,i,u,o));else{if(i!=null){var f=i.$$typeof;if(f===lt){s.tag=11,s=I_(null,s,i,u,o);break t}else if(f===x){s.tag=14,s=D_(null,s,i,u,o);break t}}throw s=Mt(i)||i,Error(r(306,s,""))}}return s;case 0:return gm(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=la(u,s.pendingProps),L_(i,s,u,f,o);case 3:t:{if(Ut(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var p=s.memoizedState;f=p.element,qd(i,s),jl(s,u,null,o);var T=s.memoizedState;if(u=T.cache,Qr(s,Ne,u),u!==p.cache&&kd(s,[Ne],o,!0),Ul(),u=T.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=k_(i,s,u,o);break t}else if(u!==f){f=Hn(Error(r(424)),s),Ml(f),s=k_(i,s,u,o);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(le=Qn(i.firstChild),Je=s,Ht=!0,Yr=null,Yn=!0,o=M0(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ta(),u===f){s=hr(i,s,o);break t}tn(i,s,u,o)}s=s.child}return s;case 26:return oh(i,s),i===null?(o=JT(s.type,null,s.pendingProps,null))?s.memoizedState=o:Ht||(o=s.type,i=s.pendingProps,u=wh(_t.current).createElement(o),u[xe]=s,u[Ke]=i,en(u,o,i),Ie(u),s.stateNode=u):s.memoizedState=JT(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return xt(s),i===null&&Ht&&(u=s.stateNode=QT(s.type,s.pendingProps,_t.current),Je=s,Yn=!0,f=le,ls(s.type)?(np=f,le=Qn(u.firstChild)):le=f),tn(i,s,s.pendingProps.children,o),oh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Ht&&((f=u=le)&&(u=C2(u,s.type,s.pendingProps,Yn),u!==null?(s.stateNode=u,Je=s,le=Qn(u.firstChild),Yn=!1,f=!0):f=!1),f||$r(s)),xt(s),f=s.type,p=s.pendingProps,T=i!==null?i.memoizedProps:null,u=p.children,Wm(f,p)?u=null:T!==null&&Wm(f,T)&&(s.flags|=32),s.memoizedState!==null&&(f=Xd(i,s,Fx,null,null,o),su._currentValue=f),oh(i,s),tn(i,s,u,o),s.child;case 6:return i===null&&Ht&&((i=o=le)&&(o=x2(o,s.pendingProps,Yn),o!==null?(s.stateNode=o,Je=s,le=null,i=!0):i=!1),i||$r(s)),null;case 13:return U_(i,s,o);case 4:return Ut(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=aa(s,null,u,o):tn(i,s,u,o),s.child;case 11:return I_(i,s,s.type,s.pendingProps,o);case 7:return tn(i,s,s.pendingProps,o),s.child;case 8:return tn(i,s,s.pendingProps.children,o),s.child;case 12:return tn(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Qr(s,s.type,u.value),tn(i,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,na(s),f=Ze(f),u=u(f),s.flags|=1,tn(i,s,u,o),s.child;case 14:return D_(i,s,s.type,s.pendingProps,o);case 15:return N_(i,s,s.type,s.pendingProps,o);case 19:return z_(i,s,o);case 31:return Xx(i,s,o);case 22:return M_(i,s,o,s.pendingProps);case 24:return na(s),u=Ze(Ne),i===null?(f=zd(),f===null&&(f=ae,p=Ud(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),s.memoizedState={parent:u,cache:f},Fd(s),Qr(s,Ne,f)):((i.lanes&o)!==0&&(qd(i,s),jl(s,null,null,o),Ul()),f=i.memoizedState,p=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Qr(s,Ne,u)):(u=p.cache,Qr(s,Ne,u),u!==f.cache&&kd(s,[Ne],o,!0))),tn(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function fr(i){i.flags|=4}function wm(i,s,o,u,f){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(mT())i.flags|=8192;else throw sa=Kc,Bd}else i.flags&=-16777217}function F_(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!iE(s))if(mT())i.flags|=8192;else throw sa=Kc,Bd}function uh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?pc():536870912,i.lanes|=s,mo|=s)}function Gl(i,s){if(!Ht)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function ue(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function Jx(i,s,o){var u=s.pendingProps;switch(Md(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(s),null;case 1:return ue(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),lr(Ne),vt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(to(s)?fr(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Od())),ue(s),null;case 26:var f=s.type,p=s.memoizedState;return i===null?(fr(s),p!==null?(ue(s),F_(s,p)):(ue(s),wm(s,f,null,u,o))):p?p!==i.memoizedState?(fr(s),ue(s),F_(s,p)):(ue(s),s.flags&=-16777217):(i=i.memoizedProps,i!==u&&fr(s),ue(s),wm(s,f,i,u,o)),null;case 27:if(Wt(s),o=_t.current,f=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&fr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return ue(s),null}i=ct.current,to(s)?E0(s):(i=QT(f,u,o),s.stateNode=i,fr(s))}return ue(s),null;case 5:if(Wt(s),f=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&fr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return ue(s),null}if(p=ct.current,to(s))E0(s);else{var T=wh(_t.current);switch(p){case 1:p=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=T.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?T.createElement(f,{is:u.is}):T.createElement(f)}}p[xe]=s,p[Ke]=u;t:for(T=s.child;T!==null;){if(T.tag===5||T.tag===6)p.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===s)break t;for(;T.sibling===null;){if(T.return===null||T.return===s)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}s.stateNode=p;t:switch(en(p,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&fr(s)}}return ue(s),wm(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,o),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&fr(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=_t.current,to(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,f=Je,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[xe]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||UT(i.nodeValue,o)),i||$r(s,!0)}else i=wh(i).createTextNode(u),i[xe]=s,s.stateNode=i}return ue(s),null;case 31:if(o=s.memoizedState,i===null||i.memoizedState!==null){if(u=to(s),o!==null){if(i===null){if(!u)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[xe]=s}else ta(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ue(s),i=!1}else o=Od(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return s.flags&256?(On(s),s):(On(s),null);if((s.flags&128)!==0)throw Error(r(558))}return ue(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=to(s),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[xe]=s}else ta(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ue(s),f=!1}else f=Od(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(On(s),s):(On(s),null)}return On(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==f&&(u.flags|=2048)),o!==i&&o&&(s.child.flags|=8192),uh(s,s.updateQueue),ue(s),null);case 4:return vt(),i===null&&Km(s.stateNode.containerInfo),ue(s),null;case 10:return lr(s.type),ue(s),null;case 19:if(F(Se),u=s.memoizedState,u===null)return ue(s),null;if(f=(s.flags&128)!==0,p=u.rendering,p===null)if(f)Gl(u,!1);else{if(ve!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(p=Xc(i),p!==null){for(s.flags|=128,Gl(u,!1),i=p.updateQueue,s.updateQueue=i,uh(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)g0(o,i),o=o.sibling;return tt(Se,Se.current&1|2),Ht&&ar(s,u.treeForkCount),s.child}i=i.sibling}u.tail!==null&&mn()>mh&&(s.flags|=128,f=!0,Gl(u,!1),s.lanes=4194304)}else{if(!f)if(i=Xc(p),i!==null){if(s.flags|=128,f=!0,i=i.updateQueue,s.updateQueue=i,uh(s,i),Gl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Ht)return ue(s),null}else 2*mn()-u.renderingStartTime>mh&&o!==536870912&&(s.flags|=128,f=!0,Gl(u,!1),s.lanes=4194304);u.isBackwards?(p.sibling=s.child,s.child=p):(i=u.last,i!==null?i.sibling=p:s.child=p,u.last=p)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=mn(),i.sibling=null,o=Se.current,tt(Se,f?o&1|2:o&1),Ht&&ar(s,u.treeForkCount),i):(ue(s),null);case 22:case 23:return On(s),Yd(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(ue(s),s.subtreeFlags&6&&(s.flags|=8192)):ue(s),o=s.updateQueue,o!==null&&uh(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&F(ia),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),lr(Ne),ue(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function Zx(i,s){switch(Md(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return lr(Ne),vt(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Wt(s),null;case 31:if(s.memoizedState!==null){if(On(s),s.alternate===null)throw Error(r(340));ta()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(On(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ta()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return F(Se),null;case 4:return vt(),null;case 10:return lr(s.type),null;case 22:case 23:return On(s),Yd(),i!==null&&F(ia),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return lr(Ne),null;case 25:return null;default:return null}}function q_(i,s){switch(Md(s),s.tag){case 3:lr(Ne),vt();break;case 26:case 27:case 5:Wt(s);break;case 4:vt();break;case 31:s.memoizedState!==null&&On(s);break;case 13:On(s);break;case 19:F(Se);break;case 10:lr(s.type);break;case 22:case 23:On(s),Yd(),i!==null&&F(ia);break;case 24:lr(Ne)}}function Kl(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var p=o.create,T=o.inst;u=p(),T.destroy=u}o=o.next}while(o!==f)}}catch(S){ee(s,s.return,S)}}function es(i,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&i)===i){var T=u.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,f=s;var M=o,$=S;try{$()}catch(it){ee(f,M,it)}}}u=u.next}while(u!==p)}}catch(it){ee(s,s.return,it)}}function H_(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{O0(s,o)}catch(u){ee(i,i.return,u)}}}function G_(i,s,o){o.props=la(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){ee(i,s,u)}}function Yl(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(f){ee(i,s,f)}}function qi(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){ee(i,s,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){ee(i,s,f)}else o.current=null}function K_(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){ee(i,i.return,f)}}function Am(i,s,o){try{var u=i.stateNode;E2(u,i.type,o,s),u[Ke]=s}catch(f){ee(i,i.return,f)}}function Y_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ls(i.type)||i.tag===4}function Rm(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||Y_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ls(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Cm(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=ui));else if(u!==4&&(u===27&&ls(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(Cm(i,s,o),i=i.sibling;i!==null;)Cm(i,s,o),i=i.sibling}function ch(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&(u===27&&ls(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(ch(i,s,o),i=i.sibling;i!==null;)ch(i,s,o),i=i.sibling}function $_(i){var s=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);en(s,u,o),s[xe]=i,s[Ke]=o}catch(p){ee(i,i.return,p)}}var dr=!1,Oe=!1,xm=!1,Q_=typeof WeakSet=="function"?WeakSet:Set,$e=null;function t2(i,s){if(i=i.containerInfo,Qm=Nh,i=o0(i),Ed(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break t}var T=0,S=-1,M=-1,$=0,it=0,ot=i,W=null;e:for(;;){for(var et;ot!==o||f!==0&&ot.nodeType!==3||(S=T+f),ot!==p||u!==0&&ot.nodeType!==3||(M=T+u),ot.nodeType===3&&(T+=ot.nodeValue.length),(et=ot.firstChild)!==null;)W=ot,ot=et;for(;;){if(ot===i)break e;if(W===o&&++$===f&&(S=T),W===p&&++it===u&&(M=T),(et=ot.nextSibling)!==null)break;ot=W,W=ot.parentNode}ot=et}o=S===-1||M===-1?null:{start:S,end:M}}else o=null}o=o||{start:0,end:0}}else o=null;for(Xm={focusedElem:i,selectionRange:o},Nh=!1,$e=s;$e!==null;)if(s=$e,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,$e=i;else for(;$e!==null;){switch(s=$e,p=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)f=i[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,o=s,f=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var yt=la(o.type,f);i=u.getSnapshotBeforeUpdate(yt,p),u.__reactInternalSnapshotBeforeUpdate=i}catch(St){ee(o,o.return,St)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)Zm(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Zm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,$e=i;break}$e=s.return}}function X_(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:pr(i,o),u&4&&Kl(5,o);break;case 1:if(pr(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(T){ee(o,o.return,T)}else{var f=la(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(f,s,i.__reactInternalSnapshotBeforeUpdate)}catch(T){ee(o,o.return,T)}}u&64&&H_(o),u&512&&Yl(o,o.return);break;case 3:if(pr(i,o),u&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{O0(i,s)}catch(T){ee(o,o.return,T)}}break;case 27:s===null&&u&4&&$_(o);case 26:case 5:pr(i,o),s===null&&u&4&&K_(o),u&512&&Yl(o,o.return);break;case 12:pr(i,o);break;case 31:pr(i,o),u&4&&Z_(i,o);break;case 13:pr(i,o),u&4&&tT(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=u2.bind(null,o),I2(i,o))));break;case 22:if(u=o.memoizedState!==null||dr,!u){s=s!==null&&s.memoizedState!==null||Oe,f=dr;var p=Oe;dr=u,(Oe=s)&&!p?gr(i,o,(o.subtreeFlags&8772)!==0):pr(i,o),dr=f,Oe=p}break;case 30:break;default:pr(i,o)}}function W_(i){var s=i.alternate;s!==null&&(i.alternate=null,W_(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&ka(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var fe=null,En=!1;function mr(i,s,o){for(o=o.child;o!==null;)J_(i,s,o),o=o.sibling}function J_(i,s,o){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(si,o)}catch{}switch(o.tag){case 26:Oe||qi(o,s),mr(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Oe||qi(o,s);var u=fe,f=En;ls(o.type)&&(fe=o.stateNode,En=!1),mr(i,s,o),nu(o.stateNode),fe=u,En=f;break;case 5:Oe||qi(o,s);case 6:if(u=fe,f=En,fe=null,mr(i,s,o),fe=u,En=f,fe!==null)if(En)try{(fe.nodeType===9?fe.body:fe.nodeName==="HTML"?fe.ownerDocument.body:fe).removeChild(o.stateNode)}catch(p){ee(o,s,p)}else try{fe.removeChild(o.stateNode)}catch(p){ee(o,s,p)}break;case 18:fe!==null&&(En?(i=fe,HT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),bo(i)):HT(fe,o.stateNode));break;case 4:u=fe,f=En,fe=o.stateNode.containerInfo,En=!0,mr(i,s,o),fe=u,En=f;break;case 0:case 11:case 14:case 15:es(2,o,s),Oe||es(4,o,s),mr(i,s,o);break;case 1:Oe||(qi(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&G_(o,s,u)),mr(i,s,o);break;case 21:mr(i,s,o);break;case 22:Oe=(u=Oe)||o.memoizedState!==null,mr(i,s,o),Oe=u;break;default:mr(i,s,o)}}function Z_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{bo(i)}catch(o){ee(s,s.return,o)}}}function tT(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{bo(i)}catch(o){ee(s,s.return,o)}}function e2(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Q_),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Q_),s;default:throw Error(r(435,i.tag))}}function hh(i,s){var o=e2(i);s.forEach(function(u){if(!o.has(u)){o.add(u);var f=c2.bind(null,i,u);u.then(f,f)}})}function bn(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],p=i,T=s,S=T;t:for(;S!==null;){switch(S.tag){case 27:if(ls(S.type)){fe=S.stateNode,En=!1;break t}break;case 5:fe=S.stateNode,En=!1;break t;case 3:case 4:fe=S.stateNode.containerInfo,En=!0;break t}S=S.return}if(fe===null)throw Error(r(160));J_(p,T,f),fe=null,En=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)eT(s,i),s=s.sibling}var pi=null;function eT(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:bn(s,i),Sn(i),u&4&&(es(3,i,i.return),Kl(3,i),es(5,i,i.return));break;case 1:bn(s,i),Sn(i),u&512&&(Oe||o===null||qi(o,o.return)),u&64&&dr&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=pi;if(bn(s,i),Sn(i),u&512&&(Oe||o===null||qi(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Ii]||p[xe]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(u),f.head.insertBefore(p,f.querySelector("head > title"))),en(p,u,o),p[xe]=i,Ie(p),u=p;break t;case"link":var T=eE("link","href",f).get(u+(o.href||""));if(T){for(var S=0;S<T.length;S++)if(p=T[S],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(S,1);break e}}p=f.createElement(u),en(p,u,o),f.head.appendChild(p);break;case"meta":if(T=eE("meta","content",f).get(u+(o.content||""))){for(S=0;S<T.length;S++)if(p=T[S],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(S,1);break e}}p=f.createElement(u),en(p,u,o),f.head.appendChild(p);break;default:throw Error(r(468,u))}p[xe]=i,Ie(p),u=p}i.stateNode=u}else nE(f,i.type,i.stateNode);else i.stateNode=tE(f,u,i.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?nE(f,i.type,i.stateNode):tE(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Am(i,i.memoizedProps,o.memoizedProps)}break;case 27:bn(s,i),Sn(i),u&512&&(Oe||o===null||qi(o,o.return)),o!==null&&u&4&&Am(i,i.memoizedProps,o.memoizedProps);break;case 5:if(bn(s,i),Sn(i),u&512&&(Oe||o===null||qi(o,o.return)),i.flags&32){f=i.stateNode;try{Tn(f,"")}catch(yt){ee(i,i.return,yt)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,Am(i,f,o!==null?o.memoizedProps:f)),u&1024&&(xm=!0);break;case 6:if(bn(s,i),Sn(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(yt){ee(i,i.return,yt)}}break;case 3:if(Ch=null,f=pi,pi=Ah(s.containerInfo),bn(s,i),pi=f,Sn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{bo(s.containerInfo)}catch(yt){ee(i,i.return,yt)}xm&&(xm=!1,nT(i));break;case 4:u=pi,pi=Ah(i.stateNode.containerInfo),bn(s,i),Sn(i),pi=u;break;case 12:bn(s,i),Sn(i);break;case 31:bn(s,i),Sn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,hh(i,u)));break;case 13:bn(s,i),Sn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(dh=mn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,hh(i,u)));break;case 22:f=i.memoizedState!==null;var M=o!==null&&o.memoizedState!==null,$=dr,it=Oe;if(dr=$||f,Oe=it||M,bn(s,i),Oe=it,dr=$,Sn(i),u&8192)t:for(s=i.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||M||dr||Oe||ua(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){M=o=s;try{if(p=M.stateNode,f)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=M.stateNode;var ot=M.memoizedProps.style,W=ot!=null&&ot.hasOwnProperty("display")?ot.display:null;S.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(yt){ee(M,M.return,yt)}}}else if(s.tag===6){if(o===null){M=s;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(yt){ee(M,M.return,yt)}}}else if(s.tag===18){if(o===null){M=s;try{var et=M.stateNode;f?GT(et,!0):GT(M.stateNode,!1)}catch(yt){ee(M,M.return,yt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,hh(i,o))));break;case 19:bn(s,i),Sn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,hh(i,u)));break;case 30:break;case 21:break;default:bn(s,i),Sn(i)}}function Sn(i){var s=i.flags;if(s&2){try{for(var o,u=i.return;u!==null;){if(Y_(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var f=o.stateNode,p=Rm(i);ch(i,p,f);break;case 5:var T=o.stateNode;o.flags&32&&(Tn(T,""),o.flags&=-33);var S=Rm(i);ch(i,S,T);break;case 3:case 4:var M=o.stateNode.containerInfo,$=Rm(i);Cm(i,$,M);break;default:throw Error(r(161))}}catch(it){ee(i,i.return,it)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function nT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;nT(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function pr(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)X_(i,s.alternate,s),s=s.sibling}function ua(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:es(4,s,s.return),ua(s);break;case 1:qi(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&G_(s,s.return,o),ua(s);break;case 27:nu(s.stateNode);case 26:case 5:qi(s,s.return),ua(s);break;case 22:s.memoizedState===null&&ua(s);break;case 30:ua(s);break;default:ua(s)}i=i.sibling}}function gr(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=i,p=s,T=p.flags;switch(p.tag){case 0:case 11:case 15:gr(f,p,o),Kl(4,p);break;case 1:if(gr(f,p,o),u=p,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch($){ee(u,u.return,$)}if(u=p,f=u.updateQueue,f!==null){var S=u.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)V0(M[f],S)}catch($){ee(u,u.return,$)}}o&&T&64&&H_(p),Yl(p,p.return);break;case 27:$_(p);case 26:case 5:gr(f,p,o),o&&u===null&&T&4&&K_(p),Yl(p,p.return);break;case 12:gr(f,p,o);break;case 31:gr(f,p,o),o&&T&4&&Z_(f,p);break;case 13:gr(f,p,o),o&&T&4&&tT(f,p);break;case 22:p.memoizedState===null&&gr(f,p,o),Yl(p,p.return);break;case 30:break;default:gr(f,p,o)}s=s.sibling}}function Im(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Vl(o))}function Dm(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Vl(i))}function gi(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)iT(i,s,o,u),s=s.sibling}function iT(i,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:gi(i,s,o,u),f&2048&&Kl(9,s);break;case 1:gi(i,s,o,u);break;case 3:gi(i,s,o,u),f&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Vl(i)));break;case 12:if(f&2048){gi(i,s,o,u),i=s.stateNode;try{var p=s.memoizedProps,T=p.id,S=p.onPostCommit;typeof S=="function"&&S(T,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(M){ee(s,s.return,M)}}else gi(i,s,o,u);break;case 31:gi(i,s,o,u);break;case 13:gi(i,s,o,u);break;case 23:break;case 22:p=s.stateNode,T=s.alternate,s.memoizedState!==null?p._visibility&2?gi(i,s,o,u):$l(i,s):p._visibility&2?gi(i,s,o,u):(p._visibility|=2,co(i,s,o,u,(s.subtreeFlags&10256)!==0||!1)),f&2048&&Im(T,s);break;case 24:gi(i,s,o,u),f&2048&&Dm(s.alternate,s);break;default:gi(i,s,o,u)}}function co(i,s,o,u,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var p=i,T=s,S=o,M=u,$=T.flags;switch(T.tag){case 0:case 11:case 15:co(p,T,S,M,f),Kl(8,T);break;case 23:break;case 22:var it=T.stateNode;T.memoizedState!==null?it._visibility&2?co(p,T,S,M,f):$l(p,T):(it._visibility|=2,co(p,T,S,M,f)),f&&$&2048&&Im(T.alternate,T);break;case 24:co(p,T,S,M,f),f&&$&2048&&Dm(T.alternate,T);break;default:co(p,T,S,M,f)}s=s.sibling}}function $l(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,f=u.flags;switch(u.tag){case 22:$l(o,u),f&2048&&Im(u.alternate,u);break;case 24:$l(o,u),f&2048&&Dm(u.alternate,u);break;default:$l(o,u)}s=s.sibling}}var Ql=8192;function ho(i,s,o){if(i.subtreeFlags&Ql)for(i=i.child;i!==null;)rT(i,s,o),i=i.sibling}function rT(i,s,o){switch(i.tag){case 26:ho(i,s,o),i.flags&Ql&&i.memoizedState!==null&&B2(o,pi,i.memoizedState,i.memoizedProps);break;case 5:ho(i,s,o);break;case 3:case 4:var u=pi;pi=Ah(i.stateNode.containerInfo),ho(i,s,o),pi=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=Ql,Ql=16777216,ho(i,s,o),Ql=u):ho(i,s,o));break;default:ho(i,s,o)}}function sT(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Xl(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];$e=u,oT(u,i)}sT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)aT(i),i=i.sibling}function aT(i){switch(i.tag){case 0:case 11:case 15:Xl(i),i.flags&2048&&es(9,i,i.return);break;case 3:Xl(i);break;case 12:Xl(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,fh(i)):Xl(i);break;default:Xl(i)}}function fh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];$e=u,oT(u,i)}sT(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:es(8,s,s.return),fh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,fh(s));break;default:fh(s)}i=i.sibling}}function oT(i,s){for(;$e!==null;){var o=$e;switch(o.tag){case 0:case 11:case 15:es(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Vl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,$e=u;else t:for(o=i;$e!==null;){u=$e;var f=u.sibling,p=u.return;if(W_(u),u===o){$e=null;break t}if(f!==null){f.return=p,$e=f;break t}$e=p}}}var n2={getCacheForType:function(i){var s=Ze(Ne),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o},cacheSignal:function(){return Ze(Ne).controller.signal}},i2=typeof WeakMap=="function"?WeakMap:Map,Xt=0,ae=null,Lt=null,jt=0,te=0,Pn=null,ns=!1,fo=!1,Nm=!1,yr=0,ve=0,is=0,ca=0,Mm=0,Ln=0,mo=0,Wl=null,wn=null,Vm=!1,dh=0,lT=0,mh=1/0,ph=null,rs=null,qe=0,ss=null,po=null,vr=0,Om=0,Pm=null,uT=null,Jl=0,Lm=null;function kn(){return(Xt&2)!==0&&jt!==0?jt&-jt:Q.T!==null?Fm():gc()}function cT(){if(Ln===0)if((jt&536870912)===0||Ht){var i=ks;ks<<=1,(ks&3932160)===0&&(ks=262144),Ln=i}else Ln=536870912;return i=Vn.current,i!==null&&(i.flags|=32),Ln}function An(i,s,o){(i===ae&&(te===2||te===9)||i.cancelPendingCommit!==null)&&(go(i,0),as(i,jt,Ln,!1)),Us(i,o),((Xt&2)===0||i!==ae)&&(i===ae&&((Xt&2)===0&&(ca|=o),ve===4&&as(i,jt,Ln,!1)),Hi(i))}function hT(i,s,o){if((Xt&6)!==0)throw Error(r(327));var u=!o&&(s&127)===0&&(s&i.expiredLanes)===0||ai(i,s),f=u?a2(i,s):Um(i,s,!0),p=u;do{if(f===0){fo&&!u&&as(i,s,0,!1);break}else{if(o=i.current.alternate,p&&!r2(o)){f=Um(i,s,!1),p=!1;continue}if(f===2){if(p=s,i.errorRecoveryDisabledLanes&p)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;t:{var S=i;f=Wl;var M=S.current.memoizedState.isDehydrated;if(M&&(go(S,T).flags|=256),T=Um(S,T,!1),T!==2){if(Nm&&!M){S.errorRecoveryDisabledLanes|=p,ca|=p,f=4;break t}p=wn,wn=f,p!==null&&(wn===null?wn=p:wn.push.apply(wn,p))}f=T}if(p=!1,f!==2)continue}}if(f===1){go(i,0),as(i,s,0,!0);break}t:{switch(u=i,p=f,p){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:as(u,s,Ln,!ns);break t;case 2:wn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=dh+300-mn(),10<f)){if(as(u,s,Ln,!ns),Ri(u,0,!0)!==0)break t;vr=s,u.timeoutHandle=FT(fT.bind(null,u,o,wn,ph,Vm,s,Ln,ca,mo,ns,p,"Throttled",-0,0),f);break t}fT(u,o,wn,ph,Vm,s,Ln,ca,mo,ns,p,null,-0,0)}}break}while(!0);Hi(i)}function fT(i,s,o,u,f,p,T,S,M,$,it,ot,W,et){if(i.timeoutHandle=-1,ot=s.subtreeFlags,ot&8192||(ot&16785408)===16785408){ot={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ui},rT(s,p,ot);var yt=(p&62914560)===p?dh-mn():(p&4194048)===p?lT-mn():0;if(yt=F2(ot,yt),yt!==null){vr=p,i.cancelPendingCommit=yt(TT.bind(null,i,s,p,o,u,f,T,S,M,it,ot,null,W,et)),as(i,p,T,!$);return}}TT(i,s,p,o,u,f,T,S,M)}function r2(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],p=f.getSnapshot;f=f.value;try{if(!Nn(p(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function as(i,s,o,u){s&=~Mm,s&=~ca,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var f=s;0<f;){var p=31-Ee(f),T=1<<p;u[p]=-1,f&=~T}o!==0&&js(i,o,s)}function gh(){return(Xt&6)===0?(Zl(0),!1):!0}function km(){if(Lt!==null){if(te===0)var i=Lt.return;else i=Lt,or=ea=null,Zd(i),so=null,Pl=0,i=Lt;for(;i!==null;)q_(i.alternate,i),i=i.return;Lt=null}}function go(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,w2(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),vr=0,km(),ae=i,Lt=o=sr(i.current,null),jt=s,te=0,Pn=null,ns=!1,fo=ai(i,s),Nm=!1,mo=Ln=Mm=ca=is=ve=0,wn=Wl=null,Vm=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var f=31-Ee(u),p=1<<f;s|=i[f],u&=~p}return yr=s,kc(),o}function dT(i,s){Ot=null,Q.H=ql,s===ro||s===Gc?(s=I0(),te=3):s===Bd?(s=I0(),te=4):te=s===pm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Pn=s,Lt===null&&(ve=1,sh(i,Hn(s,i.current)))}function mT(){var i=Vn.current;return i===null?!0:(jt&4194048)===jt?$n===null:(jt&62914560)===jt||(jt&536870912)!==0?i===$n:!1}function pT(){var i=Q.H;return Q.H=ql,i===null?ql:i}function gT(){var i=Q.A;return Q.A=n2,i}function yh(){ve=4,ns||(jt&4194048)!==jt&&Vn.current!==null||(fo=!0),(is&134217727)===0&&(ca&134217727)===0||ae===null||as(ae,jt,Ln,!1)}function Um(i,s,o){var u=Xt;Xt|=2;var f=pT(),p=gT();(ae!==i||jt!==s)&&(ph=null,go(i,s)),s=!1;var T=ve;t:do try{if(te!==0&&Lt!==null){var S=Lt,M=Pn;switch(te){case 8:km(),T=6;break t;case 3:case 2:case 9:case 6:Vn.current===null&&(s=!0);var $=te;if(te=0,Pn=null,yo(i,S,M,$),o&&fo){T=0;break t}break;default:$=te,te=0,Pn=null,yo(i,S,M,$)}}s2(),T=ve;break}catch(it){dT(i,it)}while(!0);return s&&i.shellSuspendCounter++,or=ea=null,Xt=u,Q.H=f,Q.A=p,Lt===null&&(ae=null,jt=0,kc()),T}function s2(){for(;Lt!==null;)yT(Lt)}function a2(i,s){var o=Xt;Xt|=2;var u=pT(),f=gT();ae!==i||jt!==s?(ph=null,mh=mn()+500,go(i,s)):fo=ai(i,s);t:do try{if(te!==0&&Lt!==null){s=Lt;var p=Pn;e:switch(te){case 1:te=0,Pn=null,yo(i,s,p,1);break;case 2:case 9:if(C0(p)){te=0,Pn=null,vT(s);break}s=function(){te!==2&&te!==9||ae!==i||(te=7),Hi(i)},p.then(s,s);break t;case 3:te=7;break t;case 4:te=5;break t;case 7:C0(p)?(te=0,Pn=null,vT(s)):(te=0,Pn=null,yo(i,s,p,7));break;case 5:var T=null;switch(Lt.tag){case 26:T=Lt.memoizedState;case 5:case 27:var S=Lt;if(T?iE(T):S.stateNode.complete){te=0,Pn=null;var M=S.sibling;if(M!==null)Lt=M;else{var $=S.return;$!==null?(Lt=$,vh($)):Lt=null}break e}}te=0,Pn=null,yo(i,s,p,5);break;case 6:te=0,Pn=null,yo(i,s,p,6);break;case 8:km(),ve=6;break t;default:throw Error(r(462))}}o2();break}catch(it){dT(i,it)}while(!0);return or=ea=null,Q.H=u,Q.A=f,Xt=o,Lt!==null?0:(ae=null,jt=0,kc(),ve)}function o2(){for(;Lt!==null&&!md();)yT(Lt)}function yT(i){var s=B_(i.alternate,i,yr);i.memoizedProps=i.pendingProps,s===null?vh(i):Lt=s}function vT(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=P_(o,s,s.pendingProps,s.type,void 0,jt);break;case 11:s=P_(o,s,s.pendingProps,s.type.render,s.ref,jt);break;case 5:Zd(s);default:q_(o,s),s=Lt=g0(s,yr),s=B_(o,s,yr)}i.memoizedProps=i.pendingProps,s===null?vh(i):Lt=s}function yo(i,s,o,u){or=ea=null,Zd(s),so=null,Pl=0;var f=s.return;try{if(Qx(i,f,s,o,jt)){ve=1,sh(i,Hn(o,i.current)),Lt=null;return}}catch(p){if(f!==null)throw Lt=f,p;ve=1,sh(i,Hn(o,i.current)),Lt=null;return}s.flags&32768?(Ht||u===1?i=!0:fo||(jt&536870912)!==0?i=!1:(ns=i=!0,(u===2||u===9||u===3||u===6)&&(u=Vn.current,u!==null&&u.tag===13&&(u.flags|=16384))),_T(s,i)):vh(s)}function vh(i){var s=i;do{if((s.flags&32768)!==0){_T(s,ns);return}i=s.return;var o=Jx(s.alternate,s,yr);if(o!==null){Lt=o;return}if(s=s.sibling,s!==null){Lt=s;return}Lt=s=i}while(s!==null);ve===0&&(ve=5)}function _T(i,s){do{var o=Zx(i.alternate,i);if(o!==null){o.flags&=32767,Lt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Lt=i;return}Lt=i=o}while(i!==null);ve=6,Lt=null}function TT(i,s,o,u,f,p,T,S,M){i.cancelPendingCommit=null;do _h();while(qe!==0);if((Xt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(p=s.lanes|s.childLanes,p|=Rd,yd(i,o,p,T,S,M),i===ae&&(Lt=ae=null,jt=0),po=s,ss=i,vr=o,Om=p,Pm=f,uT=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,h2(Lr,function(){return AT(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=Q.T,Q.T=null,f=nt.p,nt.p=2,T=Xt,Xt|=4;try{t2(i,s,o)}finally{Xt=T,nt.p=f,Q.T=u}}qe=1,ET(),bT(),ST()}}function ET(){if(qe===1){qe=0;var i=ss,s=po,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null;var u=nt.p;nt.p=2;var f=Xt;Xt|=4;try{eT(s,i);var p=Xm,T=o0(i.containerInfo),S=p.focusedElem,M=p.selectionRange;if(T!==S&&S&&S.ownerDocument&&a0(S.ownerDocument.documentElement,S)){if(M!==null&&Ed(S)){var $=M.start,it=M.end;if(it===void 0&&(it=$),"selectionStart"in S)S.selectionStart=$,S.selectionEnd=Math.min(it,S.value.length);else{var ot=S.ownerDocument||document,W=ot&&ot.defaultView||window;if(W.getSelection){var et=W.getSelection(),yt=S.textContent.length,St=Math.min(M.start,yt),se=M.end===void 0?St:Math.min(M.end,yt);!et.extend&&St>se&&(T=se,se=St,St=T);var H=s0(S,St),j=s0(S,se);if(H&&j&&(et.rangeCount!==1||et.anchorNode!==H.node||et.anchorOffset!==H.offset||et.focusNode!==j.node||et.focusOffset!==j.offset)){var Y=ot.createRange();Y.setStart(H.node,H.offset),et.removeAllRanges(),St>se?(et.addRange(Y),et.extend(j.node,j.offset)):(Y.setEnd(j.node,j.offset),et.addRange(Y))}}}}for(ot=[],et=S;et=et.parentNode;)et.nodeType===1&&ot.push({element:et,left:et.scrollLeft,top:et.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ot.length;S++){var rt=ot[S];rt.element.scrollLeft=rt.left,rt.element.scrollTop=rt.top}}Nh=!!Qm,Xm=Qm=null}finally{Xt=f,nt.p=u,Q.T=o}}i.current=s,qe=2}}function bT(){if(qe===2){qe=0;var i=ss,s=po,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=Q.T,Q.T=null;var u=nt.p;nt.p=2;var f=Xt;Xt|=4;try{X_(i,s.alternate,s)}finally{Xt=f,nt.p=u,Q.T=o}}qe=3}}function ST(){if(qe===4||qe===3){qe=0,uc();var i=ss,s=po,o=vr,u=uT;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?qe=5:(qe=0,po=ss=null,wT(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(rs=null),er(o),s=s.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(si,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=Q.T,f=nt.p,nt.p=2,Q.T=null;try{for(var p=i.onRecoverableError,T=0;T<u.length;T++){var S=u[T];p(S.value,{componentStack:S.stack})}}finally{Q.T=s,nt.p=f}}(vr&3)!==0&&_h(),Hi(i),f=i.pendingLanes,(o&261930)!==0&&(f&42)!==0?i===Lm?Jl++:(Jl=0,Lm=i):Jl=0,Zl(0)}}function wT(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Vl(s)))}function _h(){return ET(),bT(),ST(),AT()}function AT(){if(qe!==5)return!1;var i=ss,s=Om;Om=0;var o=er(vr),u=Q.T,f=nt.p;try{nt.p=32>o?32:o,Q.T=null,o=Pm,Pm=null;var p=ss,T=vr;if(qe=0,po=ss=null,vr=0,(Xt&6)!==0)throw Error(r(331));var S=Xt;if(Xt|=4,aT(p.current),iT(p,p.current,T,o),Xt=S,Zl(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(si,p)}catch{}return!0}finally{nt.p=f,Q.T=u,wT(i,s)}}function RT(i,s,o){s=Hn(o,s),s=mm(i.stateNode,s,2),i=Jr(i,s,2),i!==null&&(Us(i,2),Hi(i))}function ee(i,s,o){if(i.tag===3)RT(i,i,o);else for(;s!==null;){if(s.tag===3){RT(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(rs===null||!rs.has(u))){i=Hn(o,i),o=C_(2),u=Jr(s,o,2),u!==null&&(x_(o,u,s,i),Us(u,2),Hi(u));break}}s=s.return}}function jm(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new i2;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(Nm=!0,f.add(o),i=l2.bind(null,i,s,o),s.then(i,i))}function l2(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ae===i&&(jt&o)===o&&(ve===4||ve===3&&(jt&62914560)===jt&&300>mn()-dh?(Xt&2)===0&&go(i,0):Mm|=o,mo===jt&&(mo=0)),Hi(i)}function CT(i,s){s===0&&(s=pc()),i=Js(i,s),i!==null&&(Us(i,s),Hi(i))}function u2(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),CT(i,o)}function c2(i,s){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),CT(i,o)}function h2(i,s){return Fe(i,s)}var Th=null,vo=null,zm=!1,Eh=!1,Bm=!1,os=0;function Hi(i){i!==vo&&i.next===null&&(vo===null?Th=vo=i:vo=vo.next=i),Eh=!0,zm||(zm=!0,d2())}function Zl(i,s){if(!Bm&&Eh){Bm=!0;do for(var o=!1,u=Th;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var p=0;else{var T=u.suspendedLanes,S=u.pingedLanes;p=(1<<31-Ee(42|i)+1)-1,p&=f&~(T&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,NT(u,p))}else p=jt,p=Ri(u,u===ae?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||ai(u,p)||(o=!0,NT(u,p));u=u.next}while(o);Bm=!1}}function f2(){xT()}function xT(){Eh=zm=!1;var i=0;os!==0&&S2()&&(i=os);for(var s=mn(),o=null,u=Th;u!==null;){var f=u.next,p=IT(u,s);p===0?(u.next=null,o===null?Th=f:o.next=f,f===null&&(vo=o)):(o=u,(i!==0||(p&3)!==0)&&(Eh=!0)),u=f}qe!==0&&qe!==5||Zl(i),os!==0&&(os=0)}function IT(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var T=31-Ee(p),S=1<<T,M=f[T];M===-1?((S&o)===0||(S&u)!==0)&&(f[T]=gd(S,s)):M<=s&&(i.expiredLanes|=S),p&=~S}if(s=ae,o=jt,o=Ri(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===s&&(te===2||te===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Pr(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ai(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&Pr(u),er(o)){case 2:case 8:o=ul;break;case 32:o=Lr;break;case 268435456:o=cc;break;default:o=Lr}return u=DT.bind(null,i),o=Fe(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&Pr(u),i.callbackPriority=2,i.callbackNode=null,2}function DT(i,s){if(qe!==0&&qe!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(_h()&&i.callbackNode!==o)return null;var u=jt;return u=Ri(i,i===ae?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(hT(i,u,s),IT(i,mn()),i.callbackNode!=null&&i.callbackNode===o?DT.bind(null,i):null)}function NT(i,s){if(_h())return null;hT(i,s,!0)}function d2(){A2(function(){(Xt&6)!==0?Fe(ll,f2):xT()})}function Fm(){if(os===0){var i=no;i===0&&(i=wi,wi<<=1,(wi&261888)===0&&(wi=256)),os=i}return os}function MT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ba(""+i)}function VT(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function m2(i,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var p=MT((f[Ke]||null).action),T=u.submitter;T&&(s=(s=T[Ke]||null)?MT(s.formAction):T.getAttribute("formAction"),s!==null&&(p=s,T=null));var S=new ki("action","action",null,u,f);i.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(os!==0){var M=T?VT(f,T):new FormData(f);lm(o,{pending:!0,data:M,method:f.method,action:p},null,M)}}else typeof p=="function"&&(S.preventDefault(),M=T?VT(f,T):new FormData(f),lm(o,{pending:!0,data:M,method:f.method,action:p},p,M))},currentTarget:f}]})}}for(var qm=0;qm<Ad.length;qm++){var Hm=Ad[qm],p2=Hm.toLowerCase(),g2=Hm[0].toUpperCase()+Hm.slice(1);mi(p2,"on"+g2)}mi(c0,"onAnimationEnd"),mi(h0,"onAnimationIteration"),mi(f0,"onAnimationStart"),mi("dblclick","onDoubleClick"),mi("focusin","onFocus"),mi("focusout","onBlur"),mi(Mx,"onTransitionRun"),mi(Vx,"onTransitionStart"),mi(Ox,"onTransitionCancel"),mi(d0,"onTransitionEnd"),Vi("onMouseEnter",["mouseout","mouseover"]),Vi("onMouseLeave",["mouseout","mouseover"]),Vi("onPointerEnter",["pointerout","pointerover"]),Vi("onPointerLeave",["pointerout","pointerover"]),Mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tu));function OT(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;t:{var p=void 0;if(s)for(var T=u.length-1;0<=T;T--){var S=u[T],M=S.instance,$=S.currentTarget;if(S=S.listener,M!==p&&f.isPropagationStopped())break t;p=S,f.currentTarget=$;try{p(f)}catch(it){Lc(it)}f.currentTarget=null,p=M}else for(T=0;T<u.length;T++){if(S=u[T],M=S.instance,$=S.currentTarget,S=S.listener,M!==p&&f.isPropagationStopped())break t;p=S,f.currentTarget=$;try{p(f)}catch(it){Lc(it)}f.currentTarget=null,p=M}}}}function kt(i,s){var o=s[La];o===void 0&&(o=s[La]=new Set);var u=i+"__bubble";o.has(u)||(PT(s,i,2,!1),o.add(u))}function Gm(i,s,o){var u=0;s&&(u|=4),PT(o,i,u,s)}var bh="_reactListening"+Math.random().toString(36).slice(2);function Km(i){if(!i[bh]){i[bh]=!0,fl.forEach(function(o){o!=="selectionchange"&&(y2.has(o)||Gm(o,!1,i),Gm(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[bh]||(s[bh]=!0,Gm("selectionchange",!1,s))}}function PT(i,s,o,u){switch(cE(s)){case 2:var f=G2;break;case 8:f=K2;break;default:f=op}o=f.bind(null,s,o,i),f=void 0,!Hs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(s,o,{capture:!0,passive:f}):i.addEventListener(s,o,!0):f!==void 0?i.addEventListener(s,o,{passive:f}):i.addEventListener(s,o,!1)}function Ym(i,s,o,u,f){var p=u;if((s&1)===0&&(s&2)===0&&u!==null)t:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var S=u.stateNode.containerInfo;if(S===f)break;if(T===4)for(T=u.return;T!==null;){var M=T.tag;if((M===3||M===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;S!==null;){if(T=Di(S),T===null)return;if(M=T.tag,M===5||M===6||M===26||M===27){u=p=T;continue t}S=S.parentNode}}u=u.return}Fr(function(){var $=p,it=zn(o),ot=[];t:{var W=m0.get(i);if(W!==void 0){var et=ki,yt=i;switch(i){case"keypress":if(Ks(o)===0)break t;case"keydown":case"keyup":et=Vc;break;case"focusin":yt="focus",et=$s;break;case"focusout":yt="blur",et=$s;break;case"beforeblur":case"afterblur":et=$s;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=Al;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=wc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=v;break;case c0:case h0:case f0:et=Rc;break;case d0:et=w;break;case"scroll":case"scrollend":et=wl;break;case"wheel":et=Z;break;case"copy":case"cut":case"paste":et=Cc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=rr;break;case"toggle":case"beforetoggle":et=Vt}var St=(s&4)!==0,se=!St&&(i==="scroll"||i==="scrollend"),H=St?W!==null?W+"Capture":null:W;St=[];for(var j=$,Y;j!==null;){var rt=j;if(Y=rt.stateNode,rt=rt.tag,rt!==5&&rt!==26&&rt!==27||Y===null||H===null||(rt=ci(j,H),rt!=null&&St.push(eu(j,rt,Y))),se)break;j=j.return}0<St.length&&(W=new et(W,yt,null,o,it),ot.push({event:W,listeners:St}))}}if((s&7)===0){t:{if(W=i==="mouseover"||i==="pointerover",et=i==="mouseout"||i==="pointerout",W&&o!==El&&(yt=o.relatedTarget||o.fromElement)&&(Di(yt)||yt[xi]))break t;if((et||W)&&(W=it.window===it?it:(W=it.ownerDocument)?W.defaultView||W.parentWindow:window,et?(yt=o.relatedTarget||o.toElement,et=$,yt=yt?Di(yt):null,yt!==null&&(se=l(yt),St=yt.tag,yt!==se||St!==5&&St!==27&&St!==6)&&(yt=null)):(et=null,yt=$),et!==yt)){if(St=Al,rt="onMouseLeave",H="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(St=rr,rt="onPointerLeave",H="onPointerEnter",j="pointer"),se=et==null?W:In(et),Y=yt==null?W:In(yt),W=new St(rt,j+"leave",et,o,it),W.target=se,W.relatedTarget=Y,rt=null,Di(it)===$&&(St=new St(H,j+"enter",yt,o,it),St.target=Y,St.relatedTarget=se,rt=St),se=rt,et&&yt)e:{for(St=v2,H=et,j=yt,Y=0,rt=H;rt;rt=St(rt))Y++;rt=0;for(var Et=j;Et;Et=St(Et))rt++;for(;0<Y-rt;)H=St(H),Y--;for(;0<rt-Y;)j=St(j),rt--;for(;Y--;){if(H===j||j!==null&&H===j.alternate){St=H;break e}H=St(H),j=St(j)}St=null}else St=null;et!==null&&LT(ot,W,et,St,!1),yt!==null&&se!==null&&LT(ot,se,yt,St,!0)}}t:{if(W=$?In($):window,et=W.nodeName&&W.nodeName.toLowerCase(),et==="select"||et==="input"&&W.type==="file")var Kt=Zv;else if(Wv(W))if(t0)Kt=Ix;else{Kt=Cx;var Tt=Rx}else et=W.nodeName,!et||et.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?$&&za($.elementType)&&(Kt=Zv):Kt=xx;if(Kt&&(Kt=Kt(i,$))){Jv(ot,Kt,o,it);break t}Tt&&Tt(i,W,$),i==="focusout"&&$&&W.type==="number"&&$.memoizedProps.value!=null&&vl(W,"number",W.value)}switch(Tt=$?In($):window,i){case"focusin":(Wv(Tt)||Tt.contentEditable==="true")&&($a=Tt,bd=$,Dl=null);break;case"focusout":Dl=bd=$a=null;break;case"mousedown":Sd=!0;break;case"contextmenu":case"mouseup":case"dragend":Sd=!1,l0(ot,o,it);break;case"selectionchange":if(Nx)break;case"keydown":case"keyup":l0(ot,o,it)}var Pt;if(Qt)t:{switch(i){case"compositionstart":var zt="onCompositionStart";break t;case"compositionend":zt="onCompositionEnd";break t;case"compositionupdate":zt="onCompositionUpdate";break t}zt=void 0}else Ya?Qs(i,o)&&(zt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(zt="onCompositionStart");zt&&(zi&&o.locale!=="ko"&&(Ya||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&Ya&&(Pt=Sl()):(Li=it,bl="value"in Li?Li.value:Li.textContent,Ya=!0)),Tt=Sh($,zt),0<Tt.length&&(zt=new ji(zt,i,null,o,it),ot.push({event:zt,listeners:Tt}),Pt?zt.data=Pt:(Pt=Ka(o),Pt!==null&&(zt.data=Pt)))),(Pt=Fn?bx(i,o):Sx(i,o))&&(zt=Sh($,"onBeforeInput"),0<zt.length&&(Tt=new ji("onBeforeInput","beforeinput",null,o,it),ot.push({event:Tt,listeners:zt}),Tt.data=Pt)),m2(ot,i,$,o,it)}OT(ot,s)})}function eu(i,s,o){return{instance:i,listener:s,currentTarget:o}}function Sh(i,s){for(var o=s+"Capture",u=[];i!==null;){var f=i,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=ci(i,o),f!=null&&u.unshift(eu(i,f,p)),f=ci(i,s),f!=null&&u.push(eu(i,f,p))),i.tag===3)return u;i=i.return}return[]}function v2(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function LT(i,s,o,u,f){for(var p=s._reactName,T=[];o!==null&&o!==u;){var S=o,M=S.alternate,$=S.stateNode;if(S=S.tag,M!==null&&M===u)break;S!==5&&S!==26&&S!==27||$===null||(M=$,f?($=ci(o,p),$!=null&&T.unshift(eu(o,$,M))):f||($=ci(o,p),$!=null&&T.push(eu(o,$,M)))),o=o.return}T.length!==0&&i.push({event:s,listeners:T})}var _2=/\r\n?/g,T2=/\u0000|\uFFFD/g;function kT(i){return(typeof i=="string"?i:""+i).replace(_2,`
`).replace(T2,"")}function UT(i,s){return s=kT(s),kT(i)===s}function re(i,s,o,u,f,p){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Tn(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Tn(i,""+u);break;case"className":Dn(i,"class",u);break;case"tabIndex":Dn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(i,o,u);break;case"style":Tl(i,u,p);break;case"data":if(s!=="object"){Dn(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ba(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(s!=="input"&&re(i,s,"name",f.name,f,null),re(i,s,"formEncType",f.formEncType,f,null),re(i,s,"formMethod",f.formMethod,f,null),re(i,s,"formTarget",f.formTarget,f,null)):(re(i,s,"encType",f.encType,f,null),re(i,s,"method",f.method,f,null),re(i,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ba(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=ui);break;case"onScroll":u!=null&&kt("scroll",i);break;case"onScrollEnd":u!=null&&kt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Ba(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":kt("beforetoggle",i),kt("toggle",i),Ua(i,"popover",u);break;case"xlinkActuate":De(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":De(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":De(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":De(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":De(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":De(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":De(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":De(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":De(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ua(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Sc.get(o)||o,Ua(i,o,u))}}function $m(i,s,o,u,f,p){switch(o){case"style":Tl(i,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Tn(i,u):(typeof u=="number"||typeof u=="bigint")&&Tn(i,""+u);break;case"onScroll":u!=null&&kt("scroll",i);break;case"onScrollEnd":u!=null&&kt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dl.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),p=i[Ke]||null,p=p!=null?p[o]:null,typeof p=="function"&&i.removeEventListener(s,p,f),typeof u=="function")){typeof p!="function"&&p!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,f);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Ua(i,o,u)}}}function en(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",i),kt("load",i);var u=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var T=o[p];if(T!=null)switch(p){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:re(i,s,p,T,o,null)}}f&&re(i,s,"srcSet",o.srcSet,o,null),u&&re(i,s,"src",o.src,o,null);return;case"input":kt("invalid",i);var S=p=T=f=null,M=null,$=null;for(u in o)if(o.hasOwnProperty(u)){var it=o[u];if(it!=null)switch(u){case"name":f=it;break;case"type":T=it;break;case"checked":M=it;break;case"defaultChecked":$=it;break;case"value":p=it;break;case"defaultValue":S=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(r(137,s));break;default:re(i,s,u,it,o,null)}}Tc(i,p,S,M,$,T,f,!1);return;case"select":kt("invalid",i),u=T=p=null;for(f in o)if(o.hasOwnProperty(f)&&(S=o[f],S!=null))switch(f){case"value":p=S;break;case"defaultValue":T=S;break;case"multiple":u=S;default:re(i,s,f,S,o,null)}s=p,o=T,i.multiple=!!u,s!=null?Ur(i,!!u,s,!1):o!=null&&Ur(i,!!u,o,!0);return;case"textarea":kt("invalid",i),p=f=u=null;for(T in o)if(o.hasOwnProperty(T)&&(S=o[T],S!=null))switch(T){case"value":u=S;break;case"defaultValue":f=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:re(i,s,T,S,o,null)}jr(i,u,f,p);return;case"option":for(M in o)if(o.hasOwnProperty(M)&&(u=o[M],u!=null))switch(M){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:re(i,s,M,u,o,null)}return;case"dialog":kt("beforetoggle",i),kt("toggle",i),kt("cancel",i),kt("close",i);break;case"iframe":case"object":kt("load",i);break;case"video":case"audio":for(u=0;u<tu.length;u++)kt(tu[u],i);break;case"image":kt("error",i),kt("load",i);break;case"details":kt("toggle",i);break;case"embed":case"source":case"link":kt("error",i),kt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(u=o[$],u!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:re(i,s,$,u,o,null)}return;default:if(za(s)){for(it in o)o.hasOwnProperty(it)&&(u=o[it],u!==void 0&&$m(i,s,it,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&re(i,s,S,u,o,null))}function E2(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,T=null,S=null,M=null,$=null,it=null;for(et in o){var ot=o[et];if(o.hasOwnProperty(et)&&ot!=null)switch(et){case"checked":break;case"value":break;case"defaultValue":M=ot;default:u.hasOwnProperty(et)||re(i,s,et,null,u,ot)}}for(var W in u){var et=u[W];if(ot=o[W],u.hasOwnProperty(W)&&(et!=null||ot!=null))switch(W){case"type":p=et;break;case"name":f=et;break;case"checked":$=et;break;case"defaultChecked":it=et;break;case"value":T=et;break;case"defaultValue":S=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(r(137,s));break;default:et!==ot&&re(i,s,W,et,u,ot)}}ja(i,T,S,M,$,it,p,f);return;case"select":et=T=S=W=null;for(p in o)if(M=o[p],o.hasOwnProperty(p)&&M!=null)switch(p){case"value":break;case"multiple":et=M;default:u.hasOwnProperty(p)||re(i,s,p,null,u,M)}for(f in u)if(p=u[f],M=o[f],u.hasOwnProperty(f)&&(p!=null||M!=null))switch(f){case"value":W=p;break;case"defaultValue":S=p;break;case"multiple":T=p;default:p!==M&&re(i,s,f,p,u,M)}s=S,o=T,u=et,W!=null?Ur(i,!!o,W,!1):!!u!=!!o&&(s!=null?Ur(i,!!o,s,!0):Ur(i,!!o,o?[]:"",!1));return;case"textarea":et=W=null;for(S in o)if(f=o[S],o.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:re(i,s,S,null,u,f)}for(T in u)if(f=u[T],p=o[T],u.hasOwnProperty(T)&&(f!=null||p!=null))switch(T){case"value":W=f;break;case"defaultValue":et=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==p&&re(i,s,T,f,u,p)}Ec(i,W,et);return;case"option":for(var yt in o)if(W=o[yt],o.hasOwnProperty(yt)&&W!=null&&!u.hasOwnProperty(yt))switch(yt){case"selected":i.selected=!1;break;default:re(i,s,yt,null,u,W)}for(M in u)if(W=u[M],et=o[M],u.hasOwnProperty(M)&&W!==et&&(W!=null||et!=null))switch(M){case"selected":i.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:re(i,s,M,W,u,et)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in o)W=o[St],o.hasOwnProperty(St)&&W!=null&&!u.hasOwnProperty(St)&&re(i,s,St,null,u,W);for($ in u)if(W=u[$],et=o[$],u.hasOwnProperty($)&&W!==et&&(W!=null||et!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,s));break;default:re(i,s,$,W,u,et)}return;default:if(za(s)){for(var se in o)W=o[se],o.hasOwnProperty(se)&&W!==void 0&&!u.hasOwnProperty(se)&&$m(i,s,se,void 0,u,W);for(it in u)W=u[it],et=o[it],!u.hasOwnProperty(it)||W===et||W===void 0&&et===void 0||$m(i,s,it,W,u,et);return}}for(var H in o)W=o[H],o.hasOwnProperty(H)&&W!=null&&!u.hasOwnProperty(H)&&re(i,s,H,null,u,W);for(ot in u)W=u[ot],et=o[ot],!u.hasOwnProperty(ot)||W===et||W==null&&et==null||re(i,s,ot,W,u,et)}function jT(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function b2(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],p=f.transferSize,T=f.initiatorType,S=f.duration;if(p&&S&&jT(T)){for(T=0,S=f.responseEnd,u+=1;u<o.length;u++){var M=o[u],$=M.startTime;if($>S)break;var it=M.transferSize,ot=M.initiatorType;it&&jT(ot)&&(M=M.responseEnd,T+=it*(M<S?1:(S-$)/(M-$)))}if(--u,s+=8*(p+T)/(f.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Qm=null,Xm=null;function wh(i){return i.nodeType===9?i:i.ownerDocument}function zT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function BT(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Wm(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Jm=null;function S2(){var i=window.event;return i&&i.type==="popstate"?i===Jm?!1:(Jm=i,!0):(Jm=null,!1)}var FT=typeof setTimeout=="function"?setTimeout:void 0,w2=typeof clearTimeout=="function"?clearTimeout:void 0,qT=typeof Promise=="function"?Promise:void 0,A2=typeof queueMicrotask=="function"?queueMicrotask:typeof qT<"u"?function(i){return qT.resolve(null).then(i).catch(R2)}:FT;function R2(i){setTimeout(function(){throw i})}function ls(i){return i==="head"}function HT(i,s){var o=s,u=0;do{var f=o.nextSibling;if(i.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(f),bo(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")nu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,nu(o);for(var p=o.firstChild;p;){var T=p.nextSibling,S=p.nodeName;p[Ii]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=T}}else o==="body"&&nu(i.ownerDocument.body);o=f}while(o);bo(s)}function GT(i,s){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function Zm(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Zm(o),ka(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function C2(i,s,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ii])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=Qn(i.nextSibling),i===null)break}return null}function x2(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Qn(i.nextSibling),i===null))return null;return i}function KT(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Qn(i.nextSibling),i===null))return null;return i}function tp(i){return i.data==="$?"||i.data==="$~"}function ep(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function I2(i,s){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Qn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var np=null;function YT(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(s===0)return Qn(i.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}i=i.nextSibling}return null}function $T(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return i;s--}else o!=="/$"&&o!=="/&"||s++}i=i.previousSibling}return null}function QT(i,s,o){switch(s=wh(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function nu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);ka(i)}var Xn=new Map,XT=new Set;function Ah(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var _r=nt.d;nt.d={f:D2,r:N2,D:M2,C:V2,L:O2,m:P2,X:k2,S:L2,M:U2};function D2(){var i=_r.f(),s=gh();return i||s}function N2(i){var s=jn(i);s!==null&&s.tag===5&&s.type==="form"?d_(s):_r.r(i)}var _o=typeof document>"u"?null:document;function WT(i,s,o){var u=_o;if(u&&typeof s=="string"&&s){var f=_n(s);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),XT.has(f)||(XT.add(f),i={rel:i,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),en(s,"link",i),Ie(s),u.head.appendChild(s)))}}function M2(i){_r.D(i),WT("dns-prefetch",i,null)}function V2(i,s){_r.C(i,s),WT("preconnect",i,s)}function O2(i,s,o){_r.L(i,s,o);var u=_o;if(u&&i&&s){var f='link[rel="preload"][as="'+_n(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+_n(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+_n(o.imageSizes)+'"]')):f+='[href="'+_n(i)+'"]';var p=f;switch(s){case"style":p=To(i);break;case"script":p=Eo(i)}Xn.has(p)||(i=_({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),Xn.set(p,i),u.querySelector(f)!==null||s==="style"&&u.querySelector(iu(p))||s==="script"&&u.querySelector(ru(p))||(s=u.createElement("link"),en(s,"link",i),Ie(s),u.head.appendChild(s)))}}function P2(i,s){_r.m(i,s);var o=_o;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+_n(u)+'"][href="'+_n(i)+'"]',p=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Eo(i)}if(!Xn.has(p)&&(i=_({rel:"modulepreload",href:i},s),Xn.set(p,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ru(p)))return}u=o.createElement("link"),en(u,"link",i),Ie(u),o.head.appendChild(u)}}}function L2(i,s,o){_r.S(i,s,o);var u=_o;if(u&&i){var f=Ni(u).hoistableStyles,p=To(i);s=s||"default";var T=f.get(p);if(!T){var S={loading:0,preload:null};if(T=u.querySelector(iu(p)))S.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":s},o),(o=Xn.get(p))&&ip(i,o);var M=T=u.createElement("link");Ie(M),en(M,"link",i),M._p=new Promise(function($,it){M.onload=$,M.onerror=it}),M.addEventListener("load",function(){S.loading|=1}),M.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Rh(T,s,u)}T={type:"stylesheet",instance:T,count:1,state:S},f.set(p,T)}}}function k2(i,s){_r.X(i,s);var o=_o;if(o&&i){var u=Ni(o).hoistableScripts,f=Eo(i),p=u.get(f);p||(p=o.querySelector(ru(f)),p||(i=_({src:i,async:!0},s),(s=Xn.get(f))&&rp(i,s),p=o.createElement("script"),Ie(p),en(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function U2(i,s){_r.M(i,s);var o=_o;if(o&&i){var u=Ni(o).hoistableScripts,f=Eo(i),p=u.get(f);p||(p=o.querySelector(ru(f)),p||(i=_({src:i,async:!0,type:"module"},s),(s=Xn.get(f))&&rp(i,s),p=o.createElement("script"),Ie(p),en(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function JT(i,s,o,u){var f=(f=_t.current)?Ah(f):null;if(!f)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=To(o.href),o=Ni(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=To(o.href);var p=Ni(f).hoistableStyles,T=p.get(i);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,T),(p=f.querySelector(iu(i)))&&!p._p&&(T.instance=p,T.state.loading=5),Xn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Xn.set(i,o),p||j2(f,i,o,T.state))),s&&u===null)throw Error(r(528,""));return T}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Eo(o),o=Ni(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function To(i){return'href="'+_n(i)+'"'}function iu(i){return'link[rel="stylesheet"]['+i+"]"}function ZT(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function j2(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),en(s,"link",o),Ie(s),i.head.appendChild(s))}function Eo(i){return'[src="'+_n(i)+'"]'}function ru(i){return"script[async]"+i}function tE(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+_n(o.href)+'"]');if(u)return s.instance=u,Ie(u),u;var f=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Ie(u),en(u,"style",f),Rh(u,o.precedence,i),s.instance=u;case"stylesheet":f=To(o.href);var p=i.querySelector(iu(f));if(p)return s.state.loading|=4,s.instance=p,Ie(p),p;u=ZT(o),(f=Xn.get(f))&&ip(u,f),p=(i.ownerDocument||i).createElement("link"),Ie(p);var T=p;return T._p=new Promise(function(S,M){T.onload=S,T.onerror=M}),en(p,"link",u),s.state.loading|=4,Rh(p,o.precedence,i),s.instance=p;case"script":return p=Eo(o.src),(f=i.querySelector(ru(p)))?(s.instance=f,Ie(f),f):(u=o,(f=Xn.get(p))&&(u=_({},o),rp(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),Ie(f),en(f,"link",u),i.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Rh(u,o.precedence,i));return s.instance}function Rh(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,p=f,T=0;T<u.length;T++){var S=u[T];if(S.dataset.precedence===s)p=S;else if(p!==f)break}p?p.parentNode.insertBefore(i,p.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function ip(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function rp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Ch=null;function eE(i,s,o){if(Ch===null){var u=new Map,f=Ch=new Map;f.set(o,u)}else f=Ch,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var p=o[f];if(!(p[Ii]||p[xe]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(s)||"";T=i+T;var S=u.get(T);S?S.push(p):u.set(T,[p])}}return u}function nE(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function z2(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function iE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function B2(i,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=To(u.href),p=s.querySelector(iu(f));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=xh.bind(i),s.then(i,i)),o.state.loading|=4,o.instance=p,Ie(p);return}p=s.ownerDocument||s,u=ZT(u),(f=Xn.get(f))&&ip(u,f),p=p.createElement("link"),Ie(p);var T=p;T._p=new Promise(function(S,M){T.onload=S,T.onerror=M}),en(p,"link",u),o.instance=p}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=xh.bind(i),s.addEventListener("load",o),s.addEventListener("error",o))}}var sp=0;function F2(i,s){return i.stylesheets&&i.count===0&&Dh(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&Dh(i,i.stylesheets),i.unsuspend){var p=i.unsuspend;i.unsuspend=null,p()}},6e4+s);0<i.imgBytes&&sp===0&&(sp=62500*b2());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Dh(i,i.stylesheets),i.unsuspend)){var p=i.unsuspend;i.unsuspend=null,p()}},(i.imgBytes>sp?50:800)+s);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function xh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ih=null;function Dh(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ih=new Map,s.forEach(q2,i),Ih=null,xh.call(i))}function q2(i,s){if(!(s.state.loading&4)){var o=Ih.get(i);if(o)var u=o.get(null);else{o=new Map,Ih.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var T=f[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}f=s.instance,T=f.getAttribute("data-precedence"),p=o.get(T)||u,p===u&&o.set(null,f),o.set(T,f),this.count++,u=xh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),p?p.parentNode.insertBefore(f,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),s.state.loading|=4}}var su={$$typeof:q,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function H2(i,s,o,u,f,p,T,S,M){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ci(0),this.hiddenUpdates=Ci(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function rE(i,s,o,u,f,p,T,S,M,$,it,ot){return i=new H2(i,s,o,T,M,$,it,ot,S),s=1,p===!0&&(s|=24),p=Mn(3,null,null,s),i.current=p,p.stateNode=i,s=Ud(),s.refCount++,i.pooledCache=s,s.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:s},Fd(p),i}function sE(i){return i?(i=Wa,i):Wa}function aE(i,s,o,u,f,p){f=sE(f),u.context===null?u.context=f:u.pendingContext=f,u=Wr(s),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=Jr(i,u,s),o!==null&&(An(o,i,s),kl(o,i,s))}function oE(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function ap(i,s){oE(i,s),(i=i.alternate)&&oE(i,s)}function lE(i){if(i.tag===13||i.tag===31){var s=Js(i,67108864);s!==null&&An(s,i,67108864),ap(i,67108864)}}function uE(i){if(i.tag===13||i.tag===31){var s=kn();s=zs(s);var o=Js(i,s);o!==null&&An(o,i,s),ap(i,s)}}var Nh=!0;function G2(i,s,o,u){var f=Q.T;Q.T=null;var p=nt.p;try{nt.p=2,op(i,s,o,u)}finally{nt.p=p,Q.T=f}}function K2(i,s,o,u){var f=Q.T;Q.T=null;var p=nt.p;try{nt.p=8,op(i,s,o,u)}finally{nt.p=p,Q.T=f}}function op(i,s,o,u){if(Nh){var f=lp(u);if(f===null)Ym(i,s,u,Mh,o),hE(i,u);else if($2(f,i,s,o,u))u.stopPropagation();else if(hE(i,u),s&4&&-1<Y2.indexOf(i)){for(;f!==null;){var p=jn(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=Ai(p.pendingLanes);if(T!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var M=1<<31-Ee(T);S.entanglements[1]|=M,T&=~M}Hi(p),(Xt&6)===0&&(mh=mn()+500,Zl(0))}}break;case 31:case 13:S=Js(p,2),S!==null&&An(S,p,2),gh(),ap(p,2)}if(p=lp(u),p===null&&Ym(i,s,u,Mh,o),p===f)break;f=p}f!==null&&u.stopPropagation()}else Ym(i,s,u,null,o)}}function lp(i){return i=zn(i),up(i)}var Mh=null;function up(i){if(Mh=null,i=Di(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=c(s),i!==null)return i;i=null}else if(o===31){if(i=d(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Mh=i,null}function cE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ls()){case ll:return 2;case ul:return 8;case Lr:case pd:return 32;case cc:return 268435456;default:return 32}default:return 32}}var cp=!1,us=null,cs=null,hs=null,au=new Map,ou=new Map,fs=[],Y2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hE(i,s){switch(i){case"focusin":case"focusout":us=null;break;case"dragenter":case"dragleave":cs=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":au.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ou.delete(s.pointerId)}}function lu(i,s,o,u,f,p){return i===null||i.nativeEvent!==p?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},s!==null&&(s=jn(s),s!==null&&lE(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),i)}function $2(i,s,o,u,f){switch(s){case"focusin":return us=lu(us,i,s,o,u,f),!0;case"dragenter":return cs=lu(cs,i,s,o,u,f),!0;case"mouseover":return hs=lu(hs,i,s,o,u,f),!0;case"pointerover":var p=f.pointerId;return au.set(p,lu(au.get(p)||null,i,s,o,u,f)),!0;case"gotpointercapture":return p=f.pointerId,ou.set(p,lu(ou.get(p)||null,i,s,o,u,f)),!0}return!1}function fE(i){var s=Di(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){i.blockedOn=s,oi(i.priority,function(){uE(o)});return}}else if(s===31){if(s=d(o),s!==null){i.blockedOn=s,oi(i.priority,function(){uE(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Vh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=lp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);El=u,o.target.dispatchEvent(u),El=null}else return s=jn(o),s!==null&&lE(s),i.blockedOn=o,!1;s.shift()}return!0}function dE(i,s,o){Vh(i)&&o.delete(s)}function Q2(){cp=!1,us!==null&&Vh(us)&&(us=null),cs!==null&&Vh(cs)&&(cs=null),hs!==null&&Vh(hs)&&(hs=null),au.forEach(dE),ou.forEach(dE)}function Oh(i,s){i.blockedOn===s&&(i.blockedOn=null,cp||(cp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Q2)))}var Ph=null;function mE(i){Ph!==i&&(Ph=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Ph===i&&(Ph=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],f=i[s+2];if(typeof u!="function"){if(up(u||o)===null)continue;break}var p=jn(o);p!==null&&(i.splice(s,3),s-=3,lm(p,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function bo(i){function s(M){return Oh(M,i)}us!==null&&Oh(us,i),cs!==null&&Oh(cs,i),hs!==null&&Oh(hs,i),au.forEach(s),ou.forEach(s);for(var o=0;o<fs.length;o++){var u=fs[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<fs.length&&(o=fs[0],o.blockedOn===null);)fE(o),o.blockedOn===null&&fs.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],p=o[u+1],T=f[Ke]||null;if(typeof p=="function")T||mE(o);else if(T){var S=null;if(p&&p.hasAttribute("formAction")){if(f=p,T=p[Ke]||null)S=T.formAction;else if(up(f)!==null)continue}else S=T.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),mE(o)}}}function pE(){function i(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function hp(i){this._internalRoot=i}Lh.prototype.render=hp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=kn();aE(o,u,i,s,null,null)},Lh.prototype.unmount=hp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;aE(i.current,2,null,i,null,null),gh(),s[xi]=null}};function Lh(i){this._internalRoot=i}Lh.prototype.unstable_scheduleHydration=function(i){if(i){var s=gc();i={blockedOn:null,target:i,priority:s};for(var o=0;o<fs.length&&s!==0&&s<fs[o].priority;o++);fs.splice(o,0,i),o===0&&fE(i)}};var gE=t.version;if(gE!=="19.2.1")throw Error(r(527,gE,"19.2.1"));nt.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=g(s),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var X2={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kh.isDisabled&&kh.supportsFiber)try{si=kh.inject(X2),Xe=kh}catch{}}return cu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,u="",f=S_,p=w_,T=A_;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError)),s=rE(i,1,!1,null,null,o,u,null,f,p,T,pE),i[xi]=s.current,Km(i),new hp(s)},cu.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var u=!1,f="",p=S_,T=w_,S=A_,M=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(M=o.formState)),s=rE(i,1,!0,s,o??null,u,f,M,p,T,S,pE),s.context=sE(null),o=s.current,u=kn(),u=zs(u),f=Wr(u),f.callback=null,Jr(o,f,u),o=u,s.current.lanes=o,Us(s,o),Hi(s),i[xi]=s.current,Km(i),new Lh(s)},cu.version="19.2.1",cu}var RE;function aI(){if(RE)return mp.exports;RE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),mp.exports=sI(),mp.exports}var oI=aI();var CE="popstate";function lI(e={}){function t(a,l){let{pathname:c="/",search:d="",hash:m=""}=xa(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),yg("",{pathname:c,search:d,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let c=a.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let m=a.location.href,g=m.indexOf("#");d=g===-1?m:m.slice(0,g)}return d+"#"+(typeof l=="string"?l:Iu(l))}function r(a,l){ni(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return cI(t,n,r,e)}function pe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ni(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function uI(){return Math.random().toString(36).substring(2,10)}function xE(e,t){return{usr:e.state,key:e.key,idx:t}}function yg(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?xa(t):t,state:n,key:t&&t.key||r||uI()}}function Iu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function xa(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function cI(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,d="POP",m=null,g=y();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function y(){return(c.state||{idx:null}).idx}function _(){d="POP";let L=y(),z=L==null?null:L-g;g=L,m&&m({action:d,location:U.location,delta:z})}function b(L,z){d="PUSH";let G=yg(U.location,L,z);n&&n(G,L),g=y()+1;let q=xE(G,g),lt=U.createHref(G);try{c.pushState(q,"",lt)}catch(at){if(at instanceof DOMException&&at.name==="DataCloneError")throw at;a.location.assign(lt)}l&&m&&m({action:d,location:U.location,delta:1})}function C(L,z){d="REPLACE";let G=yg(U.location,L,z);n&&n(G,L),g=y();let q=xE(G,g),lt=U.createHref(G);c.replaceState(q,"",lt),l&&m&&m({action:d,location:U.location,delta:0})}function O(L){return hI(L)}let U={get action(){return d},get location(){return e(a,c)},listen(L){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(CE,_),m=L,()=>{a.removeEventListener(CE,_),m=null}},createHref(L){return t(a,L)},createURL:O,encodeLocation(L){let z=O(L);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:b,replace:C,go(L){return c.go(L)}};return U}function hI(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),pe(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Iu(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function H1(e,t,n="/"){return fI(e,t,n,!1)}function fI(e,t,n,r){let a=typeof t=="string"?xa(t):t,l=Rr(a.pathname||"/",n);if(l==null)return null;let c=G1(e);dI(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=wI(l);d=bI(c[m],g,r)}return d}function G1(e,t=[],n=[],r="",a=!1){let l=(c,d,m=a,g)=>{let y={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&m)return;pe(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let _=Sr([r,y.relativePath]),b=n.concat(y);c.children&&c.children.length>0&&(pe(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),G1(c.children,t,b,_,m)),!(c.path==null&&!c.index)&&t.push({path:_,score:TI(_,c.index),routesMeta:b})};return e.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let m of K1(c.path))l(c,d,!0,m)}),t}function K1(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=K1(r.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>e.startsWith("/")&&m===""?"/":m)}function dI(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:EI(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var mI=/^:[\w-]+$/,pI=3,gI=2,yI=1,vI=10,_I=-2,IE=e=>e==="*";function TI(e,t){let n=e.split("/"),r=n.length;return n.some(IE)&&(r+=_I),t&&(r+=gI),n.filter(a=>!IE(a)).reduce((a,l)=>a+(mI.test(l)?pI:l===""?yI:vI),r)}function EI(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function bI(e,t,n=!1){let{routesMeta:r}=e,a={},l="/",c=[];for(let d=0;d<r.length;++d){let m=r[d],g=d===r.length-1,y=l==="/"?t:t.slice(l.length)||"/",_=df({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},y),b=m.route;if(!_&&g&&n&&!r[r.length-1].route.index&&(_=df({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:Sr([l,_.pathname]),pathnameBase:xI(Sr([l,_.pathnameBase])),route:b}),_.pathnameBase!=="/"&&(l=Sr([l,_.pathnameBase]))}return c}function df(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=SI(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((g,{paramName:y,isOptional:_},b)=>{if(y==="*"){let O=d[b]||"";c=l.slice(0,l.length-O.length).replace(/(.)\/+$/,"$1")}const C=d[b];return _&&!C?g[y]=void 0:g[y]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:e}}function SI(e,t=!1,n=!0){ni(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(r.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function wI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ni(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Rr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var Y1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,AI=e=>Y1.test(e);function RI(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?xa(e):e,l;if(n)if(AI(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),ni(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=DE(n.substring(1),"/"):l=DE(n,t)}else l=t;return{pathname:l,search:II(r),hash:DI(a)}}function DE(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function vp(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CI(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function $1(e){let t=CI(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Q1(e,t,n,r=!1){let a;typeof e=="string"?a=xa(e):(a={...e},pe(!a.pathname||!a.pathname.includes("?"),vp("?","pathname","search",a)),pe(!a.pathname||!a.pathname.includes("#"),vp("#","pathname","hash",a)),pe(!a.search||!a.search.includes("#"),vp("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let _=t.length-1;if(!r&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),_-=1;a.pathname=b.join("/")}d=_>=0?t[_]:"/"}let m=RI(a,d),g=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||y)&&(m.pathname+="/"),m}var Sr=e=>e.join("/").replace(/\/\/+/g,"/"),xI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),II=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,DI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,NI=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function MI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function VI(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var X1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function W1(e,t){let n=e;if(typeof n!="string"||!Y1.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(X1)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=Rr(c.pathname,t);c.origin===l.origin&&d!=null?n=d+c.search+c.hash:a=!0}catch{ni(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var J1=["POST","PUT","PATCH","DELETE"];new Set(J1);var OI=["GET",...J1];new Set(OI);var Qo=N.createContext(null);Qo.displayName="DataRouter";var Bf=N.createContext(null);Bf.displayName="DataRouterState";var PI=N.createContext(!1),Z1=N.createContext({isTransitioning:!1});Z1.displayName="ViewTransition";var LI=N.createContext(new Map);LI.displayName="Fetchers";var kI=N.createContext(null);kI.displayName="Await";var ii=N.createContext(null);ii.displayName="Navigation";var Ku=N.createContext(null);Ku.displayName="Location";var Vr=N.createContext({outlet:null,matches:[],isDataRoute:!1});Vr.displayName="Route";var fy=N.createContext(null);fy.displayName="RouteError";var tw="REACT_ROUTER_ERROR",UI="REDIRECT",jI="ROUTE_ERROR_RESPONSE";function zI(e){if(e.startsWith(`${tw}:${UI}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function BI(e){if(e.startsWith(`${tw}:${jI}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new NI(t.status,t.statusText,t.data)}catch{}}function FI(e,{relative:t}={}){pe(Yu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=N.useContext(ii),{hash:a,pathname:l,search:c}=$u(e,{relative:t}),d=l;return n!=="/"&&(d=l==="/"?n:Sr([n,l])),r.createHref({pathname:d,search:c,hash:a})}function Yu(){return N.useContext(Ku)!=null}function Ia(){return pe(Yu(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Ku).location}var ew="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nw(e){N.useContext(ii).static||N.useLayoutEffect(e)}function Ff(){let{isDataRoute:e}=N.useContext(Vr);return e?eD():qI()}function qI(){pe(Yu(),"useNavigate() may be used only in the context of a <Router> component.");let e=N.useContext(Qo),{basename:t,navigator:n}=N.useContext(ii),{matches:r}=N.useContext(Vr),{pathname:a}=Ia(),l=JSON.stringify($1(r)),c=N.useRef(!1);return nw(()=>{c.current=!0}),N.useCallback((m,g={})=>{if(ni(c.current,ew),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=Q1(m,JSON.parse(l),a,g.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Sr([t,y.pathname])),(g.replace?n.replace:n.push)(y,g.state,g)},[t,n,l,a,e])}N.createContext(null);function $u(e,{relative:t}={}){let{matches:n}=N.useContext(Vr),{pathname:r}=Ia(),a=JSON.stringify($1(n));return N.useMemo(()=>Q1(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function HI(e,t){return iw(e,t)}function iw(e,t,n,r,a){pe(Yu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=N.useContext(ii),{matches:c}=N.useContext(Vr),d=c[c.length-1],m=d?d.params:{},g=d?d.pathname:"/",y=d?d.pathnameBase:"/",_=d&&d.route;{let G=_&&_.path||"";sw(g,!_||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let b=Ia(),C;if(t){let G=typeof t=="string"?xa(t):t;pe(y==="/"||G.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${G.pathname}" was given in the \`location\` prop.`),C=G}else C=b;let O=C.pathname||"/",U=O;if(y!=="/"){let G=y.replace(/^\//,"").split("/");U="/"+O.replace(/^\//,"").split("/").slice(G.length).join("/")}let L=H1(e,{pathname:U});ni(_||L!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),ni(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=QI(L&&L.map(G=>Object.assign({},G,{params:Object.assign({},m,G.params),pathname:Sr([y,l.encodeLocation?l.encodeLocation(G.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?y:Sr([y,l.encodeLocation?l.encodeLocation(G.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathnameBase])})),c,n,r,a);return t&&z?N.createElement(Ku.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},z):z}function GI(){let e=tD(),t=MI(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:l},"ErrorBoundary")," or"," ",N.createElement("code",{style:l},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),n?N.createElement("pre",{style:a},n):null,c)}var KI=N.createElement(GI,null),rw=class extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=BI(e.digest);n&&(e=n)}let t=e!==void 0?N.createElement(Vr.Provider,{value:this.props.routeContext},N.createElement(fy.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?N.createElement(YI,{error:e},t):t}};rw.contextType=PI;var _p=new WeakMap;function YI({children:e,error:t}){let{basename:n}=N.useContext(ii);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=zI(t.digest);if(r){let a=_p.get(t);if(a)throw a;let l=W1(r.location,n);if(X1&&!_p.get(t))if(l.isExternal||r.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:r.replace}));throw _p.set(t,c),c}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return e}function $I({routeContext:e,match:t,children:n}){let r=N.useContext(Qo);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(Vr.Provider,{value:e},n)}function QI(e,t=[],n=null,r=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=n?.errors;if(c!=null){let y=l.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);pe(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let d=!1,m=-1;if(n)for(let y=0;y<l.length;y++){let _=l[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=y),_.route.id){let{loaderData:b,errors:C}=n,O=_.route.loader&&!b.hasOwnProperty(_.route.id)&&(!C||C[_.route.id]===void 0);if(_.route.lazy||O){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let g=n&&r?(y,_)=>{r(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:VI(n.matches),errorInfo:_})}:void 0;return l.reduceRight((y,_,b)=>{let C,O=!1,U=null,L=null;n&&(C=c&&_.route.id?c[_.route.id]:void 0,U=_.route.errorElement||KI,d&&(m<0&&b===0?(sw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,L=null):m===b&&(O=!0,L=_.route.hydrateFallbackElement||null)));let z=t.concat(l.slice(0,b+1)),G=()=>{let q;return C?q=U:O?q=L:_.route.Component?q=N.createElement(_.route.Component,null):_.route.element?q=_.route.element:q=y,N.createElement($I,{match:_,routeContext:{outlet:y,matches:z,isDataRoute:n!=null},children:q})};return n&&(_.route.ErrorBoundary||_.route.errorElement||b===0)?N.createElement(rw,{location:n.location,revalidation:n.revalidation,component:U,error:C,children:G(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:g}):G()},null)}function dy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XI(e){let t=N.useContext(Qo);return pe(t,dy(e)),t}function WI(e){let t=N.useContext(Bf);return pe(t,dy(e)),t}function JI(e){let t=N.useContext(Vr);return pe(t,dy(e)),t}function my(e){let t=JI(e),n=t.matches[t.matches.length-1];return pe(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function ZI(){return my("useRouteId")}function tD(){let e=N.useContext(fy),t=WI("useRouteError"),n=my("useRouteError");return e!==void 0?e:t.errors?.[n]}function eD(){let{router:e}=XI("useNavigate"),t=my("useNavigate"),n=N.useRef(!1);return nw(()=>{n.current=!0}),N.useCallback(async(a,l={})=>{ni(n.current,ew),n.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var NE={};function sw(e,t,n){!t&&!NE[e]&&(NE[e]=!0,ni(!1,n))}N.memo(nD);function nD({routes:e,future:t,state:n,onError:r}){return iw(e,void 0,n,r,t)}function Qh(e){pe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iD({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){pe(!Yu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),m=N.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[d,a,l,c]);typeof n=="string"&&(n=xa(n));let{pathname:g="/",search:y="",hash:_="",state:b=null,key:C="default"}=n,O=N.useMemo(()=>{let U=Rr(g,d);return U==null?null:{location:{pathname:U,search:y,hash:_,state:b,key:C},navigationType:r}},[d,g,y,_,b,C,r]);return ni(O!=null,`<Router basename="${d}"> is not able to match the URL "${g}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:N.createElement(ii.Provider,{value:m},N.createElement(Ku.Provider,{children:t,value:O}))}function rD({children:e,location:t}){return HI(vg(e),t)}function vg(e,t=[]){let n=[];return N.Children.forEach(e,(r,a)=>{if(!N.isValidElement(r))return;let l=[...t,a];if(r.type===N.Fragment){n.push.apply(n,vg(r.props.children,l));return}pe(r.type===Qh,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=vg(r.props.children,l)),n.push(c)}),n}var Xh="get",Wh="application/x-www-form-urlencoded";function qf(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function sD(e){return qf(e)&&e.tagName.toLowerCase()==="button"}function aD(e){return qf(e)&&e.tagName.toLowerCase()==="form"}function oD(e){return qf(e)&&e.tagName.toLowerCase()==="input"}function lD(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function uD(e,t){return e.button===0&&(!t||t==="_self")&&!lD(e)}var Uh=null;function cD(){if(Uh===null)try{new FormData(document.createElement("form"),0),Uh=!1}catch{Uh=!0}return Uh}var hD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tp(e){return e!=null&&!hD.has(e)?(ni(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wh}"`),null):e}function fD(e,t){let n,r,a,l,c;if(aD(e)){let d=e.getAttribute("action");r=d?Rr(d,t):null,n=e.getAttribute("method")||Xh,a=Tp(e.getAttribute("enctype"))||Wh,l=new FormData(e)}else if(sD(e)||oD(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||d.getAttribute("action");if(r=m?Rr(m,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||Xh,a=Tp(e.getAttribute("formenctype"))||Tp(d.getAttribute("enctype"))||Wh,l=new FormData(d,e),!cD()){let{name:g,type:y,value:_}=e;if(y==="image"){let b=g?`${g}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else g&&l.append(g,_)}}else{if(qf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xh,r=null,a=Wh,c=e}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function py(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function dD(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Rr(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function mD(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pD(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function gD(e,t,n){let r=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await mD(l,n);return c.links?c.links():[]}return[]}));return TD(r.flat(1).filter(pD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function ME(e,t,n,r,a,l){let c=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,d=(m,g)=>n[g].pathname!==m.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==m.params["*"];return l==="assets"?t.filter((m,g)=>c(m,g)||d(m,g)):l==="data"?t.filter((m,g)=>{let y=r.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function yD(e,t,{includeHydrateFallback:n}={}){return vD(e.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function vD(e){return[...new Set(e)]}function _D(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function TD(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let l=JSON.stringify(_D(a));return n.has(l)||(n.add(l),r.push({key:l,link:a})),r},[])}function aw(){let e=N.useContext(Qo);return py(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ED(){let e=N.useContext(Bf);return py(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var gy=N.createContext(void 0);gy.displayName="FrameworkContext";function ow(){let e=N.useContext(gy);return py(e,"You must render this element inside a <HydratedRouter> element"),e}function bD(e,t){let n=N.useContext(gy),[r,a]=N.useState(!1),[l,c]=N.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:y,onTouchStart:_}=t,b=N.useRef(null);N.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let U=z=>{z.forEach(G=>{c(G.isIntersecting)})},L=new IntersectionObserver(U,{threshold:.5});return b.current&&L.observe(b.current),()=>{L.disconnect()}}},[e]),N.useEffect(()=>{if(r){let U=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(U)}}},[r]);let C=()=>{a(!0)},O=()=>{a(!1),c(!1)};return n?e!=="intent"?[l,b,{}]:[l,b,{onFocus:hu(d,C),onBlur:hu(m,O),onMouseEnter:hu(g,C),onMouseLeave:hu(y,O),onTouchStart:hu(_,C)}]:[!1,b,{}]}function hu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function SD({page:e,...t}){let{router:n}=aw(),r=N.useMemo(()=>H1(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?N.createElement(AD,{page:e,matches:r,...t}):null}function wD(e){let{manifest:t,routeModules:n}=ow(),[r,a]=N.useState([]);return N.useEffect(()=>{let l=!1;return gD(e,t,n).then(c=>{l||a(c)}),()=>{l=!0}},[e,t,n]),r}function AD({page:e,matches:t,...n}){let r=Ia(),{manifest:a,routeModules:l}=ow(),{basename:c}=aw(),{loaderData:d,matches:m}=ED(),g=N.useMemo(()=>ME(e,t,m,a,r,"data"),[e,t,m,a,r]),y=N.useMemo(()=>ME(e,t,m,a,r,"assets"),[e,t,m,a,r]),_=N.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let O=new Set,U=!1;if(t.forEach(z=>{let G=a.routes[z.route.id];!G||!G.hasLoader||(!g.some(q=>q.route.id===z.route.id)&&z.route.id in d&&l[z.route.id]?.shouldRevalidate||G.hasClientLoader?U=!0:O.add(z.route.id))}),O.size===0)return[];let L=dD(e,c,"data");return U&&O.size>0&&L.searchParams.set("_routes",t.filter(z=>O.has(z.route.id)).map(z=>z.route.id).join(",")),[L.pathname+L.search]},[c,d,r,a,g,t,e,l]),b=N.useMemo(()=>yD(y,a),[y,a]),C=wD(y);return N.createElement(N.Fragment,null,_.map(O=>N.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),b.map(O=>N.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),C.map(({key:O,link:U})=>N.createElement("link",{key:O,nonce:n.nonce,...U})))}function RD(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var CD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{CD&&(window.__reactRouterVersion="7.11.0")}catch{}function xD({basename:e,children:t,unstable_useTransitions:n,window:r}){let a=N.useRef();a.current==null&&(a.current=lI({window:r,v5Compat:!0}));let l=a.current,[c,d]=N.useState({action:l.action,location:l.location}),m=N.useCallback(g=>{n===!1?d(g):N.startTransition(()=>d(g))},[n]);return N.useLayoutEffect(()=>l.listen(m),[l,m]),N.createElement(iD,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var lw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yy=N.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:g,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:b,...C},O){let{basename:U,unstable_useTransitions:L}=N.useContext(ii),z=typeof g=="string"&&lw.test(g),G=W1(g,U);g=G.to;let q=FI(g,{relative:a}),[lt,at,ht]=bD(r,C),x=MD(g,{replace:c,state:d,target:m,preventScrollReset:y,relative:a,viewTransition:_,unstable_defaultShouldRevalidate:b,unstable_useTransitions:L});function A(k){t&&t(k),k.defaultPrevented||x(k)}let I=N.createElement("a",{...C,...ht,href:G.absoluteURL||q,onClick:G.isExternal||l?t:A,ref:RD(O,at),target:m,"data-discover":!z&&n==="render"?"true":void 0});return lt&&!z?N.createElement(N.Fragment,null,I,N.createElement(SD,{page:q})):I});yy.displayName="Link";var ID=N.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...g},y){let _=$u(c,{relative:g.relative}),b=Ia(),C=N.useContext(Bf),{navigator:O,basename:U}=N.useContext(ii),L=C!=null&&kD(_)&&d===!0,z=O.encodeLocation?O.encodeLocation(_).pathname:_.pathname,G=b.pathname,q=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(G=G.toLowerCase(),q=q?q.toLowerCase():null,z=z.toLowerCase()),q&&U&&(q=Rr(q,U)||q);const lt=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let at=G===z||!a&&G.startsWith(z)&&G.charAt(lt)==="/",ht=q!=null&&(q===z||!a&&q.startsWith(z)&&q.charAt(z.length)==="/"),x={isActive:at,isPending:ht,isTransitioning:L},A=at?t:void 0,I;typeof r=="function"?I=r(x):I=[r,at?"active":null,ht?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(x):l;return N.createElement(yy,{...g,"aria-current":A,className:I,ref:y,style:k,to:c,viewTransition:d},typeof m=="function"?m(x):m)});ID.displayName="NavLink";var DD=N.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:l,method:c=Xh,action:d,onSubmit:m,relative:g,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:b,...C},O)=>{let{unstable_useTransitions:U}=N.useContext(ii),L=PD(),z=LD(d,{relative:g}),G=c.toLowerCase()==="get"?"get":"post",q=typeof d=="string"&&lw.test(d),lt=at=>{if(m&&m(at),at.defaultPrevented)return;at.preventDefault();let ht=at.nativeEvent.submitter,x=ht?.getAttribute("formmethod")||c,A=()=>L(ht||at.currentTarget,{fetcherKey:t,method:x,navigate:n,replace:a,state:l,relative:g,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:b});U&&n!==!1?N.startTransition(()=>A()):A()};return N.createElement("form",{ref:O,method:G,action:z,onSubmit:r?m:lt,...C,"data-discover":!q&&e==="render"?"true":void 0})});DD.displayName="Form";function ND(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uw(e){let t=N.useContext(Qo);return pe(t,ND(e)),t}function MD(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:m}={}){let g=Ff(),y=Ia(),_=$u(e,{relative:l});return N.useCallback(b=>{if(uD(b,t)){b.preventDefault();let C=n!==void 0?n:Iu(y)===Iu(_),O=()=>g(e,{replace:C,state:r,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});m?N.startTransition(()=>O()):O()}},[y,g,_,n,r,t,e,a,l,c,d,m])}var VD=0,OD=()=>`__${String(++VD)}__`;function PD(){let{router:e}=uw("useSubmit"),{basename:t}=N.useContext(ii),n=ZI(),r=e.fetch,a=e.navigate;return N.useCallback(async(l,c={})=>{let{action:d,method:m,encType:g,formData:y,body:_}=fD(l,t);if(c.navigate===!1){let b=c.fetcherKey||OD();await r(b,n,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||m,formEncType:c.encType||g,flushSync:c.flushSync})}else await a(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||m,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,a,t,n])}function LD(e,{relative:t}={}){let{basename:n}=N.useContext(ii),r=N.useContext(Vr);pe(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...$u(e||".",{relative:t})},c=Ia();if(e==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(_=>_).forEach(_=>d.append("index",_));let y=d.toString();l.search=y?`?${y}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Sr([n,l.pathname])),Iu(l)}function kD(e,{relative:t}={}){let n=N.useContext(Z1);pe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=uw("useViewTransitionState"),a=$u(e,{relative:t});if(!n.isTransitioning)return!1;let l=Rr(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Rr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return df(a.pathname,c)!=null||df(a.pathname,l)!=null}const UD=()=>{};var VE={};const cw=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},jD=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],c=e[n++],d=e[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[r++]=String.fromCharCode(55296+(m>>10)),t[r++]=String.fromCharCode(56320+(m&1023))}else{const l=e[n++],c=e[n++];t[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},hw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<e.length;a+=3){const l=e[a],c=a+1<e.length,d=c?e[a+1]:0,m=a+2<e.length,g=m?e[a+2]:0,y=l>>2,_=(l&3)<<4|d>>4;let b=(d&15)<<2|g>>6,C=g&63;m||(C=64,c||(b=64)),r.push(n[y],n[_],n[b],n[C])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(cw(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):jD(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],d=a<e.length?n[e.charAt(a)]:0;++a;const g=a<e.length?n[e.charAt(a)]:64;++a;const _=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||d==null||g==null||_==null)throw new zD;const b=l<<2|d>>4;if(r.push(b),g!==64){const C=d<<4&240|g>>2;if(r.push(C),_!==64){const O=g<<6&192|_;r.push(O)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class zD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BD=function(e){const t=cw(e);return hw.encodeByteArray(t,!0)},mf=function(e){return BD(e).replace(/\./g,"")},fw=function(e){try{return hw.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function FD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const qD=()=>FD().__FIREBASE_DEFAULTS__,HD=()=>{if(typeof process>"u"||typeof VE>"u")return;const e=VE.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},GD=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&fw(e[1]);return t&&JSON.parse(t)},Hf=()=>{try{return UD()||qD()||HD()||GD()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},dw=e=>Hf()?.emulatorHosts?.[e],KD=e=>{const t=dw(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},mw=()=>Hf()?.config,pw=e=>Hf()?.[`_${e}`];class YD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function Xo(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function gw(e){return(await fetch(e,{credentials:"include"})).ok}function $D(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...e};return[mf(JSON.stringify(n)),mf(JSON.stringify(c)),""].join(".")}const _u={};function QD(){const e={prod:[],emulator:[]};for(const t of Object.keys(_u))_u[t]?e.emulator.push(t):e.prod.push(t);return e}function XD(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let OE=!1;function yw(e,t){if(typeof window>"u"||typeof document>"u"||!Xo(window.location.host)||_u[e]===t||_u[e]||OE)return;_u[e]=t;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",l=QD().prod.length>0;function c(){const b=document.getElementById(r);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function m(b,C){b.setAttribute("width","24"),b.setAttribute("id",C),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{OE=!0,c()},b}function y(b,C){b.setAttribute("id",C),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function _(){const b=XD(r),C=n("text"),O=document.getElementById(C)||document.createElement("span"),U=n("learnmore"),L=document.getElementById(U)||document.createElement("a"),z=n("preprendIcon"),G=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const q=b.element;d(q),y(L,U);const lt=g();m(G,z),q.append(G,O,L,lt),document.body.appendChild(q)}l?(O.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function JD(){const e=Hf()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tN(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function eN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nN(){const e=dn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function iN(){return!JD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rN(){try{return typeof indexedDB=="object"}catch{return!1}}function sN(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(n){t(n)}})}const aN="FirebaseError";class Or extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=aN,Object.setPrototypeOf(this,Or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qu.prototype.create)}}class Qu{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?oN(l,r):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Or(a,d,r)}}function oN(e,t){return e.replace(lN,(n,r)=>{const a=t[r];return a!=null?String(a):`<${r}?>`})}const lN=/\{\$([^}]+)}/g;function uN(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ba(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const a of n){if(!r.includes(a))return!1;const l=e[a],c=t[a];if(PE(l)&&PE(c)){if(!ba(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function PE(e){return e!==null&&typeof e=="object"}function Xu(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function cN(e,t){const n=new hN(e,t);return n.subscribe.bind(n)}class hN{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let a;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");fN(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:r},a.next===void 0&&(a.next=Ep),a.error===void 0&&(a.error=Ep),a.complete===void 0&&(a.complete=Ep);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fN(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Ep(){}function xn(e){return e&&e._delegate?e._delegate:e}class Sa{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const fa="[DEFAULT]";class dN{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new YD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(pN(t))try{this.getOrInitializeService({instanceIdentifier:fa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(t=fa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=fa){return this.instances.has(t)}getOptions(t=fa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&c.resolve(a)}return a}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(t),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&t(l,r),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mN(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=fa){return this.component?this.component.multipleInstances?t:fa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mN(e){return e===fa?void 0:e}function pN(e){return e.instantiationMode==="EAGER"}class gN{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new dN(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Bt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Bt||(Bt={}));const yN={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},vN=Bt.INFO,_N={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},TN=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),a=_N[t];if(a)console[a](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class vy{constructor(t){this.name=t,this._logLevel=vN,this._logHandler=TN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?yN[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const EN=(e,t)=>t.some(n=>e instanceof n);let LE,kE;function bN(){return LE||(LE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SN(){return kE||(kE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vw=new WeakMap,_g=new WeakMap,_w=new WeakMap,bp=new WeakMap,_y=new WeakMap;function wN(e){const t=new Promise((n,r)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(Ts(e.result)),a()},c=()=>{r(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&vw.set(n,e)}).catch(()=>{}),_y.set(t,e),t}function AN(e){if(_g.has(e))return;const t=new Promise((n,r)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{r(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});_g.set(e,t)}let Tg={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return _g.get(e);if(t==="objectStoreNames")return e.objectStoreNames||_w.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ts(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function RN(e){Tg=e(Tg)}function CN(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Sp(this),t,...n);return _w.set(r,t.sort?t.sort():[t]),Ts(r)}:SN().includes(e)?function(...t){return e.apply(Sp(this),t),Ts(vw.get(this))}:function(...t){return Ts(e.apply(Sp(this),t))}}function xN(e){return typeof e=="function"?CN(e):(e instanceof IDBTransaction&&AN(e),EN(e,bN())?new Proxy(e,Tg):e)}function Ts(e){if(e instanceof IDBRequest)return wN(e);if(bp.has(e))return bp.get(e);const t=xN(e);return t!==e&&(bp.set(e,t),_y.set(t,e)),t}const Sp=e=>_y.get(e);function IN(e,t,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(e,t),d=Ts(c);return r&&c.addEventListener("upgradeneeded",m=>{r(Ts(c.result),m.oldVersion,m.newVersion,Ts(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const DN=["get","getKey","getAll","getAllKeys","count"],NN=["put","add","delete","clear"],wp=new Map;function UE(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(wp.get(t))return wp.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=NN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||DN.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return r&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),a&&m.done]))[0]};return wp.set(t,l),l}RN(e=>({...e,get:(t,n,r)=>UE(t,n)||e.get(t,n,r),has:(t,n)=>!!UE(t,n)||e.has(t,n)}));class MN{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function VN(e){return e.getComponent()?.type==="VERSION"}const Eg="@firebase/app",jE="0.14.6";const Cr=new vy("@firebase/app"),ON="@firebase/app-compat",PN="@firebase/analytics-compat",LN="@firebase/analytics",kN="@firebase/app-check-compat",UN="@firebase/app-check",jN="@firebase/auth",zN="@firebase/auth-compat",BN="@firebase/database",FN="@firebase/data-connect",qN="@firebase/database-compat",HN="@firebase/functions",GN="@firebase/functions-compat",KN="@firebase/installations",YN="@firebase/installations-compat",$N="@firebase/messaging",QN="@firebase/messaging-compat",XN="@firebase/performance",WN="@firebase/performance-compat",JN="@firebase/remote-config",ZN="@firebase/remote-config-compat",tM="@firebase/storage",eM="@firebase/storage-compat",nM="@firebase/firestore",iM="@firebase/ai",rM="@firebase/firestore-compat",sM="firebase",aM="12.6.0";const bg="[DEFAULT]",oM={[Eg]:"fire-core",[ON]:"fire-core-compat",[LN]:"fire-analytics",[PN]:"fire-analytics-compat",[UN]:"fire-app-check",[kN]:"fire-app-check-compat",[jN]:"fire-auth",[zN]:"fire-auth-compat",[BN]:"fire-rtdb",[FN]:"fire-data-connect",[qN]:"fire-rtdb-compat",[HN]:"fire-fn",[GN]:"fire-fn-compat",[KN]:"fire-iid",[YN]:"fire-iid-compat",[$N]:"fire-fcm",[QN]:"fire-fcm-compat",[XN]:"fire-perf",[WN]:"fire-perf-compat",[JN]:"fire-rc",[ZN]:"fire-rc-compat",[tM]:"fire-gcs",[eM]:"fire-gcs-compat",[nM]:"fire-fst",[rM]:"fire-fst-compat",[iM]:"fire-vertex","fire-js":"fire-js",[sM]:"fire-js-all"};const pf=new Map,lM=new Map,Sg=new Map;function zE(e,t){try{e.container.addComponent(t)}catch(n){Cr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Uo(e){const t=e.name;if(Sg.has(t))return Cr.debug(`There were multiple attempts to register component ${t}.`),!1;Sg.set(t,e);for(const n of pf.values())zE(n,e);for(const n of lM.values())zE(n,e);return!0}function Ty(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function _i(e){return e==null?!1:e.settings!==void 0}const uM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Es=new Qu("app","Firebase",uM);class cM{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Es.create("app-deleted",{appName:this._name})}}const Wo=aM;function Tw(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:bg,automaticDataCollectionEnabled:!0,...t},a=r.name;if(typeof a!="string"||!a)throw Es.create("bad-app-name",{appName:String(a)});if(n||(n=mw()),!n)throw Es.create("no-options");const l=pf.get(a);if(l){if(ba(n,l.options)&&ba(r,l.config))return l;throw Es.create("duplicate-app",{appName:a})}const c=new gN(a);for(const m of Sg.values())c.addComponent(m);const d=new cM(n,r,c);return pf.set(a,d),d}function Ew(e=bg){const t=pf.get(e);if(!t&&e===bg&&mw())return Tw();if(!t)throw Es.create("no-app",{appName:e});return t}function bs(e,t,n){let r=oM[e]??e;n&&(r+=`-${n}`);const a=r.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${r}" with version "${t}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Cr.warn(c.join(" "));return}Uo(new Sa(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const hM="firebase-heartbeat-database",fM=1,Du="firebase-heartbeat-store";let Ap=null;function bw(){return Ap||(Ap=IN(hM,fM,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Du)}catch(n){console.warn(n)}}}}).catch(e=>{throw Es.create("idb-open",{originalErrorMessage:e.message})})),Ap}async function dM(e){try{const n=(await bw()).transaction(Du),r=await n.objectStore(Du).get(Sw(e));return await n.done,r}catch(t){if(t instanceof Or)Cr.warn(t.message);else{const n=Es.create("idb-get",{originalErrorMessage:t?.message});Cr.warn(n.message)}}}async function BE(e,t){try{const r=(await bw()).transaction(Du,"readwrite");await r.objectStore(Du).put(t,Sw(e)),await r.done}catch(n){if(n instanceof Or)Cr.warn(n.message);else{const r=Es.create("idb-set",{originalErrorMessage:n?.message});Cr.warn(r.message)}}}function Sw(e){return`${e.name}!${e.options.appId}`}const mM=1024,pM=30;class gM{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=FE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>pM){const a=_M(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Cr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=FE(),{heartbeatsToSend:n,unsentEntries:r}=yM(this._heartbeatsCache.heartbeats),a=mf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Cr.warn(t),""}}}function FE(){return new Date().toISOString().substring(0,10)}function yM(e,t=mM){const n=[];let r=e.slice();for(const a of e){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),qE(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),qE(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class vM{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rN()?sN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dM(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return BE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return BE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function qE(e){return mf(JSON.stringify({version:2,heartbeats:e})).length}function _M(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function TM(e){Uo(new Sa("platform-logger",t=>new MN(t),"PRIVATE")),Uo(new Sa("heartbeat",t=>new gM(t),"PRIVATE")),bs(Eg,jE,e),bs(Eg,jE,"esm2020"),bs("fire-js","")}TM("");var EM="firebase",bM="12.7.0";bs(EM,bM,"app");function ww(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SM=ww,Aw=new Qu("auth","Firebase",ww());const gf=new vy("@firebase/auth");function wM(e,...t){gf.logLevel<=Bt.WARN&&gf.warn(`Auth (${Wo}): ${e}`,...t)}function Jh(e,...t){gf.logLevel<=Bt.ERROR&&gf.error(`Auth (${Wo}): ${e}`,...t)}function Zi(e,...t){throw by(e,...t)}function bi(e,...t){return by(e,...t)}function Ey(e,t,n){const r={...SM(),[t]:n};return new Qu("auth","Firebase",r).create(t,{appName:e.name})}function va(e){return Ey(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function AM(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&Zi(e,"argument-error"),Ey(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function by(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Aw.create(e,...t)}function Ct(e,t,...n){if(!e)throw by(t,...n)}function Er(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Jh(t),new Error(t)}function xr(e,t){e||Er(t)}function wg(){return typeof self<"u"&&self.location?.href||""}function RM(){return HE()==="http:"||HE()==="https:"}function HE(){return typeof self<"u"&&self.location?.protocol||null}function CM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RM()||tN()||"connection"in navigator)?navigator.onLine:!0}function xM(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}class Wu{constructor(t,n){this.shortDelay=t,this.longDelay=n,xr(n>t,"Short delay should be less than long delay!"),this.isMobile=WD()||eN()}get(){return CM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Sy(e,t){xr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Rw{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const IM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const DM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],NM=new Wu(3e4,6e4);function wy(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Jo(e,t,n,r,a={}){return Cw(e,a,async()=>{let l={},c={};r&&(t==="GET"?c=r:l={body:JSON.stringify(r)});const d=Xu({key:e.config.apiKey,...c}).slice(1),m=await e._getAdditionalHeaders();m["Content-Type"]="application/json",e.languageCode&&(m["X-Firebase-Locale"]=e.languageCode);const g={method:t,headers:m,...l};return ZD()||(g.referrerPolicy="no-referrer"),e.emulatorConfig&&Xo(e.emulatorConfig.host)&&(g.credentials="include"),Rw.fetch()(await xw(e,e.config.apiHost,n,d),g)})}async function Cw(e,t,n){e._canInitEmulator=!1;const r={...IM,...t};try{const a=new VM(e),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw jh(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw jh(e,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw jh(e,"email-already-in-use",c);if(m==="USER_DISABLED")throw jh(e,"user-disabled",c);const y=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Ey(e,y,g);Zi(e,y)}}catch(a){if(a instanceof Or)throw a;Zi(e,"network-request-failed",{message:String(a)})}}async function MM(e,t,n,r,a={}){const l=await Jo(e,t,n,r,a);return"mfaPendingCredential"in l&&Zi(e,"multi-factor-auth-required",{_serverResponse:l}),l}async function xw(e,t,n,r){const a=`${t}${n}?${r}`,l=e,c=l.config.emulator?Sy(e.config,a):`${e.config.apiScheme}://${a}`;return DM.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class VM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(bi(this.auth,"network-request-failed")),NM.get())})}}function jh(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=bi(e,t,r);return a.customData._tokenResponse=n,a}async function OM(e,t){return Jo(e,"POST","/v1/accounts:delete",t)}async function yf(e,t){return Jo(e,"POST","/v1/accounts:lookup",t)}function Tu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function PM(e,t=!1){const n=xn(e),r=await n.getIdToken(t),a=Ay(r);Ct(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:r,authTime:Tu(Rp(a.auth_time)),issuedAtTime:Tu(Rp(a.iat)),expirationTime:Tu(Rp(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Rp(e){return Number(e)*1e3}function Ay(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Jh("JWT malformed, contained fewer than 3 sections"),null;try{const a=fw(n);return a?JSON.parse(a):(Jh("Failed to decode base64 JWT payload"),null)}catch(a){return Jh("Caught error parsing JWT payload as JSON",a?.toString()),null}}function GE(e){const t=Ay(e);return Ct(t,"internal-error"),Ct(typeof t.exp<"u","internal-error"),Ct(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Nu(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Or&&LM(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function LM({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}class kM{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ag{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tu(this.lastLoginAt),this.creationTime=Tu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function vf(e){const t=e.auth,n=await e.getIdToken(),r=await Nu(e,yf(t,{idToken:n}));Ct(r?.users.length,t,"internal-error");const a=r.users[0];e._notifyReloadListener(a);const l=a.providerUserInfo?.length?Iw(a.providerUserInfo):[],c=jM(e.providerData,l),d=e.isAnonymous,m=!(e.email&&a.passwordHash)&&!c?.length,g=d?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Ag(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(e,y)}async function UM(e){const t=xn(e);await vf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function jM(e,t){return[...e.filter(r=>!t.some(a=>a.providerId===r.providerId)),...t]}function Iw(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function zM(e,t){const n=await Cw(e,{},async()=>{const r=Xu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=e.config,c=await xw(e,a,"/v1/token",`key=${l}`),d=await e._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:r};return e.emulatorConfig&&Xo(e.emulatorConfig.host)&&(m.credentials="include"),Rw.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function BM(e,t){return Jo(e,"POST","/v2/accounts:revokeToken",wy(e,t))}class Mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ct(t.idToken,"internal-error"),Ct(typeof t.idToken<"u","internal-error"),Ct(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):GE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Ct(t.length!==0,"internal-error");const n=GE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ct(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await zM(t,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,c=new Mo;return r&&(Ct(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),a&&(Ct(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(Ct(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Mo,this.toJSON())}_performRefresh(){return Er("not implemented")}}function ms(e,t){Ct(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Ti{constructor({uid:t,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new kM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Ag(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const n=await Nu(this,this.stsTokenManager.getToken(this.auth,t));return Ct(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return PM(this,t)}reload(){return UM(this)}_assign(t){this!==t&&(Ct(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Ti({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await vf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_i(this.auth.app))return Promise.reject(va(this.auth));const t=await this.getIdToken();return await Nu(this,OM(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:_,emailVerified:b,isAnonymous:C,providerData:O,stsTokenManager:U}=n;Ct(_&&U,t,"internal-error");const L=Mo.fromJSON(this.name,U);Ct(typeof _=="string",t,"internal-error"),ms(r,t.name),ms(a,t.name),Ct(typeof b=="boolean",t,"internal-error"),Ct(typeof C=="boolean",t,"internal-error"),ms(l,t.name),ms(c,t.name),ms(d,t.name),ms(m,t.name),ms(g,t.name),ms(y,t.name);const z=new Ti({uid:_,auth:t,email:a,emailVerified:b,displayName:r,isAnonymous:C,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:L,createdAt:g,lastLoginAt:y});return O&&Array.isArray(O)&&(z.providerData=O.map(G=>({...G}))),m&&(z._redirectEventId=m),z}static async _fromIdTokenResponse(t,n,r=!1){const a=new Mo;a.updateFromServerResponse(n);const l=new Ti({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:r});return await vf(l),l}static async _fromGetAccountInfoResponse(t,n,r){const a=n.users[0];Ct(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Iw(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new Mo;d.updateFromIdToken(r);const m=new Ti({uid:a.localId,auth:t,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Ag(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}const KE=new Map;function br(e){xr(e instanceof Function,"Expected a class definition");let t=KE.get(e);return t?(xr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,KE.set(e,t),t)}class Dw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Dw.type="NONE";const YE=Dw;function Zh(e,t,n){return`firebase:${e}:${t}:${n}`}class Vo{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=Zh(this.userKey,a.apiKey,l),this.fullPersistenceKey=Zh("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await yf(this.auth,{idToken:t}).catch(()=>{});return n?Ti._fromGetAccountInfoResponse(this.auth,n,t):null}return Ti._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Vo(br(YE),t,r);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||br(YE);const c=Zh(r,t.config.apiKey,t.name);let d=null;for(const g of n)try{const y=await g._get(c);if(y){let _;if(typeof y=="string"){const b=await yf(t,{idToken:y}).catch(()=>{});if(!b)break;_=await Ti._fromGetAccountInfoResponse(t,b,y)}else _=Ti._fromJSON(t,y);g!==l&&(d=_),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Vo(l,t,r):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Vo(l,t,r))}}function $E(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ow(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Nw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Lw(t))return"Blackberry";if(kw(t))return"Webos";if(Mw(t))return"Safari";if((t.includes("chrome/")||Vw(t))&&!t.includes("edge/"))return"Chrome";if(Pw(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if(r?.length===2)return r[1]}return"Other"}function Nw(e=dn()){return/firefox\//i.test(e)}function Mw(e=dn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Vw(e=dn()){return/crios\//i.test(e)}function Ow(e=dn()){return/iemobile/i.test(e)}function Pw(e=dn()){return/android/i.test(e)}function Lw(e=dn()){return/blackberry/i.test(e)}function kw(e=dn()){return/webos/i.test(e)}function Ry(e=dn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function FM(e=dn()){return Ry(e)&&!!window.navigator?.standalone}function qM(){return nN()&&document.documentMode===10}function Uw(e=dn()){return Ry(e)||Pw(e)||kw(e)||Lw(e)||/windows phone/i.test(e)||Ow(e)}function jw(e,t=[]){let n;switch(e){case"Browser":n=$E(dn());break;case"Worker":n=`${$E(dn())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wo}/${r}`}class HM{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=l=>new Promise((c,d)=>{try{const m=t(l);c(m)}catch(m){d(m)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function GM(e,t={}){return Jo(e,"GET","/v2/passwordPolicy",wy(e,t))}const KM=6;class YM{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??KM,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),a&&(n.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<t.length;a++)r=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}class $M{constructor(t,n,r,a){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new QE(this),this.idTokenSubscription=new QE(this),this.beforeStateQueue=new HM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Aw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=br(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Vo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await yf(this,{idToken:t}),r=await Ti._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(_i(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=r?._redirectEventId,d=await this.tryRedirectSignIn(t);(!l||l===c)&&d?.user&&(r=d.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ct(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await vf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=xM()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(_i(this.app))return Promise.reject(va(this));const n=t?xn(t):null;return n&&Ct(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Ct(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return _i(this.app)?Promise.reject(va(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return _i(this.app)?Promise.reject(va(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(br(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await GM(this),n=new YM(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Qu("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await BM(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&br(t)||this._popupRedirectResolver;Ct(n,this,"argument-error"),this.redirectPersistenceManager=await Vo.create(this,[br(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ct(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=t.addObserver(n,r,a);return()=>{c=!0,m()}}else{const m=t.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=jw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(_i(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&wM(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Gf(e){return xn(e)}class QE{constructor(t){this.auth=t,this.observer=null,this.addObserver=cN(n=>this.observer=n)}get next(){return Ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Cy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QM(e){Cy=e}function XM(e){return Cy.loadJS(e)}function WM(){return Cy.gapiScript}function JM(e){return`__${e}${Math.floor(Math.random()*1e6)}`}function ZM(e,t){const n=Ty(e,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(ba(l,t??{}))return a;Zi(a,"already-initialized")}return n.initialize({options:t})}function tV(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(br);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}function eV(e,t,n){const r=Gf(e);Ct(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const a=!1,l=zw(t),{host:c,port:d}=nV(t),m=d===null?"":`:${d}`,g={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Ct(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ct(ba(g,r.config.emulator)&&ba(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Xo(c)?(gw(`${l}//${c}${m}`),yw("Auth",!0)):iV()}function zw(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function nV(e){const t=zw(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:XE(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:XE(c)}}}function XE(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function iV(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}class Bw{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Er("not implemented")}_getIdTokenResponse(t){return Er("not implemented")}_linkToIdToken(t,n){return Er("not implemented")}_getReauthenticationResolver(t){return Er("not implemented")}}async function Oo(e,t){return MM(e,"POST","/v1/accounts:signInWithIdp",wy(e,t))}const rV="http://localhost";class wa extends Bw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new wa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Zi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:a,...l}=n;if(!r||!a)return null;const c=new wa(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return Oo(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Oo(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Oo(t,n)}buildRequest(){const t={requestUri:rV,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Xu(n)}return t}}class xy{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Ju extends xy{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class gs extends Ju{constructor(){super("facebook.com")}static credential(t){return wa._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return gs.credentialFromTaggedObject(t)}static credentialFromError(t){return gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return gs.credential(t.oauthAccessToken)}catch{return null}}}gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";gs.PROVIDER_ID="facebook.com";class Tr extends Ju{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return wa._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Tr.credentialFromTaggedObject(t)}static credentialFromError(t){return Tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Tr.credential(n,r)}catch{return null}}}Tr.GOOGLE_SIGN_IN_METHOD="google.com";Tr.PROVIDER_ID="google.com";class ys extends Ju{constructor(){super("github.com")}static credential(t){return wa._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ys.credentialFromTaggedObject(t)}static credentialFromError(t){return ys.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ys.credential(t.oauthAccessToken)}catch{return null}}}ys.GITHUB_SIGN_IN_METHOD="github.com";ys.PROVIDER_ID="github.com";class vs extends Ju{constructor(){super("twitter.com")}static credential(t,n){return wa._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return vs.credentialFromTaggedObject(t)}static credentialFromError(t){return vs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return vs.credential(n,r)}catch{return null}}}vs.TWITTER_SIGN_IN_METHOD="twitter.com";vs.PROVIDER_ID="twitter.com";class jo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,a=!1){const l=await Ti._fromIdTokenResponse(t,r,a),c=WE(r);return new jo({user:l,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const a=WE(r);return new jo({user:t,providerId:a,_tokenResponse:r,operationType:n})}}function WE(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class _f extends Or{constructor(t,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,_f.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,a){return new _f(t,n,r,a)}}function Fw(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?_f._fromErrorAndOperation(e,l,t,r):l})}async function sV(e,t,n=!1){const r=await Nu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return jo._forOperation(e,"link",r)}async function aV(e,t,n=!1){const{auth:r}=e;if(_i(r.app))return Promise.reject(va(r));const a="reauthenticate";try{const l=await Nu(e,Fw(r,a,t,e),n);Ct(l.idToken,r,"internal-error");const c=Ay(l.idToken);Ct(c,r,"internal-error");const{sub:d}=c;return Ct(e.uid===d,r,"user-mismatch"),jo._forOperation(e,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Zi(r,"user-mismatch"),l}}async function oV(e,t,n=!1){if(_i(e.app))return Promise.reject(va(e));const r="signIn",a=await Fw(e,r,t),l=await jo._fromIdTokenResponse(e,r,a);return n||await e._updateCurrentUser(l.user),l}function lV(e,t,n,r){return xn(e).onIdTokenChanged(t,n,r)}function uV(e,t,n){return xn(e).beforeAuthStateChanged(t,n)}function cV(e,t,n,r){return xn(e).onAuthStateChanged(t,n,r)}function hV(e){return xn(e).signOut()}const Tf="__sak";class qw{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Tf,"1"),this.storage.removeItem(Tf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const fV=1e3,dV=10;class Hw extends qw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Uw(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&t(n,a,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const r=t.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);qM()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,dV):a()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},fV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Hw.type="LOCAL";const mV=Hw;class Gw extends qw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Gw.type="SESSION";const Kw=Gw;function pV(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Kf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(a=>a.isListeningto(t));if(n)return n;const r=new Kf(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(c).map(async g=>g(n.origin,l)),m=await pV(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:m})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kf.receivers=[];function Iy(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}class gV{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const g=Iy("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(_){const b=_;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(b.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Ki(){return window}function yV(e){Ki().location.href=e}function Yw(){return typeof Ki().WorkerGlobalScope<"u"&&typeof Ki().importScripts=="function"}async function vV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _V(){return navigator?.serviceWorker?.controller||null}function TV(){return Yw()?self:null}const $w="firebaseLocalStorageDb",EV=1,Ef="firebaseLocalStorage",Qw="fbase_key";class Zu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yf(e,t){return e.transaction([Ef],t?"readwrite":"readonly").objectStore(Ef)}function bV(){const e=indexedDB.deleteDatabase($w);return new Zu(e).toPromise()}function Rg(){const e=indexedDB.open($w,EV);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Ef,{keyPath:Qw})}catch(a){n(a)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Ef)?t(r):(r.close(),await bV(),t(await Rg()))})})}async function JE(e,t,n){const r=Yf(e,!0).put({[Qw]:t,value:n});return new Zu(r).toPromise()}async function SV(e,t){const n=Yf(e,!1).get(t),r=await new Zu(n).toPromise();return r===void 0?null:r.value}function ZE(e,t){const n=Yf(e,!0).delete(t);return new Zu(n).toPromise()}const wV=800,AV=3;class Xw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rg(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>AV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Yw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kf._getInstance(TV()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await vV(),!this.activeServiceWorker)return;this.sender=new gV(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||_V()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Rg();return await JE(t,Tf,"1"),await ZE(t,Tf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>JE(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>SV(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>ZE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=Yf(a,!1).getAll();return new Zu(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Xw.type="LOCAL";const RV=Xw;new Wu(3e4,6e4);function Ww(e,t){return t?br(t):(Ct(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class Dy extends Bw{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Oo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Oo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Oo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function CV(e){return oV(e.auth,new Dy(e),e.bypassAuthState)}function xV(e){const{auth:t,user:n}=e;return Ct(n,t,"internal-error"),aV(n,new Dy(e),e.bypassAuthState)}async function IV(e){const{auth:t,user:n}=e;return Ct(n,t,"internal-error"),sV(n,new Dy(e),e.bypassAuthState)}class Jw{constructor(t,n,r,a,l=!1){this.auth=t,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:c,type:d}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return CV;case"linkViaPopup":case"linkViaRedirect":return IV;case"reauthViaPopup":case"reauthViaRedirect":return xV;default:Zi(this.auth,"internal-error")}}resolve(t){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const DV=new Wu(2e3,1e4);async function NV(e,t,n){if(_i(e.app))return Promise.reject(bi(e,"operation-not-supported-in-this-environment"));const r=Gf(e);AM(e,t,xy);const a=Ww(r,n);return new ma(r,"signInViaPopup",t,a).executeNotNull()}class ma extends Jw{constructor(t,n,r,a,l){super(t,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,ma.currentPopupAction&&ma.currentPopupAction.cancel(),ma.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ct(t,this.auth,"internal-error"),t}async onExecution(){xr(this.filter.length===1,"Popup operations only handle one event");const t=Iy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ma.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,DV.get())};t()}}ma.currentPopupAction=null;const MV="pendingRedirect",tf=new Map;class VV extends Jw{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=tf.get(this.auth._key());if(!t){try{const r=await OV(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}tf.set(this.auth._key(),t)}return this.bypassAuthState||tf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OV(e,t){const n=kV(t),r=LV(e);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function PV(e,t){tf.set(e._key(),t)}function LV(e){return br(e._redirectPersistence)}function kV(e){return Zh(MV,e.config.apiKey,e.name)}async function UV(e,t,n=!1){if(_i(e.app))return Promise.reject(va(e));const r=Gf(e),a=Ww(r,t),c=await new VV(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}const jV=600*1e3;class zV{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!BV(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!Zw(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(bi(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=jV&&this.cachedEventUids.clear(),this.cachedEventUids.has(tb(t))}saveEventToCache(t){this.cachedEventUids.add(tb(t)),this.lastProcessedEventTime=Date.now()}}function tb(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Zw({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function BV(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zw(e);default:return!1}}async function FV(e,t={}){return Jo(e,"GET","/v1/projects",t)}const qV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HV=/^https?/;async function GV(e){if(e.config.emulator)return;const{authorizedDomains:t}=await FV(e);for(const n of t)try{if(KV(n))return}catch{}Zi(e,"unauthorized-domain")}function KV(e){const t=wg(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!HV.test(n))return!1;if(qV.test(e))return r===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const YV=new Wu(3e4,6e4);function eb(){const e=Ki().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function $V(e){return new Promise((t,n)=>{function r(){eb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{eb(),n(bi(e,"network-request-failed"))},timeout:YV.get()})}if(Ki().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ki().gapi?.load)r();else{const a=JM("iframefcb");return Ki()[a]=()=>{gapi.load?r():n(bi(e,"network-request-failed"))},XM(`${WM()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw ef=null,t})}let ef=null;function QV(e){return ef=ef||$V(e),ef}const XV=new Wu(5e3,15e3),WV="__/auth/iframe",JV="emulator/auth/iframe",ZV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eO(e){const t=e.config;Ct(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Sy(t,JV):`https://${e.config.authDomain}/${WV}`,r={apiKey:t.apiKey,appName:e.name,v:Wo},a=tO.get(e.config.apiHost);a&&(r.eid=a);const l=e._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${Xu(r).slice(1)}`}async function nO(e){const t=await QV(e),n=Ki().gapi;return Ct(n,e,"internal-error"),t.open({where:document.body,url:eO(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZV,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=bi(e,"network-request-failed"),d=Ki().setTimeout(()=>{l(c)},XV.get());function m(){Ki().clearTimeout(d),a(r)}r.ping(m).then(m,()=>{l(c)})}))}const iO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rO=500,sO=600,aO="_blank",oO="http://localhost";class nb{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lO(e,t,n,r=rO,a=sO){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const m={...iO,width:r.toString(),height:a.toString(),top:l,left:c},g=dn().toLowerCase();n&&(d=Vw(g)?aO:n),Nw(g)&&(t=t||oO,m.scrollbars="yes");const y=Object.entries(m).reduce((b,[C,O])=>`${b}${C}=${O},`,"");if(FM(g)&&d!=="_self")return uO(t||"",d),new nb(null);const _=window.open(t||"",d,y);Ct(_,e,"popup-blocked");try{_.focus()}catch{}return new nb(_)}function uO(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const cO="__/auth/handler",hO="emulator/auth/handler",fO=encodeURIComponent("fac");async function ib(e,t,n,r,a,l){Ct(e.config.authDomain,e,"auth-domain-config-required"),Ct(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Wo,eventId:a};if(t instanceof xy){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",uN(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(t instanceof Ju){const y=t.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}e.tenantId&&(c.tid=e.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await e._getAppCheckToken(),g=m?`#${fO}=${encodeURIComponent(m)}`:"";return`${dO(e)}?${Xu(d).slice(1)}${g}`}function dO({config:e}){return e.emulator?Sy(e,hO):`https://${e.authDomain}/${cO}`}const Cp="webStorageSupport";class mO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Kw,this._completeRedirectFn=UV,this._overrideRedirectResult=PV}async _openPopup(t,n,r,a){xr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await ib(t,n,r,wg(),a);return lO(t,l,Iy())}async _openRedirect(t,n,r,a){await this._originValidation(t);const l=await ib(t,n,r,wg(),a);return yV(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(xr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await nO(t),r=new zV(t);return n.register("authEvent",a=>(Ct(a?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Cp,{type:Cp},a=>{const l=a?.[0]?.[Cp];l!==void 0&&n(!!l),Zi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=GV(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Uw()||Mw()||Ry()}}const pO=mO;var rb="@firebase/auth",sb="1.12.0";class gO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function yO(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vO(e){Uo(new Sa("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;Ct(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:c,authDomain:d,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jw(e)},g=new $M(r,a,l,m);return tV(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Uo(new Sa("auth-internal",t=>{const n=Gf(t.getProvider("auth").getImmediate());return(r=>new gO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),bs(rb,sb,yO(e)),bs(rb,sb,"esm2020")}const _O=300,TO=pw("authIdTokenMaxAge")||_O;let ab=null;const EO=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>TO)return;const a=n?.token;ab!==a&&(ab=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function bO(e=Ew()){const t=Ty(e,"auth");if(t.isInitialized())return t.getImmediate();const n=ZM(e,{popupRedirectResolver:pO,persistence:[RV,mV,Kw]}),r=pw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=EO(l.toString());uV(n,c,()=>c(n.currentUser)),lV(n,d=>c(d))}}const a=dw("auth");return a&&eV(n,`http://${a}`),n}function SO(){return document.getElementsByTagName("head")?.[0]??document}QM({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=a=>{const l=bi("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",SO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vO("Browser");var ob=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ss,tA;(function(){var e;function t(x,A){function I(){}I.prototype=A.prototype,x.F=A.prototype,x.prototype=new I,x.prototype.constructor=x,x.D=function(k,P,B){for(var D=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)D[Mt-2]=arguments[Mt];return A.prototype[P].apply(k,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(x,A,I){I||(I=0);const k=Array(16);if(typeof A=="string")for(var P=0;P<16;++P)k[P]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(P=0;P<16;++P)k[P]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=x.g[0],I=x.g[1],P=x.g[2];let B=x.g[3],D;D=A+(B^I&(P^B))+k[0]+3614090360&4294967295,A=I+(D<<7&4294967295|D>>>25),D=B+(P^A&(I^P))+k[1]+3905402710&4294967295,B=A+(D<<12&4294967295|D>>>20),D=P+(I^B&(A^I))+k[2]+606105819&4294967295,P=B+(D<<17&4294967295|D>>>15),D=I+(A^P&(B^A))+k[3]+3250441966&4294967295,I=P+(D<<22&4294967295|D>>>10),D=A+(B^I&(P^B))+k[4]+4118548399&4294967295,A=I+(D<<7&4294967295|D>>>25),D=B+(P^A&(I^P))+k[5]+1200080426&4294967295,B=A+(D<<12&4294967295|D>>>20),D=P+(I^B&(A^I))+k[6]+2821735955&4294967295,P=B+(D<<17&4294967295|D>>>15),D=I+(A^P&(B^A))+k[7]+4249261313&4294967295,I=P+(D<<22&4294967295|D>>>10),D=A+(B^I&(P^B))+k[8]+1770035416&4294967295,A=I+(D<<7&4294967295|D>>>25),D=B+(P^A&(I^P))+k[9]+2336552879&4294967295,B=A+(D<<12&4294967295|D>>>20),D=P+(I^B&(A^I))+k[10]+4294925233&4294967295,P=B+(D<<17&4294967295|D>>>15),D=I+(A^P&(B^A))+k[11]+2304563134&4294967295,I=P+(D<<22&4294967295|D>>>10),D=A+(B^I&(P^B))+k[12]+1804603682&4294967295,A=I+(D<<7&4294967295|D>>>25),D=B+(P^A&(I^P))+k[13]+4254626195&4294967295,B=A+(D<<12&4294967295|D>>>20),D=P+(I^B&(A^I))+k[14]+2792965006&4294967295,P=B+(D<<17&4294967295|D>>>15),D=I+(A^P&(B^A))+k[15]+1236535329&4294967295,I=P+(D<<22&4294967295|D>>>10),D=A+(P^B&(I^P))+k[1]+4129170786&4294967295,A=I+(D<<5&4294967295|D>>>27),D=B+(I^P&(A^I))+k[6]+3225465664&4294967295,B=A+(D<<9&4294967295|D>>>23),D=P+(A^I&(B^A))+k[11]+643717713&4294967295,P=B+(D<<14&4294967295|D>>>18),D=I+(B^A&(P^B))+k[0]+3921069994&4294967295,I=P+(D<<20&4294967295|D>>>12),D=A+(P^B&(I^P))+k[5]+3593408605&4294967295,A=I+(D<<5&4294967295|D>>>27),D=B+(I^P&(A^I))+k[10]+38016083&4294967295,B=A+(D<<9&4294967295|D>>>23),D=P+(A^I&(B^A))+k[15]+3634488961&4294967295,P=B+(D<<14&4294967295|D>>>18),D=I+(B^A&(P^B))+k[4]+3889429448&4294967295,I=P+(D<<20&4294967295|D>>>12),D=A+(P^B&(I^P))+k[9]+568446438&4294967295,A=I+(D<<5&4294967295|D>>>27),D=B+(I^P&(A^I))+k[14]+3275163606&4294967295,B=A+(D<<9&4294967295|D>>>23),D=P+(A^I&(B^A))+k[3]+4107603335&4294967295,P=B+(D<<14&4294967295|D>>>18),D=I+(B^A&(P^B))+k[8]+1163531501&4294967295,I=P+(D<<20&4294967295|D>>>12),D=A+(P^B&(I^P))+k[13]+2850285829&4294967295,A=I+(D<<5&4294967295|D>>>27),D=B+(I^P&(A^I))+k[2]+4243563512&4294967295,B=A+(D<<9&4294967295|D>>>23),D=P+(A^I&(B^A))+k[7]+1735328473&4294967295,P=B+(D<<14&4294967295|D>>>18),D=I+(B^A&(P^B))+k[12]+2368359562&4294967295,I=P+(D<<20&4294967295|D>>>12),D=A+(I^P^B)+k[5]+4294588738&4294967295,A=I+(D<<4&4294967295|D>>>28),D=B+(A^I^P)+k[8]+2272392833&4294967295,B=A+(D<<11&4294967295|D>>>21),D=P+(B^A^I)+k[11]+1839030562&4294967295,P=B+(D<<16&4294967295|D>>>16),D=I+(P^B^A)+k[14]+4259657740&4294967295,I=P+(D<<23&4294967295|D>>>9),D=A+(I^P^B)+k[1]+2763975236&4294967295,A=I+(D<<4&4294967295|D>>>28),D=B+(A^I^P)+k[4]+1272893353&4294967295,B=A+(D<<11&4294967295|D>>>21),D=P+(B^A^I)+k[7]+4139469664&4294967295,P=B+(D<<16&4294967295|D>>>16),D=I+(P^B^A)+k[10]+3200236656&4294967295,I=P+(D<<23&4294967295|D>>>9),D=A+(I^P^B)+k[13]+681279174&4294967295,A=I+(D<<4&4294967295|D>>>28),D=B+(A^I^P)+k[0]+3936430074&4294967295,B=A+(D<<11&4294967295|D>>>21),D=P+(B^A^I)+k[3]+3572445317&4294967295,P=B+(D<<16&4294967295|D>>>16),D=I+(P^B^A)+k[6]+76029189&4294967295,I=P+(D<<23&4294967295|D>>>9),D=A+(I^P^B)+k[9]+3654602809&4294967295,A=I+(D<<4&4294967295|D>>>28),D=B+(A^I^P)+k[12]+3873151461&4294967295,B=A+(D<<11&4294967295|D>>>21),D=P+(B^A^I)+k[15]+530742520&4294967295,P=B+(D<<16&4294967295|D>>>16),D=I+(P^B^A)+k[2]+3299628645&4294967295,I=P+(D<<23&4294967295|D>>>9),D=A+(P^(I|~B))+k[0]+4096336452&4294967295,A=I+(D<<6&4294967295|D>>>26),D=B+(I^(A|~P))+k[7]+1126891415&4294967295,B=A+(D<<10&4294967295|D>>>22),D=P+(A^(B|~I))+k[14]+2878612391&4294967295,P=B+(D<<15&4294967295|D>>>17),D=I+(B^(P|~A))+k[5]+4237533241&4294967295,I=P+(D<<21&4294967295|D>>>11),D=A+(P^(I|~B))+k[12]+1700485571&4294967295,A=I+(D<<6&4294967295|D>>>26),D=B+(I^(A|~P))+k[3]+2399980690&4294967295,B=A+(D<<10&4294967295|D>>>22),D=P+(A^(B|~I))+k[10]+4293915773&4294967295,P=B+(D<<15&4294967295|D>>>17),D=I+(B^(P|~A))+k[1]+2240044497&4294967295,I=P+(D<<21&4294967295|D>>>11),D=A+(P^(I|~B))+k[8]+1873313359&4294967295,A=I+(D<<6&4294967295|D>>>26),D=B+(I^(A|~P))+k[15]+4264355552&4294967295,B=A+(D<<10&4294967295|D>>>22),D=P+(A^(B|~I))+k[6]+2734768916&4294967295,P=B+(D<<15&4294967295|D>>>17),D=I+(B^(P|~A))+k[13]+1309151649&4294967295,I=P+(D<<21&4294967295|D>>>11),D=A+(P^(I|~B))+k[4]+4149444226&4294967295,A=I+(D<<6&4294967295|D>>>26),D=B+(I^(A|~P))+k[11]+3174756917&4294967295,B=A+(D<<10&4294967295|D>>>22),D=P+(A^(B|~I))+k[2]+718787259&4294967295,P=B+(D<<15&4294967295|D>>>17),D=I+(B^(P|~A))+k[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(P+(D<<21&4294967295|D>>>11))&4294967295,x.g[2]=x.g[2]+P&4294967295,x.g[3]=x.g[3]+B&4294967295}r.prototype.v=function(x,A){A===void 0&&(A=x.length);const I=A-this.blockSize,k=this.C;let P=this.h,B=0;for(;B<A;){if(P==0)for(;B<=I;)a(this,x,B),B+=this.blockSize;if(typeof x=="string"){for(;B<A;)if(k[P++]=x.charCodeAt(B++),P==this.blockSize){a(this,k),P=0;break}}else for(;B<A;)if(k[P++]=x[B++],P==this.blockSize){a(this,k),P=0;break}}this.h=P,this.o+=A},r.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;A=this.o*8;for(var I=x.length-8;I<x.length;++I)x[I]=A&255,A/=256;for(this.v(x),x=Array(16),A=0,I=0;I<4;++I)for(let k=0;k<32;k+=8)x[A++]=this.g[I]>>>k&255;return x};function l(x,A){var I=d;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=A(x)}function c(x,A){this.h=A;const I=[];let k=!0;for(let P=x.length-1;P>=0;P--){const B=x[P]|0;k&&B==A||(I[P]=B,k=!1)}this.g=I}var d={};function m(x){return-128<=x&&x<128?l(x,function(A){return new c([A|0],A<0?-1:0)}):new c([x|0],x<0?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return _;if(x<0)return L(g(-x));const A=[];let I=1;for(let k=0;x>=I;k++)A[k]=x/I|0,I*=4294967296;return new c(A,0)}function y(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return L(y(x.substring(1),A));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(A,8));let k=_;for(let B=0;B<x.length;B+=8){var P=Math.min(8,x.length-B);const D=parseInt(x.substring(B,B+P),A);P<8?(P=g(Math.pow(A,P)),k=k.j(P).add(g(D))):(k=k.j(I),k=k.add(g(D)))}return k}var _=m(0),b=m(1),C=m(16777216);e=c.prototype,e.m=function(){if(U(this))return-L(this).m();let x=0,A=1;for(let I=0;I<this.g.length;I++){const k=this.i(I);x+=(k>=0?k:4294967296+k)*A,A*=4294967296}return x},e.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(O(this))return"0";if(U(this))return"-"+L(this).toString(x);const A=g(Math.pow(x,6));var I=this;let k="";for(;;){const P=lt(I,A).g;I=z(I,P.j(A));let B=((I.g.length>0?I.g[0]:I.h)>>>0).toString(x);if(I=P,O(I))return B+k;for(;B.length<6;)B="0"+B;k=B+k}},e.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function O(x){if(x.h!=0)return!1;for(let A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function U(x){return x.h==-1}e.l=function(x){return x=z(this,x),U(x)?-1:O(x)?0:1};function L(x){const A=x.g.length,I=[];for(let k=0;k<A;k++)I[k]=~x.g[k];return new c(I,~x.h).add(b)}e.abs=function(){return U(this)?L(this):this},e.add=function(x){const A=Math.max(this.g.length,x.g.length),I=[];let k=0;for(let P=0;P<=A;P++){let B=k+(this.i(P)&65535)+(x.i(P)&65535),D=(B>>>16)+(this.i(P)>>>16)+(x.i(P)>>>16);k=D>>>16,B&=65535,D&=65535,I[P]=D<<16|B}return new c(I,I[I.length-1]&-2147483648?-1:0)};function z(x,A){return x.add(L(A))}e.j=function(x){if(O(this)||O(x))return _;if(U(this))return U(x)?L(this).j(L(x)):L(L(this).j(x));if(U(x))return L(this.j(L(x)));if(this.l(C)<0&&x.l(C)<0)return g(this.m()*x.m());const A=this.g.length+x.g.length,I=[];for(var k=0;k<2*A;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(let P=0;P<x.g.length;P++){const B=this.i(k)>>>16,D=this.i(k)&65535,Mt=x.i(P)>>>16,$t=x.i(P)&65535;I[2*k+2*P]+=D*$t,G(I,2*k+2*P),I[2*k+2*P+1]+=B*$t,G(I,2*k+2*P+1),I[2*k+2*P+1]+=D*Mt,G(I,2*k+2*P+1),I[2*k+2*P+2]+=B*Mt,G(I,2*k+2*P+2)}for(x=0;x<A;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=A;x<2*A;x++)I[x]=0;return new c(I,0)};function G(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function q(x,A){this.g=x,this.h=A}function lt(x,A){if(O(A))throw Error("division by zero");if(O(x))return new q(_,_);if(U(x))return A=lt(L(x),A),new q(L(A.g),L(A.h));if(U(A))return A=lt(x,L(A)),new q(L(A.g),A.h);if(x.g.length>30){if(U(x)||U(A))throw Error("slowDivide_ only works with positive integers.");for(var I=b,k=A;k.l(x)<=0;)I=at(I),k=at(k);var P=ht(I,1),B=ht(k,1);for(k=ht(k,2),I=ht(I,2);!O(k);){var D=B.add(k);D.l(x)<=0&&(P=P.add(I),B=D),k=ht(k,1),I=ht(I,1)}return A=z(x,P.j(A)),new q(P,A)}for(P=_;x.l(A)>=0;){for(I=Math.max(1,Math.floor(x.m()/A.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),B=g(I),D=B.j(A);U(D)||D.l(x)>0;)I-=k,B=g(I),D=B.j(A);O(B)&&(B=b),P=P.add(B),x=z(x,D)}return new q(P,x)}e.B=function(x){return lt(this,x).h},e.and=function(x){const A=Math.max(this.g.length,x.g.length),I=[];for(let k=0;k<A;k++)I[k]=this.i(k)&x.i(k);return new c(I,this.h&x.h)},e.or=function(x){const A=Math.max(this.g.length,x.g.length),I=[];for(let k=0;k<A;k++)I[k]=this.i(k)|x.i(k);return new c(I,this.h|x.h)},e.xor=function(x){const A=Math.max(this.g.length,x.g.length),I=[];for(let k=0;k<A;k++)I[k]=this.i(k)^x.i(k);return new c(I,this.h^x.h)};function at(x){const A=x.g.length+1,I=[];for(let k=0;k<A;k++)I[k]=x.i(k)<<1|x.i(k-1)>>>31;return new c(I,x.h)}function ht(x,A){const I=A>>5;A%=32;const k=x.g.length-I,P=[];for(let B=0;B<k;B++)P[B]=A>0?x.i(B+I)>>>A|x.i(B+I+1)<<32-A:x.i(B+I);return new c(P,x.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,tA=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,Ss=c}).apply(typeof ob<"u"?ob:typeof self<"u"?self:typeof window<"u"?window:{});var zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var eA,mu,nA,nf,Cg,iA,rA,sA;(function(){var e,t=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof zh=="object"&&zh];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function a(h,v){if(v)t:{var E=r;h=h.split(".");for(var w=0;w<h.length-1;w++){var K=h[w];if(!(K in E))break t;E=E[K]}h=h[h.length-1],w=E[h],v=v(w),v!=w&&v!=null&&t(E,h,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(v){var E=[],w;for(w in v)Object.prototype.hasOwnProperty.call(v,w)&&E.push([w,v[w]]);return E}});var l=l||{},c=this||self;function d(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function m(h,v,E){return h.call.apply(h.bind,arguments)}function g(h,v,E){return g=m,g.apply(null,arguments)}function y(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var w=E.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function _(h,v){function E(){}E.prototype=v.prototype,h.Z=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(w,K,Z){for(var dt=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)dt[Vt-2]=arguments[Vt];return v.prototype[K].apply(w,dt)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function C(h){const v=h.length;if(v>0){const E=Array(v);for(let w=0;w<v;w++)E[w]=h[w];return E}return[]}function O(h,v){for(let w=1;w<arguments.length;w++){const K=arguments[w];var E=typeof K;if(E=E!="object"?E:K?Array.isArray(K)?"array":E:"null",E=="array"||E=="object"&&typeof K.length=="number"){E=h.length||0;const Z=K.length||0;h.length=E+Z;for(let dt=0;dt<Z;dt++)h[E+dt]=K[dt]}else h.push(K)}}class U{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function L(h){c.setTimeout(()=>{throw h},0)}function z(){var h=x;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class G{constructor(){this.h=this.g=null}add(v,E){const w=q.get();w.set(v,E),this.h?this.h.next=w:this.g=w,this.h=w}}var q=new U(()=>new lt,h=>h.reset());class lt{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let at,ht=!1,x=new G,A=()=>{const h=Promise.resolve(void 0);at=()=>{h.then(I)}};function I(){for(var h;h=z();){try{h.h.call(h.g)}catch(E){L(E)}var v=q;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}ht=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,v),c.removeEventListener("test",E,v)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function Mt(h,v){P.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}_(Mt,P),Mt.prototype.init=function(h,v){const E=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Mt.Z.h.call(this)},Mt.prototype.h=function(){Mt.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var $t="closure_listenable_"+(Math.random()*1e6|0),Q=0;function nt(h,v,E,w,K){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!w,this.ha=K,this.key=++Q,this.da=this.fa=!1}function ft(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function J(h,v,E){for(const w in h)v.call(E,h[w],w,h)}function X(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function R(h){const v={};for(const E in h)v[E]=h[E];return v}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(h,v){let E,w;for(let K=1;K<arguments.length;K++){w=arguments[K];for(E in w)h[E]=w[E];for(let Z=0;Z<F.length;Z++)E=F[Z],Object.prototype.hasOwnProperty.call(w,E)&&(h[E]=w[E])}}function ct(h){this.src=h,this.g={},this.h=0}ct.prototype.add=function(h,v,E,w,K){const Z=h.toString();h=this.g[Z],h||(h=this.g[Z]=[],this.h++);const dt=_t(h,v,w,K);return dt>-1?(v=h[dt],E||(v.fa=!1)):(v=new nt(v,this.src,Z,!!w,K),v.fa=E,h.push(v)),v};function gt(h,v){const E=v.type;if(E in h.g){var w=h.g[E],K=Array.prototype.indexOf.call(w,v,void 0),Z;(Z=K>=0)&&Array.prototype.splice.call(w,K,1),Z&&(ft(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function _t(h,v,E,w){for(let K=0;K<h.length;++K){const Z=h[K];if(!Z.da&&Z.listener==v&&Z.capture==!!E&&Z.ha==w)return K}return-1}var wt="closure_lm_"+(Math.random()*1e6|0),Ut={};function vt(h,v,E,w,K){if(Array.isArray(v)){for(let Z=0;Z<v.length;Z++)vt(h,v[Z],E,w,K);return null}return E=ol(E),h&&h[$t]?h.J(v,E,d(w)?!!w.capture:!1,K):xt(h,v,E,!1,w,K)}function xt(h,v,E,w,K,Z){if(!v)throw Error("Invalid event type");const dt=d(K)?!!K.capture:!!K;let Vt=ri(h);if(Vt||(h[wt]=Vt=new ct(h)),E=Vt.add(v,E,w,dt,Z),E.proxy)return E;if(w=Wt(),E.proxy=w,w.src=h,w.listener=E,h.addEventListener)B||(K=dt),K===void 0&&(K=!1),h.addEventListener(v.toString(),w,K);else if(h.attachEvent)h.attachEvent(Te(v.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Wt(){function h(E){return v.call(h.src,h.listener,E)}const v=Oa;return h}function ze(h,v,E,w,K){if(Array.isArray(v))for(var Z=0;Z<v.length;Z++)ze(h,v[Z],E,w,K);else w=d(w)?!!w.capture:!!w,E=ol(E),h&&h[$t]?(h=h.i,Z=String(v).toString(),Z in h.g&&(v=h.g[Z],E=_t(v,E,w,K),E>-1&&(ft(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete h.g[Z],h.h--)))):h&&(h=ri(h))&&(v=h.g[v.toString()],h=-1,v&&(h=_t(v,E,w,K)),(E=h>-1?v[h]:null)&&Be(E))}function Be(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[$t])gt(v.i,h);else{var E=h.type,w=h.proxy;v.removeEventListener?v.removeEventListener(E,w,h.capture):v.detachEvent?v.detachEvent(Te(E),w):v.addListener&&v.removeListener&&v.removeListener(w),(E=ri(v))?(gt(E,h),E.h==0&&(E.src=null,v[wt]=null)):ft(h)}}}function Te(h){return h in Ut?Ut[h]:Ut[h]="on"+h}function Oa(h,v){if(h.da)h=!0;else{v=new Mt(v,this);const E=h.listener,w=h.ha||h.src;h.fa&&Be(h),h=E.call(w,v)}return h}function ri(h){return h=h[wt],h instanceof ct?h:null}var Ps="__closure_events_fn_"+(Math.random()*1e9>>>0);function ol(h){return typeof h=="function"?h:(h[Ps]||(h[Ps]=function(v){return h.handleEvent(v)}),h[Ps])}function Re(){k.call(this),this.i=new ct(this),this.M=this,this.G=null}_(Re,k),Re.prototype[$t]=!0,Re.prototype.removeEventListener=function(h,v,E,w){ze(this,h,v,E,w)};function Fe(h,v){var E,w=h.G;if(w)for(E=[];w;w=w.G)E.push(w);if(h=h.M,w=v.type||v,typeof v=="string")v=new P(v,h);else if(v instanceof P)v.target=v.target||h;else{var K=v;v=new P(w,h),tt(v,K)}K=!0;let Z,dt;if(E)for(dt=E.length-1;dt>=0;dt--)Z=v.g=E[dt],K=Pr(Z,w,!0,v)&&K;if(Z=v.g=h,K=Pr(Z,w,!0,v)&&K,K=Pr(Z,w,!1,v)&&K,E)for(dt=0;dt<E.length;dt++)Z=v.g=E[dt],K=Pr(Z,w,!1,v)&&K}Re.prototype.N=function(){if(Re.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const E=h.g[v];for(let w=0;w<E.length;w++)ft(E[w]);delete h.g[v],h.h--}}this.G=null},Re.prototype.J=function(h,v,E,w){return this.i.add(String(h),v,!1,E,w)},Re.prototype.K=function(h,v,E,w){return this.i.add(String(h),v,!0,E,w)};function Pr(h,v,E,w){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let K=!0;for(let Z=0;Z<v.length;++Z){const dt=v[Z];if(dt&&!dt.da&&dt.capture==E){const Vt=dt.listener,be=dt.ha||dt.src;dt.fa&&gt(h.i,dt),K=Vt.call(be,w)!==!1&&K}}return K&&!w.defaultPrevented}function md(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(h,v||0)}function uc(h){h.g=md(()=>{h.g=null,h.i&&(h.i=!1,uc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class mn extends k{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:uc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ls(h){k.call(this),this.h=h,this.g={}}_(Ls,k);var ll=[];function ul(h){J(h.g,function(v,E){this.g.hasOwnProperty(E)&&Be(v)},h),h.g={}}Ls.prototype.N=function(){Ls.Z.N.call(this),ul(this)},Ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Lr=c.JSON.stringify,pd=c.JSON.parse,cc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function hc(){}function fc(){}var si={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xe(){P.call(this,"d")}_(Xe,P);function Un(){P.call(this,"c")}_(Un,P);var Ee={},dc=null;function Pa(){return dc=dc||new Re}Ee.Ia="serverreachability";function mc(h){P.call(this,Ee.Ia,h)}_(mc,P);function wi(h){const v=Pa();Fe(v,new mc(v))}Ee.STAT_EVENT="statevent";function ks(h,v){P.call(this,Ee.STAT_EVENT,h),this.stat=v}_(ks,P);function Ce(h){const v=Pa();Fe(v,new ks(v,h))}Ee.Ja="timingevent";function Ai(h,v){P.call(this,Ee.Ja,h),this.size=v}_(Ai,P);function Ri(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function ai(){this.g=!0}ai.prototype.ua=function(){this.g=!1};function gd(h,v,E,w,K,Z){h.info(function(){if(h.g)if(Z){var dt="",Vt=Z.split("&");for(let Qt=0;Qt<Vt.length;Qt++){var be=Vt[Qt].split("=");if(be.length>1){const he=be[0];be=be[1];const Fn=he.split("_");dt=Fn.length>=2&&Fn[1]=="type"?dt+(he+"="+be+"&"):dt+(he+"=redacted&")}}}else dt=null;else dt=Z;return"XMLHTTP REQ ("+w+") [attempt "+K+"]: "+v+`
`+E+`
`+dt})}function pc(h,v,E,w,K,Z,dt){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+K+"]: "+v+`
`+E+`
`+Z+" "+dt})}function Ci(h,v,E,w){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+yd(h,E)+(w?" "+w:"")})}function Us(h,v){h.info(function(){return"TIMEOUT: "+v})}ai.prototype.info=function(){};function yd(h,v){if(!h.g)return v;if(!v)return null;try{const Z=JSON.parse(v);if(Z){for(h=0;h<Z.length;h++)if(Array.isArray(Z[h])){var E=Z[h];if(!(E.length<2)){var w=E[1];if(Array.isArray(w)&&!(w.length<1)){var K=w[0];if(K!="noop"&&K!="stop"&&K!="close")for(let dt=1;dt<w.length;dt++)w[dt]=""}}}}return Lr(Z)}catch{return v}}var js={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},cl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},hl;function zs(){}_(zs,hc),zs.prototype.g=function(){return new XMLHttpRequest},hl=new zs;function er(h){return encodeURIComponent(String(h))}function gc(h){var v=1;h=h.split(":");const E=[];for(;v>0&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function oi(h,v,E,w){this.j=h,this.i=v,this.l=E,this.S=w||1,this.V=new Ls(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new li}function li(){this.i=null,this.g="",this.h=!1}var xe={},Ke={};function xi(h,v,E){h.M=1,h.A=Bs(De(v)),h.u=E,h.R=!0,La(h,null)}function La(h,v){h.F=Date.now(),Ii(h),h.B=De(h.A);var E=h.B,w=h.S;Array.isArray(w)||(w=[String(w)]),za(E.i,"t",w),h.C=0,E=h.j.L,h.h=new li,h.g=Nc(h.j,E?v:null,!h.u),h.P>0&&(h.O=new mn(g(h.Y,h,h.g),h.P)),v=h.V,E=h.g,w=h.ba;var K="readystatechange";Array.isArray(K)||(K&&(ll[0]=K.toString()),K=ll);for(let Z=0;Z<K.length;Z++){const dt=vt(E,K[Z],w||v.handleEvent,!1,v.h||v);if(!dt)break;v.g[dt.key]=dt}v=h.J?R(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),wi(),gd(h.i,h.v,h.B,h.l,h.S,h.u)}oi.prototype.ba=function(h){h=h.target;const v=this.O;v&&hi(h)==3?v.j():this.Y(h)},oi.prototype.Y=function(h){try{if(h==this.g)t:{const Vt=hi(this.g),be=this.g.ya(),Qt=this.g.ca();if(!(Vt<3)&&(Vt!=3||this.g&&(this.h.h||this.g.la()||We(this.g)))){this.K||Vt!=4||be==7||(be==8||Qt<=0?wi(3):wi(2)),Di(this);var v=this.g.ca();this.X=v;var E=vd(this);if(this.o=v==200,pc(this.i,this.v,this.B,this.l,this.S,Vt,v),this.o){if(this.U&&!this.L){e:{if(this.g){var w,K=this.g;if((w=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(w)){var Z=w;break e}}Z=null}if(h=Z)Ci(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ni(this,h);else{this.o=!1,this.m=3,Ce(12),In(this),jn(this);break t}}if(this.R){h=!0;let he;for(;!this.K&&this.C<E.length;)if(he=vc(this,E),he==Ke){Vt==4&&(this.m=4,Ce(14),h=!1),Ci(this.i,this.l,null,"[Incomplete Response]");break}else if(he==xe){this.m=4,Ce(15),Ci(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else Ci(this.i,this.l,he,null),Ni(this,he);if(yc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||E.length!=0||this.h.h||(this.m=1,Ce(16),h=!1),this.o=this.o&&h,!h)Ci(this.i,this.l,E,"[Invalid Chunked Response]"),In(this),jn(this);else if(E.length>0&&!this.W){this.W=!0;var dt=this.j;dt.g==this&&dt.aa&&!dt.P&&(dt.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Rl(dt),dt.P=!0,Ce(11))}}else Ci(this.i,this.l,E,null),Ni(this,E);Vt==4&&In(this),this.o&&!this.K&&(Vt==4?Cc(this.j,this):(this.o=!1,Ii(this)))}else ir(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ce(12)):(this.m=0,Ce(13)),In(this),jn(this)}}}catch{}finally{}};function vd(h){if(!yc(h))return h.g.la();const v=We(h.g);if(v==="")return"";let E="";const w=v.length,K=hi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return In(h),jn(h),"";h.h.i=new c.TextDecoder}for(let Z=0;Z<w;Z++)h.h.h=!0,E+=h.h.i.decode(v[Z],{stream:!(K&&Z==w-1)});return v.length=0,h.h.g+=E,h.C=0,h.h.g}function yc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function vc(h,v){var E=h.C,w=v.indexOf(`
`,E);return w==-1?Ke:(E=Number(v.substring(E,w)),isNaN(E)?xe:(w+=1,w+E>v.length?Ke:(v=v.slice(w,w+E),h.C=w+E,v)))}oi.prototype.cancel=function(){this.K=!0,In(this)};function Ii(h){h.T=Date.now()+h.H,ka(h,h.H)}function ka(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ri(g(h.aa,h),v)}function Di(h){h.D&&(c.clearTimeout(h.D),h.D=null)}oi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Us(this.i,this.B),this.M!=2&&(wi(),Ce(17)),In(this),this.m=2,jn(this)):ka(this,this.T-h)};function jn(h){h.j.I==0||h.K||Cc(h.j,h)}function In(h){Di(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,ul(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Ni(h,v){try{var E=h.j;if(E.I!=0&&(E.g==h||Vi(E.h,h))){if(!h.L&&Vi(E.h,h)&&E.I==3){try{var w=E.Ba.g.parse(v)}catch{w=null}if(Array.isArray(w)&&w.length==3){var K=w;if(K[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Ga(E),Hr(E);else break t;$s(E),Ce(18)}}else E.xa=K[1],0<E.xa-E.K&&K[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ri(g(E.Va,E),6e3));Mi(E.h)<=1&&E.ta&&(E.ta=void 0)}else ji(E,11)}else if((h.L||E.g==h)&&Ga(E),!D(v))for(K=E.Ba.g.parse(v),v=0;v<K.length;v++){let Qt=K[v];const he=Qt[0];if(!(he<=E.K))if(E.K=he,Qt=Qt[1],E.I==2)if(Qt[0]=="c"){E.M=Qt[1],E.ba=Qt[2];const Fn=Qt[3];Fn!=null&&(E.ka=Fn,E.j.info("VER="+E.ka));const zi=Qt[4];zi!=null&&(E.za=zi,E.j.info("SVER="+E.za));const fi=Qt[5];fi!=null&&typeof fi=="number"&&fi>0&&(w=1.5*fi,E.O=w,E.j.info("backChannelRequestTimeoutMs_="+w)),w=E;const di=h.g;if(di){const Qs=di.g?di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qs){var Z=w.h;Z.g||Qs.indexOf("spdy")==-1&&Qs.indexOf("quic")==-1&&Qs.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(ml(Z,Z.h),Z.h=null))}if(w.G){const Ka=di.g?di.g.getResponseHeader("X-HTTP-Session-Id"):null;Ka&&(w.wa=Ka,Zt(w.J,w.G,Ka))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),w=E;var dt=h;if(w.na=Dc(w,w.L?w.ba:null,w.W),dt.L){pl(w.h,dt);var Vt=dt,be=w.O;be&&(Vt.H=be),Vt.D&&(Di(Vt),Ii(Vt)),w.g=dt}else Ac(w);E.i.length>0&&Ui(E)}else Qt[0]!="stop"&&Qt[0]!="close"||ji(E,7);else E.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?ji(E,7):wl(E):Qt[0]!="noop"&&E.l&&E.l.qa(Qt),E.A=0)}}wi(4)}catch{}}var Ie=class{constructor(h,v){this.g=h,this.map=v}};function fl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function dl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Mi(h){return h.h?1:h.g?h.g.size:0}function Vi(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function ml(h,v){h.g?h.g.add(v):h.h=v}function pl(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}fl.prototype.cancel=function(){if(this.i=gl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function gl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.G);return v}return C(h.i)}var _c=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ua(h,v){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const w=h[E].indexOf("=");let K,Z=null;w>=0?(K=h[E].substring(0,w),Z=h[E].substring(w+1)):K=h[E],v(K,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function Dn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof Dn?(this.l=h.l,Ye(this,h.j),this.o=h.o,this.g=h.g,kr(this,h.u),this.h=h.h,yl(this,Sc(h.i)),this.m=h.m):h&&(v=String(h).match(_c))?(this.l=!1,Ye(this,v[1]||"",!0),this.o=Oi(v[2]||""),this.g=Oi(v[3]||"",!0),kr(this,v[4]),this.h=Oi(v[5]||"",!0),yl(this,v[6]||"",!0),this.m=Oi(v[7]||"")):(this.l=!1,this.i=new jr(null,this.l))}Dn.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Fs(v,ja,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Fs(v,ja,!0),"@"),h.push(er(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Fs(E,E.charAt(0)=="/"?vl:Tc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Fs(E,Ec)),h.join("")},Dn.prototype.resolve=function(h){const v=De(this);let E=!!h.j;E?Ye(v,h.j):E=!!h.o,E?v.o=h.o:E=!!h.g,E?v.g=h.g:E=h.u!=null;var w=h.h;if(E)kr(v,h.u);else if(E=!!h.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var K=v.h.lastIndexOf("/");K!=-1&&(w=v.h.slice(0,K+1)+w)}if(K=w,K==".."||K==".")w="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){w=K.lastIndexOf("/",0)==0,K=K.split("/");const Z=[];for(let dt=0;dt<K.length;){const Vt=K[dt++];Vt=="."?w&&dt==K.length&&Z.push(""):Vt==".."?((Z.length>1||Z.length==1&&Z[0]!="")&&Z.pop(),w&&dt==K.length&&Z.push("")):(Z.push(Vt),w=!0)}w=Z.join("/")}else w=K}return E?v.h=w:E=h.i.toString()!=="",E?yl(v,Sc(h.i)):E=!!h.m,E&&(v.m=h.m),v};function De(h){return new Dn(h)}function Ye(h,v,E){h.j=E?Oi(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function kr(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function yl(h,v,E){v instanceof jr?(h.i=v,Ba(h.i,h.l)):(E||(v=Fs(v,Ur)),h.i=new jr(v,h.l))}function Zt(h,v,E){h.i.set(v,E)}function Bs(h){return Zt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Oi(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Fs(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,_n),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function _n(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ja=/[#\/\?@]/g,Tc=/[#\?:]/g,vl=/[#\?]/g,Ur=/[#\?@]/g,Ec=/#/g;function jr(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Tn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ua(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}e=jr.prototype,e.add=function(h,v){Tn(this),this.i=null,h=zr(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function bc(h,v){Tn(h),v=zr(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function _l(h,v){return Tn(h),v=zr(h,v),h.g.has(v)}e.forEach=function(h,v){Tn(this),this.g.forEach(function(E,w){E.forEach(function(K){h.call(v,K,w,this)},this)},this)};function Tl(h,v){Tn(h);let E=[];if(typeof v=="string")_l(h,v)&&(E=E.concat(h.g.get(zr(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)E=E.concat(h[v]);return E}e.set=function(h,v){return Tn(this),this.i=null,h=zr(this,h),_l(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},e.get=function(h,v){return h?(h=Tl(this,h),h.length>0?String(h[0]):v):v};function za(h,v,E){bc(h,v),E.length>0&&(h.i=null,h.g.set(zr(h,v),C(E)),h.h+=E.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let w=0;w<v.length;w++){var E=v[w];const K=er(E);E=Tl(this,E);for(let Z=0;Z<E.length;Z++){let dt=K;E[Z]!==""&&(dt+="="+er(E[Z])),h.push(dt)}}return this.i=h.join("&")};function Sc(h){const v=new jr;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function zr(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Ba(h,v){v&&!h.j&&(Tn(h),h.i=null,h.g.forEach(function(E,w){const K=w.toLowerCase();w!=K&&(bc(this,w),za(this,K,E))},h)),h.j=v}function ui(h,v){const E=new ai;if(c.Image){const w=new Image;w.onload=y(zn,E,"TestLoadImage: loaded",!0,v,w),w.onerror=y(zn,E,"TestLoadImage: error",!1,v,w),w.onabort=y(zn,E,"TestLoadImage: abort",!1,v,w),w.ontimeout=y(zn,E,"TestLoadImage: timeout",!1,v,w),c.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else v(!1)}function El(h,v){const E=new ai,w=new AbortController,K=setTimeout(()=>{w.abort(),zn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:w.signal}).then(Z=>{clearTimeout(K),Z.ok?zn(E,"TestPingServer: ok",!0,v):zn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(K),zn(E,"TestPingServer: error",!1,v)})}function zn(h,v,E,w,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),w(E)}catch{}}function Br(){this.g=new cc}function Pi(h){this.i=h.Sb||null,this.h=h.ab||!1}_(Pi,hc),Pi.prototype.g=function(){return new qs(this.i,this.h)};function qs(h,v){Re.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(qs,Re),e=qs.prototype,e.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,ci(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Fr(this)),this.readyState=0},e.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Fa(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Fa(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}e.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Fr(this):ci(this),this.readyState==3&&Fa(this)}},e.Oa=function(h){this.g&&(this.response=this.responseText=h,Fr(this))},e.Na=function(h){this.g&&(this.response=h,Fr(this))},e.ga=function(){this.g&&Fr(this)};function Fr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ci(h)}e.setRequestHeader=function(h,v){this.A.append(h,v)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function ci(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(qs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Bn(h){let v="";return J(h,function(E,w){v+=w,v+=":",v+=E,v+=`\r
`}),v}function Hs(h,v,E){t:{for(w in E){var w=!1;break t}w=!0}w||(E=Bn(E),typeof h=="string"?E!=null&&er(E):Zt(h,v,E))}function ne(h){Re.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(ne,Re);var Li=/^https?$/i,bl=["POST","PUT"];e=ne.prototype,e.Fa=function(h){this.H=h},e.ea=function(h,v,E,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():hl.g(),this.g.onreadystatechange=b(g(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Z){Gs(this,Z);return}if(h=E||"",E=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var K in w)E.set(K,w[K]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Z of w.keys())E.set(Z,w.get(Z));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(E.keys()).find(Z=>Z.toLowerCase()=="content-type"),K=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(bl,v,void 0)>=0)||w||K||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,dt]of E)this.g.setRequestHeader(Z,dt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Z){Gs(this,Z)}};function Gs(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,Sl(h),nr(h)}function Sl(h){h.A||(h.A=!0,Fe(h,"complete"),Fe(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Fe(this,"complete"),Fe(this,"abort"),nr(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nr(this,!0)),ne.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Ks(this):this.Xa())},e.Xa=function(){Ks(this)};function Ks(h){if(h.h&&typeof l<"u"){if(h.v&&hi(h)==4)setTimeout(h.Ca.bind(h),0);else if(Fe(h,"readystatechange"),hi(h)==4){h.h=!1;try{const Z=h.ca();t:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var E;if(!(E=v)){var w;if(w=Z===0){let dt=String(h.D).match(_c)[1]||null;!dt&&c.self&&c.self.location&&(dt=c.self.location.protocol.slice(0,-1)),w=!Li.test(dt?dt.toLowerCase():"")}E=w}if(E)Fe(h,"complete"),Fe(h,"success");else{h.o=6;try{var K=hi(h)>2?h.g.statusText:""}catch{K=""}h.l=K+" ["+h.ca()+"]",Sl(h)}}finally{nr(h)}}}}function nr(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,v||Fe(h,"ready");try{E.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function hi(h){return h.g?h.g.readyState:0}e.ca=function(){try{return hi(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),pd(v)}};function We(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ir(h){const v={};h=(h.g&&hi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(D(h[w]))continue;var E=gc(h[w]);const K=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Z=v[K]||[];v[K]=Z,Z.push(E)}X(v,function(w){return w.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ki(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function qr(h){this.za=0,this.i=[],this.j=new ai,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ki("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ki("baseRetryDelayMs",5e3,h),this.Za=ki("retryDelaySeedMs",1e4,h),this.Ta=ki("forwardChannelMaxRetries",2,h),this.va=ki("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new fl(h&&h.concurrentRequestLimit),this.Ba=new Br,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=qr.prototype,e.ka=8,e.I=1,e.connect=function(h,v,E,w){Ce(0),this.W=h,this.H=v||{},E&&w!==void 0&&(this.H.OSID=E,this.H.OAID=w),this.F=this.X,this.J=Dc(this,null,this.W),Ui(this)};function wl(h){if(qa(h),h.I==3){var v=h.V++,E=De(h.J);if(Zt(E,"SID",h.M),Zt(E,"RID",v),Zt(E,"TYPE","terminate"),Ys(h,E),v=new oi(h,h.j,v),v.M=2,v.A=Bs(De(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=v.A,E=!0),E||(v.g=Nc(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ii(v)}Ic(h)}function Hr(h){h.g&&(Rl(h),h.g.cancel(),h.g=null)}function qa(h){Hr(h),h.v&&(c.clearTimeout(h.v),h.v=null),Ga(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Ui(h){if(!dl(h.h)&&!h.m){h.m=!0;var v=h.Ea;at||A(),ht||(at(),ht=!0),x.add(v,h),h.D=0}}function Ha(h,v){return Mi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ri(g(h.Ea,h,v),xc(h,h.D)),h.D++,!0)}e.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const K=new oi(this,this.j,h);let Z=this.o;if(this.U&&(Z?(Z=R(Z),tt(Z,this.U)):Z=this.U),this.u!==null||this.R||(K.J=Z,Z=null),this.S)t:{for(var v=0,E=0;E<this.i.length;E++){e:{var w=this.i[E];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(v+=w,v>4096){v=E;break t}if(v===4096||E===this.i.length-1){v=E+1;break t}}v=1e3}else v=1e3;v=wc(this,K,v),E=De(this.J),Zt(E,"RID",h),Zt(E,"CVER",22),this.G&&Zt(E,"X-HTTP-Session-Id",this.G),Ys(this,E),Z&&(this.R?v="headers="+er(Bn(Z))+"&"+v:this.u&&Hs(E,this.u,Z)),ml(this.h,K),this.Ra&&Zt(E,"TYPE","init"),this.S?(Zt(E,"$req",v),Zt(E,"SID","null"),K.U=!0,xi(K,E,null)):xi(K,E,v),this.I=2}}else this.I==3&&(h?Al(this,h):this.i.length==0||dl(this.h)||Al(this))};function Al(h,v){var E;v?E=v.l:E=h.V++;const w=De(h.J);Zt(w,"SID",h.M),Zt(w,"RID",E),Zt(w,"AID",h.K),Ys(h,w),h.u&&h.o&&Hs(w,h.u,h.o),E=new oi(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),v&&(h.i=v.G.concat(h.i)),v=wc(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),ml(h.h,E),xi(E,w,v)}function Ys(h,v){h.H&&J(h.H,function(E,w){Zt(v,w,E)}),h.l&&J({},function(E,w){Zt(v,w,E)})}function wc(h,v,E){E=Math.min(h.i.length,E);const w=h.l?g(h.l.Ka,h.l,h):null;t:{var K=h.i;let Vt=-1;for(;;){const be=["count="+E];Vt==-1?E>0?(Vt=K[0].g,be.push("ofs="+Vt)):Vt=0:be.push("ofs="+Vt);let Qt=!0;for(let he=0;he<E;he++){var Z=K[he].g;const Fn=K[he].map;if(Z-=Vt,Z<0)Vt=Math.max(0,K[he].g-100),Qt=!1;else try{Z="req"+Z+"_"||"";try{var dt=Fn instanceof Map?Fn:Object.entries(Fn);for(const[zi,fi]of dt){let di=fi;d(fi)&&(di=Lr(fi)),be.push(Z+zi+"="+encodeURIComponent(di))}}catch(zi){throw be.push(Z+"type="+encodeURIComponent("_badmap")),zi}}catch{w&&w(Fn)}}if(Qt){dt=be.join("&");break t}}dt=void 0}return h=h.i.splice(0,E),v.G=h,dt}function Ac(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;at||A(),ht||(at(),ht=!0),x.add(v,h),h.A=0}}function $s(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ri(g(h.Da,h),xc(h,h.A)),h.A++,!0)}e.Da=function(){if(this.v=null,Rc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ri(g(this.Wa,this),h)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ce(10),Hr(this),Rc(this))};function Rl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Rc(h){h.g=new oi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=De(h.na);Zt(v,"RID","rpc"),Zt(v,"SID",h.M),Zt(v,"AID",h.K),Zt(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&Zt(v,"TO",h.ia),Zt(v,"TYPE","xmlhttp"),Ys(h,v),h.u&&h.o&&Hs(v,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=Bs(De(v)),E.u=null,E.R=!0,La(E,h)}e.Va=function(){this.C!=null&&(this.C=null,Hr(this),$s(this),Ce(19))};function Ga(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Cc(h,v){var E=null;if(h.g==v){Ga(h),Rl(h),h.g=null;var w=2}else if(Vi(h.h,v))E=v.G,pl(h.h,v),w=1;else return;if(h.I!=0){if(v.o)if(w==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var K=h.D;w=Pa(),Fe(w,new Ai(w,E)),Ui(h)}else Ac(h);else if(K=v.m,K==3||K==0&&v.X>0||!(w==1&&Ha(h,v)||w==2&&$s(h)))switch(E&&E.length>0&&(v=h.h,v.i=v.i.concat(E)),K){case 1:ji(h,5);break;case 4:ji(h,10);break;case 3:ji(h,6);break;default:ji(h,2)}}}function xc(h,v){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*v}function ji(h,v){if(h.j.info("Error code "+v),v==2){var E=g(h.bb,h),w=h.Ua;const K=!w;w=new Dn(w||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ye(w,"https"),Bs(w),K?ui(w.toString(),E):El(w.toString(),E)}else Ce(2);h.I=0,h.l&&h.l.pa(v),Ic(h),qa(h)}e.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ce(2)):(this.j.info("Failed to ping google.com"),Ce(1))};function Ic(h){if(h.I=0,h.ja=[],h.l){const v=gl(h.h);(v.length!=0||h.i.length!=0)&&(O(h.ja,v),O(h.ja,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.oa()}}function Dc(h,v,E){var w=E instanceof Dn?De(E):new Dn(E);if(w.g!="")v&&(w.g=v+"."+w.g),kr(w,w.u);else{var K=c.location;w=K.protocol,v=v?v+"."+K.hostname:K.hostname,K=+K.port;const Z=new Dn(null);w&&Ye(Z,w),v&&(Z.g=v),K&&kr(Z,K),E&&(Z.h=E),w=Z}return E=h.G,v=h.wa,E&&v&&Zt(w,E,v),Zt(w,"VER",h.ka),Ys(h,w),w}function Nc(h,v,E){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new ne(new Pi({ab:E})):new ne(h.ma),v.Fa(h.L),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mc(){}e=Mc.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Gr(){}Gr.prototype.g=function(h,v){return new pn(h,v)};function pn(h,v){Re.call(this),this.g=new qr(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!D(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!D(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new rr(this)}_(pn,Re),pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){wl(this.g)},pn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Lr(h),h=E);v.i.push(new Ie(v.Ya++,h)),v.I==3&&Ui(v)},pn.prototype.N=function(){this.g.l=null,delete this.j,wl(this.g),delete this.g,pn.Z.N.call(this)};function Vc(h){Xe.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const E in v){h=E;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}_(Vc,Xe);function Oc(){Un.call(this),this.status=1}_(Oc,Un);function rr(h){this.g=h}_(rr,Mc),rr.prototype.ra=function(){Fe(this.g,"a")},rr.prototype.qa=function(h){Fe(this.g,new Vc(h))},rr.prototype.pa=function(h){Fe(this.g,new Oc)},rr.prototype.oa=function(){Fe(this.g,"b")},Gr.prototype.createWebChannel=Gr.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,sA=function(){return new Gr},rA=function(){return Pa()},iA=Ee,Cg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},js.NO_ERROR=0,js.TIMEOUT=8,js.HTTP_ERROR=6,nf=js,cl.COMPLETE="complete",nA=cl,fc.EventType=si,si.OPEN="a",si.CLOSE="b",si.ERROR="c",si.MESSAGE="d",Re.prototype.listen=Re.prototype.J,mu=fc,ne.prototype.listenOnce=ne.prototype.K,ne.prototype.getLastError=ne.prototype.Ha,ne.prototype.getLastErrorCode=ne.prototype.ya,ne.prototype.getStatus=ne.prototype.ca,ne.prototype.getResponseJson=ne.prototype.La,ne.prototype.getResponseText=ne.prototype.la,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Fa,eA=ne}).apply(typeof zh<"u"?zh:typeof self<"u"?self:typeof window<"u"?window:{});const lb="@firebase/firestore",ub="4.9.3";class cn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");let Zo="12.7.0";const Aa=new vy("@firebase/firestore");function So(){return Aa.logLevel}function pt(e,...t){if(Aa.logLevel<=Bt.DEBUG){const n=t.map(Ny);Aa.debug(`Firestore (${Zo}): ${e}`,...n)}}function Ir(e,...t){if(Aa.logLevel<=Bt.ERROR){const n=t.map(Ny);Aa.error(`Firestore (${Zo}): ${e}`,...n)}}function zo(e,...t){if(Aa.logLevel<=Bt.WARN){const n=t.map(Ny);Aa.warn(`Firestore (${Zo}): ${e}`,...n)}}function Ny(e){if(typeof e=="string")return e;try{return(function(n){return JSON.stringify(n)})(e)}catch{return e}}function At(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,aA(e,r,n)}function aA(e,t,n){let r=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ir(r),new Error(r)}function Jt(e,t,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,e||aA(t,a,r)}function Nt(e,t){return e}const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends Or{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class oA{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class wO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(cn.UNAUTHENTICATED)))}shutdown(){}}class AO{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class RO{constructor(t){this.t=t,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Jt(this.o===void 0,42304);let r=this.i;const a=m=>this.i!==r?(r=this.i,n(m)):Promise.resolve();let l=new wr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new wr,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;t.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new wr)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Jt(typeof r.accessToken=="string",31837,{l:r}),new oA(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Jt(t===null||typeof t=="string",2055,{h:t}),new cn(t)}}class CO{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xO{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new CO(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class cb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IO{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_i(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Jt(this.o===void 0,3512);const r=l=>{l.error!=null&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,pt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>r(l)))};const a=l=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new cb(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Jt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new cb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function DO(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class My{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=DO(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=t.charAt(a[l]%62))}return r}}function Ft(e,t){return e<t?-1:e>t?1:0}function xg(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const a=e.charAt(r),l=t.charAt(r);if(a!==l)return xp(a)===xp(l)?Ft(a,l):xp(a)?1:-1}return Ft(e.length,t.length)}const NO=55296,MO=57343;function xp(e){const t=e.charCodeAt(0);return t>=NO&&t<=MO}function Bo(e,t,n){return e.length===t.length&&e.every(((r,a)=>n(r,t[a])))}const hb="__name__";class Gi{constructor(t,n,r){n===void 0?n=0:n>t.length&&At(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&At(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Gi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Gi?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let a=0;a<r;a++){const l=Gi.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return Ft(t.length,n.length)}static compareSegments(t,n){const r=Gi.isNumericId(t),a=Gi.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Gi.extractNumericId(t).compare(Gi.extractNumericId(n)):xg(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ss.fromString(t.substring(4,t.length-2))}}class oe extends Gi{construct(t,n,r){return new oe(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new mt(st.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new oe(n)}static emptyPath(){return new oe([])}}const VO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Gi{construct(t,n,r){return new sn(t,n,r)}static isValidIdentifier(t){return VO.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hb}static keyField(){return new sn([hb])}static fromServerFormat(t){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new mt(st.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<t.length;){const d=t[a];if(d==="\\"){if(a+1===t.length)throw new mt(st.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new mt(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(r+=d,a++):(l(),a++)}if(l(),c)throw new mt(st.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new sn(n)}static emptyPath(){return new sn([])}}class bt{constructor(t){this.path=t}static fromPath(t){return new bt(oe.fromString(t))}static fromName(t){return new bt(oe.fromString(t).popFirst(5))}static empty(){return new bt(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return oe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new bt(new oe(t.slice()))}}function lA(e,t,n){if(!n)throw new mt(st.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function OO(e,t,n,r){if(t===!0&&r===!0)throw new mt(st.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function fb(e){if(!bt.isDocumentKey(e))throw new mt(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function db(e){if(bt.isDocumentKey(e))throw new mt(st.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function uA(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function $f(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":At(12329,{type:typeof e})}function Ra(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new mt(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$f(e);throw new mt(st.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Ue(e,t){const n={typeString:e};return t&&(n.value=t),n}function tc(e,t){if(!uA(e))throw new mt(st.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const a=t[r].typeString,l="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const c=e[r];if(a&&typeof c!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${r}' field to equal '${l.value}'`;break}}if(n)throw new mt(st.INVALID_ARGUMENT,n);return!0}const mb=-62135596800,pb=1e6;class ce{static now(){return ce.fromMillis(Date.now())}static fromDate(t){return ce.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*pb);return new ce(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new mt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new mt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<mb)throw new mt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pb}_compareTo(t){return this.seconds===t.seconds?Ft(this.nanoseconds,t.nanoseconds):Ft(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ce._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(tc(t,ce._jsonSchema))return new ce(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-mb;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ce._jsonSchemaVersion="firestore/timestamp/1.0",ce._jsonSchema={type:Ue("string",ce._jsonSchemaVersion),seconds:Ue("number"),nanoseconds:Ue("number")};class It{static fromTimestamp(t){return new It(t)}static min(){return new It(new ce(0,0))}static max(){return new It(new ce(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Mu=-1;function PO(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,a=It.fromTimestamp(r===1e9?new ce(n+1,0):new ce(n,r));return new As(a,bt.empty(),t)}function LO(e){return new As(e.readTime,e.key,Mu)}class As{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new As(It.min(),bt.empty(),Mu)}static max(){return new As(It.max(),bt.empty(),Mu)}}function kO(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=bt.comparator(e.documentKey,t.documentKey),n!==0?n:Ft(e.largestBatchId,t.largestBatchId))}const UO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function tl(e){if(e.code!==st.FAILED_PRECONDITION||e.message!==UO)throw e;pt("LocalStore","Unexpectedly lost primary lease")}class ut{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&At(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new ut(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof ut?n:ut.resolve(n)}catch(n){return ut.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):ut.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):ut.reject(n)}static resolve(t){return new ut(((n,r)=>{n(t)}))}static reject(t){return new ut(((n,r)=>{r(t)}))}static waitFor(t){return new ut(((n,r)=>{let a=0,l=0,c=!1;t.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&n()}),(m=>r(m)))})),c=!0,l===a&&n()}))}static or(t){let n=ut.resolve(!1);for(const r of t)n=n.next((a=>a?ut.resolve(a):r()));return n}static forEach(t,n){const r=[];return t.forEach(((a,l)=>{r.push(n.call(this,a,l))})),this.waitFor(r)}static mapArray(t,n){return new ut(((r,a)=>{const l=t.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;n(t[g]).next((y=>{c[g]=y,++d,d===l&&r(c)}),(y=>a(y)))}}))}static doWhile(t,n){return new ut(((r,a)=>{const l=()=>{t()===!0?n().next((()=>{l()}),a):r()};l()}))}}function zO(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function el(e){return e.name==="IndexedDbTransactionError"}class Qf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Qf.ce=-1;const Vy=-1;function Xf(e){return e==null}function bf(e){return e===0&&1/e==-1/0}function BO(e){return typeof e=="number"&&Number.isInteger(e)&&!bf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const cA="";function FO(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=gb(t)),t=qO(e.get(n),t);return gb(t)}function qO(e,t){let n=t;const r=e.length;for(let a=0;a<r;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case cA:n+="";break;default:n+=l}}return n}function gb(e){return e+cA+""}function yb(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Da(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function hA(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ge{constructor(t,n){this.comparator=t,this.root=n||rn.EMPTY}insert(t,n){return new ge(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(t){return new ge(this.comparator,this.root.remove(t,this.comparator).copy(null,null,rn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Bh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Bh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Bh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Bh(this.root,t,this.comparator,!0)}}class Bh{constructor(t,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?r(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class rn{constructor(t,n,r,a,l){this.key=t,this.value=n,this.color=r??rn.RED,this.left=a??rn.EMPTY,this.right=l??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,a,l){return new rn(t??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let a=this;const l=r(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return rn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw At(43730,{key:this.key,value:this.value});if(this.right.isRed())throw At(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw At(27949);return t+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw At(57766)}get value(){throw At(16141)}get color(){throw At(16727)}get left(){throw At(29726)}get right(){throw At(36894)}copy(t,n,r,a,l){return this}insert(t,n,r){return new rn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ge{constructor(t){this.comparator=t,this.data=new ge(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new vb(this.data.getIterator())}getIteratorFrom(t){return new vb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof Ge)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Ge(this.comparator);return n.data=t,n}}class vb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ei{constructor(t){this.fields=t,t.sort(sn.comparator)}static empty(){return new Ei([])}unionWith(t){let n=new Ge(sn.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Ei(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Bo(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}class fA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class an{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new fA("Invalid base64 string: "+l):l}})(t);return new an(n)}static fromUint8Array(t){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(t);return new an(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ft(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}an.EMPTY_BYTE_STRING=new an("");const HO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rs(e){if(Jt(!!e,39018),typeof e=="string"){let t=0;const n=HO.exec(e);if(Jt(!!n,46558,{timestamp:e}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ae(e.seconds),nanos:Ae(e.nanos)}}function Ae(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Cs(e){return typeof e=="string"?an.fromBase64String(e):an.fromUint8Array(e)}const dA="server_timestamp",mA="__type__",pA="__previous_value__",gA="__local_write_time__";function Oy(e){return(e?.mapValue?.fields||{})[mA]?.stringValue===dA}function Wf(e){const t=e.mapValue.fields[pA];return Oy(t)?Wf(t):t}function Vu(e){const t=Rs(e.mapValue.fields[gA].timestampValue);return new ce(t.seconds,t.nanos)}class GO{constructor(t,n,r,a,l,c,d,m,g,y){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=y}}const Sf="(default)";class Ou{constructor(t,n){this.projectId=t,this.database=n||Sf}static empty(){return new Ou("","")}get isDefaultDatabase(){return this.database===Sf}isEqual(t){return t instanceof Ou&&t.projectId===this.projectId&&t.database===this.database}}const yA="__type__",KO="__max__",Fh={mapValue:{}},vA="__vector__",wf="value";function xs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Oy(e)?4:$O(e)?9007199254740991:YO(e)?10:11:At(28295,{value:e})}function tr(e,t){if(e===t)return!0;const n=xs(e);if(n!==xs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Vu(e).isEqual(Vu(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Rs(a.timestampValue),d=Rs(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(a,l){return Cs(a.bytesValue).isEqual(Cs(l.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(a,l){return Ae(a.geoPointValue.latitude)===Ae(l.geoPointValue.latitude)&&Ae(a.geoPointValue.longitude)===Ae(l.geoPointValue.longitude)})(e,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Ae(a.integerValue)===Ae(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Ae(a.doubleValue),d=Ae(l.doubleValue);return c===d?bf(c)===bf(d):isNaN(c)&&isNaN(d)}return!1})(e,t);case 9:return Bo(e.arrayValue.values||[],t.arrayValue.values||[],tr);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(yb(c)!==yb(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!tr(c[m],d[m])))return!1;return!0})(e,t);default:return At(52216,{left:e})}}function Pu(e,t){return(e.values||[]).find((n=>tr(n,t)))!==void 0}function Fo(e,t){if(e===t)return 0;const n=xs(e),r=xs(t);if(n!==r)return Ft(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ft(e.booleanValue,t.booleanValue);case 2:return(function(l,c){const d=Ae(l.integerValue||l.doubleValue),m=Ae(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(e,t);case 3:return _b(e.timestampValue,t.timestampValue);case 4:return _b(Vu(e),Vu(t));case 5:return xg(e.stringValue,t.stringValue);case 6:return(function(l,c){const d=Cs(l),m=Cs(c);return d.compareTo(m)})(e.bytesValue,t.bytesValue);case 7:return(function(l,c){const d=l.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const y=Ft(d[g],m[g]);if(y!==0)return y}return Ft(d.length,m.length)})(e.referenceValue,t.referenceValue);case 8:return(function(l,c){const d=Ft(Ae(l.latitude),Ae(c.latitude));return d!==0?d:Ft(Ae(l.longitude),Ae(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return Tb(e.arrayValue,t.arrayValue);case 10:return(function(l,c){const d=l.fields||{},m=c.fields||{},g=d[wf]?.arrayValue,y=m[wf]?.arrayValue,_=Ft(g?.values?.length||0,y?.values?.length||0);return _!==0?_:Tb(g,y)})(e.mapValue,t.mapValue);case 11:return(function(l,c){if(l===Fh.mapValue&&c===Fh.mapValue)return 0;if(l===Fh.mapValue)return 1;if(c===Fh.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=c.fields||{},y=Object.keys(g);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const b=xg(m[_],y[_]);if(b!==0)return b;const C=Fo(d[m[_]],g[y[_]]);if(C!==0)return C}return Ft(m.length,y.length)})(e.mapValue,t.mapValue);default:throw At(23264,{he:n})}}function _b(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ft(e,t);const n=Rs(e),r=Rs(t),a=Ft(n.seconds,r.seconds);return a!==0?a:Ft(n.nanos,r.nanos)}function Tb(e,t){const n=e.values||[],r=t.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=Fo(n[a],r[a]);if(l)return l}return Ft(n.length,r.length)}function qo(e){return Ig(e)}function Ig(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const r=Rs(n);return`time(${r.seconds},${r.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return Cs(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return bt.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=Ig(l);return r+"]"})(e.arrayValue):"mapValue"in e?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${Ig(n.fields[c])}`;return a+"}"})(e.mapValue):At(61005,{value:e})}function rf(e){switch(xs(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Wf(e);return t?16+rf(t):16;case 5:return 2*e.stringValue.length;case 6:return Cs(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+rf(l)),0)})(e.arrayValue);case 10:case 11:return(function(r){let a=0;return Da(r.fields,((l,c)=>{a+=l.length+rf(c)})),a})(e.mapValue);default:throw At(13486,{value:e})}}function Eb(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Dg(e){return!!e&&"integerValue"in e}function Py(e){return!!e&&"arrayValue"in e}function bb(e){return!!e&&"nullValue"in e}function Sb(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function sf(e){return!!e&&"mapValue"in e}function YO(e){return(e?.mapValue?.fields||{})[yA]?.stringValue===vA}function Eu(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Da(e.mapValue.fields,((n,r)=>t.mapValue.fields[n]=Eu(r))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Eu(e.arrayValue.values[n]);return t}return{...e}}function $O(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===KO}class Jn{constructor(t){this.value=t}static empty(){return new Jn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!sf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Eu(n)}setAll(t){let n=sn.emptyPath(),r={},a=[];t.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,r,a),r={},a=[],n=d.popLast()}c?r[d.lastSegment()]=Eu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(t){const n=this.field(t.popLast());sf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return tr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let a=n.mapValue.fields[t.get(r)];sf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,r){Da(n,((a,l)=>t[a]=l));for(const a of r)delete t[a]}clone(){return new Jn(Eu(this.value))}}function _A(e){const t=[];return Da(e.fields,((n,r)=>{const a=new sn([n]);if(sf(r)){const l=_A(r.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)})),new Ei(t)}class hn{constructor(t,n,r,a,l,c,d){this.key=t,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new hn(t,0,It.min(),It.min(),It.min(),Jn.empty(),0)}static newFoundDocument(t,n,r,a){return new hn(t,1,n,It.min(),r,a,0)}static newNoDocument(t,n){return new hn(t,2,n,It.min(),It.min(),Jn.empty(),0)}static newUnknownDocument(t,n){return new hn(t,3,n,It.min(),It.min(),Jn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(It.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Jn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof hn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Af{constructor(t,n){this.position=t,this.inclusive=n}}function wb(e,t,n){let r=0;for(let a=0;a<e.position.length;a++){const l=t[a],c=e.position[a];if(l.field.isKeyField()?r=bt.comparator(bt.fromName(c.referenceValue),n.key):r=Fo(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ab(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!tr(e.position[n],t.position[n]))return!1;return!0}class Lu{constructor(t,n="asc"){this.field=t,this.dir=n}}function QO(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class TA{}class ke extends TA{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new WO(t,n,r):n==="array-contains"?new tP(t,r):n==="in"?new eP(t,r):n==="not-in"?new nP(t,r):n==="array-contains-any"?new iP(t,r):new ke(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new JO(t,r):new ZO(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Fo(n,this.value)):n!==null&&xs(this.value)===xs(n)&&this.matchesComparison(Fo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return At(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Si extends TA{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Si(t,n)}matches(t){return EA(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function EA(e){return e.op==="and"}function bA(e){return XO(e)&&EA(e)}function XO(e){for(const t of e.filters)if(t instanceof Si)return!1;return!0}function Ng(e){if(e instanceof ke)return e.field.canonicalString()+e.op.toString()+qo(e.value);if(bA(e))return e.filters.map((t=>Ng(t))).join(",");{const t=e.filters.map((n=>Ng(n))).join(",");return`${e.op}(${t})`}}function SA(e,t){return e instanceof ke?(function(r,a){return a instanceof ke&&r.op===a.op&&r.field.isEqual(a.field)&&tr(r.value,a.value)})(e,t):e instanceof Si?(function(r,a){return a instanceof Si&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,c,d)=>l&&SA(c,a.filters[d])),!0):!1})(e,t):void At(19439)}function wA(e){return e instanceof ke?(function(n){return`${n.field.canonicalString()} ${n.op} ${qo(n.value)}`})(e):e instanceof Si?(function(n){return n.op.toString()+" {"+n.getFilters().map(wA).join(" ,")+"}"})(e):"Filter"}class WO extends ke{constructor(t,n,r){super(t,n,r),this.key=bt.fromName(r.referenceValue)}matches(t){const n=bt.comparator(t.key,this.key);return this.matchesComparison(n)}}class JO extends ke{constructor(t,n){super(t,"in",n),this.keys=AA("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class ZO extends ke{constructor(t,n){super(t,"not-in",n),this.keys=AA("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function AA(e,t){return(t.arrayValue?.values||[]).map((n=>bt.fromName(n.referenceValue)))}class tP extends ke{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Py(n)&&Pu(n.arrayValue,this.value)}}class eP extends ke{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Pu(this.value.arrayValue,n)}}class nP extends ke{constructor(t,n){super(t,"not-in",n)}matches(t){if(Pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Pu(this.value.arrayValue,n)}}class iP extends ke{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Py(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Pu(this.value.arrayValue,r)))}}class rP{constructor(t,n=null,r=[],a=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function Rb(e,t=null,n=[],r=[],a=null,l=null,c=null){return new rP(e,t,n,r,a,l,c)}function Ly(e){const t=Nt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>Ng(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),Xf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>qo(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>qo(r))).join(",")),t.Te=n}return t.Te}function ky(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!QO(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!SA(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ab(e.startAt,t.startAt)&&Ab(e.endAt,t.endAt)}function Mg(e){return bt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class nl{constructor(t,n=null,r=[],a=[],l=null,c="F",d=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function sP(e,t,n,r,a,l,c,d){return new nl(e,t,n,r,a,l,c,d)}function Uy(e){return new nl(e)}function Cb(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function RA(e){return e.collectionGroup!==null}function bu(e){const t=Nt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),n.add(l.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Ge(sn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(t).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new Lu(l,r))})),n.has(sn.keyField().canonicalString())||t.Ie.push(new Lu(sn.keyField(),r))}return t.Ie}function Yi(e){const t=Nt(e);return t.Ee||(t.Ee=aP(t,bu(e))),t.Ee}function aP(e,t){if(e.limitType==="F")return Rb(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Lu(a.field,l)}));const n=e.endAt?new Af(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Af(e.startAt.position,e.startAt.inclusive):null;return Rb(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Vg(e,t){const n=e.filters.concat([t]);return new nl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Rf(e,t,n){return new nl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Jf(e,t){return ky(Yi(e),Yi(t))&&e.limitType===t.limitType}function CA(e){return`${Ly(Yi(e))}|lt:${e.limitType}`}function wo(e){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>wA(a))).join(", ")}]`),Xf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>qo(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>qo(a))).join(",")),`Target(${r})`})(Yi(e))}; limitType=${e.limitType})`}function Zf(e,t){return t.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):bt.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(e,t)&&(function(r,a){for(const l of bu(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(e,t)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(e,t)&&(function(r,a){return!(r.startAt&&!(function(c,d,m){const g=wb(c,d,m);return c.inclusive?g<=0:g<0})(r.startAt,bu(r),a)||r.endAt&&!(function(c,d,m){const g=wb(c,d,m);return c.inclusive?g>=0:g>0})(r.endAt,bu(r),a))})(e,t)}function oP(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function xA(e){return(t,n)=>{let r=!1;for(const a of bu(e)){const l=lP(a,t,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function lP(e,t,n){const r=e.field.isKeyField()?bt.comparator(t.key,n.key):(function(l,c,d){const m=c.data.field(l),g=d.data.field(l);return m!==null&&g!==null?Fo(m,g):At(42886)})(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return At(19790,{direction:e.dir})}}class Na{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),a=this.inner[r];if(a===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Da(this.inner,((n,r)=>{for(const[a,l]of r)t(a,l)}))}isEmpty(){return hA(this.inner)}size(){return this.innerSize}}const uP=new ge(bt.comparator);function Dr(){return uP}const IA=new ge(bt.comparator);function pu(...e){let t=IA;for(const n of e)t=t.insert(n.key,n);return t}function DA(e){let t=IA;return e.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function pa(){return Su()}function NA(){return Su()}function Su(){return new Na((e=>e.toString()),((e,t)=>e.isEqual(t)))}const cP=new ge(bt.comparator),hP=new Ge(bt.comparator);function qt(...e){let t=hP;for(const n of e)t=t.add(n);return t}const fP=new Ge(Ft);function dP(){return fP}function jy(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bf(t)?"-0":t}}function MA(e){return{integerValue:""+e}}function mP(e,t){return BO(t)?MA(t):jy(e,t)}class td{constructor(){this._=void 0}}function pP(e,t,n){return e instanceof Cf?(function(a,l){const c={fields:{[mA]:{stringValue:dA},[gA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Oy(l)&&(l=Wf(l)),l&&(c.fields[pA]=l),{mapValue:c}})(n,t):e instanceof ku?OA(e,t):e instanceof Uu?PA(e,t):(function(a,l){const c=VA(a,l),d=xb(c)+xb(a.Ae);return Dg(c)&&Dg(a.Ae)?MA(d):jy(a.serializer,d)})(e,t)}function gP(e,t,n){return e instanceof ku?OA(e,t):e instanceof Uu?PA(e,t):n}function VA(e,t){return e instanceof xf?(function(r){return Dg(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(t)?t:{integerValue:0}:null}class Cf extends td{}class ku extends td{constructor(t){super(),this.elements=t}}function OA(e,t){const n=LA(t);for(const r of e.elements)n.some((a=>tr(a,r)))||n.push(r);return{arrayValue:{values:n}}}class Uu extends td{constructor(t){super(),this.elements=t}}function PA(e,t){let n=LA(t);for(const r of e.elements)n=n.filter((a=>!tr(a,r)));return{arrayValue:{values:n}}}class xf extends td{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function xb(e){return Ae(e.integerValue||e.doubleValue)}function LA(e){return Py(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function yP(e,t){return e.field.isEqual(t.field)&&(function(r,a){return r instanceof ku&&a instanceof ku||r instanceof Uu&&a instanceof Uu?Bo(r.elements,a.elements,tr):r instanceof xf&&a instanceof xf?tr(r.Ae,a.Ae):r instanceof Cf&&a instanceof Cf})(e.transform,t.transform)}class vP{constructor(t,n){this.version=t,this.transformResults=n}}class Ar{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ar}static exists(t){return new Ar(void 0,t)}static updateTime(t){return new Ar(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function af(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class ed{}function kA(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new jA(e.key,Ar.none()):new ec(e.key,e.data,Ar.none());{const n=e.data,r=Jn.empty();let a=new Ge(sn.comparator);for(let l of t.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new Ma(e.key,r,new Ei(a.toArray()),Ar.none())}}function _P(e,t,n){e instanceof ec?(function(a,l,c){const d=a.value.clone(),m=Db(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(e,t,n):e instanceof Ma?(function(a,l,c){if(!af(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=Db(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(UA(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(e,t,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function wu(e,t,n,r){return e instanceof ec?(function(l,c,d,m){if(!af(l.precondition,c))return d;const g=l.value.clone(),y=Nb(l.fieldTransforms,m,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(e,t,n,r):e instanceof Ma?(function(l,c,d,m){if(!af(l.precondition,c))return d;const g=Nb(l.fieldTransforms,m,c),y=c.data;return y.setAll(UA(l)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(e,t,n,r):(function(l,c,d){return af(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(e,t,n)}function TP(e,t){let n=null;for(const r of e.fieldTransforms){const a=t.data.field(r.field),l=VA(r.transform,a||null);l!=null&&(n===null&&(n=Jn.empty()),n.set(r.field,l))}return n||null}function Ib(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Bo(r,a,((l,c)=>yP(l,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ec extends ed{constructor(t,n,r,a=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ma extends ed{constructor(t,n,r,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function UA(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Db(e,t,n){const r=new Map;Jt(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let a=0;a<n.length;a++){const l=e[a],c=l.transform,d=t.data.field(l.field);r.set(l.field,gP(c,d,n[a]))}return r}function Nb(e,t,n){const r=new Map;for(const a of e){const l=a.transform,c=n.data.field(a.field);r.set(a.field,pP(l,c,t))}return r}class jA extends ed{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EP extends ed{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bP{constructor(t,n,r,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&_P(l,t,r[a])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=wu(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=wu(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=NA();return this.mutations.forEach((a=>{const l=t.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const m=kA(c,d);m!==null&&r.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(It.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),qt())}isEqual(t){return this.batchId===t.batchId&&Bo(this.mutations,t.mutations,((n,r)=>Ib(n,r)))&&Bo(this.baseMutations,t.baseMutations,((n,r)=>Ib(n,r)))}}class zy{constructor(t,n,r,a){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(t,n,r){Jt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let a=(function(){return cP})();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new zy(t,n,r,a)}}class SP{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class wP{constructor(t,n){this.count=t,this.unchangedNames=n}}var Pe,Gt;function AP(e){switch(e){case st.OK:return At(64938);case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0;default:return At(15467,{code:e})}}function zA(e){if(e===void 0)return Ir("GRPC error has no .code"),st.UNKNOWN;switch(e){case Pe.OK:return st.OK;case Pe.CANCELLED:return st.CANCELLED;case Pe.UNKNOWN:return st.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return st.INTERNAL;case Pe.UNAVAILABLE:return st.UNAVAILABLE;case Pe.UNAUTHENTICATED:return st.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case Pe.NOT_FOUND:return st.NOT_FOUND;case Pe.ALREADY_EXISTS:return st.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return st.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case Pe.ABORTED:return st.ABORTED;case Pe.OUT_OF_RANGE:return st.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return st.UNIMPLEMENTED;case Pe.DATA_LOSS:return st.DATA_LOSS;default:return At(39323,{code:e})}}(Gt=Pe||(Pe={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";function RP(){return new TextEncoder}const CP=new Ss([4294967295,4294967295],0);function Mb(e){const t=RP().encode(e),n=new tA;return n.update(t),new Uint8Array(n.digest())}function Vb(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new Ss([n,r],0),new Ss([a,l],0)]}class By{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new gu(`Invalid padding: ${n}`);if(r<0)throw new gu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new gu(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new gu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Ss.fromNumber(this.ge)}ye(t,n,r){let a=t.add(n.multiply(Ss.fromNumber(r)));return a.compare(CP)===1&&(a=new Ss([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=Mb(t),[r,a]=Vb(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);if(!this.we(c))return!1}return!0}static create(t,n,r){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new By(l,a,n);return r.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const n=Mb(t),[r,a]=Vb(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);this.Se(c)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class gu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class nd{constructor(t,n,r,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const a=new Map;return a.set(t,nc.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new nd(It.min(),a,new ge(Ft),Dr(),qt())}}class nc{constructor(t,n,r,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new nc(r,n,qt(),qt(),qt())}}class of{constructor(t,n,r,a){this.be=t,this.removedTargetIds=n,this.key=r,this.De=a}}class BA{constructor(t,n){this.targetId=t,this.Ce=n}}class FA{constructor(t,n,r=an.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=a}}class Ob{constructor(){this.ve=0,this.Fe=Pb(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=qt(),n=qt(),r=qt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:At(38017,{changeType:l})}})),new nc(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=Pb()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Jt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class xP{constructor(t){this.Ge=t,this.ze=new Map,this.je=Dr(),this.Je=qh(),this.He=qh(),this.Ye=new ge(Ft)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:At(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(t){const n=t.targetId,r=t.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Mg(l))if(r===0){const c=new bt(l.path);this.et(n,c,hn.newNoDocument(c,It.min()))}else Jt(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const d=this.ut(t),m=d?this.ct(d,t,c):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=Cs(r).toUint8Array()}catch(m){if(m instanceof fA)return zo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new By(c,a,l)}catch(m){return zo(m instanceof gu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(t){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&Mg(d.target)){const m=new bt(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,hn.newNoDocument(m,t))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let r=qt();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(t)));const a=new nd(t,n,this.Ye,this.je,r);return this.je=Dr(),this.Je=qh(),this.He=qh(),this.Ye=new ge(Ft),a}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new Ob,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Ge(Ft),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Ge(Ft),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||pt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Ob),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function qh(){return new ge(bt.comparator)}function Pb(){return new ge(bt.comparator)}const IP={asc:"ASCENDING",desc:"DESCENDING"},DP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NP={and:"AND",or:"OR"};class MP{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Og(e,t){return e.useProto3Json||Xf(t)?t:{value:t}}function If(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function qA(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function VP(e,t){return If(e,t.toTimestamp())}function $i(e){return Jt(!!e,49232),It.fromTimestamp((function(n){const r=Rs(n);return new ce(r.seconds,r.nanos)})(e))}function Fy(e,t){return Pg(e,t).canonicalString()}function Pg(e,t){const n=(function(a){return new oe(["projects",a.projectId,"databases",a.database])})(e).child("documents");return t===void 0?n:n.child(t)}function HA(e){const t=oe.fromString(e);return Jt(QA(t),10190,{key:t.toString()}),t}function Lg(e,t){return Fy(e.databaseId,t.path)}function Ip(e,t){const n=HA(t);if(n.get(1)!==e.databaseId.projectId)throw new mt(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new mt(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new bt(KA(n))}function GA(e,t){return Fy(e.databaseId,t)}function OP(e){const t=HA(e);return t.length===4?oe.emptyPath():KA(t)}function kg(e){return new oe(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function KA(e){return Jt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function Lb(e,t,n){return{name:Lg(e,t),fields:n.value.mapValue.fields}}function PP(e,t){let n;if("targetChange"in t){t.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:At(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(g,y){return g.useProto3Json?(Jt(y===void 0||typeof y=="string",58123),an.fromBase64String(y||"")):(Jt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),an.fromUint8Array(y||new Uint8Array))})(e,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(g){const y=g.code===void 0?st.UNKNOWN:zA(g.code);return new mt(y,g.message||"")})(c);n=new FA(r,a,l,d||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=Ip(e,r.document.name),l=$i(r.document.updateTime),c=r.document.createTime?$i(r.document.createTime):It.min(),d=new Jn({mapValue:{fields:r.document.fields}}),m=hn.newFoundDocument(a,l,c,d),g=r.targetIds||[],y=r.removedTargetIds||[];n=new of(g,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=Ip(e,r.document),l=r.readTime?$i(r.readTime):It.min(),c=hn.newNoDocument(a,l),d=r.removedTargetIds||[];n=new of([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=Ip(e,r.document),l=r.removedTargetIds||[];n=new of([],l,a,null)}else{if(!("filter"in t))return At(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new wP(a,l),d=r.targetId;n=new BA(d,c)}}return n}function LP(e,t){let n;if(t instanceof ec)n={update:Lb(e,t.key,t.value)};else if(t instanceof jA)n={delete:Lg(e,t.key)};else if(t instanceof Ma)n={update:Lb(e,t.key,t.data),updateMask:GP(t.fieldMask)};else{if(!(t instanceof EP))return At(16599,{Vt:t.type});n={verify:Lg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(l,c){const d=c.transform;if(d instanceof Cf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ku)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Uu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof xf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw At(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:VP(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:At(27497)})(e,t.precondition)),n}function kP(e,t){return e&&e.length>0?(Jt(t!==void 0,14353),e.map((n=>(function(a,l){let c=a.updateTime?$i(a.updateTime):$i(l);return c.isEqual(It.min())&&(c=$i(l)),new vP(c,a.transformResults||[])})(n,t)))):[]}function UP(e,t){return{documents:[GA(e,t.path)]}}function jP(e,t){const n={structuredQuery:{}},r=t.path;let a;t.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=GA(e,a);const l=(function(g){if(g.length!==0)return $A(Si.create(g,"and"))})(t.filters);l&&(n.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((y=>(function(b){return{field:Ao(b.field),direction:FP(b.dir)}})(y)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Og(e,t.limit);return d!==null&&(n.structuredQuery.limit=d),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:a}}function zP(e){let t=OP(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Jt(r===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=(function(_){const b=YA(_);return b instanceof Si&&bA(b)?b.getFilters():[b]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((b=>(function(O){return new Lu(Ro(O.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(b)))})(n.orderBy));let d=null;n.limit&&(d=(function(_){let b;return b=typeof _=="object"?_.value:_,Xf(b)?null:b})(n.limit));let m=null;n.startAt&&(m=(function(_){const b=!!_.before,C=_.values||[];return new Af(C,b)})(n.startAt));let g=null;return n.endAt&&(g=(function(_){const b=!_.before,C=_.values||[];return new Af(C,b)})(n.endAt)),sP(t,a,c,l,d,"F",m,g)}function BP(e,t){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return At(28987,{purpose:a})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function YA(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ro(n.unaryFilter.field);return ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Ro(n.unaryFilter.field);return ke.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ro(n.unaryFilter.field);return ke.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ro(n.unaryFilter.field);return ke.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return At(61313);default:return At(60726)}})(e):e.fieldFilter!==void 0?(function(n){return ke.create(Ro(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return At(58110);default:return At(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return Si.create(n.compositeFilter.filters.map((r=>YA(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return At(1026)}})(n.compositeFilter.op))})(e):At(30097,{filter:e})}function FP(e){return IP[e]}function qP(e){return DP[e]}function HP(e){return NP[e]}function Ao(e){return{fieldPath:e.canonicalString()}}function Ro(e){return sn.fromServerFormat(e.fieldPath)}function $A(e){return e instanceof ke?(function(n){if(n.op==="=="){if(Sb(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NAN"}};if(bb(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Sb(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NOT_NAN"}};if(bb(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ao(n.field),op:qP(n.op),value:n.value}}})(e):e instanceof Si?(function(n){const r=n.getFilters().map((a=>$A(a)));return r.length===1?r[0]:{compositeFilter:{op:HP(n.op),filters:r}}})(e):At(54877,{filter:e})}function GP(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function QA(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}class _s{constructor(t,n,r,a,l=It.min(),c=It.min(),d=an.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new _s(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class KP{constructor(t){this.yt=t}}function YP(e){const t=zP({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Rf(t,t.limit,"L"):t}class $P{constructor(){this.Cn=new QP}addToCollectionParentIndex(t,n){return this.Cn.add(n),ut.resolve()}getCollectionParents(t,n){return ut.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return ut.resolve()}deleteFieldIndex(t,n){return ut.resolve()}deleteAllFieldIndexes(t){return ut.resolve()}createTargetIndexes(t,n){return ut.resolve()}getDocumentsMatchingTarget(t,n){return ut.resolve(null)}getIndexType(t,n){return ut.resolve(0)}getFieldIndexes(t,n){return ut.resolve([])}getNextCollectionGroupToUpdate(t){return ut.resolve(null)}getMinOffset(t,n){return ut.resolve(As.min())}getMinOffsetFromCollectionGroup(t,n){return ut.resolve(As.min())}updateCollectionGroup(t,n,r){return ut.resolve()}updateIndexEntries(t,n){return ut.resolve()}}class QP{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),a=this.index[n]||new Ge(oe.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(t){const n=t.lastSegment(),r=t.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(t){return(this.index[t]||new Ge(oe.comparator)).toArray()}}const kb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XA=41943040;class Rn{static withCacheSize(t){return new Rn(t,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(XA,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);class Ho{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ho(0)}static cr(){return new Ho(-1)}}const Ub="LruGarbageCollector",XP=1048576;function jb([e,t],[n,r]){const a=Ft(e,n);return a===0?Ft(t,r):a}class WP{constructor(t){this.Ir=t,this.buffer=new Ge(jb),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();jb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class JP{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){pt(Ub,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){el(n)?pt(Ub,"Ignoring IndexedDB error during garbage collection: ",n):await tl(n)}await this.Vr(3e5)}))}}class ZP{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return ut.resolve(Qf.ce);const r=new WP(n);return this.mr.forEachTarget(t,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(t,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(pt("LruGarbageCollector","Garbage collection skipped; disabled"),ut.resolve(kb)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kb):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,a,l,c,d,m,g;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(t,a)))).next((_=>(r=_,d=Date.now(),this.removeTargets(t,r,n)))).next((_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(t,r)))).next((_=>(g=Date.now(),So()<=Bt.DEBUG&&pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${_} documents in `+(g-m)+`ms
Total Duration: ${g-y}ms`),ut.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function t4(e,t){return new ZP(e,t)}class e4{constructor(){this.changes=new Na((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,hn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ut.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class n4{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class i4{constructor(t,n,r,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(t,n)))).next((a=>(r!==null&&wu(r.mutation,a,Ei.empty(),ce.now()),a)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,qt()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=qt()){const a=pa();return this.populateOverlays(t,a,n).next((()=>this.computeViews(t,n,a,r).next((l=>{let c=pu();return l.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const r=pa();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,qt())))}populateOverlays(t,n,r){const a=[];return r.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(t,n,r,a){let l=Dr();const c=Su(),d=(function(){return Su()})();return n.forEach(((m,g)=>{const y=r.get(g.key);a.has(g.key)&&(y===void 0||y.mutation instanceof Ma)?l=l.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),wu(y.mutation,g,y.mutation.getFieldMask(),ce.now())):c.set(g.key,Ei.empty())})),this.recalculateAndSaveOverlays(t,l).next((m=>(m.forEach(((g,y)=>c.set(g,y))),n.forEach(((g,y)=>d.set(g,new n4(y,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(t,n){const r=Su();let a=new ge(((c,d)=>c-d)),l=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const d of c)d.keys().forEach((m=>{const g=n.get(m);if(g===null)return;let y=r.get(m)||Ei.empty();y=d.applyToLocalView(g,y),r.set(m,y);const _=(a.get(d.batchId)||qt()).add(m);a=a.insert(d.batchId,_)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,y=m.value,_=NA();y.forEach((b=>{if(!l.has(b)){const C=kA(n.get(b),r.get(b));C!==null&&_.set(b,C),l=l.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,_))}return ut.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,a){return(function(c){return bt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):RA(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,a):this.getDocumentsMatchingCollectionQuery(t,n,r,a)}getNextDocuments(t,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,a-l.size):ut.resolve(pa());let d=Mu,m=l;return c.next((g=>ut.forEach(g,((y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(y)?ut.resolve():this.remoteDocumentCache.getEntry(t,y).next((b=>{m=m.insert(y,b)}))))).next((()=>this.populateOverlays(t,g,l))).next((()=>this.computeViews(t,m,g,qt()))).next((y=>({batchId:d,changes:DA(y)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new bt(n)).next((r=>{let a=pu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,a){const l=n.collectionGroup;let c=pu();return this.indexManager.getCollectionParents(t,l).next((d=>ut.forEach(d,(m=>{const g=(function(_,b){return new nl(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,g,r,a).next((y=>{y.forEach(((_,b)=>{c=c.insert(_,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,l,a)))).next((c=>{l.forEach(((m,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,hn.newInvalidDocument(y)))}));let d=pu();return c.forEach(((m,g)=>{const y=l.get(m);y!==void 0&&wu(y.mutation,g,Ei.empty(),ce.now()),Zf(n,g)&&(d=d.insert(m,g))})),d}))}}class r4{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return ut.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:$i(a.createTime)}})(n)),ut.resolve()}getNamedQuery(t,n){return ut.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:YP(a.bundledQuery),readTime:$i(a.readTime)}})(n)),ut.resolve()}}class s4{constructor(){this.overlays=new ge(bt.comparator),this.qr=new Map}getOverlay(t,n){return ut.resolve(this.overlays.get(n))}getOverlays(t,n){const r=pa();return ut.forEach(n,(a=>this.getOverlay(t,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((a,l)=>{this.St(t,n,l)})),ut.resolve()}removeOverlaysForBatchId(t,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(r)),ut.resolve()}getOverlaysForCollection(t,n,r){const a=pa(),l=n.length+1,c=new bt(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>r&&a.set(m.getKey(),m)}return ut.resolve(a)}getOverlaysForCollectionGroup(t,n,r,a){let l=new ge(((g,y)=>g-y));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let y=l.get(g.largestBatchId);y===null&&(y=pa(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const d=pa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,y)=>d.set(g,y))),!(d.size()>=a)););return ut.resolve(d)}St(t,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new SP(n,r));let l=this.qr.get(n);l===void 0&&(l=qt(),this.qr.set(n,l)),this.qr.set(n,l.add(r.key))}}class a4{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(t){return ut.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,ut.resolve()}}class qy{constructor(){this.Qr=new Ge(Qe.$r),this.Ur=new Ge(Qe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new Qe(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Gr(new Qe(t,n))}zr(t,n){t.forEach((r=>this.removeReference(r,n)))}jr(t){const n=new bt(new oe([])),r=new Qe(n,t),a=new Qe(n,t+1),l=[];return this.Ur.forEachInRange([r,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new bt(new oe([])),r=new Qe(n,t),a=new Qe(n,t+1);let l=qt();return this.Ur.forEachInRange([r,a],(c=>{l=l.add(c.key)})),l}containsKey(t){const n=new Qe(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Qe{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return bt.comparator(t.key,n.key)||Ft(t.Yr,n.Yr)}static Kr(t,n){return Ft(t.Yr,n.Yr)||bt.comparator(t.key,n.key)}}class o4{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ge(Qe.$r)}checkEmpty(t){return ut.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new bP(l,n,r,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new Qe(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return ut.resolve(c)}lookupMutationBatch(t,n){return ut.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,a=this.ei(r),l=a<0?0:a;return ut.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ut.resolve(this.mutationQueue.length===0?Vy:this.tr-1)}getAllMutationBatches(t){return ut.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Qe(n,0),a=new Qe(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),ut.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Ge(Ft);return n.forEach((a=>{const l=new Qe(a,0),c=new Qe(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{r=r.add(d.Yr)}))})),ut.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,a=r.length+1;let l=r;bt.isDocumentKey(l)||(l=l.child(""));const c=new Qe(new bt(l),0);let d=new Ge(Ft);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!r.isPrefixOf(g)&&(g.length===a&&(d=d.add(m.Yr)),!0)}),c),ut.resolve(this.ti(d))}ti(t){const n=[];return t.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(t,n){Jt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ut.forEach(n.mutations,(a=>{const l=new Qe(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,n){const r=new Qe(n,0),a=this.Zr.firstAfterOrEqual(r);return ut.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,ut.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class l4{constructor(t){this.ri=t,this.docs=(function(){return new ge(bt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return ut.resolve(r?r.document.mutableCopy():hn.newInvalidDocument(n))}getEntries(t,n){let r=Dr();return n.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():hn.newInvalidDocument(a))})),ut.resolve(r)}getDocumentsMatchingQuery(t,n,r,a){let l=Dr();const c=n.path,d=new bt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:y}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||kO(LO(y),r)<=0||(a.has(y.key)||Zf(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ut.resolve(l)}getAllFromCollectionGroup(t,n,r,a){At(9500)}ii(t,n){return ut.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new u4(this)}getSize(t){return ut.resolve(this.size)}}class u4 extends e4{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(r)})),ut.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class c4{constructor(t){this.persistence=t,this.si=new Na((n=>Ly(n)),ky),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.oi=0,this._i=new qy,this.targetCount=0,this.ai=Ho.ur()}forEachTarget(t,n){return this.si.forEach(((r,a)=>n(a))),ut.resolve()}getLastRemoteSnapshotVersion(t){return ut.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ut.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),ut.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ut.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Ho(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,ut.resolve()}updateTargetData(t,n){return this.Pr(n),ut.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ut.resolve()}removeTargets(t,n,r){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),a++)})),ut.waitFor(l).next((()=>a))}getTargetCount(t){return ut.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return ut.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),ut.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(t,c))})),ut.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),ut.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return ut.resolve(r)}containsKey(t,n){return ut.resolve(this._i.containsKey(n))}}class WA{constructor(t,n){this.ui={},this.overlays={},this.ci=new Qf(0),this.li=!1,this.li=!0,this.hi=new a4,this.referenceDelegate=t(this),this.Pi=new c4(this),this.indexManager=new $P,this.remoteDocumentCache=(function(a){return new l4(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new KP(n),this.Ii=new r4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new s4,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new o4(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){pt("MemoryPersistence","Starting transaction:",t);const a=new h4(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(t,n){return ut.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,n))))}}class h4 extends jO{constructor(t){super(),this.currentSequenceNumber=t}}class Hy{constructor(t){this.persistence=t,this.Ri=new qy,this.Vi=null}static mi(t){return new Hy(t)}get fi(){if(this.Vi)return this.Vi;throw At(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ut.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ut.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),ut.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>r.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ut.forEach(this.fi,(r=>{const a=bt.fromPath(r);return this.gi(t,a).next((l=>{l||n.removeEntry(a,It.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return ut.or([()=>ut.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Df{constructor(t,n){this.persistence=t,this.pi=new Na((r=>FO(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=t4(this,n)}static mi(t,n){return new Df(t,n)}Ei(){}di(t){return ut.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((a=>r+a))))}wr(t){let n=0;return this.pr(t,(r=>{n++})).next((()=>n))}pr(t,n){return ut.forEach(this.pi,((r,a)=>this.br(t,r,a).next((l=>l?ut.resolve():n(a)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(t,(c=>this.br(t,c,n).next((d=>{d||(r++,l.removeEntry(c,It.min()))})))).next((()=>l.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),ut.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),ut.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),ut.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),ut.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=rf(t.data.value)),n}br(t,n,r){return ut.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.pi.get(n);return ut.resolve(a!==void 0&&a>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Gy{constructor(t,n,r,a){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=a}static As(t,n){let r=qt(),a=qt();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Gy(t,n.fromCache,r,a)}}class f4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class d4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return iN()?8:zO(dn())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,a){const l={result:null};return this.ys(t,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(t,n,a,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new f4;return this.Ss(t,n,c).next((d=>{if(l.result=d,this.Vs)return this.bs(t,n,c,d.size)}))})).next((()=>l.result))}bs(t,n,r,a){return r.documentReadCount<this.fs?(So()<=Bt.DEBUG&&pt("QueryEngine","SDK will not create cache indexes for query:",wo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ut.resolve()):(So()<=Bt.DEBUG&&pt("QueryEngine","Query:",wo(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(So()<=Bt.DEBUG&&pt("QueryEngine","The SDK decides to create cache indexes for query:",wo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Yi(n))):ut.resolve())}ys(t,n){if(Cb(n))return ut.resolve(null);let r=Yi(n);return this.indexManager.getIndexType(t,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Rf(n,null,"F"),r=Yi(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((l=>{const c=qt(...l);return this.ps.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,r).next((m=>{const g=this.Ds(n,d);return this.Cs(n,g,c,m.readTime)?this.ys(t,Rf(n,null,"F")):this.vs(t,g,n,m)}))))})))))}ws(t,n,r,a){return Cb(n)||a.isEqual(It.min())?ut.resolve(null):this.ps.getDocuments(t,r).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,r,a)?ut.resolve(null):(So()<=Bt.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),wo(n)),this.vs(t,c,n,PO(a,Mu)).next((d=>d)))}))}Ds(t,n){let r=new Ge(xA(t));return n.forEach(((a,l)=>{Zf(t,l)&&(r=r.add(l))})),r}Cs(t,n,r,a){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(t,n,r){return So()<=Bt.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",wo(n)),this.ps.getDocumentsMatchingQuery(t,n,As.min(),r)}vs(t,n,r,a){return this.ps.getDocumentsMatchingQuery(t,r,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const Ky="LocalStore",m4=3e8;class p4{constructor(t,n,r,a){this.persistence=t,this.Fs=n,this.serializer=a,this.Ms=new ge(Ft),this.xs=new Na((l=>Ly(l)),ky),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new i4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function g4(e,t,n,r){return new p4(e,t,n,r)}async function JA(e,t){const n=Nt(e);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,n.Bs(t),n.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],d=[];let m=qt();for(const g of a){c.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}for(const g of l){d.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(r,m).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function y4(e,t){const n=Nt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=t.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,g,y){const _=g.batch,b=_.keys();let C=ut.resolve();return b.forEach((O=>{C=C.next((()=>y.getEntry(m,O))).next((U=>{const L=g.docVersions.get(O);Jt(L!==null,48541),U.version.compareTo(L)<0&&(_.applyToRemoteDocument(U,g),U.isValidDocument()&&(U.setReadTime(g.commitVersion),y.addEntry(U)))}))})),C.next((()=>d.mutationQueue.removeMutationBatch(m,_)))})(n,r,t,l).next((()=>l.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let m=qt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m})(t)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function ZA(e){const t=Nt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function v4(e,t){const n=Nt(e),r=t.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];t.targetChanges.forEach(((y,_)=>{const b=a.get(_);if(!b)return;d.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,_))));let C=b.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(_)!==null?C=C.withResumeToken(an.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):y.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(y.resumeToken,r)),a=a.insert(_,C),(function(U,L,z){return U.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=m4?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(b,C,y)&&d.push(n.Pi.updateTargetData(l,C))}));let m=Dr(),g=qt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push(_4(l,c,t.documentUpdates).next((y=>{m=y.ks,g=y.qs}))),!r.isEqual(It.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((_=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r)));d.push(y)}return ut.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function _4(e,t,n){let r=qt(),a=qt();return n.forEach((l=>r=r.add(l))),t.getEntries(e,r).next((l=>{let c=Dr();return n.forEach(((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(It.min())?(t.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(m),c=c.insert(d,m)):pt(Ky,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function T4(e,t){const n=Nt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Vy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function E4(e,t){const n=Nt(e);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,t).next((l=>l?(a=l,ut.resolve(a)):n.Pi.allocateTargetId(r).next((c=>(a=new _s(t,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r}))}async function Ug(e,t,n){const r=Nt(e),a=r.Ms.get(t),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!el(c))throw c;pt(Ky,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ms=r.Ms.remove(t),r.xs.delete(a.target)}function zb(e,t,n){const r=Nt(e);let a=It.min(),l=qt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,g,y){const _=Nt(m),b=_.xs.get(y);return b!==void 0?ut.resolve(_.Ms.get(b)):_.Pi.getTargetData(g,y)})(r,c,Yi(t)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,d.targetId).next((m=>{l=m}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,t,n?a:It.min(),n?l:qt()))).next((d=>(b4(r,oP(t),d),{documents:d,Qs:l})))))}function b4(e,t,n){let r=e.Os.get(t)||It.min();n.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),e.Os.set(t,r)}class Bb{constructor(){this.activeTargetIds=dP()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class S4{constructor(){this.Mo=new Bb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Bb,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class w4{Oo(t){}shutdown(){}}const Fb="ConnectivityMonitor";class qb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pt(Fb,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){pt(Fb,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Hh=null;function jg(){return Hh===null?Hh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Hh++,"0x"+Hh.toString(16)}const Dp="RestConnection",A4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class R4{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Sf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(t,n,r,a,l){const c=jg(),d=this.zo(t,n.toUriEncodedString());pt(Dp,`Sending RPC '${t}' ${c}:`,d,r);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:g}=new URL(d),y=Xo(g);return this.Jo(t,d,m,r,y).then((_=>(pt(Dp,`Received RPC '${t}' ${c}: `,_),_)),(_=>{throw zo(Dp,`RPC '${t}' ${c} failed with error: `,_,"url: ",d,"request:",r),_}))}Ho(t,n,r,a,l,c){return this.Go(t,n,r,a,l)}jo(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>t[l]=a)),r&&r.headers.forEach(((a,l)=>t[l]=a))}zo(t,n){const r=A4[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class C4{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const un="WebChannelConnection";class x4 extends R4{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,a,l){const c=jg();return new Promise(((d,m)=>{const g=new eA;g.setWithCredentials(!0),g.listenOnce(nA.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case nf.NO_ERROR:const _=g.getResponseJson();pt(un,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(_)),d(_);break;case nf.TIMEOUT:pt(un,`RPC '${t}' ${c} timed out`),m(new mt(st.DEADLINE_EXCEEDED,"Request time out"));break;case nf.HTTP_ERROR:const b=g.getStatus();if(pt(un,`RPC '${t}' ${c} failed with status:`,b,"response text:",g.getResponseText()),b>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const O=C?.error;if(O&&O.status&&O.message){const U=(function(z){const G=z.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(G)>=0?G:st.UNKNOWN})(O.status);m(new mt(U,O.message))}else m(new mt(st.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new mt(st.UNAVAILABLE,"Connection failed."));break;default:At(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{pt(un,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(a);pt(un,`RPC '${t}' ${c} sending request:`,a),g.send(n,"POST",y,r,15)}))}T_(t,n,r){const a=jg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=sA(),d=rA(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const y=l.join("");pt(un,`Creating RPC '${t}' stream ${a}: ${y}`,m);const _=c.createWebChannel(y,m);this.I_(_);let b=!1,C=!1;const O=new C4({Yo:L=>{C?pt(un,`Not sending because RPC '${t}' stream ${a} is closed:`,L):(b||(pt(un,`Opening RPC '${t}' stream ${a} transport.`),_.open(),b=!0),pt(un,`RPC '${t}' stream ${a} sending:`,L),_.send(L))},Zo:()=>_.close()}),U=(L,z,G)=>{L.listen(z,(q=>{try{G(q)}catch(lt){setTimeout((()=>{throw lt}),0)}}))};return U(_,mu.EventType.OPEN,(()=>{C||(pt(un,`RPC '${t}' stream ${a} transport opened.`),O.o_())})),U(_,mu.EventType.CLOSE,(()=>{C||(C=!0,pt(un,`RPC '${t}' stream ${a} transport closed`),O.a_(),this.E_(_))})),U(_,mu.EventType.ERROR,(L=>{C||(C=!0,zo(un,`RPC '${t}' stream ${a} transport errored. Name:`,L.name,"Message:",L.message),O.a_(new mt(st.UNAVAILABLE,"The operation could not be completed")))})),U(_,mu.EventType.MESSAGE,(L=>{if(!C){const z=L.data[0];Jt(!!z,16349);const G=z,q=G?.error||G[0]?.error;if(q){pt(un,`RPC '${t}' stream ${a} received error:`,q);const lt=q.status;let at=(function(A){const I=Pe[A];if(I!==void 0)return zA(I)})(lt),ht=q.message;at===void 0&&(at=st.INTERNAL,ht="Unknown error status: "+lt+" with message "+q.message),C=!0,O.a_(new mt(at,ht)),_.close()}else pt(un,`RPC '${t}' stream ${a} received:`,z),O.u_(z)}})),U(d,iA.STAT_EVENT,(L=>{L.stat===Cg.PROXY?pt(un,`RPC '${t}' stream ${a} detected buffering proxy`):L.stat===Cg.NOPROXY&&pt(un,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{O.__()}),0),O}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Np(){return typeof document<"u"?document:null}function id(e){return new MP(e,!0)}class tR{constructor(t,n,r=1e3,a=1.5,l=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&pt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Hb="PersistentStream";class eR{constructor(t,n,r,a,l,c,d,m){this.Mi=t,this.S_=r,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new tR(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===st.RESOURCE_EXHAUSTED?(Ir(n.toString()),Ir("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===st.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{t((()=>{const a=new mt(st.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return pt(Hb,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(pt(Hb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class I4 extends eR{constructor(t,n,r,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=PP(this.serializer,t),r=(function(l){if(!("targetChange"in l))return It.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?It.min():c.readTime?$i(c.readTime):It.min()})(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=kg(this.serializer),n.addTarget=(function(l,c){let d;const m=c.target;if(d=Mg(m)?{documents:UP(l,m)}:{query:jP(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=qA(l,c.resumeToken);const g=Og(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(It.min())>0){d.readTime=If(l,c.snapshotVersion.toTimestamp());const g=Og(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,t);const r=BP(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=kg(this.serializer),n.removeTarget=t,this.q_(n)}}class D4 extends eR{constructor(t,n,r,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Jt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Jt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Jt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=kP(t.writeResults,t.commitTime),r=$i(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=kg(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>LP(this.serializer,r)))};this.q_(n)}}class N4{}class M4 extends N4{constructor(t,n,r,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new mt(st.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(t,Pg(n,r),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new mt(st.UNKNOWN,l.toString())}))}Ho(t,n,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(t,Pg(n,r),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new mt(st.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class V4{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ir(n),this.aa=!1):pt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ca="RemoteStore";class O4{constructor(t,n,r,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Va(this)&&(pt(Ca,"Restarting streams for network reachability change."),await(async function(m){const g=Nt(m);g.Ea.add(4),await ic(g),g.Ra.set("Unknown"),g.Ea.delete(4),await rd(g)})(this))}))})),this.Ra=new V4(r,a)}}async function rd(e){if(Va(e))for(const t of e.da)await t(!0)}async function ic(e){for(const t of e.da)await t(!1)}function nR(e,t){const n=Nt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Xy(n)?Qy(n):il(n).O_()&&$y(n,t))}function Yy(e,t){const n=Nt(e),r=il(n);n.Ia.delete(t),r.O_()&&iR(n,t),n.Ia.size===0&&(r.O_()?r.L_():Va(n)&&n.Ra.set("Unknown"))}function $y(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(It.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}il(e).Y_(t)}function iR(e,t){e.Va.Ue(t),il(e).Z_(t)}function Qy(e){e.Va=new xP({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),il(e).start(),e.Ra.ua()}function Xy(e){return Va(e)&&!il(e).x_()&&e.Ia.size>0}function Va(e){return Nt(e).Ea.size===0}function rR(e){e.Va=void 0}async function P4(e){e.Ra.set("Online")}async function L4(e){e.Ia.forEach(((t,n)=>{$y(e,t)}))}async function k4(e,t){rR(e),Xy(e)?(e.Ra.ha(t),Qy(e)):e.Ra.set("Unknown")}async function U4(e,t,n){if(e.Ra.set("Online"),t instanceof FA&&t.state===2&&t.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(e,t)}catch(r){pt(Ca,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Nf(e,r)}else if(t instanceof of?e.Va.Ze(t):t instanceof BA?e.Va.st(t):e.Va.tt(t),!n.isEqual(It.min()))try{const r=await ZA(e.localStore);n.compareTo(r)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(g);y&&l.Ia.set(g,y.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,g)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(an.EMPTY_BYTE_STRING,y.snapshotVersion)),iR(l,m);const _=new _s(y.target,m,g,y.sequenceNumber);$y(l,_)})),l.remoteSyncer.applyRemoteEvent(d)})(e,n)}catch(r){pt(Ca,"Failed to raise snapshot:",r),await Nf(e,r)}}async function Nf(e,t,n){if(!el(t))throw t;e.Ea.add(1),await ic(e),e.Ra.set("Offline"),n||(n=()=>ZA(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{pt(Ca,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await rd(e)}))}function sR(e,t){return t().catch((n=>Nf(e,n,t)))}async function sd(e){const t=Nt(e),n=Is(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Vy;for(;j4(t);)try{const a=await T4(t.localStore,r);if(a===null){t.Ta.length===0&&n.L_();break}r=a.batchId,z4(t,a)}catch(a){await Nf(t,a)}aR(t)&&oR(t)}function j4(e){return Va(e)&&e.Ta.length<10}function z4(e,t){e.Ta.push(t);const n=Is(e);n.O_()&&n.X_&&n.ea(t.mutations)}function aR(e){return Va(e)&&!Is(e).x_()&&e.Ta.length>0}function oR(e){Is(e).start()}async function B4(e){Is(e).ra()}async function F4(e){const t=Is(e);for(const n of e.Ta)t.ea(n.mutations)}async function q4(e,t,n){const r=e.Ta.shift(),a=zy.from(r,t,n);await sR(e,(()=>e.remoteSyncer.applySuccessfulWrite(a))),await sd(e)}async function H4(e,t){t&&Is(e).X_&&await(async function(r,a){if((function(c){return AP(c)&&c!==st.ABORTED})(a.code)){const l=r.Ta.shift();Is(r).B_(),await sR(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await sd(r)}})(e,t),aR(e)&&oR(e)}async function Gb(e,t){const n=Nt(e);n.asyncQueue.verifyOperationInProgress(),pt(Ca,"RemoteStore received new credentials");const r=Va(n);n.Ea.add(3),await ic(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await rd(n)}async function G4(e,t){const n=Nt(e);t?(n.Ea.delete(2),await rd(n)):t||(n.Ea.add(2),await ic(n),n.Ra.set("Unknown"))}function il(e){return e.ma||(e.ma=(function(n,r,a){const l=Nt(n);return l.sa(),new I4(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Xo:P4.bind(null,e),t_:L4.bind(null,e),r_:k4.bind(null,e),H_:U4.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),Xy(e)?Qy(e):e.Ra.set("Unknown")):(await e.ma.stop(),rR(e))}))),e.ma}function Is(e){return e.fa||(e.fa=(function(n,r,a){const l=Nt(n);return l.sa(),new D4(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:B4.bind(null,e),r_:H4.bind(null,e),ta:F4.bind(null,e),na:q4.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await sd(e)):(await e.fa.stop(),e.Ta.length>0&&(pt(Ca,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}class Wy{constructor(t,n,r,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,a,l){const c=Date.now()+r,d=new Wy(t,n,c,a,l);return d.start(r),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(st.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jy(e,t){if(Ir("AsyncQueue",`${t}: ${e}`),el(e))return new mt(st.UNAVAILABLE,`${t}: ${e}`);throw e}class Po{static emptySet(t){return new Po(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||bt.comparator(n.key,r.key):(n,r)=>bt.comparator(n.key,r.key),this.keyedMap=pu(),this.sortedSet=new ge(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Po)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Po;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}class Kb{constructor(){this.ga=new ge(bt.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):At(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class Go{constructor(t,n,r,a,l,c,d,m,g){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(t,n,r,a,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Go(t,n,Po.emptySet(n),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Jf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}class K4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class Y4{constructor(){this.queries=Yb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=Nt(n),l=a.queries;a.queries=Yb(),l.forEach(((c,d)=>{for(const m of d.Sa)m.onError(r)}))})(this,new mt(st.ABORTED,"Firestore shutting down"))}}function Yb(){return new Na((e=>CA(e)),Jf)}async function lR(e,t){const n=Nt(e);let r=3;const a=t.query;let l=n.queries.get(a);l?!l.ba()&&t.Da()&&(r=2):(l=new K4,r=t.Da()?0:1);try{switch(r){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=Jy(c,`Initialization of query '${wo(t.query)}' failed`);return void t.onError(d)}n.queries.set(a,l),l.Sa.push(t),t.va(n.onlineState),l.wa&&t.Fa(l.wa)&&Zy(n)}async function uR(e,t){const n=Nt(e),r=t.query;let a=3;const l=n.queries.get(r);if(l){const c=l.Sa.indexOf(t);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=t.Da()?0:1:!l.ba()&&t.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function $4(e,t){const n=Nt(e);let r=!1;for(const a of t){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(r=!0);c.wa=a}}r&&Zy(n)}function Q4(e,t,n){const r=Nt(e),a=r.queries.get(t);if(a)for(const l of a.Sa)l.onError(n);r.queries.delete(t)}function Zy(e){e.Ca.forEach((t=>{t.next()}))}var zg,$b;($b=zg||(zg={})).Ma="default",$b.Cache="cache";class cR{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const a of t.docChanges)a.type!==3&&r.push(a);t=new Go(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Go.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==zg.Cache}}class hR{constructor(t){this.key=t}}class fR{constructor(t){this.key=t}}class X4{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qt(),this.mutatedKeys=qt(),this.eu=xA(t),this.tu=new Po(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new Kb,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,_)=>{const b=a.get(y),C=Zf(this.query,_)?_:null,O=!!b&&this.mutatedKeys.has(b.key),U=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let L=!1;b&&C?b.data.isEqual(C.data)?O!==U&&(r.track({type:3,doc:C}),L=!0):this.su(b,C)||(r.track({type:2,doc:C}),L=!0,(m&&this.eu(C,m)>0||g&&this.eu(C,g)<0)&&(d=!0)):!b&&C?(r.track({type:0,doc:C}),L=!0):b&&!C&&(r.track({type:1,doc:b}),L=!0,(m||g)&&(d=!0)),L&&(C?(c=c.add(C),l=U?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{tu:c,iu:r,Cs:d,mutatedKeys:l}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,_)=>(function(C,O){const U=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At(20277,{Rt:L})}};return U(C)-U(O)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(r),a=a??!1;const d=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,g=m!==this.Za;return this.Za=m,c.length!==0||g?{snapshot:new Go(this.query,t.tu,l,c,t.mutatedKeys,m===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Kb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=qt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return t.forEach((r=>{this.Xa.has(r)||n.push(new fR(r))})),this.Xa.forEach((r=>{t.has(r)||n.push(new hR(r))})),n}cu(t){this.Ya=t.Qs,this.Xa=qt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Go.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const tv="SyncEngine";class W4{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class J4{constructor(t){this.key=t,this.hu=!1}}class Z4{constructor(t,n,r,a,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Na((d=>CA(d)),Jf),this.Iu=new Map,this.Eu=new Set,this.du=new ge(bt.comparator),this.Au=new Map,this.Ru=new qy,this.Vu={},this.mu=new Map,this.fu=Ho.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tL(e,t,n=!0){const r=vR(e);let a;const l=r.Tu.get(t);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await dR(r,t,n,!0),a}async function eL(e,t){const n=vR(e);await dR(n,t,!0,!1)}async function dR(e,t,n,r){const a=await E4(e.localStore,Yi(t)),l=a.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let d;return r&&(d=await nL(e,t,l,c==="current",a.resumeToken)),e.isPrimaryClient&&n&&nR(e.remoteStore,a),d}async function nL(e,t,n,r,a){e.pu=(_,b,C)=>(async function(U,L,z,G){let q=L.view.ru(z);q.Cs&&(q=await zb(U.localStore,L.query,!1).then((({documents:x})=>L.view.ru(x,q))));const lt=G&&G.targetChanges.get(L.targetId),at=G&&G.targetMismatches.get(L.targetId)!=null,ht=L.view.applyChanges(q,U.isPrimaryClient,lt,at);return Xb(U,L.targetId,ht.au),ht.snapshot})(e,_,b,C);const l=await zb(e.localStore,t,!0),c=new X4(t,l.Qs),d=c.ru(l.documents),m=nc.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",a),g=c.applyChanges(d,e.isPrimaryClient,m);Xb(e,n,g.au);const y=new W4(t,n,c);return e.Tu.set(t,y),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),g.snapshot}async function iL(e,t,n){const r=Nt(e),a=r.Tu.get(t),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((c=>!Jf(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Ug(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&Yy(r.remoteStore,a.targetId),Bg(r,a.targetId)})).catch(tl)):(Bg(r,a.targetId),await Ug(r.localStore,a.targetId,!0))}async function rL(e,t){const n=Nt(e),r=n.Tu.get(t),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Yy(n.remoteStore,r.targetId))}async function sL(e,t,n){const r=fL(e);try{const a=await(function(c,d){const m=Nt(c),g=ce.now(),y=d.reduce(((C,O)=>C.add(O.key)),qt());let _,b;return m.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let O=Dr(),U=qt();return m.Ns.getEntries(C,y).next((L=>{O=L,O.forEach(((z,G)=>{G.isValidDocument()||(U=U.add(z))}))})).next((()=>m.localDocuments.getOverlayedDocuments(C,O))).next((L=>{_=L;const z=[];for(const G of d){const q=TP(G,_.get(G.key).overlayedDocument);q!=null&&z.push(new Ma(G.key,q,_A(q.value.mapValue),Ar.exists(!0)))}return m.mutationQueue.addMutationBatch(C,g,z,d)})).next((L=>{b=L;const z=L.applyToLocalDocumentSet(_,U);return m.documentOverlayCache.saveOverlays(C,L.batchId,z)}))})).then((()=>({batchId:b.batchId,changes:DA(_)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(a.batchId),(function(c,d,m){let g=c.Vu[c.currentUser.toKey()];g||(g=new ge(Ft)),g=g.insert(d,m),c.Vu[c.currentUser.toKey()]=g})(r,a.batchId,n),await rc(r,a.changes),await sd(r.remoteStore)}catch(a){const l=Jy(a,"Failed to persist write");n.reject(l)}}async function mR(e,t){const n=Nt(e);try{const r=await v4(n.localStore,t);t.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(Jt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Jt(c.hu,14607):a.removedDocuments.size>0&&(Jt(c.hu,42227),c.hu=!1))})),await rc(n,r,t)}catch(r){await tl(r)}}function Qb(e,t,n){const r=Nt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((l,c)=>{const d=c.view.va(t);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const m=Nt(c);m.onlineState=d;let g=!1;m.queries.forEach(((y,_)=>{for(const b of _.Sa)b.va(d)&&(g=!0)})),g&&Zy(m)})(r.eventManager,t),a.length&&r.Pu.H_(a),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function aL(e,t,n){const r=Nt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const a=r.Au.get(t),l=a&&a.key;if(l){let c=new ge(bt.comparator);c=c.insert(l,hn.newNoDocument(l,It.min()));const d=qt().add(l),m=new nd(It.min(),new Map,new ge(Ft),c,d);await mR(r,m),r.du=r.du.remove(l),r.Au.delete(t),ev(r)}else await Ug(r.localStore,t,!1).then((()=>Bg(r,t,n))).catch(tl)}async function oL(e,t){const n=Nt(e),r=t.batch.batchId;try{const a=await y4(n.localStore,t);gR(n,r,null),pR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await rc(n,a)}catch(a){await tl(a)}}async function lL(e,t,n){const r=Nt(e);try{const a=await(function(c,d){const m=Nt(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return m.mutationQueue.lookupMutationBatch(g,d).next((_=>(Jt(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(g,_)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,y,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>m.localDocuments.getDocuments(g,y)))}))})(r.localStore,t);gR(r,t,n),pR(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await rc(r,a)}catch(a){await tl(a)}}function pR(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function gR(e,t,n){const r=Nt(e);let a=r.Vu[r.currentUser.toKey()];if(a){const l=a.get(t);l&&(n?l.reject(n):l.resolve(),a=a.remove(t)),r.Vu[r.currentUser.toKey()]=a}}function Bg(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((r=>{e.Ru.containsKey(r)||yR(e,r)}))}function yR(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(Yy(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),ev(e))}function Xb(e,t,n){for(const r of n)r instanceof hR?(e.Ru.addReference(r.key,t),uL(e,r)):r instanceof fR?(pt(tv,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||yR(e,r.key)):At(19791,{wu:r})}function uL(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(pt(tv,"New document in limbo: "+n),e.Eu.add(r),ev(e))}function ev(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new bt(oe.fromString(t)),r=e.fu.next();e.Au.set(r,new J4(n)),e.du=e.du.insert(n,r),nR(e.remoteStore,new _s(Yi(Uy(n.path)),r,"TargetPurposeLimboResolution",Qf.ce))}}async function rc(e,t,n){const r=Nt(e),a=[],l=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,m)=>{c.push(r.pu(m,t,n).then((g=>{if((g||n)&&r.isPrimaryClient){const y=g?!g.fromCache:n?.targetChanges.get(m.targetId)?.current;r.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(g){a.push(g);const y=Gy.As(m.targetId,g);l.push(y)}})))})),await Promise.all(c),r.Pu.H_(a),await(async function(m,g){const y=Nt(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>ut.forEach(g,(b=>ut.forEach(b.Es,(C=>y.persistence.referenceDelegate.addReference(_,b.targetId,C))).next((()=>ut.forEach(b.ds,(C=>y.persistence.referenceDelegate.removeReference(_,b.targetId,C)))))))))}catch(_){if(!el(_))throw _;pt(Ky,"Failed to update sequence numbers: "+_)}for(const _ of g){const b=_.targetId;if(!_.fromCache){const C=y.Ms.get(b),O=C.snapshotVersion,U=C.withLastLimboFreeSnapshotVersion(O);y.Ms=y.Ms.insert(b,U)}}})(r.localStore,l))}async function cL(e,t){const n=Nt(e);if(!n.currentUser.isEqual(t)){pt(tv,"User change. New user:",t.toKey());const r=await JA(n.localStore,t);n.currentUser=t,(function(l,c){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new mt(st.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await rc(n,r.Ls)}}function hL(e,t){const n=Nt(e),r=n.Au.get(t);if(r&&r.hu)return qt().add(r.key);{let a=qt();const l=n.Iu.get(t);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function vR(e){const t=Nt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=mR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=hL.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=aL.bind(null,t),t.Pu.H_=$4.bind(null,t.eventManager),t.Pu.yu=Q4.bind(null,t.eventManager),t}function fL(e){const t=Nt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=oL.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lL.bind(null,t),t}class Mf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=id(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return g4(this.persistence,new d4,t.initialUser,this.serializer)}Cu(t){return new WA(Hy.mi,this.serializer)}Du(t){return new S4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mf.provider={build:()=>new Mf};class dL extends Mf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Jt(this.persistence.referenceDelegate instanceof Df,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new JP(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new WA((r=>Df.mi(r,n)),this.serializer)}}class Fg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Qb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cL.bind(null,this.syncEngine),await G4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new Y4})()}createDatastore(t){const n=id(t.databaseInfo.databaseId),r=(function(l){return new x4(l)})(t.databaseInfo);return(function(l,c,d,m){return new M4(l,c,d,m)})(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,a,l,c,d){return new O4(r,a,l,c,d)})(this.localStore,this.datastore,t.asyncQueue,(n=>Qb(this.syncEngine,n,0)),(function(){return qb.v()?new qb:new w4})())}createSyncEngine(t,n){return(function(a,l,c,d,m,g,y){const _=new Z4(a,l,c,d,m,g);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Nt(n);pt(Ca,"RemoteStore shutting down."),r.Ea.add(5),await ic(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Fg.provider={build:()=>new Fg};class _R{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ir("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const Ds="FirestoreClient";class mL{constructor(t,n,r,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=cn.UNAUTHENTICATED,this.clientId=My.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{pt(Ds,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(pt(Ds,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Jy(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Mp(e,t){e.asyncQueue.verifyOperationInProgress(),pt(Ds,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async a=>{r.isEqual(a)||(await JA(t.localStore,a),r=a)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Wb(e,t){e.asyncQueue.verifyOperationInProgress();const n=await pL(e);pt(Ds,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((r=>Gb(t.remoteStore,r))),e.setAppCheckTokenChangeListener(((r,a)=>Gb(t.remoteStore,a))),e._onlineComponents=t}async function pL(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){pt(Ds,"Using user provided OfflineComponentProvider");try{await Mp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(a){return a.name==="FirebaseError"?a.code===st.FAILED_PRECONDITION||a.code===st.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;zo("Error using user provided cache. Falling back to memory cache: "+n),await Mp(e,new Mf)}}else pt(Ds,"Using default OfflineComponentProvider"),await Mp(e,new dL(void 0));return e._offlineComponents}async function TR(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(pt(Ds,"Using user provided OnlineComponentProvider"),await Wb(e,e._uninitializedComponentsProvider._online)):(pt(Ds,"Using default OnlineComponentProvider"),await Wb(e,new Fg))),e._onlineComponents}function gL(e){return TR(e).then((t=>t.syncEngine))}async function ER(e){const t=await TR(e),n=t.eventManager;return n.onListen=tL.bind(null,t.syncEngine),n.onUnlisten=iL.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=eL.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=rL.bind(null,t.syncEngine),n}function yL(e,t,n={}){const r=new wr;return e.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,g){const y=new _R({next:b=>{y.Nu(),c.enqueueAndForget((()=>uR(l,_)));const C=b.docs.has(d);!C&&b.fromCache?g.reject(new mt(st.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&b.fromCache&&m&&m.source==="server"?g.reject(new mt(st.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),_=new cR(Uy(d.path),y,{includeMetadataChanges:!0,qa:!0});return lR(l,_)})(await ER(e),e.asyncQueue,t,n,r))),r.promise}function vL(e,t,n={}){const r=new wr;return e.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,g){const y=new _R({next:b=>{y.Nu(),c.enqueueAndForget((()=>uR(l,_))),b.fromCache&&m.source==="server"?g.reject(new mt(st.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),_=new cR(d,y,{includeMetadataChanges:!0,qa:!0});return lR(l,_)})(await ER(e),e.asyncQueue,t,n,r))),r.promise}function bR(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const Jb=new Map;const SR="firestore.googleapis.com",Zb=!0;class tS{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new mt(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=SR,this.ssl=Zb}else this.host=t.host,this.ssl=t.ssl??Zb;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=XA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<XP)throw new mt(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}OO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bR(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new mt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new mt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new mt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ad{constructor(t,n,r,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new mt(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tS(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new wO;switch(r.type){case"firstParty":return new xO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new mt(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Jb.get(n);r&&(pt("ComponentProvider","Removing Datastore"),Jb.delete(n),r.terminate())})(this),Promise.resolve()}}function _L(e,t,n,r={}){e=Ra(e,ad);const a=Xo(t),l=e._getSettings(),c={...l,emulatorOptions:e._getEmulatorOptions()},d=`${t}:${n}`;a&&(gw(`https://${d}`),yw("Firestore",!0)),l.host!==SR&&l.host!==d&&zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:r};if(!ba(m,c)&&(e._setSettings(m),r.mockUserToken)){let g,y;if(typeof r.mockUserToken=="string")g=r.mockUserToken,y=cn.MOCK_USER;else{g=$D(r.mockUserToken,e._app?.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new mt(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new cn(_)}e._authCredentials=new AO(new oA(g,y))}}class Vs{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Vs(this.firestore,t,this._query)}}class je{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new je(this.firestore,t,this._key)}toJSON(){return{type:je._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(tc(n,je._jsonSchema))return new je(t,r||null,new bt(oe.fromString(n.referencePath)))}}je._jsonSchemaVersion="firestore/documentReference/1.0",je._jsonSchema={type:Ue("string",je._jsonSchemaVersion),referencePath:Ue("string")};class ws extends Vs{constructor(t,n,r){super(t,n,Uy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new je(this.firestore,null,new bt(t))}withConverter(t){return new ws(this.firestore,t,this._path)}}function TL(e,t,...n){if(e=xn(e),lA("collection","path",t),e instanceof ad){const r=oe.fromString(t,...n);return db(r),new ws(e,null,r)}{if(!(e instanceof je||e instanceof ws))throw new mt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(oe.fromString(t,...n));return db(r),new ws(e.firestore,null,r)}}function ju(e,t,...n){if(e=xn(e),arguments.length===1&&(t=My.newId()),lA("doc","path",t),e instanceof ad){const r=oe.fromString(t,...n);return fb(r),new je(e,null,new bt(r))}{if(!(e instanceof je||e instanceof ws))throw new mt(st.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(oe.fromString(t,...n));return fb(r),new je(e.firestore,e instanceof ws?e.converter:null,new bt(r))}}const eS="AsyncQueue";class nS{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tR(this,"async_queue_retry"),this._c=()=>{const r=Np();r&&pt(eS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=Np();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Np();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new wr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!el(t))throw t;pt(eS,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Ir("INTERNAL UNHANDLED ERROR: ",iS(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const a=Wy.createAndSchedule(this,t,n,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&At(47125,{Pc:iS(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function iS(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class od extends ad{constructor(t,n,r,a){super(t,n,r,a),this.type="firestore",this._queue=new nS,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new nS(t),this._firestoreClient=void 0,await t}}}function EL(e,t){const n=typeof e=="object"?e:Ew(),r=typeof e=="string"?e:Sf,a=Ty(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=KD("firestore");l&&_L(a,...l)}return a}function nv(e){if(e._terminated)throw new mt(st.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||bL(e),e._firestoreClient}function bL(e){const t=e._freezeSettings(),n=(function(a,l,c,d){return new GO(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,bR(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new mL(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(e._componentsProvider))}class Zn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Zn(an.fromBase64String(t))}catch(n){throw new mt(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Zn(an.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(tc(t,Zn._jsonSchema))return Zn.fromBase64String(t.bytes)}}Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:Ue("string",Zn._jsonSchemaVersion),bytes:Ue("string")};class iv{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new mt(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class wR{constructor(t){this._methodName=t}}class Qi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new mt(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new mt(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ft(this._lat,t._lat)||Ft(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qi._jsonSchemaVersion}}static fromJSON(t){if(tc(t,Qi._jsonSchema))return new Qi(t.latitude,t.longitude)}}Qi._jsonSchemaVersion="firestore/geoPoint/1.0",Qi._jsonSchema={type:Ue("string",Qi._jsonSchemaVersion),latitude:Ue("number"),longitude:Ue("number")};class Xi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(tc(t,Xi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Xi(t.vectorValues);throw new mt(st.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xi._jsonSchemaVersion="firestore/vectorValue/1.0",Xi._jsonSchema={type:Ue("string",Xi._jsonSchemaVersion),vectorValues:Ue("object")};const SL=/^__.*__$/;class wL{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Ma(t,this.data,this.fieldMask,n,this.fieldTransforms):new ec(t,this.data,n,this.fieldTransforms)}}function AR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At(40011,{Ac:e})}}class rv{constructor(t,n,r,a,l,c){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new rv({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Vf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(AR(this.Ac)&&SL.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class AL{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||id(t)}Cc(t,n,r,a=!1){return new rv({Ac:t,methodName:n,Dc:r,path:sn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function RR(e){const t=e._freezeSettings(),n=id(e._databaseId);return new AL(e._databaseId,!!t.ignoreUndefinedProperties,n)}function RL(e,t,n,r,a,l={}){const c=e.Cc(l.merge||l.mergeFields?2:0,t,n,a);IR("Data must be an object, but it was:",c,r);const d=CR(r,c);let m,g;if(l.merge)m=new Ei(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const b=xL(t,_,n);if(!c.contains(b))throw new mt(st.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);DL(y,b)||y.push(b)}m=new Ei(y),g=c.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,g=c.fieldTransforms;return new wL(new Jn(d),m,g)}function CL(e,t,n,r=!1){return sv(n,e.Cc(r?4:3,t))}function sv(e,t){if(xR(e=xn(e)))return IR("Unsupported field value:",t,e),CR(e,t);if(e instanceof wR)return(function(r,a){if(!AR(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,a){const l=[];let c=0;for(const d of r){let m=sv(d,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(e,t)}return(function(r,a){if((r=xn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return mP(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=ce.fromDate(r);return{timestampValue:If(a.serializer,l)}}if(r instanceof ce){const l=new ce(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:If(a.serializer,l)}}if(r instanceof Qi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zn)return{bytesValue:qA(a.serializer,r._byteString)};if(r instanceof je){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Fy(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Xi)return(function(c,d){return{mapValue:{fields:{[yA]:{stringValue:vA},[wf]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return jy(d.serializer,g)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${$f(r)}`)})(e,t)}function CR(e,t){const n={};return hA(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Da(e,((r,a)=>{const l=sv(a,t.mc(r));l!=null&&(n[r]=l)})),{mapValue:{fields:n}}}function xR(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ce||e instanceof Qi||e instanceof Zn||e instanceof je||e instanceof wR||e instanceof Xi)}function IR(e,t,n){if(!xR(n)||!uA(n)){const r=$f(n);throw r==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function xL(e,t,n){if((t=xn(t))instanceof iv)return t._internalPath;if(typeof t=="string")return DR(e,t);throw Vf("Field path arguments must be of type string or ",e,!1,void 0,n)}const IL=new RegExp("[~\\*/\\[\\]]");function DR(e,t,n){if(t.search(IL)>=0)throw Vf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new iv(...t.split("."))._internalPath}catch{throw Vf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Vf(e,t,n,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let d=`Function ${t}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${r}`),c&&(m+=` in document ${a}`),m+=")"),new mt(st.INVALID_ARGUMENT,d+e+m)}function DL(e,t){return e.some((n=>n.isEqual(t)))}class NR{constructor(t,n,r,a,l){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new NL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(av("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class NL extends NR{data(){return super.data()}}function av(e,t){return typeof t=="string"?DR(e,t):t instanceof iv?t._internalPath:t._delegate._internalPath}function ML(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new mt(st.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ov{}class lv extends ov{}function VL(e,t,...n){let r=[];t instanceof ov&&r.push(t),r=r.concat(n),(function(l){const c=l.filter((m=>m instanceof cv)).length,d=l.filter((m=>m instanceof uv)).length;if(c>1||c>0&&d>0)throw new mt(st.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)e=a._apply(e);return e}class uv extends lv{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new uv(t,n,r)}_apply(t){const n=this._parse(t);return MR(t._query,n),new Vs(t.firestore,t.converter,Vg(t._query,n))}_parse(t){const n=RR(t.firestore);return(function(l,c,d,m,g,y,_){let b;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new mt(st.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){sS(_,y);const O=[];for(const U of _)O.push(rS(m,l,U));b={arrayValue:{values:O}}}else b=rS(m,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||sS(_,y),b=CL(d,c,_,y==="in"||y==="not-in");return ke.create(g,y,b)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class cv extends ov{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new cv(t,n)}_parse(t){const n=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Si.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)MR(c,m),c=Vg(c,m)})(t._query,n),new Vs(t.firestore,t.converter,Vg(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class hv extends lv{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new hv(t,n)}_apply(t){const n=(function(a,l,c){if(a.startAt!==null)throw new mt(st.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new mt(st.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Lu(l,c)})(t._query,this._field,this._direction);return new Vs(t.firestore,t.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new nl(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(t._query,n))}}function OL(e,t="asc"){const n=t,r=av("orderBy",e);return hv._create(r,n)}class fv extends lv{constructor(t,n,r){super(),this.type=t,this._limit=n,this._limitType=r}static _create(t,n,r){return new fv(t,n,r)}_apply(t){return new Vs(t.firestore,t.converter,Rf(t._query,this._limit,this._limitType))}}function PL(e){return fv._create("limit",e,"F")}function rS(e,t,n){if(typeof(n=xn(n))=="string"){if(n==="")throw new mt(st.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RA(t)&&n.indexOf("/")!==-1)throw new mt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(oe.fromString(n));if(!bt.isDocumentKey(r))throw new mt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Eb(e,new bt(r))}if(n instanceof je)return Eb(e,n._key);throw new mt(st.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$f(n)}.`)}function sS(e,t){if(!Array.isArray(e)||e.length===0)throw new mt(st.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function MR(e,t){const n=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(e.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new mt(st.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new mt(st.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class LL{convertValue(t,n="none"){switch(xs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ae(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Cs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw At(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Da(t,((a,l)=>{r[a]=this.convertValue(l,n)})),r}convertVectorValue(t){const n=t.fields?.[wf].arrayValue?.values?.map((r=>Ae(r.doubleValue)));return new Xi(n)}convertGeoPoint(t){return new Qi(Ae(t.latitude),Ae(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Wf(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vu(t));default:return null}}convertTimestamp(t){const n=Rs(t);return new ce(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=oe.fromString(t);Jt(QA(r),9688,{name:t});const a=new Ou(r.get(1),r.get(3)),l=new bt(r.popFirst(5));return a.isEqual(n)||Ir(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function kL(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class yu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class _a extends NR{constructor(t,n,r,a,l,c){super(t,n,r,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new lf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(av("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(st.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=_a._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}_a._jsonSchemaVersion="firestore/documentSnapshot/1.0",_a._jsonSchema={type:Ue("string",_a._jsonSchemaVersion),bundleSource:Ue("string","DocumentSnapshot"),bundleName:Ue("string"),bundle:Ue("string")};class lf extends _a{data(t={}){return super.data(t)}}class Lo{constructor(t,n,r,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new yu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new lf(this._firestore,this._userDataWriter,r.key,r,new yu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new mt(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const m=new lf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new yu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new lf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new yu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,y=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:UL(d.type),doc:m,oldIndex:g,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(st.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Lo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=My.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function UL(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At(61501,{type:e})}}function dv(e){e=Ra(e,je);const t=Ra(e.firestore,od);return yL(nv(t),e._key).then((n=>BL(t,e,n)))}Lo._jsonSchemaVersion="firestore/querySnapshot/1.0",Lo._jsonSchema={type:Ue("string",Lo._jsonSchemaVersion),bundleSource:Ue("string","QuerySnapshot"),bundleName:Ue("string"),bundle:Ue("string")};class VR extends LL{constructor(t){super(),this.firestore=t}convertBytes(t){return new Zn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new je(this.firestore,null,n)}}function jL(e){e=Ra(e,Vs);const t=Ra(e.firestore,od),n=nv(t),r=new VR(t);return ML(e._query),vL(n,e._query).then((a=>new Lo(t,r,e,a)))}function OR(e,t,n){e=Ra(e,je);const r=Ra(e.firestore,od),a=kL(e.converter,t,n);return zL(r,[RL(RR(r),"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,Ar.none())])}function zL(e,t){return(function(r,a){const l=new wr;return r.asyncQueue.enqueueAndForget((async()=>sL(await gL(r),a,l))),l.promise})(nv(e),t)}function BL(e,t,n){const r=n.docs.get(t._key),a=new VR(e);return new _a(e,a,t._key,r,new yu(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(a){Zo=a})(Wo),Uo(new Sa("firestore",((r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),d=new od(new RO(r.getProvider("auth-internal")),new IO(c,r.getProvider("app-check-internal")),(function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new mt(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ou(g.options.projectId,y)})(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),bs(lb,ub,t),bs(lb,ub,"esm2020")})();const FL={apiKey:"AIzaSyAv3lXBF8luX9q6-p9lCd12iB2VbcX6JyU",authDomain:"employment-simulator.firebaseapp.com",projectId:"employment-simulator",storageBucket:"employment-simulator.firebasestorage.app",messagingSenderId:"33354203420",appId:"1:33354203420:web:744ff4c254a7e9ad70fad9"},PR=Tw(FL),Vp=bO(PR),Ko=EL(PR),LR=gg.createContext();function ld(){return N.useContext(LR)}function qL({children:e}){const[t,n]=N.useState(null),[r,a]=N.useState(!0);function l(){const m=new Tr;return NV(Vp,m)}function c(){return hV(Vp)}N.useEffect(()=>cV(Vp,g=>{n(g),a(!1)}),[]);const d={currentUser:t,loginWithGoogle:l,logout:c};return V.jsx(LR.Provider,{value:d,children:!r&&e})}const mv=N.createContext({});function pv(e){const t=N.useRef(null);return t.current===null&&(t.current=e()),t.current}const gv=typeof window<"u",kR=gv?N.useLayoutEffect:N.useEffect,ud=N.createContext(null);function yv(e,t){e.indexOf(t)===-1&&e.push(t)}function vv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Nr=(e,t,n)=>n>t?t:n<e?e:n;let _v=()=>{};const Mr={},UR=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function jR(e){return typeof e=="object"&&e!==null}const zR=e=>/^0[^.\s]+$/u.test(e);function Tv(e){let t;return()=>(t===void 0&&(t=e()),t)}const ei=e=>e,HL=(e,t)=>n=>t(e(n)),sc=(...e)=>e.reduce(HL),zu=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Ev{constructor(){this.subscriptions=[]}add(t){return yv(this.subscriptions,t),()=>vv(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Wi=e=>e*1e3,ti=e=>e/1e3;function BR(e,t){return t?e*(1e3/t):0}const FR=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,GL=1e-7,KL=12;function YL(e,t,n,r,a){let l,c,d=0;do c=t+(n-t)/2,l=FR(c,r,a)-e,l>0?n=c:t=c;while(Math.abs(l)>GL&&++d<KL);return c}function ac(e,t,n,r){if(e===t&&n===r)return ei;const a=l=>YL(l,0,1,e,n);return l=>l===0||l===1?l:FR(a(l),t,r)}const qR=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,HR=e=>t=>1-e(1-t),GR=ac(.33,1.53,.69,.99),bv=HR(GR),KR=qR(bv),YR=e=>(e*=2)<1?.5*bv(e):.5*(2-Math.pow(2,-10*(e-1))),Sv=e=>1-Math.sin(Math.acos(e)),$R=HR(Sv),QR=qR(Sv),$L=ac(.42,0,1,1),QL=ac(0,0,.58,1),XR=ac(.42,0,.58,1),XL=e=>Array.isArray(e)&&typeof e[0]!="number",WR=e=>Array.isArray(e)&&typeof e[0]=="number",WL={linear:ei,easeIn:$L,easeInOut:XR,easeOut:QL,circIn:Sv,circInOut:QR,circOut:$R,backIn:bv,backInOut:KR,backOut:GR,anticipate:YR},JL=e=>typeof e=="string",aS=e=>{if(WR(e)){_v(e.length===4);const[t,n,r,a]=e;return ac(t,n,r,a)}else if(JL(e))return WL[e];return e},Gh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function ZL(e,t){let n=new Set,r=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(g.schedule(y),e()),y(d)}const g={schedule:(y,_=!1,b=!1)=>{const O=b&&a?n:r;return _&&c.add(y),O.has(y)||O.add(y),y},cancel:y=>{r.delete(y),c.delete(y)},process:y=>{if(d=y,a){l=!0;return}a=!0,[n,r]=[r,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,g.process(y))}};return g}const tk=40;function JR(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Gh.reduce((q,lt)=>(q[lt]=ZL(l),q),{}),{setup:d,read:m,resolveKeyframes:g,preUpdate:y,update:_,preRender:b,render:C,postRender:O}=c,U=()=>{const q=Mr.useManualTiming?a.timestamp:performance.now();n=!1,Mr.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(q-a.timestamp,tk),1)),a.timestamp=q,a.isProcessing=!0,d.process(a),m.process(a),g.process(a),y.process(a),_.process(a),b.process(a),C.process(a),O.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(U))},L=()=>{n=!0,r=!0,a.isProcessing||e(U)};return{schedule:Gh.reduce((q,lt)=>{const at=c[lt];return q[lt]=(ht,x=!1,A=!1)=>(n||L(),at.schedule(ht,x,A)),q},{}),cancel:q=>{for(let lt=0;lt<Gh.length;lt++)c[Gh[lt]].cancel(q)},state:a,steps:c}}const{schedule:de,cancel:Ns,state:nn,steps:Op}=JR(typeof requestAnimationFrame<"u"?requestAnimationFrame:ei,!0);let uf;function ek(){uf=void 0}const Cn={now:()=>(uf===void 0&&Cn.set(nn.isProcessing||Mr.useManualTiming?nn.timestamp:performance.now()),uf),set:e=>{uf=e,queueMicrotask(ek)}},ZR=e=>t=>typeof t=="string"&&t.startsWith(e),wv=ZR("--"),nk=ZR("var(--"),Av=e=>nk(e)?ik.test(e.split("/*")[0].trim()):!1,ik=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,rl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Bu={...rl,transform:e=>Nr(0,1,e)},Kh={...rl,default:1},Au=e=>Math.round(e*1e5)/1e5,Rv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function rk(e){return e==null}const sk=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Cv=(e,t)=>n=>!!(typeof n=="string"&&sk.test(n)&&n.startsWith(e)||t&&!rk(n)&&Object.prototype.hasOwnProperty.call(n,t)),tC=(e,t,n)=>r=>{if(typeof r!="string")return r;const[a,l,c,d]=r.match(Rv);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},ak=e=>Nr(0,255,e),Pp={...rl,transform:e=>Math.round(ak(e))},ga={test:Cv("rgb","red"),parse:tC("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Pp.transform(e)+", "+Pp.transform(t)+", "+Pp.transform(n)+", "+Au(Bu.transform(r))+")"};function ok(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const qg={test:Cv("#"),parse:ok,transform:ga.transform},oc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ps=oc("deg"),Ji=oc("%"),Rt=oc("px"),lk=oc("vh"),uk=oc("vw"),oS={...Ji,parse:e=>Ji.parse(e)/100,transform:e=>Ji.transform(e*100)},Co={test:Cv("hsl","hue"),parse:tC("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Ji.transform(Au(t))+", "+Ji.transform(Au(n))+", "+Au(Bu.transform(r))+")"},Le={test:e=>ga.test(e)||qg.test(e)||Co.test(e),parse:e=>ga.test(e)?ga.parse(e):Co.test(e)?Co.parse(e):qg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ga.transform(e):Co.transform(e),getAnimatableNone:e=>{const t=Le.parse(e);return t.alpha=0,Le.transform(t)}},ck=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function hk(e){return isNaN(e)&&typeof e=="string"&&(e.match(Rv)?.length||0)+(e.match(ck)?.length||0)>0}const eC="number",nC="color",fk="var",dk="var(",lS="${}",mk=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Fu(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let l=0;const d=t.replace(mk,m=>(Le.test(m)?(r.color.push(l),a.push(nC),n.push(Le.parse(m))):m.startsWith(dk)?(r.var.push(l),a.push(fk),n.push(m)):(r.number.push(l),a.push(eC),n.push(parseFloat(m))),++l,lS)).split(lS);return{values:n,split:d,indexes:r,types:a}}function iC(e){return Fu(e).values}function rC(e){const{split:t,types:n}=Fu(e),r=t.length;return a=>{let l="";for(let c=0;c<r;c++)if(l+=t[c],a[c]!==void 0){const d=n[c];d===eC?l+=Au(a[c]):d===nC?l+=Le.transform(a[c]):l+=a[c]}return l}}const pk=e=>typeof e=="number"?0:Le.test(e)?Le.getAnimatableNone(e):e;function gk(e){const t=iC(e);return rC(e)(t.map(pk))}const Ms={test:hk,parse:iC,createTransformer:rC,getAnimatableNone:gk};function Lp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function yk({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,l=0,c=0;if(!t)a=l=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,m=2*n-d;a=Lp(m,d,e+1/3),l=Lp(m,d,e),c=Lp(m,d,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function Of(e,t){return n=>n>0?t:e}const me=(e,t,n)=>e+(t-e)*n,kp=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},vk=[qg,ga,Co],_k=e=>vk.find(t=>t.test(e));function uS(e){const t=_k(e);if(!t)return!1;let n=t.parse(e);return t===Co&&(n=yk(n)),n}const cS=(e,t)=>{const n=uS(e),r=uS(t);if(!n||!r)return Of(e,t);const a={...n};return l=>(a.red=kp(n.red,r.red,l),a.green=kp(n.green,r.green,l),a.blue=kp(n.blue,r.blue,l),a.alpha=me(n.alpha,r.alpha,l),ga.transform(a))},Hg=new Set(["none","hidden"]);function Tk(e,t){return Hg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Ek(e,t){return n=>me(e,t,n)}function xv(e){return typeof e=="number"?Ek:typeof e=="string"?Av(e)?Of:Le.test(e)?cS:wk:Array.isArray(e)?sC:typeof e=="object"?Le.test(e)?cS:bk:Of}function sC(e,t){const n=[...e],r=n.length,a=e.map((l,c)=>xv(l)(l,t[c]));return l=>{for(let c=0;c<r;c++)n[c]=a[c](l);return n}}function bk(e,t){const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=xv(e[a])(e[a],t[a]));return a=>{for(const l in r)n[l]=r[l](a);return n}}function Sk(e,t){const n=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=e.indexes[l][r[l]],d=e.values[c]??0;n[a]=d,r[l]++}return n}const wk=(e,t)=>{const n=Ms.createTransformer(t),r=Fu(e),a=Fu(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?Hg.has(e)&&!a.values.length||Hg.has(t)&&!r.values.length?Tk(e,t):sc(sC(Sk(r,a),a.values),n):Of(e,t)};function aC(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?me(e,t,n):xv(e)(e,t)}const Ak=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>de.update(t,n),stop:()=>Ns(t),now:()=>nn.isProcessing?nn.timestamp:Cn.now()}},oC=(e,t,n=10)=>{let r="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)r+=Math.round(e(l/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Pf=2e4;function Iv(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Pf;)t+=n,r=e.next(t);return t>=Pf?1/0:t}function Rk(e,t=100,n){const r=n({...e,keyframes:[0,t]}),a=Math.min(Iv(r),Pf);return{type:"keyframes",ease:l=>r.next(a*l).value/t,duration:ti(a)}}const Ck=5;function lC(e,t,n){const r=Math.max(t-Ck,0);return BR(n-e(r),t-r)}const _e={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Up=.001;function xk({duration:e=_e.duration,bounce:t=_e.bounce,velocity:n=_e.velocity,mass:r=_e.mass}){let a,l,c=1-t;c=Nr(_e.minDamping,_e.maxDamping,c),e=Nr(_e.minDuration,_e.maxDuration,ti(e)),c<1?(a=g=>{const y=g*c,_=y*e,b=y-n,C=Gg(g,c),O=Math.exp(-_);return Up-b/C*O},l=g=>{const _=g*c*e,b=_*n+n,C=Math.pow(c,2)*Math.pow(g,2)*e,O=Math.exp(-_),U=Gg(Math.pow(g,2),c);return(-a(g)+Up>0?-1:1)*((b-C)*O)/U}):(a=g=>{const y=Math.exp(-g*e),_=(g-n)*e+1;return-Up+y*_},l=g=>{const y=Math.exp(-g*e),_=(n-g)*(e*e);return y*_});const d=5/e,m=Dk(a,l,d);if(e=Wi(e),isNaN(m))return{stiffness:_e.stiffness,damping:_e.damping,duration:e};{const g=Math.pow(m,2)*r;return{stiffness:g,damping:c*2*Math.sqrt(r*g),duration:e}}}const Ik=12;function Dk(e,t,n){let r=n;for(let a=1;a<Ik;a++)r=r-e(r)/t(r);return r}function Gg(e,t){return e*Math.sqrt(1-t*t)}const Nk=["duration","bounce"],Mk=["stiffness","damping","mass"];function hS(e,t){return t.some(n=>e[n]!==void 0)}function Vk(e){let t={velocity:_e.velocity,stiffness:_e.stiffness,damping:_e.damping,mass:_e.mass,isResolvedFromDuration:!1,...e};if(!hS(e,Mk)&&hS(e,Nk))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,l=2*Nr(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:_e.mass,stiffness:a,damping:l}}else{const n=xk(e);t={...t,...n,mass:_e.mass},t.isResolvedFromDuration=!0}return t}function Lf(e=_e.visualDuration,t=_e.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:g,mass:y,duration:_,velocity:b,isResolvedFromDuration:C}=Vk({...n,velocity:-ti(n.velocity||0)}),O=b||0,U=g/(2*Math.sqrt(m*y)),L=c-l,z=ti(Math.sqrt(m/y)),G=Math.abs(L)<5;r||(r=G?_e.restSpeed.granular:_e.restSpeed.default),a||(a=G?_e.restDelta.granular:_e.restDelta.default);let q;if(U<1){const at=Gg(z,U);q=ht=>{const x=Math.exp(-U*z*ht);return c-x*((O+U*z*L)/at*Math.sin(at*ht)+L*Math.cos(at*ht))}}else if(U===1)q=at=>c-Math.exp(-z*at)*(L+(O+z*L)*at);else{const at=z*Math.sqrt(U*U-1);q=ht=>{const x=Math.exp(-U*z*ht),A=Math.min(at*ht,300);return c-x*((O+U*z*L)*Math.sinh(A)+at*L*Math.cosh(A))/at}}const lt={calculatedDuration:C&&_||null,next:at=>{const ht=q(at);if(C)d.done=at>=_;else{let x=at===0?O:0;U<1&&(x=at===0?Wi(O):lC(q,at,ht));const A=Math.abs(x)<=r,I=Math.abs(c-ht)<=a;d.done=A&&I}return d.value=d.done?c:ht,d},toString:()=>{const at=Math.min(Iv(lt),Pf),ht=oC(x=>lt.next(at*x).value,at,30);return at+"ms "+ht},toTransition:()=>{}};return lt}Lf.applyToOptions=e=>{const t=Rk(e,100,Lf);return e.ease=t.ease,e.duration=Wi(t.duration),e.type="keyframes",e};function Kg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:m,restDelta:g=.5,restSpeed:y}){const _=e[0],b={done:!1,value:_},C=A=>d!==void 0&&A<d||m!==void 0&&A>m,O=A=>d===void 0?m:m===void 0||Math.abs(d-A)<Math.abs(m-A)?d:m;let U=n*t;const L=_+U,z=c===void 0?L:c(L);z!==L&&(U=z-_);const G=A=>-U*Math.exp(-A/r),q=A=>z+G(A),lt=A=>{const I=G(A),k=q(A);b.done=Math.abs(I)<=g,b.value=b.done?z:k};let at,ht;const x=A=>{C(b.value)&&(at=A,ht=Lf({keyframes:[b.value,O(b.value)],velocity:lC(q,A,b.value),damping:a,stiffness:l,restDelta:g,restSpeed:y}))};return x(0),{calculatedDuration:null,next:A=>{let I=!1;return!ht&&at===void 0&&(I=!0,lt(A),x(A)),at!==void 0&&A>=at?ht.next(A-at):(!I&&lt(A),b)}}}function Ok(e,t,n){const r=[],a=n||Mr.mix||aC,l=e.length-1;for(let c=0;c<l;c++){let d=a(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||ei:t;d=sc(m,d)}r.push(d)}return r}function Pk(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const l=e.length;if(_v(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=Ok(t,r,a),m=d.length,g=y=>{if(c&&y<e[0])return t[0];let _=0;if(m>1)for(;_<e.length-2&&!(y<e[_+1]);_++);const b=zu(e[_],e[_+1],y);return d[_](b)};return n?y=>g(Nr(e[0],e[l-1],y)):g}function Lk(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=zu(0,t,r);e.push(me(n,1,a))}}function kk(e){const t=[0];return Lk(t,e.length-1),t}function Uk(e,t){return e.map(n=>n*t)}function jk(e,t){return e.map(()=>t||XR).splice(0,e.length-1)}function Ru({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=XL(r)?r.map(aS):aS(r),l={done:!1,value:t[0]},c=Uk(n&&n.length===t.length?n:kk(t),e),d=Pk(c,t,{ease:Array.isArray(a)?a:jk(t,a)});return{calculatedDuration:e,next:m=>(l.value=d(m),l.done=m>=e,l)}}const zk=e=>e!==null;function Dv(e,{repeat:t,repeatType:n="loop"},r,a=1){const l=e.filter(zk),d=a<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!d||r===void 0?l[d]:r}const Bk={decay:Kg,inertia:Kg,tween:Ru,keyframes:Ru,spring:Lf};function uC(e){typeof e.type=="string"&&(e.type=Bk[e.type])}class Nv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const Fk=e=>e/100;class Mv extends Nv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Cn.now()&&this.tick(Cn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;uC(t);const{type:n=Ru,repeat:r=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:d}=t;const m=n||Ru;m!==Ru&&typeof d[0]!="number"&&(this.mixKeyframes=sc(Fk,aC(d[0],d[1])),d=[0,100]);const g=m({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...d].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Iv(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=g}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:y,repeat:_,repeatType:b,repeatDelay:C,type:O,onUpdate:U,finalKeyframe:L}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const z=this.currentTime-g*(this.playbackSpeed>=0?1:-1),G=this.playbackSpeed>=0?z<0:z>a;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let q=this.currentTime,lt=r;if(_){const A=Math.min(this.currentTime,a)/d;let I=Math.floor(A),k=A%1;!k&&A>=1&&(k=1),k===1&&I--,I=Math.min(I,_+1),!!(I%2)&&(b==="reverse"?(k=1-k,C&&(k-=C/d)):b==="mirror"&&(lt=c)),q=Nr(0,1,k)*d}const at=G?{done:!1,value:y[0]}:lt.next(q);l&&(at.value=l(at.value));let{done:ht}=at;!G&&m!==null&&(ht=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const x=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ht);return x&&O!==Kg&&(at.value=Dv(y,this.options,L,this.speed)),U&&U(at.value),x&&this.finish(),at}then(t,n){return this.finished.then(t,n)}get duration(){return ti(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ti(t)}get time(){return ti(this.currentTime)}set time(t){t=Wi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Cn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=ti(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=Ak,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Cn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function qk(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ya=e=>e*180/Math.PI,Yg=e=>{const t=ya(Math.atan2(e[1],e[0]));return $g(t)},Hk={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Yg,rotateZ:Yg,skewX:e=>ya(Math.atan(e[1])),skewY:e=>ya(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},$g=e=>(e=e%360,e<0&&(e+=360),e),fS=Yg,dS=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),mS=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Gk={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:dS,scaleY:mS,scale:e=>(dS(e)+mS(e))/2,rotateX:e=>$g(ya(Math.atan2(e[6],e[5]))),rotateY:e=>$g(ya(Math.atan2(-e[2],e[0]))),rotateZ:fS,rotate:fS,skewX:e=>ya(Math.atan(e[4])),skewY:e=>ya(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Qg(e){return e.includes("scale")?1:0}function Xg(e,t){if(!e||e==="none")return Qg(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=Gk,a=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Hk,a=d}if(!a)return Qg(t);const l=r[t],c=a[1].split(",").map(Yk);return typeof l=="function"?l(c):c[l]}const Kk=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Xg(n,t)};function Yk(e){return parseFloat(e.trim())}const sl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],al=new Set(sl),pS=e=>e===rl||e===Rt,$k=new Set(["x","y","z"]),Qk=sl.filter(e=>!$k.has(e));function Xk(e){const t=[];return Qk.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Ta={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Xg(t,"x"),y:(e,{transform:t})=>Xg(t,"y")};Ta.translateX=Ta.x;Ta.translateY=Ta.y;const Ea=new Set;let Wg=!1,Jg=!1,Zg=!1;function cC(){if(Jg){const e=Array.from(Ea).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const a=Xk(r);a.length&&(n.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([l,c])=>{r.getValue(l)?.set(c)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Jg=!1,Wg=!1,Ea.forEach(e=>e.complete(Zg)),Ea.clear()}function hC(){Ea.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Jg=!0)})}function Wk(){Zg=!0,hC(),cC(),Zg=!1}class Vv{constructor(t,n,r,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ea.add(this),Wg||(Wg=!0,de.read(hC),de.resolveKeyframes(cC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:a}=this;if(t[0]===null){const l=a?.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(r&&n){const d=r.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}qk(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ea.delete(this)}cancel(){this.state==="scheduled"&&(Ea.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Jk=e=>e.startsWith("--");function Zk(e,t,n){Jk(t)?e.style.setProperty(t,n):e.style[t]=n}const t3=Tv(()=>window.ScrollTimeline!==void 0),e3={};function n3(e,t){const n=Tv(e);return()=>e3[t]??n()}const fC=n3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),vu=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,gS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vu([0,.65,.55,1]),circOut:vu([.55,0,1,.45]),backIn:vu([.31,.01,.66,-.59]),backOut:vu([.33,1.53,.69,.99])};function dC(e,t){if(e)return typeof e=="function"?fC()?oC(e,t):"ease-out":WR(e)?vu(e):Array.isArray(e)?e.map(n=>dC(n,t)||gS.easeOut):gS[e]}function i3(e,t,n,{delay:r=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:m}={},g=void 0){const y={[t]:n};m&&(y.offset=m);const _=dC(d,a);Array.isArray(_)&&(y.easing=_);const b={delay:r,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return g&&(b.pseudoElement=g),e.animate(y,b)}function mC(e){return typeof e=="function"&&"applyToOptions"in e}function r3({type:e,...t}){return mC(e)&&fC()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class s3 extends Nv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,_v(typeof t.type!="string");const g=r3(t);this.animation=i3(n,r,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=Dv(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):Zk(n,r,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return ti(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ti(t)}get time(){return ti(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Wi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&t3()?(this.animation.timeline=t,ei):n(this)}}const pC={anticipate:YR,backInOut:KR,circInOut:QR};function a3(e){return e in pC}function o3(e){typeof e.ease=="string"&&a3(e.ease)&&(e.ease=pC[e.ease])}const yS=10;class l3 extends s3{constructor(t){o3(t),uC(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:a,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new Mv({...c,autoplay:!1}),m=Wi(this.finishedTime??this.time);n.setWithVelocity(d.sample(m-yS).value,d.sample(m).value,yS),d.stop()}}const vS=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ms.test(e)||e==="0")&&!e.startsWith("url("));function u3(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function c3(e,t,n,r){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=vS(a,t),d=vS(l,t);return!c||!d?!1:u3(e)||(n==="spring"||mC(n))&&r}function ty(e){e.duration=0,e.type="keyframes"}const h3=new Set(["opacity","clipPath","filter","transform"]),f3=Tv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function d3(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:a,damping:l,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=t.owner.getProps();return f3()&&n&&h3.has(n)&&(n!=="transform"||!g)&&!m&&!r&&a!=="mirror"&&l!==0&&c!=="inertia"}const m3=40;class p3 extends Nv{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:m,motionValue:g,element:y,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Cn.now();const b={autoplay:t,delay:n,type:r,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:g,element:y,..._},C=y?.KeyframeResolver||Vv;this.keyframeResolver=new C(d,(O,U,L)=>this.onKeyframesResolved(O,U,b,!L),m,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,r,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:m,isHandoff:g,onUpdate:y}=r;this.resolvedAt=Cn.now(),c3(t,l,c,d)||((Mr.instantAnimations||!m)&&y?.(Dv(t,r,n)),t[0]=t[t.length-1],ty(r),r.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>m3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},C=!g&&d3(b)?new l3({...b,element:b.motionValue.owner.current}):new Mv(b);C.finished.then(()=>this.notifyFinished()).catch(ei),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Wk()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const g3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function y3(e){const t=g3.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${n??r}`,a]}function gC(e,t,n=1){const[r,a]=y3(e);if(!r)return;const l=window.getComputedStyle(t).getPropertyValue(r);if(l){const c=l.trim();return UR(c)?parseFloat(c):c}return Av(a)?gC(a,t,n+1):a}function Ov(e,t){return e?.[t]??e?.default??e}const yC=new Set(["width","height","top","left","right","bottom",...sl]),v3={test:e=>e==="auto",parse:e=>e},vC=e=>t=>t.test(e),_C=[rl,Rt,Ji,ps,uk,lk,v3],_S=e=>_C.find(vC(e));function _3(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||zR(e):!0}const T3=new Set(["brightness","contrast","saturate","opacity"]);function E3(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Rv)||[];if(!r)return e;const a=n.replace(r,"");let l=T3.has(t)?1:0;return r!==n&&(l*=100),t+"("+l+a+")"}const b3=/\b([a-z-]*)\(.*?\)/gu,ey={...Ms,getAnimatableNone:e=>{const t=e.match(b3);return t?t.map(E3).join(" "):e}},TS={...rl,transform:Math.round},S3={rotate:ps,rotateX:ps,rotateY:ps,rotateZ:ps,scale:Kh,scaleX:Kh,scaleY:Kh,scaleZ:Kh,skew:ps,skewX:ps,skewY:ps,distance:Rt,translateX:Rt,translateY:Rt,translateZ:Rt,x:Rt,y:Rt,z:Rt,perspective:Rt,transformPerspective:Rt,opacity:Bu,originX:oS,originY:oS,originZ:Rt},Pv={borderWidth:Rt,borderTopWidth:Rt,borderRightWidth:Rt,borderBottomWidth:Rt,borderLeftWidth:Rt,borderRadius:Rt,radius:Rt,borderTopLeftRadius:Rt,borderTopRightRadius:Rt,borderBottomRightRadius:Rt,borderBottomLeftRadius:Rt,width:Rt,maxWidth:Rt,height:Rt,maxHeight:Rt,top:Rt,right:Rt,bottom:Rt,left:Rt,padding:Rt,paddingTop:Rt,paddingRight:Rt,paddingBottom:Rt,paddingLeft:Rt,margin:Rt,marginTop:Rt,marginRight:Rt,marginBottom:Rt,marginLeft:Rt,backgroundPositionX:Rt,backgroundPositionY:Rt,...S3,zIndex:TS,fillOpacity:Bu,strokeOpacity:Bu,numOctaves:TS},w3={...Pv,color:Le,backgroundColor:Le,outlineColor:Le,fill:Le,stroke:Le,borderColor:Le,borderTopColor:Le,borderRightColor:Le,borderBottomColor:Le,borderLeftColor:Le,filter:ey,WebkitFilter:ey},TC=e=>w3[e];function EC(e,t){let n=TC(e);return n!==ey&&(n=Ms),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const A3=new Set(["auto","none","0"]);function R3(e,t,n){let r=0,a;for(;r<e.length&&!a;){const l=e[r];typeof l=="string"&&!A3.has(l)&&Fu(l).values.length&&(a=e[r]),r++}if(a&&n)for(const l of t)e[l]=EC(n,a)}class C3 extends Vv{constructor(t,n,r,a,l){super(t,n,r,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let g=t[m];if(typeof g=="string"&&(g=g.trim(),Av(g))){const y=gC(g,n.current);y!==void 0&&(t[m]=y),m===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!yC.has(r)||t.length!==2)return;const[a,l]=t,c=_S(a),d=_S(l);if(c!==d)if(pS(c)&&pS(d))for(let m=0;m<t.length;m++){const g=t[m];typeof g=="string"&&(t[m]=parseFloat(g))}else Ta[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let a=0;a<t.length;a++)(t[a]===null||_3(t[a]))&&r.push(a);r.length&&R3(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ta[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=r.length-1,c=r[l];r[l]=Ta[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{t.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function x3(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const a=n?.[e]??r.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const bC=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function SC(e){return jR(e)&&"offsetHeight"in e}const ES=30,I3=e=>!isNaN(parseFloat(e));class D3{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const a=Cn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Cn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=I3(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Ev);const r=this.events[t].add(n);return t==="change"?()=>{r(),de.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Cn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>ES)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ES);return BR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yo(e,t){return new D3(e,t)}const{schedule:Lv}=JR(queueMicrotask,!1),vi={x:!1,y:!1};function wC(){return vi.x||vi.y}function N3(e){return e==="x"||e==="y"?vi[e]?null:(vi[e]=!0,()=>{vi[e]=!1}):vi.x||vi.y?null:(vi.x=vi.y=!0,()=>{vi.x=vi.y=!1})}function AC(e,t){const n=x3(e),r=new AbortController,a={passive:!0,...t,signal:r.signal};return[n,a,()=>r.abort()]}function bS(e){return!(e.pointerType==="touch"||wC())}function M3(e,t,n={}){const[r,a,l]=AC(e,n),c=d=>{if(!bS(d))return;const{target:m}=d,g=t(m,d);if(typeof g!="function"||!m)return;const y=_=>{bS(_)&&(g(_),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return r.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const RC=(e,t)=>t?e===t?!0:RC(e,t.parentElement):!1,kv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,V3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function O3(e){return V3.has(e.tagName)||e.tabIndex!==-1}const cf=new WeakSet;function SS(e){return t=>{t.key==="Enter"&&e(t)}}function jp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const P3=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=SS(()=>{if(cf.has(n))return;jp(n,"down");const a=SS(()=>{jp(n,"up")}),l=()=>jp(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function wS(e){return kv(e)&&!wC()}function L3(e,t,n={}){const[r,a,l]=AC(e,n),c=d=>{const m=d.currentTarget;if(!wS(d))return;cf.add(m);const g=t(m,d),y=(C,O)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",b),cf.has(m)&&cf.delete(m),wS(C)&&typeof g=="function"&&g(C,{success:O})},_=C=>{y(C,m===window||m===document||n.useGlobalTarget||RC(m,C.target))},b=C=>{y(C,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",b,a)};return r.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),SC(d)&&(d.addEventListener("focus",g=>P3(g,a)),!O3(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function CC(e){return jR(e)&&"ownerSVGElement"in e}function k3(e){return CC(e)&&e.tagName==="svg"}const fn=e=>!!(e&&e.getVelocity),U3=[..._C,Le,Ms],j3=e=>U3.find(vC(e)),Uv=N.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function AS(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function z3(...e){return t=>{let n=!1;const r=e.map(a=>{const l=AS(a,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<r.length;a++){const l=r[a];typeof l=="function"?l():AS(e[a],null)}}}}function B3(...e){return N.useCallback(z3(...e),e)}class F3 extends N.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=SC(r)&&r.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function q3({children:e,isPresent:t,anchorX:n,root:r}){const a=N.useId(),l=N.useRef(null),c=N.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=N.useContext(Uv),m=B3(l,e?.ref);return N.useInsertionEffect(()=>{const{width:g,height:y,top:_,left:b,right:C}=c.current;if(t||!l.current||!g||!y)return;const O=n==="left"?`left: ${b}`:`right: ${C}`;l.current.dataset.motionPopId=a;const U=document.createElement("style");d&&(U.nonce=d);const L=r??document.head;return L.appendChild(U),U.sheet&&U.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${y}px !important;
            ${O}px !important;
            top: ${_}px !important;
          }
        `),()=>{L.contains(U)&&L.removeChild(U)}},[t]),V.jsx(F3,{isPresent:t,childRef:l,sizeRef:c,children:N.cloneElement(e,{ref:m})})}const H3=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:l,mode:c,anchorX:d,root:m})=>{const g=pv(G3),y=N.useId();let _=!0,b=N.useMemo(()=>(_=!1,{id:y,initial:t,isPresent:n,custom:a,onExitComplete:C=>{g.set(C,!0);for(const O of g.values())if(!O)return;r&&r()},register:C=>(g.set(C,!1),()=>g.delete(C))}),[n,g,r]);return l&&_&&(b={...b}),N.useMemo(()=>{g.forEach((C,O)=>g.set(O,!1))},[n]),N.useEffect(()=>{!n&&!g.size&&r&&r()},[n]),c==="popLayout"&&(e=V.jsx(q3,{isPresent:n,anchorX:d,root:m,children:e})),V.jsx(ud.Provider,{value:b,children:e})};function G3(){return new Map}function xC(e=!0){const t=N.useContext(ud);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=t,l=N.useId();N.useEffect(()=>{if(e)return a(l)},[e]);const c=N.useCallback(()=>e&&r&&r(l),[l,r,e]);return!n&&r?[!1,c]:[!0]}const Yh=e=>e.key||"";function RS(e){const t=[];return N.Children.forEach(e,n=>{N.isValidElement(n)&&t.push(n)}),t}const cd=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",root:m})=>{const[g,y]=xC(c),_=N.useMemo(()=>RS(e),[e]),b=c&&!g?[]:_.map(Yh),C=N.useRef(!0),O=N.useRef(_),U=pv(()=>new Map),[L,z]=N.useState(_),[G,q]=N.useState(_);kR(()=>{C.current=!1,O.current=_;for(let ht=0;ht<G.length;ht++){const x=Yh(G[ht]);b.includes(x)?U.delete(x):U.get(x)!==!0&&U.set(x,!1)}},[G,b.length,b.join("-")]);const lt=[];if(_!==L){let ht=[..._];for(let x=0;x<G.length;x++){const A=G[x],I=Yh(A);b.includes(I)||(ht.splice(x,0,A),lt.push(A))}return l==="wait"&&lt.length&&(ht=lt),q(RS(ht)),z(_),null}const{forceRender:at}=N.useContext(mv);return V.jsx(V.Fragment,{children:G.map(ht=>{const x=Yh(ht),A=c&&!g?!1:_===G||b.includes(x),I=()=>{if(U.has(x))U.set(x,!0);else return;let k=!0;U.forEach(P=>{P||(k=!1)}),k&&(at?.(),q(O.current),c&&y?.(),r&&r())};return V.jsx(H3,{isPresent:A,initial:!C.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:A?void 0:I,anchorX:d,children:ht},x)})})},IC=N.createContext({strict:!1}),CS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$o={};for(const e in CS)$o[e]={isEnabled:t=>CS[e].some(n=>!!t[n])};function K3(e){for(const t in e)$o[t]={...$o[t],...e[t]}}const Y3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function kf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Y3.has(e)}let DC=e=>!kf(e);function $3(e){typeof e=="function"&&(DC=t=>t.startsWith("on")?!kf(t):e(t))}try{$3(require("@emotion/is-prop-valid").default)}catch{}function Q3(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(DC(a)||n===!0&&kf(a)||!t&&!kf(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}const hd=N.createContext({});function fd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function qu(e){return typeof e=="string"||Array.isArray(e)}const jv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],zv=["initial",...jv];function dd(e){return fd(e.animate)||zv.some(t=>qu(e[t]))}function NC(e){return!!(dd(e)||e.variants)}function X3(e,t){if(dd(e)){const{initial:n,animate:r}=e;return{initial:n===!1||qu(n)?n:void 0,animate:qu(r)?r:void 0}}return e.inherit!==!1?t:{}}function W3(e){const{initial:t,animate:n}=X3(e,N.useContext(hd));return N.useMemo(()=>({initial:t,animate:n}),[xS(t),xS(n)])}function xS(e){return Array.isArray(e)?e.join(" "):e}const Hu={};function J3(e){for(const t in e)Hu[t]=e[t],wv(t)&&(Hu[t].isCSSVariable=!0)}function MC(e,{layout:t,layoutId:n}){return al.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Hu[e]||e==="opacity")}const Z3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},t6=sl.length;function e6(e,t,n){let r="",a=!0;for(let l=0;l<t6;l++){const c=sl[l],d=e[c];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(c.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||n){const g=bC(d,Pv[c]);if(!m){a=!1;const y=Z3[c]||c;r+=`${y}(${g}) `}n&&(t[c]=g)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}function Bv(e,t,n){const{style:r,vars:a,transformOrigin:l}=e;let c=!1,d=!1;for(const m in t){const g=t[m];if(al.has(m)){c=!0;continue}else if(wv(m)){a[m]=g;continue}else{const y=bC(g,Pv[m]);m.startsWith("origin")?(d=!0,l[m]=y):r[m]=y}}if(t.transform||(c||n?r.transform=e6(t,e.transform,n):r.transform&&(r.transform="none")),d){const{originX:m="50%",originY:g="50%",originZ:y=0}=l;r.transformOrigin=`${m} ${g} ${y}`}}const Fv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function VC(e,t,n){for(const r in t)!fn(t[r])&&!MC(r,n)&&(e[r]=t[r])}function n6({transformTemplate:e},t){return N.useMemo(()=>{const n=Fv();return Bv(n,t,e),Object.assign({},n.vars,n.style)},[t])}function i6(e,t){const n=e.style||{},r={};return VC(r,n,e),Object.assign(r,n6(e,t)),r}function r6(e,t){const n={},r=i6(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const s6={offset:"stroke-dashoffset",array:"stroke-dasharray"},a6={offset:"strokeDashoffset",array:"strokeDasharray"};function o6(e,t,n=1,r=0,a=!0){e.pathLength=1;const l=a?s6:a6;e[l.offset]=Rt.transform(-r);const c=Rt.transform(t),d=Rt.transform(n);e[l.array]=`${c} ${d}`}function OC(e,{attrX:t,attrY:n,attrScale:r,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},m,g,y){if(Bv(e,d,g),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:_,style:b}=e;_.transform&&(b.transform=_.transform,delete _.transform),(b.transform||_.transformOrigin)&&(b.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),b.transform&&(b.transformBox=y?.transformBox??"fill-box",delete _.transformBox),t!==void 0&&(_.x=t),n!==void 0&&(_.y=n),r!==void 0&&(_.scale=r),a!==void 0&&o6(_,a,l,c,!1)}const PC=()=>({...Fv(),attrs:{}}),LC=e=>typeof e=="string"&&e.toLowerCase()==="svg";function l6(e,t,n,r){const a=N.useMemo(()=>{const l=PC();return OC(l,t,LC(r),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};VC(l,e.style,e),a.style={...l,...a.style}}return a}const u6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qv(e){return typeof e!="string"||e.includes("-")?!1:!!(u6.indexOf(e)>-1||/[A-Z]/u.test(e))}function c6(e,t,n,{latestValues:r},a,l=!1){const d=(qv(e)?l6:r6)(t,r,a,e),m=Q3(t,typeof e=="string",l),g=e!==N.Fragment?{...m,...d,ref:n}:{},{children:y}=t,_=N.useMemo(()=>fn(y)?y.get():y,[y]);return N.createElement(e,{...g,children:_})}function IS(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Hv(e,t,n,r){if(typeof t=="function"){const[a,l]=IS(r);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=IS(r);t=t(n!==void 0?n:e.custom,a,l)}return t}function hf(e){return fn(e)?e.get():e}function h6({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,a){return{latestValues:f6(n,r,a,e),renderState:t()}}function f6(e,t,n,r){const a={},l=r(e,{});for(const b in l)a[b]=hf(l[b]);let{initial:c,animate:d}=e;const m=dd(e),g=NC(e);t&&g&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?d:c;if(_&&typeof _!="boolean"&&!fd(_)){const b=Array.isArray(_)?_:[_];for(let C=0;C<b.length;C++){const O=Hv(e,b[C]);if(O){const{transitionEnd:U,transition:L,...z}=O;for(const G in z){let q=z[G];if(Array.isArray(q)){const lt=y?q.length-1:0;q=q[lt]}q!==null&&(a[G]=q)}for(const G in U)a[G]=U[G]}}}return a}const kC=e=>(t,n)=>{const r=N.useContext(hd),a=N.useContext(ud),l=()=>h6(e,t,r,a);return n?l():pv(l)};function Gv(e,t,n){const{style:r}=e,a={};for(const l in r)(fn(r[l])||t.style&&fn(t.style[l])||MC(l,e)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=r[l]);return a}const d6=kC({scrapeMotionValuesFromProps:Gv,createRenderState:Fv});function UC(e,t,n){const r=Gv(e,t,n);for(const a in e)if(fn(e[a])||fn(t[a])){const l=sl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[l]=e[a]}return r}const m6=kC({scrapeMotionValuesFromProps:UC,createRenderState:PC}),p6=Symbol.for("motionComponentSymbol");function xo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function g6(e,t,n){return N.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):xo(n)&&(n.current=r))},[t])}const Kv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),y6="framerAppearId",jC="data-"+Kv(y6),zC=N.createContext({});function v6(e,t,n,r,a){const{visualElement:l}=N.useContext(hd),c=N.useContext(IC),d=N.useContext(ud),m=N.useContext(Uv).reducedMotion,g=N.useRef(null);r=r||c.renderer,!g.current&&r&&(g.current=r(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const y=g.current,_=N.useContext(zC);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&_6(g.current,n,a,_);const b=N.useRef(!1);N.useInsertionEffect(()=>{y&&b.current&&y.update(n,d)});const C=n[jC],O=N.useRef(!!C&&!window.MotionHandoffIsComplete?.(C)&&window.MotionHasOptimisedAnimation?.(C));return kR(()=>{y&&(b.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),O.current&&y.animationState&&y.animationState.animateChanges())}),N.useEffect(()=>{y&&(!O.current&&y.animationState&&y.animationState.animateChanges(),O.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(C)}),O.current=!1),y.enteringChildren=void 0)}),y}function _6(e,t,n,r){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:g,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:BC(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&xo(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:m,layoutRoot:g})}function BC(e){if(e)return e.options.allowProjection!==!1?e.projection:BC(e.parent)}function zp(e,{forwardMotionProps:t=!1}={},n,r){n&&K3(n);const a=qv(e)?m6:d6;function l(d,m){let g;const y={...N.useContext(Uv),...d,layoutId:T6(d)},{isStatic:_}=y,b=W3(d),C=a(d,_);if(!_&&gv){E6();const O=b6(y);g=O.MeasureLayout,b.visualElement=v6(e,C,y,r,O.ProjectionNode)}return V.jsxs(hd.Provider,{value:b,children:[g&&b.visualElement?V.jsx(g,{visualElement:b.visualElement,...y}):null,c6(e,d,g6(C,b.visualElement,m),C,_,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=N.forwardRef(l);return c[p6]=e,c}function T6({layoutId:e}){const t=N.useContext(mv).id;return t&&e!==void 0?t+"-"+e:e}function E6(e,t){N.useContext(IC).strict}function b6(e){const{drag:t,layout:n}=$o;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function S6(e,t){if(typeof Proxy>"u")return zp;const n=new Map,r=(l,c)=>zp(l,c,e,t),a=(l,c)=>r(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?r:(n.has(c)||n.set(c,zp(c,void 0,e,t)),n.get(c))})}function FC({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function w6({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function A6(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Bp(e){return e===void 0||e===1}function ny({scale:e,scaleX:t,scaleY:n}){return!Bp(e)||!Bp(t)||!Bp(n)}function da(e){return ny(e)||qC(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function qC(e){return DS(e.x)||DS(e.y)}function DS(e){return e&&e!=="0%"}function Uf(e,t,n){const r=e-n,a=t*r;return n+a}function NS(e,t,n,r,a){return a!==void 0&&(e=Uf(e,a,r)),Uf(e,n,r)+t}function iy(e,t=0,n=1,r,a){e.min=NS(e.min,t,n,r,a),e.max=NS(e.max,t,n,r,a)}function HC(e,{x:t,y:n}){iy(e.x,t.translate,t.scale,t.originPoint),iy(e.y,n.translate,n.scale,n.originPoint)}const MS=.999999999999,VS=1.0000000000001;function R6(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Do(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,HC(e,c)),r&&da(l.latestValues)&&Do(e,l.latestValues))}t.x<VS&&t.x>MS&&(t.x=1),t.y<VS&&t.y>MS&&(t.y=1)}function Io(e,t){e.min=e.min+t,e.max=e.max+t}function OS(e,t,n,r,a=.5){const l=me(e.min,e.max,a);iy(e,t,n,l,r)}function Do(e,t){OS(e.x,t.x,t.scaleX,t.scale,t.originX),OS(e.y,t.y,t.scaleY,t.scale,t.originY)}function GC(e,t){return FC(A6(e.getBoundingClientRect(),t))}function C6(e,t,n){const r=GC(e,n),{scroll:a}=t;return a&&(Io(r.x,a.offset.x),Io(r.y,a.offset.y)),r}const PS=()=>({translate:0,scale:1,origin:0,originPoint:0}),No=()=>({x:PS(),y:PS()}),LS=()=>({min:0,max:0}),He=()=>({x:LS(),y:LS()}),ry={current:null},KC={current:!1};function x6(){if(KC.current=!0,!!gv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ry.current=e.matches;e.addEventListener("change",t),t()}else ry.current=!1}const I6=new WeakMap;function D6(e,t,n){for(const r in t){const a=t[r],l=n[r];if(fn(a))e.addValue(r,a);else if(fn(l))e.addValue(r,Yo(a,{owner:e}));else if(l!==a)if(e.hasValue(r)){const c=e.getValue(r);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(r);e.addValue(r,Yo(c!==void 0?c:a,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const kS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class N6{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Vv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Cn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,de.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=g,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=dd(n),this.isVariantNode=NC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in _){const C=_[b];m[b]!==void 0&&fn(C)&&C.set(m[b])}}mount(t){this.current=t,I6.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),KC.current||x6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ry.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ns(this.notifyUpdate),Ns(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=al.has(t);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&de.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in $o){const n=$o[t];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):He()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<kS.length;r++){const a=kS[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=D6(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Yo(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(UR(r)||zR(r))?r=parseFloat(r):!j3(r)&&Ms.test(n)&&(r=EC(t,n)),this.setBaseTarget(t,fn(r)?r.get():r)),fn(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const l=Hv(this.props,n,this.presenceContext?.custom);l&&(r=l[t])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!fn(a)?a:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Ev),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Lv.render(this.render)}}class YC extends N6{constructor(){super(...arguments),this.KeyframeResolver=C3}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;fn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function $C(e,{style:t,vars:n},r,a){const l=e.style;let c;for(c in t)l[c]=t[c];a?.applyProjectionStyles(l,r);for(c in n)l.setProperty(c,n[c])}function M6(e){return window.getComputedStyle(e)}class V6 extends YC{constructor(){super(...arguments),this.type="html",this.renderInstance=$C}readValueFromInstance(t,n){if(al.has(n))return this.projection?.isProjecting?Qg(n):Kk(t,n);{const r=M6(t),a=(wv(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return GC(t,n)}build(t,n,r){Bv(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Gv(t,n,r)}}const QC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function O6(e,t,n,r){$C(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(QC.has(a)?a:Kv(a),t.attrs[a])}class P6 extends YC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=He}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(al.has(n)){const r=TC(n);return r&&r.default||0}return n=QC.has(n)?n:Kv(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return UC(t,n,r)}build(t,n,r){OC(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,a){O6(t,n,r,a)}mount(t){this.isSVGTag=LC(t.tagName),super.mount(t)}}const L6=(e,t)=>qv(e)?new P6(t):new V6(t,{allowProjection:e!==N.Fragment});function ko(e,t,n){const r=e.getProps();return Hv(r,t,n!==void 0?n:r.custom,e)}const sy=e=>Array.isArray(e);function k6(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Yo(n))}function U6(e){return sy(e)?e[e.length-1]||0:e}function j6(e,t){const n=ko(e,t);let{transitionEnd:r={},transition:a={},...l}=n||{};l={...l,...r};for(const c in l){const d=U6(l[c]);k6(e,c,d)}}function z6(e){return!!(fn(e)&&e.add)}function ay(e,t){const n=e.getValue("willChange");if(z6(n))return n.add(t);if(!n&&Mr.WillChange){const r=new Mr.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function XC(e){return e.props[jC]}const B6=e=>e!==null;function F6(e,{repeat:t,repeatType:n="loop"},r){const a=e.filter(B6),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[l]}const q6={type:"spring",stiffness:500,damping:25,restSpeed:10},H6=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),G6={type:"keyframes",duration:.8},K6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Y6=(e,{keyframes:t})=>t.length>2?G6:al.has(e)?e.startsWith("scale")?H6(t[1]):q6:K6;function $6({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:m,elapsed:g,...y}){return!!Object.keys(y).length}const Yv=(e,t,n,r={},a,l)=>c=>{const d=Ov(r,e)||{},m=d.delay||r.delay||0;let{elapsed:g=0}=r;g=g-Wi(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:b=>{t.set(b),d.onUpdate&&d.onUpdate(b)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:a};$6(d)||Object.assign(y,Y6(e,y)),y.duration&&(y.duration=Wi(y.duration)),y.repeatDelay&&(y.repeatDelay=Wi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(ty(y),y.delay===0&&(_=!0)),(Mr.instantAnimations||Mr.skipAnimations)&&(_=!0,ty(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,_&&!l&&t.get()!==void 0){const b=F6(y.keyframes,d);if(b!==void 0){de.update(()=>{y.onUpdate(b),y.onComplete()});return}}return d.isSync?new Mv(y):new p3(y)};function Q6({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function WC(e,t,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...d}=t;r&&(l=r);const m=[],g=a&&e.animationState&&e.animationState.getState()[a];for(const y in d){const _=e.getValue(y,e.latestValues[y]??null),b=d[y];if(b===void 0||g&&Q6(g,y))continue;const C={delay:n,...Ov(l||{},y)},O=_.get();if(O!==void 0&&!_.isAnimating&&!Array.isArray(b)&&b===O&&!C.velocity)continue;let U=!1;if(window.MotionHandoffAnimation){const z=XC(e);if(z){const G=window.MotionHandoffAnimation(z,y,de);G!==null&&(C.startTime=G,U=!0)}}ay(e,y),_.start(Yv(y,_,b,e.shouldReduceMotion&&yC.has(y)?{type:!1}:C,e,U));const L=_.animation;L&&m.push(L)}return c&&Promise.all(m).then(()=>{de.update(()=>{c&&j6(e,c)})}),m}function JC(e,t,n,r=0,a=1){const l=Array.from(e).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),c=e.size,d=(c-1)*r;return typeof n=="function"?n(l,c):a===1?l*r:d-l*r}function oy(e,t,n={}){const r=ko(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const l=r?()=>Promise.all(WC(e,r,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:_}=a;return X6(e,t,m,g,y,_,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[m,g]=d==="beforeChildren"?[l,c]:[c,l];return m().then(()=>g())}else return Promise.all([l(),c(n.delay)])}function X6(e,t,n=0,r=0,a=0,l=1,c){const d=[];for(const m of e.variantChildren)m.notify("AnimationStart",t),d.push(oy(m,t,{...c,delay:n+(typeof r=="function"?0:r)+JC(e.variantChildren,m,r,a,l)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(d)}function W6(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(l=>oy(e,l,n));r=Promise.all(a)}else if(typeof t=="string")r=oy(e,t,n);else{const a=typeof t=="function"?ko(e,t,n.custom):t;r=Promise.all(WC(e,a,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function ZC(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const J6=zv.length;function tx(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?tx(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<J6;n++){const r=zv[n],a=e.props[r];(qu(a)||a===!1)&&(t[r]=a)}return t}const Z6=[...jv].reverse(),t5=jv.length;function e5(e){return t=>Promise.all(t.map(({animation:n,options:r})=>W6(e,n,r)))}function n5(e){let t=e5(e),n=US(),r=!0;const a=m=>(g,y)=>{const _=ko(e,y,m==="exit"?e.presenceContext?.custom:void 0);if(_){const{transition:b,transitionEnd:C,...O}=_;g={...g,...O,...C}}return g};function l(m){t=m(e)}function c(m){const{props:g}=e,y=tx(e.parent)||{},_=[],b=new Set;let C={},O=1/0;for(let L=0;L<t5;L++){const z=Z6[L],G=n[z],q=g[z]!==void 0?g[z]:y[z],lt=qu(q),at=z===m?G.isActive:null;at===!1&&(O=L);let ht=q===y[z]&&q!==g[z]&&lt;if(ht&&r&&e.manuallyAnimateOnMount&&(ht=!1),G.protectedKeys={...C},!G.isActive&&at===null||!q&&!G.prevProp||fd(q)||typeof q=="boolean")continue;const x=i5(G.prevProp,q);let A=x||z===m&&G.isActive&&!ht&&lt||L>O&&lt,I=!1;const k=Array.isArray(q)?q:[q];let P=k.reduce(a(z),{});at===!1&&(P={});const{prevResolvedValues:B={}}=G,D={...B,...P},Mt=nt=>{A=!0,b.has(nt)&&(I=!0,b.delete(nt)),G.needsAnimating[nt]=!0;const ft=e.getValue(nt);ft&&(ft.liveStyle=!1)};for(const nt in D){const ft=P[nt],J=B[nt];if(C.hasOwnProperty(nt))continue;let X=!1;sy(ft)&&sy(J)?X=!ZC(ft,J):X=ft!==J,X?ft!=null?Mt(nt):b.add(nt):ft!==void 0&&b.has(nt)?Mt(nt):G.protectedKeys[nt]=!0}G.prevProp=q,G.prevResolvedValues=P,G.isActive&&(C={...C,...P}),r&&e.blockInitialAnimation&&(A=!1);const $t=ht&&x;A&&(!$t||I)&&_.push(...k.map(nt=>{const ft={type:z};if(typeof nt=="string"&&r&&!$t&&e.manuallyAnimateOnMount&&e.parent){const{parent:J}=e,X=ko(J,nt);if(J.enteringChildren&&X){const{delayChildren:R}=X.transition||{};ft.delay=JC(J.enteringChildren,e,R)}}return{animation:nt,options:ft}}))}if(b.size){const L={};if(typeof g.initial!="boolean"){const z=ko(e,Array.isArray(g.initial)?g.initial[0]:g.initial);z&&z.transition&&(L.transition=z.transition)}b.forEach(z=>{const G=e.getBaseTarget(z),q=e.getValue(z);q&&(q.liveStyle=!0),L[z]=G??null}),_.push({animation:L})}let U=!!_.length;return r&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(U=!1),r=!1,U?t(_):Promise.resolve()}function d(m,g){if(n[m].isActive===g)return Promise.resolve();e.variantChildren?.forEach(_=>_.animationState?.setActive(m,g)),n[m].isActive=g;const y=c(m);for(const _ in n)n[_].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=US()}}}function i5(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!ZC(t,e):!1}function ha(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function US(){return{animate:ha(!0),whileInView:ha(),whileHover:ha(),whileTap:ha(),whileDrag:ha(),whileFocus:ha(),exit:ha()}}class Os{constructor(t){this.isMounted=!1,this.node=t}update(){}}class r5 extends Os{constructor(t){super(t),t.animationState||(t.animationState=n5(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();fd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let s5=0;class a5 extends Os{constructor(){super(...arguments),this.id=s5++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const o5={animation:{Feature:r5},exit:{Feature:a5}};function Gu(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function lc(e){return{point:{x:e.pageX,y:e.pageY}}}const l5=e=>t=>kv(t)&&e(t,lc(t));function Cu(e,t,n,r){return Gu(e,t,l5(n),r)}const ex=1e-4,u5=1-ex,c5=1+ex,nx=.01,h5=0-nx,f5=0+nx;function yn(e){return e.max-e.min}function d5(e,t,n){return Math.abs(e-t)<=n}function jS(e,t,n,r=.5){e.origin=r,e.originPoint=me(t.min,t.max,e.origin),e.scale=yn(n)/yn(t),e.translate=me(n.min,n.max,e.origin)-e.originPoint,(e.scale>=u5&&e.scale<=c5||isNaN(e.scale))&&(e.scale=1),(e.translate>=h5&&e.translate<=f5||isNaN(e.translate))&&(e.translate=0)}function xu(e,t,n,r){jS(e.x,t.x,n.x,r?r.originX:void 0),jS(e.y,t.y,n.y,r?r.originY:void 0)}function zS(e,t,n){e.min=n.min+t.min,e.max=e.min+yn(t)}function m5(e,t,n){zS(e.x,t.x,n.x),zS(e.y,t.y,n.y)}function BS(e,t,n){e.min=t.min-n.min,e.max=e.min+yn(t)}function jf(e,t,n){BS(e.x,t.x,n.x),BS(e.y,t.y,n.y)}function Wn(e){return[e("x"),e("y")]}const ix=({current:e})=>e?e.ownerDocument.defaultView:null,FS=(e,t)=>Math.abs(e-t);function p5(e,t){const n=FS(e.x,t.x),r=FS(e.y,t.y);return Math.sqrt(n**2+r**2)}class rx{constructor(t,n,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=qp(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,O=p5(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!O)return;const{point:U}=b,{timestamp:L}=nn;this.history.push({...U,timestamp:L});const{onStart:z,onMove:G}=this.handlers;C||(z&&z(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),G&&G(this.lastMoveEvent,b)},this.handlePointerMove=(b,C)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Fp(C,this.transformPagePoint),de.update(this.updatePoint,!0)},this.handlePointerUp=(b,C)=>{this.end();const{onEnd:O,onSessionEnd:U,resumeAnimation:L}=this.handlers;if(this.dragSnapToOrigin&&L&&L(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const z=qp(b.type==="pointercancel"?this.lastMoveEventInfo:Fp(C,this.transformPagePoint),this.history);this.startEvent&&O&&O(b,z),U&&U(b,z)},!kv(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=a||window;const d=lc(t),m=Fp(d,this.transformPagePoint),{point:g}=m,{timestamp:y}=nn;this.history=[{...g,timestamp:y}];const{onSessionStart:_}=n;_&&_(t,qp(m,this.history)),this.removeListeners=sc(Cu(this.contextWindow,"pointermove",this.handlePointerMove),Cu(this.contextWindow,"pointerup",this.handlePointerUp),Cu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ns(this.updatePoint)}}function Fp(e,t){return t?{point:t(e.point)}:e}function qS(e,t){return{x:e.x-t.x,y:e.y-t.y}}function qp({point:e},t){return{point:e,delta:qS(e,sx(t)),offset:qS(e,g5(t)),velocity:y5(t,.1)}}function g5(e){return e[0]}function sx(e){return e[e.length-1]}function y5(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=sx(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>Wi(t)));)n--;if(!r)return{x:0,y:0};const l=ti(a.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-r.x)/l,y:(a.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function v5(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?me(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?me(n,e,r.max):Math.min(e,n)),e}function HS(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function _5(e,{top:t,left:n,bottom:r,right:a}){return{x:HS(e.x,n,a),y:HS(e.y,t,r)}}function GS(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function T5(e,t){return{x:GS(e.x,t.x),y:GS(e.y,t.y)}}function E5(e,t){let n=.5;const r=yn(e),a=yn(t);return a>r?n=zu(t.min,t.max-r,e.min):r>a&&(n=zu(e.min,e.max-a,t.min)),Nr(0,1,n)}function b5(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const ly=.35;function S5(e=ly){return e===!1?e=0:e===!0&&(e=ly),{x:KS(e,"left","right"),y:KS(e,"top","bottom")}}function KS(e,t,n){return{min:YS(e,t),max:YS(e,n)}}function YS(e,t){return typeof e=="number"?e:e[t]||0}const w5=new WeakMap;class A5{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=He(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(lc(_).point)},c=(_,b)=>{const{drag:C,dragPropagation:O,onDragStart:U}=this.getProps();if(C&&!O&&(this.openDragLock&&this.openDragLock(),this.openDragLock=N3(C),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Wn(z=>{let G=this.getAxisMotionValue(z).get()||0;if(Ji.test(G)){const{projection:q}=this.visualElement;if(q&&q.layout){const lt=q.layout.layoutBox[z];lt&&(G=yn(lt)*(parseFloat(G)/100))}}this.originPoint[z]=G}),U&&de.postRender(()=>U(_,b)),ay(this.visualElement,"transform");const{animationState:L}=this.visualElement;L&&L.setActive("whileDrag",!0)},d=(_,b)=>{this.latestPointerEvent=_,this.latestPanInfo=b;const{dragPropagation:C,dragDirectionLock:O,onDirectionLock:U,onDrag:L}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:z}=b;if(O&&this.currentDirection===null){this.currentDirection=R5(z),this.currentDirection!==null&&U&&U(this.currentDirection);return}this.updateAxis("x",b.point,z),this.updateAxis("y",b.point,z),this.visualElement.render(),L&&L(_,b)},m=(_,b)=>{this.latestPointerEvent=_,this.latestPanInfo=b,this.stop(_,b),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Wn(_=>this.getAnimationState(_)==="paused"&&this.getAxisMotionValue(_).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new rx(t,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:r,contextWindow:ix(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!r)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&de.postRender(()=>d(r,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!$h(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=v5(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&xo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=_5(r.layoutBox,t):this.constraints=!1,this.elastic=S5(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Wn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=b5(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!xo(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=C6(r,a.root,this.visualElement.getTransformPagePoint());let c=T5(a.layout.layoutBox,l);if(n){const d=n(w6(c));this.hasMutatedConstraints=!!d,d&&(c=FC(d))}return c}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},g=Wn(y=>{if(!$h(y,n,this.currentDirection))return;let _=m&&m[y]||{};c&&(_={min:0,max:0});const b=a?200:1e6,C=a?40:1e7,O={type:"inertia",velocity:r?t[y]:0,bounceStiffness:b,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,O)});return Promise.all(g).then(d)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return ay(this.visualElement,t),r.start(Yv(t,r,0,n,this.visualElement,!1))}stopAnimation(){Wn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Wn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Wn(n=>{const{drag:r}=this.getProps();if(!$h(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n];l.set(t[n]-me(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!xo(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Wn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();a[c]=E5({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Wn(c=>{if(!$h(c,t,null))return;const d=this.getAxisMotionValue(c),{min:m,max:g}=this.constraints[c];d.set(me(m,g,a[c]))})}addListeners(){if(!this.visualElement.current)return;w5.set(this.visualElement,this);const t=this.visualElement.current,n=Cu(t,"pointerdown",m=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();xo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),de.read(r);const c=Gu(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(Wn(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=m[y].translate,_.set(_.get()+m[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=ly,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function $h(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function R5(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class C5 extends Os{constructor(t){super(t),this.removeGroupControls=ei,this.removeListeners=ei,this.controls=new A5(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ei}unmount(){this.removeGroupControls(),this.removeListeners()}}const $S=e=>(t,n)=>{e&&de.postRender(()=>e(t,n))};class x5 extends Os{constructor(){super(...arguments),this.removePointerDownListener=ei}onPointerDown(t){this.session=new rx(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ix(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:$S(t),onStart:$S(n),onMove:r,onEnd:(l,c)=>{delete this.session,a&&de.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Cu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ff={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function QS(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const fu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Rt.test(e))e=parseFloat(e);else return e;const n=QS(e,t.target.x),r=QS(e,t.target.y);return`${n}% ${r}%`}},I5={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=Ms.parse(e);if(a.length>5)return r;const l=Ms.createTransformer(e),c=typeof a[0]!="number"?1:0,d=n.x.scale*t.x,m=n.y.scale*t.y;a[0+c]/=d,a[1+c]/=m;const g=me(d,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=g),typeof a[3+c]=="number"&&(a[3+c]/=g),l(a)}};let Hp=!1;class D5 extends N.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:l}=t;J3(N5),l&&(n.group&&n.group.add(l),r&&r.register&&a&&r.register(l),Hp&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),ff.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:l}=this.props,{projection:c}=r;return c&&(c.isPresent=l,Hp=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||de.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Lv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;Hp=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ax(e){const[t,n]=xC(),r=N.useContext(mv);return V.jsx(D5,{...e,layoutGroup:r,switchLayoutGroup:N.useContext(zC),isPresent:t,safeToRemove:n})}const N5={borderRadius:{...fu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fu,borderTopRightRadius:fu,borderBottomLeftRadius:fu,borderBottomRightRadius:fu,boxShadow:I5};function M5(e,t,n){const r=fn(e)?e:Yo(e);return r.start(Yv("",r,t,n)),r.animation}const V5=(e,t)=>e.depth-t.depth;class O5{constructor(){this.children=[],this.isDirty=!1}add(t){yv(this.children,t),this.isDirty=!0}remove(t){vv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(V5),this.isDirty=!1,this.children.forEach(t)}}function P5(e,t){const n=Cn.now(),r=({timestamp:a})=>{const l=a-n;l>=t&&(Ns(r),e(l-t))};return de.setup(r,!0),()=>Ns(r)}const ox=["TopLeft","TopRight","BottomLeft","BottomRight"],L5=ox.length,XS=e=>typeof e=="string"?parseFloat(e):e,WS=e=>typeof e=="number"||Rt.test(e);function k5(e,t,n,r,a,l){a?(e.opacity=me(0,n.opacity??1,U5(r)),e.opacityExit=me(t.opacity??1,0,j5(r))):l&&(e.opacity=me(t.opacity??1,n.opacity??1,r));for(let c=0;c<L5;c++){const d=`border${ox[c]}Radius`;let m=JS(t,d),g=JS(n,d);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||WS(m)===WS(g)?(e[d]=Math.max(me(XS(m),XS(g),r),0),(Ji.test(g)||Ji.test(m))&&(e[d]+="%")):e[d]=g}(t.rotate||n.rotate)&&(e.rotate=me(t.rotate||0,n.rotate||0,r))}function JS(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const U5=lx(0,.5,$R),j5=lx(.5,.95,ei);function lx(e,t,n){return r=>r<e?0:r>t?1:n(zu(e,t,r))}function ZS(e,t){e.min=t.min,e.max=t.max}function yi(e,t){ZS(e.x,t.x),ZS(e.y,t.y)}function t1(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function e1(e,t,n,r,a){return e-=t,e=Uf(e,1/n,r),a!==void 0&&(e=Uf(e,1/a,r)),e}function z5(e,t=0,n=1,r=.5,a,l=e,c=e){if(Ji.test(t)&&(t=parseFloat(t),t=me(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=me(l.min,l.max,r);e===l&&(d-=t),e.min=e1(e.min,t,n,d,a),e.max=e1(e.max,t,n,d,a)}function n1(e,t,[n,r,a],l,c){z5(e,t[n],t[r],t[a],t.scale,l,c)}const B5=["x","scaleX","originX"],F5=["y","scaleY","originY"];function i1(e,t,n,r){n1(e.x,t,B5,n?n.x:void 0,r?r.x:void 0),n1(e.y,t,F5,n?n.y:void 0,r?r.y:void 0)}function r1(e){return e.translate===0&&e.scale===1}function ux(e){return r1(e.x)&&r1(e.y)}function s1(e,t){return e.min===t.min&&e.max===t.max}function q5(e,t){return s1(e.x,t.x)&&s1(e.y,t.y)}function a1(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function cx(e,t){return a1(e.x,t.x)&&a1(e.y,t.y)}function o1(e){return yn(e.x)/yn(e.y)}function l1(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class H5{constructor(){this.members=[]}add(t){yv(this.members,t),t.scheduleRender()}remove(t){if(vv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function G5(e,t,n){let r="";const a=e.x.translate/t.x,l=e.y.translate/t.y,c=n?.z||0;if((a||l||c)&&(r=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:g,rotate:y,rotateX:_,rotateY:b,skewX:C,skewY:O}=n;g&&(r=`perspective(${g}px) ${r}`),y&&(r+=`rotate(${y}deg) `),_&&(r+=`rotateX(${_}deg) `),b&&(r+=`rotateY(${b}deg) `),C&&(r+=`skewX(${C}deg) `),O&&(r+=`skewY(${O}deg) `)}const d=e.x.scale*t.x,m=e.y.scale*t.y;return(d!==1||m!==1)&&(r+=`scale(${d}, ${m})`),r||"none"}const Gp=["","X","Y","Z"],K5=1e3;let Y5=0;function Kp(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function hx(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=XC(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",de,!(a||l))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&hx(r)}function fx({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(c={},d=t?.()){this.id=Y5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(X5),this.nodes.forEach(tU),this.nodes.forEach(eU),this.nodes.forEach(W5)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new O5)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Ev),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=CC(c)&&!k3(c),this.instance=c;const{layoutId:d,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),e){let y,_=0;const b=()=>this.root.updateBlockedByResize=!1;de.read(()=>{_=window.innerWidth}),e(c,()=>{const C=window.innerWidth;C!==_&&(_=C,this.root.updateBlockedByResize=!0,y&&y(),y=P5(b,250),ff.hasAnimatedSinceResize&&(ff.hasAnimatedSinceResize=!1,this.nodes.forEach(h1)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:b,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const O=this.options.transition||g.getDefaultTransition()||aU,{onLayoutAnimationStart:U,onLayoutAnimationComplete:L}=g.getProps(),z=!this.targetLayout||!cx(this.targetLayout,C),G=!_&&b;if(this.options.layoutRoot||this.resumeFrom||G||_&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const q={...Ov(O,"layout"),onPlay:U,onComplete:L};(g.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q),this.setAnimationOrigin(y,G)}else _||h1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ns(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(nU),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&hx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(u1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(c1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Z5),this.nodes.forEach($5),this.nodes.forEach(Q5)):this.nodes.forEach(c1),this.clearAllSnapshots();const d=Cn.now();nn.delta=Nr(0,1e3/60,d-nn.timestamp),nn.timestamp=d,nn.isProcessing=!0,Op.update.process(nn),Op.preRender.process(nn),Op.render.process(nn),nn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Lv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(J5),this.sharedNodes.forEach(iU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,de.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){de.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!yn(this.snapshot.measuredBox.x)&&!yn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=He(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!ux(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;c&&this.instance&&(d||da(this.latestValues)||y)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),oU(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return He();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(lU))){const{scroll:g}=this.root;g&&(Io(d.x,g.offset.x),Io(d.y,g.offset.y))}return d}removeElementScroll(c){const d=He();if(yi(d,c),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:y,options:_}=g;g!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&yi(d,c),Io(d.x,y.offset.x),Io(d.y,y.offset.y))}return d}applyTransform(c,d=!1){const m=He();yi(m,c);for(let g=0;g<this.path.length;g++){const y=this.path[g];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Do(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),da(y.latestValues)&&Do(m,y.latestValues)}return da(this.latestValues)&&Do(m,this.latestValues),m}removeTransform(c){const d=He();yi(d,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!da(g.latestValues))continue;ny(g.latestValues)&&g.updateSnapshot();const y=He(),_=g.measurePageBox();yi(y,_),i1(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return da(this.latestValues)&&i1(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==nn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!this.layout||!(y||_))return;this.resolvedRelativeTargetAt=nn.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=He(),this.targetWithTransforms=He()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),m5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yi(this.target,this.layout.layoutBox),HC(this.target,this.targetDelta)):yi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||ny(this.parent.latestValues)||qC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=He(),this.relativeTargetOrigin=He(),jf(this.relativeTargetOrigin,d,m),yi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===nn.timestamp&&(m=!1),m)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;yi(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,b=this.treeScale.y;R6(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=He());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(t1(this.prevProjectionDelta.x,this.projectionDelta.x),t1(this.prevProjectionDelta.y,this.projectionDelta.y)),xu(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==b||!l1(this.projectionDelta.x,this.prevProjectionDelta.x)||!l1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=No(),this.projectionDelta=No(),this.projectionDeltaWithTransform=No()}setAnimationOrigin(c,d=!1){const m=this.snapshot,g=m?m.latestValues:{},y={...this.latestValues},_=No();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const b=He(),C=m?m.source:void 0,O=this.layout?this.layout.source:void 0,U=C!==O,L=this.getStack(),z=!L||L.members.length<=1,G=!!(U&&!z&&this.options.crossfade===!0&&!this.path.some(sU));this.animationProgress=0;let q;this.mixTargetDelta=lt=>{const at=lt/1e3;f1(_.x,c.x,at),f1(_.y,c.y,at),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(jf(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),rU(this.relativeTarget,this.relativeTargetOrigin,b,at),q&&q5(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=He()),yi(q,this.relativeTarget)),U&&(this.animationValues=y,k5(y,g,this.latestValues,at,G,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=at},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ns(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=de.update(()=>{ff.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Yo(0)),this.currentAnimation=M5(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(K5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:g,latestValues:y}=c;if(!(!d||!m||!g)){if(this!==c&&this.layout&&g&&dx(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||He();const _=yn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const b=yn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+b}yi(d,m),Do(d,y),xu(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new H5),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const g={};m.z&&Kp("z",c,g,this.animationValues);for(let y=0;y<Gp.length;y++)Kp(`rotate${Gp[y]}`,c,g,this.animationValues),Kp(`skew${Gp[y]}`,c,g,this.animationValues);c.render();for(const y in g)c.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=hf(d?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=hf(d?.pointerEvents)||""),this.hasProjected&&!da(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let _=G5(this.projectionDeltaWithTransform,this.treeScale,y);m&&(_=m(y,_)),c.transform=_;const{x:b,y:C}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${C.origin*100}% 0`,g.animationValues?c.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const O in Hu){if(y[O]===void 0)continue;const{correct:U,applyTo:L,isCSSVariable:z}=Hu[O],G=_==="none"?y[O]:U(y[O],g);if(L){const q=L.length;for(let lt=0;lt<q;lt++)c[L[lt]]=G}else z?this.options.visualElement.renderState.vars[O]=G:c[O]=G}this.options.layoutId&&(c.pointerEvents=g===this?hf(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(u1),this.root.sharedNodes.clear()}}}function $5(e){e.updateLayout()}function Q5(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:a}=e.options,l=t.source!==e.layout.source;a==="size"?Wn(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],b=yn(_);_.min=n[y].min,_.max=_.min+b}):dx(a,t.layoutBox,n)&&Wn(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],b=yn(n[y]);_.max=_.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+b)});const c=No();xu(c,n,t.layoutBox);const d=No();l?xu(d,e.applyTransform(r,!0),t.measuredBox):xu(d,n,t.layoutBox);const m=!ux(c);let g=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:b}=y;if(_&&b){const C=He();jf(C,t.layoutBox,_.layoutBox);const O=He();jf(O,n,b.layoutBox),cx(C,O)||(g=!0),y.options.layoutRoot&&(e.relativeTarget=O,e.relativeTargetOrigin=C,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function X5(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function W5(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function J5(e){e.clearSnapshot()}function u1(e){e.clearMeasurements()}function c1(e){e.isLayoutDirty=!1}function Z5(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function h1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function tU(e){e.resolveTargetDelta()}function eU(e){e.calcProjection()}function nU(e){e.resetSkewAndRotation()}function iU(e){e.removeLeadSnapshot()}function f1(e,t,n){e.translate=me(t.translate,0,n),e.scale=me(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function d1(e,t,n,r){e.min=me(t.min,n.min,r),e.max=me(t.max,n.max,r)}function rU(e,t,n,r){d1(e.x,t.x,n.x,r),d1(e.y,t.y,n.y,r)}function sU(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const aU={duration:.45,ease:[.4,0,.1,1]},m1=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),p1=m1("applewebkit/")&&!m1("chrome/")?Math.round:ei;function g1(e){e.min=p1(e.min),e.max=p1(e.max)}function oU(e){g1(e.x),g1(e.y)}function dx(e,t,n){return e==="position"||e==="preserve-aspect"&&!d5(o1(t),o1(n),.2)}function lU(e){return e!==e.root&&e.scroll?.wasRoot}const uU=fx({attachResizeListener:(e,t)=>Gu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Yp={current:void 0},mx=fx({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Yp.current){const e=new uU({});e.mount(window),e.setOptions({layoutScroll:!0}),Yp.current=e}return Yp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),cU={pan:{Feature:x5},drag:{Feature:C5,ProjectionNode:mx,MeasureLayout:ax}};function y1(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=r[a];l&&de.postRender(()=>l(t,lc(t)))}class hU extends Os{mount(){const{current:t}=this.node;t&&(this.unmount=M3(t,(n,r)=>(y1(this.node,r,"Start"),a=>y1(this.node,a,"End"))))}unmount(){}}class fU extends Os{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=sc(Gu(this.node.current,"focus",()=>this.onFocus()),Gu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function v1(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=r[a];l&&de.postRender(()=>l(t,lc(t)))}class dU extends Os{mount(){const{current:t}=this.node;t&&(this.unmount=L3(t,(n,r)=>(v1(this.node,r,"Start"),(a,{success:l})=>v1(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const uy=new WeakMap,$p=new WeakMap,mU=e=>{const t=uy.get(e.target);t&&t(e)},pU=e=>{e.forEach(mU)};function gU({root:e,...t}){const n=e||document;$p.has(n)||$p.set(n,{});const r=$p.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(pU,{root:e,...t})),r[a]}function yU(e,t,n){const r=gU(t);return uy.set(e,n),r.observe(e),()=>{uy.delete(e),r.unobserve(e)}}const vU={some:0,all:1};class _U extends Os{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:vU[a]},d=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),b=g?y:_;b&&b(m)};return yU(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(TU(t,n))&&this.startObserver()}unmount(){}}function TU({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const EU={inView:{Feature:_U},tap:{Feature:dU},focus:{Feature:fU},hover:{Feature:hU}},bU={layout:{ProjectionNode:mx,MeasureLayout:ax}},SU={...o5,...EU,...cU,...bU},vn=S6(SU,L6);function wU(){const{loginWithGoogle:e}=ld(),[t,n]=N.useState(""),[r,a]=N.useState(!1),l=Ff();async function c(){try{n(""),a(!0);const m=(await e()).user,g=ju(Ko,"users",m.uid),y=await dv(g);y.exists()&&y.data().companyAlias?l("/"):l("/setup-alias")}catch(d){console.error(d),n("Failed to log in with Google")}a(!1)}return V.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900",children:V.jsxs("div",{className:"w-full max-w-md p-8 bg-white dark:bg-gray-800 rounded-lg shadow-md text-center",children:[V.jsx("h2",{className:"text-2xl font-bold mb-6 dark:text-white",children:"Welcome Back"}),t&&V.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",role:"alert",children:t}),V.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"Sign in to access the simulator."}),V.jsxs(vn.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:c,disabled:r,className:"w-full bg-white text-gray-700 border border-gray-300 font-bold py-3 px-4 rounded-lg flex items-center justify-center gap-2 hover:bg-gray-50 focus:outline-none focus:shadow-outline disabled:opacity-50 transition-colors",children:[V.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[V.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),V.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),V.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),V.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Sign in with Google"]})]})})}const AU=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),RU=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),_1=e=>{const t=RU(e);return t.charAt(0).toUpperCase()+t.slice(1)},px=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),CU=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var xU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const IU=N.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:c,...d},m)=>N.createElement("svg",{ref:m,...xU,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:px("lucide",a),...!l&&!CU(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,y])=>N.createElement(g,y)),...Array.isArray(l)?l:[l]]));const on=(e,t)=>{const n=N.forwardRef(({className:r,...a},l)=>N.createElement(IU,{ref:l,iconNode:t,className:px(`lucide-${AU(_1(e))}`,`lucide-${e}`,r),...a}));return n.displayName=_1(e),n};const DU=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],gx=on("briefcase",DU);const NU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],T1=on("circle-alert",NU);const MU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Qp=on("circle-check",MU);const VU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],OU=on("circle",VU);const PU=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],cy=on("clock",PU);const LU=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],kU=on("file-text",LU);const UU=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],jU=on("flame",UU);const zU=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],E1=on("loader-circle",zU);const BU=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],yx=on("log-out",BU);const FU=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],qU=on("pause",FU);const HU=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],GU=on("play",HU);const KU=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],YU=on("rotate-ccw",KU);const $U=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],zf=on("trophy",$U);const QU=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],XU=on("upload",QU);const WU=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],JU=on("volume-2",WU);const ZU=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],t9=on("volume-x",ZU);const e9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vx=on("x",e9);function n9(){const{currentUser:e}=ld(),t=Ff(),[n,r]=N.useState(""),[a,l]=N.useState(""),[c,d]=N.useState(!1),m=async g=>{if(g.preventDefault(),!n.trim()){l("Please enter a company alias.");return}if(!e){l("No authenticated user found. Please log in again.");return}try{l(""),d(!0);const y=ju(Ko,"users",e.uid);await OR(y,{companyAlias:n.trim()},{merge:!0}),t("/")}catch(y){console.error("Error saving alias:",y),l("Failed to save alias. Please try again.")}finally{d(!1)}};return V.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white p-4",children:V.jsxs(vn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md bg-white/10 backdrop-blur-lg rounded-2xl p-8 shadow-2xl border border-white/20",children:[V.jsx("div",{className:"flex justify-center mb-6",children:V.jsx("div",{className:"p-3 bg-blue-500/20 rounded-full",children:V.jsx(gx,{className:"w-8 h-8 text-blue-400"})})}),V.jsx("h2",{className:"text-2xl font-bold text-center mb-2",children:"Welcome to the Company"}),V.jsx("p",{className:"text-gray-400 text-center mb-8",children:"Please choose an alias to display on the company leaderboard."}),a&&V.jsx("div",{className:"bg-red-500/20 border border-red-500 text-red-100 px-4 py-2 rounded mb-4 text-center text-sm",children:a}),V.jsxs("form",{onSubmit:m,className:"space-y-6",children:[V.jsxs("div",{className:"space-y-2",children:[V.jsx("label",{className:"text-sm font-medium text-gray-300 block",children:"Company Alias"}),V.jsx("input",{type:"text",value:n,onChange:g=>r(g.target.value),className:"w-full bg-black/20 border border-white/10 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all text-white placeholder-gray-500",placeholder:"e.g. CodeNinja99",required:!0})]}),V.jsx(vn.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:c,className:"w-full bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400 text-white font-bold py-3 rounded-lg shadow-lg shadow-blue-500/20 transition-all disabled:opacity-50",children:c?"Saving...":"Set Alias and Continue"})]})]})})}const $v=e=>e<1e3?{title:"Intern",color:"text-gray-400",bg:"bg-gray-400/10",border:"border-gray-400/20"}:e<3e3?{title:"Junior",color:"text-green-400",bg:"bg-green-400/10",border:"border-green-400/20"}:e<6e3?{title:"Mid-Level",color:"text-blue-400",bg:"bg-blue-400/10",border:"border-blue-400/20"}:e<1e4?{title:"Senior",color:"text-purple-400",bg:"bg-purple-400/10",border:"border-purple-400/20"}:e<2e4?{title:"Lead",color:"text-orange-400",bg:"bg-orange-400/10",border:"border-orange-400/20"}:e<5e4?{title:"Principal",color:"text-red-500",bg:"bg-red-500/10",border:"border-red-500/20"}:{title:"Executive",color:"text-yellow-500",bg:"bg-yellow-500/10",border:"border-yellow-500/20"},i9=({onClockIn:e})=>{const{currentUser:t,logout:n}=ld();Ff();const[r,a]=N.useState(""),[l,c]=N.useState(30),[d,m]=N.useState(""),[g,y]=N.useState(0),_=t?.displayName?.split(" ")[0]||"Employee";N.useEffect(()=>{(async()=>{if(t)try{const L=ju(Ko,"users",t.uid),z=await dv(L);z.exists()&&y(z.data().score||0)}catch(L){console.error("Error fetching score:",L)}})()},[t]);const b=$v(g),C=U=>{U.preventDefault(),r&&l>0&&e({name:_,goal:r,duration:l})},O=async()=>{m("");try{await n()}catch{m("Failed to log out")}};return V.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white p-4",children:V.jsxs(vn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md bg-white/10 backdrop-blur-lg rounded-2xl p-8 shadow-2xl border border-white/20",children:[V.jsxs("div",{className:"flex justify-between items-center mb-8",children:[V.jsx("div",{className:"flex items-center justify-center",children:V.jsx("div",{className:"p-3 bg-blue-500/20 rounded-full",children:V.jsx(cy,{className:"w-8 h-8 text-blue-400"})})}),V.jsx("div",{children:t?V.jsxs("div",{className:"flex flex-col items-start",children:[V.jsxs("div",{className:"flex items-center gap-4",children:[V.jsxs("span",{className:"text-sm text-gray-300",children:["Welcome ",_,"!"]}),V.jsxs("button",{onClick:O,className:"text-sm text-red-400 hover:text-red-300 flex items-center gap-1",children:[V.jsx(yx,{size:16})," Logout"]})]}),V.jsx("div",{className:`text-xs font-bold mt-1 ${b.color}`,children:b.title})]}):V.jsx("div",{className:"flex items-center gap-4",children:V.jsx(yy,{to:"/login",className:"text-sm text-blue-400 hover:text-blue-300",children:"Login"})})})]}),V.jsx("h1",{className:"text-3xl font-bold text-center mb-2",children:"Employment Simulator"}),V.jsx("p",{className:"text-gray-400 text-center mb-8",children:"Clock in to start your shift."}),d&&V.jsx("div",{className:"bg-red-500/20 border border-red-500 text-red-100 px-4 py-2 rounded mb-4 text-center text-sm",children:d}),V.jsxs("form",{onSubmit:C,className:"space-y-6",children:[V.jsxs("div",{className:"space-y-2",children:[V.jsxs("label",{className:"text-sm font-medium text-gray-300 flex items-center gap-2",children:[V.jsx(gx,{size:16})," Work Goal"]}),V.jsx("input",{type:"text",value:r,onChange:U=>a(U.target.value),className:"w-full bg-black/20 border border-white/10 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all text-white placeholder-gray-500",placeholder:"e.g., Complete the project report",required:!0})]}),V.jsxs("div",{className:"space-y-2",children:[V.jsxs("label",{className:"text-sm font-medium text-gray-300 flex items-center gap-2",children:[V.jsx(cy,{size:16})," Shift Duration (Minutes)"]}),V.jsx("input",{type:"number",value:l,onChange:U=>c(parseInt(U.target.value)),min:"1",className:"w-full bg-black/20 border border-white/10 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all text-white placeholder-gray-500",required:!0})]}),V.jsx(vn.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400 text-white font-bold py-3 rounded-lg shadow-lg shadow-blue-500/20 transition-all",children:"Clock In"})]})]})})},r9=e=>{const[t,n]=N.useState(e.duration*60),[r,a]=N.useState(0),[l,c]=N.useState(0),[d,m]=N.useState([]),[g,y]=N.useState([{text:"Great to have you on board today!",sender:"Manager",id:0}]),[_,b]=N.useState(!1),[C,O]=N.useState(0),[U,L]=N.useState(null),[z,G]=N.useState(null),[q,lt]=N.useState(!0),[at,ht]=N.useState(null),x=N.useRef(!1),A=N.useRef({score:r,timeLeft:t,goal:e.goal}),{currentUser:I}=ld();N.useEffect(()=>{(async()=>{if(I)try{const nt=ju(Ko,"users",I.uid),ft=await dv(nt);if(ft.exists()){const J=ft.data();let X=J.score||0;const R=J.lastDecayDate||new Date().toDateString(),F=new Date,tt=F.toDateString();if(R!==tt){const ct=new Date(R),gt=Math.abs(F-ct),_t=Math.floor(gt/(1e3*60*60*24));_t>0&&(X=Math.max(0,X-_t*500))}a(X),O(J.streak||0),L(J.lastTaskDate||null),G(tt)}else G(new Date().toDateString())}catch(nt){console.error("Error loading user data:",nt)}})()},[I]),N.useEffect(()=>{if(!I||!z)return;const Q=setTimeout(async()=>{try{const nt=ju(Ko,"users",I.uid);await OR(nt,{score:r,streak:C,lastTaskDate:U,lastDecayDate:z},{merge:!0})}catch(nt){console.error("Error saving user data:",nt)}},1e3);return()=>clearTimeout(Q)},[r,C,U,z,I]),N.useEffect(()=>{A.current={score:r,timeLeft:t,goal:e.goal}},[r,t,e.goal]),N.useEffect(()=>{if(!q||t<=0||_){_||(document.title=t<=0?"00:00 - Employment Simulator":"Employment Simulator");return}const Q=setInterval(()=>{n(nt=>nt-1),document.title=`${$t(t)} - Simulator`},1e3);return()=>clearInterval(Q)},[q,t,_]),N.useEffect(()=>{if(!q||_)return;const Q=setInterval(async()=>{if(Math.random()>.6&&!x.current){x.current=!0;try{const{goal:nt}=A.current,ft=`
                        You are a manager in a workplace simulation.
                        The user's goal is: "${nt}".
                        Current tasks are: ${d.map(F=>F.text).join(", ").slice(-3)}.
                        ${d.length>=3?`The user's current tasks were: ${d.map(F=>F.text).join(", ").slice(-3)}...`:""}
                        Generate a short, 1-sentence message to the employee. 
                        Address the employee as ${e.name}.
                        Be pressuring.
                        Do not include quotes.
                    `,R=(await(await fetch("https://desktop-f2niegj.tail23801d.ts.net/api/llm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"user",content:ft}]})})).json()).message.content;k(R)}catch(nt){console.error("Error generating message:",nt),ht(nt.message||"Unknown error generating message")}finally{x.current=!1}}},6e4);return()=>clearInterval(Q)},[q,_,d]);const k=Q=>{y(nt=>[...nt,{text:Q,sender:"Manager",id:Date.now()}])},P=async()=>{if(!x.current){x.current=!0;try{const Q=`
                You are a manager. The user's goal is: "${e.goal}".
                Generate a single, realistic work task that works toward this goal, 
                builds on top of previous tasks, and is different from the user's previous tasks.
                ${d.length>=3?`The user's previous tasks were: ${d.map(ct=>ct.text).join(", ").slice(-3)}...`:""}
                Include a single digit number from 1-5 for the task's difficulty level at the end of the task text.
                DO NOT include quotes.
                Keep it short.
            `,J=(await(await fetch("https://desktop-f2niegj.tail23801d.ts.net/api/llm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"user",content:Q}]})})).json()).message.content.trim();console.log(J);const X=J.match(/\d$/),R=X?parseInt(X[0]):1,F=X?J.slice(0,-1).trim():J,tt=Date.now();m(ct=>[...ct,{id:tt,text:F,completed:!1,difficulty:Math.min(5,Math.max(1,R))}]),k(`Hey ${e.name}, for your new task: ${F}`)}catch(Q){console.error("Error generating task:",Q),ht(Q.message||"Unknown error generating task");const nt=Date.now();m(ft=>[...ft,{id:nt,text:"Review previous work",completed:!1,difficulty:1}]),k(`Hey ${e.name}, for your new task: Review previous work`)}finally{x.current=!1}}};N.useEffect(()=>{(async()=>{await P(),await P(),await P()})()},[]);const B=N.useCallback((Q,nt=!1)=>{m(J=>J.map(X=>X.id===Q?{...X,completed:!0}:X));const ft=d.find(J=>J.id===Q);if(ft&&!ft.completed){const J=nt?.5:1;a(F=>F+ft.difficulty*100*J),c(F=>F+1);const X=new Date,R=X.toDateString();if(U!==R){const F=new Date(X);F.setDate(F.getDate()-1);const tt=F.toDateString();O(U===tt?ct=>ct+1:1),L(R)}nt&&k("I disagree, but fine. We're moving on. Just don't let it happen again."),setTimeout(()=>{P()},3e4)}},[d,U]),D=Q=>{B(Q,!0)},Mt=async(Q,nt)=>{const ft=d.find(ct=>ct.id===Q);if(!ft)throw new Error("Task not found");const J=`
            You are a manager in a workplace simulation. 
            Evaluate if the following extracted text from a screenshot proves that the employee completed the task: "${ft.text}".
            Extracted Text: """${nt}"""
            
            Respond ONLY in valid JSON format with no markdown formatting. The JSON must have two keys:
            1. "approved": boolean (true if the text shows they completed the task, false if irrelevant or incomplete)
            2. "message": string (A short, pressuring, context-aware message to the employee from you, the manager, either praising them or rejecting their work).
        `,X=await fetch("https://desktop-f2niegj.tail23801d.ts.net/api/llm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"user",content:J}]})});if(!X.ok)throw new Error("Failed to communicate with Manager AI.");const F=(await X.json()).message.content.trim().replace(/^```json/,"").replace(/```$/,"").trim();let tt;try{tt=JSON.parse(F)}catch{throw console.error("Failed to parse LLM JSON:",F),new Error("Manager returned invalid response format.")}if(tt.approved)B(Q),k(tt.message||"Good work. Now onto the next one.");else throw k(tt.message||"This isn't what I asked for. Try again."),new Error("Manager rejected the task proof.")},$t=Q=>{const nt=Math.floor(Q/60),ft=Q%60;return`${nt}:${ft.toString().padStart(2,"0")}`};return{timeLeft:t,score:r,streak:C,isPaused:_,setIsPaused:b,tasksCompleted:l,tasks:d,messages:g,completeTask:B,bypassTask:D,verifyTaskCompletion:Mt,formatTime:$t,isActive:q,setIsActive:lt,error:at}},s9=({messages:e})=>{const t=N.useRef(null),n=N.useRef(e.length),[r,a]=N.useState(!1);return N.useEffect(()=>{if(e.length>n.current&&!r){const l=new Audio("https://assets.mixkit.co/active_storage/sfx/2574/2574-preview.mp3");l.volume=.2,l.play().catch(c=>console.log("Audio playback failed:",c))}n.current=e.length,t.current&&(t.current.scrollTop=t.current.scrollHeight)},[e]),V.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-6 h-full flex flex-col min-h-[500px]",children:[V.jsxs("div",{className:"flex items-center justify-between mb-4 border-b border-white/10 pb-2",children:[V.jsx("div",{className:"flex items-center gap-2",children:V.jsx("h2",{className:"text-lg font-semibold text-white",children:"Manager"})}),V.jsx("button",{onClick:()=>a(!r),className:"p-2 hover:bg-white/10 rounded-full transition-colors text-gray-400 hover:text-white",title:r?"Unmute Notifications":"Mute Notifications",children:r?V.jsx(t9,{size:20}):V.jsx(JU,{size:20})})]}),V.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 pr-2 custom-scrollbar",ref:t,children:V.jsx(cd,{children:e.map(l=>V.jsxs(vn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-3 text-sm text-gray-200",children:[V.jsx("span",{className:"font-bold text-blue-400 text-xs block mb-1",children:l.sender}),l.text]},l.id))})})]})};var Xp={exports:{}},b1;function a9(){return b1||(b1=1,(function(e){var t=(function(n){var r=Object.prototype,a=r.hasOwnProperty,l=Object.defineProperty||function(J,X,R){J[X]=R.value},c,d=typeof Symbol=="function"?Symbol:{},m=d.iterator||"@@iterator",g=d.asyncIterator||"@@asyncIterator",y=d.toStringTag||"@@toStringTag";function _(J,X,R){return Object.defineProperty(J,X,{value:R,enumerable:!0,configurable:!0,writable:!0}),J[X]}try{_({},"")}catch{_=function(X,R,F){return X[R]=F}}function b(J,X,R,F){var tt=X&&X.prototype instanceof q?X:q,ct=Object.create(tt.prototype),gt=new Q(F||[]);return l(ct,"_invoke",{value:B(J,R,gt)}),ct}n.wrap=b;function C(J,X,R){try{return{type:"normal",arg:J.call(X,R)}}catch(F){return{type:"throw",arg:F}}}var O="suspendedStart",U="suspendedYield",L="executing",z="completed",G={};function q(){}function lt(){}function at(){}var ht={};_(ht,m,function(){return this});var x=Object.getPrototypeOf,A=x&&x(x(nt([])));A&&A!==r&&a.call(A,m)&&(ht=A);var I=at.prototype=q.prototype=Object.create(ht);lt.prototype=at,l(I,"constructor",{value:at,configurable:!0}),l(at,"constructor",{value:lt,configurable:!0}),lt.displayName=_(at,y,"GeneratorFunction");function k(J){["next","throw","return"].forEach(function(X){_(J,X,function(R){return this._invoke(X,R)})})}n.isGeneratorFunction=function(J){var X=typeof J=="function"&&J.constructor;return X?X===lt||(X.displayName||X.name)==="GeneratorFunction":!1},n.mark=function(J){return Object.setPrototypeOf?Object.setPrototypeOf(J,at):(J.__proto__=at,_(J,y,"GeneratorFunction")),J.prototype=Object.create(I),J},n.awrap=function(J){return{__await:J}};function P(J,X){function R(ct,gt,_t,wt){var Ut=C(J[ct],J,gt);if(Ut.type==="throw")wt(Ut.arg);else{var vt=Ut.arg,xt=vt.value;return xt&&typeof xt=="object"&&a.call(xt,"__await")?X.resolve(xt.__await).then(function(Wt){R("next",Wt,_t,wt)},function(Wt){R("throw",Wt,_t,wt)}):X.resolve(xt).then(function(Wt){vt.value=Wt,_t(vt)},function(Wt){return R("throw",Wt,_t,wt)})}}var F;function tt(ct,gt){function _t(){return new X(function(wt,Ut){R(ct,gt,wt,Ut)})}return F=F?F.then(_t,_t):_t()}l(this,"_invoke",{value:tt})}k(P.prototype),_(P.prototype,g,function(){return this}),n.AsyncIterator=P,n.async=function(J,X,R,F,tt){tt===void 0&&(tt=Promise);var ct=new P(b(J,X,R,F),tt);return n.isGeneratorFunction(X)?ct:ct.next().then(function(gt){return gt.done?gt.value:ct.next()})};function B(J,X,R){var F=O;return function(ct,gt){if(F===L)throw new Error("Generator is already running");if(F===z){if(ct==="throw")throw gt;return ft()}for(R.method=ct,R.arg=gt;;){var _t=R.delegate;if(_t){var wt=D(_t,R);if(wt){if(wt===G)continue;return wt}}if(R.method==="next")R.sent=R._sent=R.arg;else if(R.method==="throw"){if(F===O)throw F=z,R.arg;R.dispatchException(R.arg)}else R.method==="return"&&R.abrupt("return",R.arg);F=L;var Ut=C(J,X,R);if(Ut.type==="normal"){if(F=R.done?z:U,Ut.arg===G)continue;return{value:Ut.arg,done:R.done}}else Ut.type==="throw"&&(F=z,R.method="throw",R.arg=Ut.arg)}}}function D(J,X){var R=X.method,F=J.iterator[R];if(F===c)return X.delegate=null,R==="throw"&&J.iterator.return&&(X.method="return",X.arg=c,D(J,X),X.method==="throw")||R!=="return"&&(X.method="throw",X.arg=new TypeError("The iterator does not provide a '"+R+"' method")),G;var tt=C(F,J.iterator,X.arg);if(tt.type==="throw")return X.method="throw",X.arg=tt.arg,X.delegate=null,G;var ct=tt.arg;if(!ct)return X.method="throw",X.arg=new TypeError("iterator result is not an object"),X.delegate=null,G;if(ct.done)X[J.resultName]=ct.value,X.next=J.nextLoc,X.method!=="return"&&(X.method="next",X.arg=c);else return ct;return X.delegate=null,G}k(I),_(I,y,"Generator"),_(I,m,function(){return this}),_(I,"toString",function(){return"[object Generator]"});function Mt(J){var X={tryLoc:J[0]};1 in J&&(X.catchLoc=J[1]),2 in J&&(X.finallyLoc=J[2],X.afterLoc=J[3]),this.tryEntries.push(X)}function $t(J){var X=J.completion||{};X.type="normal",delete X.arg,J.completion=X}function Q(J){this.tryEntries=[{tryLoc:"root"}],J.forEach(Mt,this),this.reset(!0)}n.keys=function(J){var X=Object(J),R=[];for(var F in X)R.push(F);return R.reverse(),function tt(){for(;R.length;){var ct=R.pop();if(ct in X)return tt.value=ct,tt.done=!1,tt}return tt.done=!0,tt}};function nt(J){if(J){var X=J[m];if(X)return X.call(J);if(typeof J.next=="function")return J;if(!isNaN(J.length)){var R=-1,F=function tt(){for(;++R<J.length;)if(a.call(J,R))return tt.value=J[R],tt.done=!1,tt;return tt.value=c,tt.done=!0,tt};return F.next=F}}return{next:ft}}n.values=nt;function ft(){return{value:c,done:!0}}return Q.prototype={constructor:Q,reset:function(J){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach($t),!J)for(var X in this)X.charAt(0)==="t"&&a.call(this,X)&&!isNaN(+X.slice(1))&&(this[X]=c)},stop:function(){this.done=!0;var J=this.tryEntries[0],X=J.completion;if(X.type==="throw")throw X.arg;return this.rval},dispatchException:function(J){if(this.done)throw J;var X=this;function R(wt,Ut){return ct.type="throw",ct.arg=J,X.next=wt,Ut&&(X.method="next",X.arg=c),!!Ut}for(var F=this.tryEntries.length-1;F>=0;--F){var tt=this.tryEntries[F],ct=tt.completion;if(tt.tryLoc==="root")return R("end");if(tt.tryLoc<=this.prev){var gt=a.call(tt,"catchLoc"),_t=a.call(tt,"finallyLoc");if(gt&&_t){if(this.prev<tt.catchLoc)return R(tt.catchLoc,!0);if(this.prev<tt.finallyLoc)return R(tt.finallyLoc)}else if(gt){if(this.prev<tt.catchLoc)return R(tt.catchLoc,!0)}else if(_t){if(this.prev<tt.finallyLoc)return R(tt.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(J,X){for(var R=this.tryEntries.length-1;R>=0;--R){var F=this.tryEntries[R];if(F.tryLoc<=this.prev&&a.call(F,"finallyLoc")&&this.prev<F.finallyLoc){var tt=F;break}}tt&&(J==="break"||J==="continue")&&tt.tryLoc<=X&&X<=tt.finallyLoc&&(tt=null);var ct=tt?tt.completion:{};return ct.type=J,ct.arg=X,tt?(this.method="next",this.next=tt.finallyLoc,G):this.complete(ct)},complete:function(J,X){if(J.type==="throw")throw J.arg;return J.type==="break"||J.type==="continue"?this.next=J.arg:J.type==="return"?(this.rval=this.arg=J.arg,this.method="return",this.next="end"):J.type==="normal"&&X&&(this.next=X),G},finish:function(J){for(var X=this.tryEntries.length-1;X>=0;--X){var R=this.tryEntries[X];if(R.finallyLoc===J)return this.complete(R.completion,R.afterLoc),$t(R),G}},catch:function(J){for(var X=this.tryEntries.length-1;X>=0;--X){var R=this.tryEntries[X];if(R.tryLoc===J){var F=R.completion;if(F.type==="throw"){var tt=F.arg;$t(R)}return tt}}throw new Error("illegal catch attempt")},delegateYield:function(J,X,R){return this.delegate={iterator:nt(J),resultName:X,nextLoc:R},this.method==="next"&&(this.arg=c),G}},n})(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(Xp)),Xp.exports}var Wp,S1;function Qv(){return S1||(S1=1,Wp=(e,t)=>`${e}-${t}-${Math.random().toString(16).slice(3,8)}`),Wp}var Jp,w1;function _x(){if(w1)return Jp;w1=1;const e=Qv();let t=0;return Jp=({id:n,action:r,payload:a={}})=>{let l=n;return typeof l>"u"&&(l=e("Job",t),t+=1),{id:l,action:r,payload:a}},Jp}var du={},A1;function Xv(){if(A1)return du;A1=1;let e=!1;return du.logging=e,du.setLogging=t=>{e=t},du.log=(...t)=>e?console.log.apply(this,t):null,du}var Zp,R1;function o9(){if(R1)return Zp;R1=1;const e=_x(),{log:t}=Xv(),n=Qv();let r=0;return Zp=()=>{const a=n("Scheduler",r),l={},c={};let d=[];r+=1;const m=()=>d.length,g=()=>Object.keys(l).length,y=()=>{if(d.length!==0){const U=Object.keys(l);for(let L=0;L<U.length;L+=1)if(typeof c[U[L]]>"u"){d[0](l[U[L]]);break}}},_=(U,L)=>new Promise((z,G)=>{const q=e({action:U,payload:L});d.push(async lt=>{d.shift(),c[lt.id]=q;try{z(await lt[U].apply(this,[...L,q.id]))}catch(at){G(at)}finally{delete c[lt.id],y()}}),t(`[${a}]: Add ${q.id} to JobQueue`),t(`[${a}]: JobQueue length=${d.length}`),y()});return{addWorker:U=>(l[U.id]=U,t(`[${a}]: Add ${U.id}`),t(`[${a}]: Number of workers=${g()}`),y(),U.id),addJob:async(U,...L)=>{if(g()===0)throw Error(`[${a}]: You need to have at least one worker before adding jobs`);return _(U,L)},terminate:async()=>{Object.keys(l).forEach(async U=>{await l[U].terminate()}),d=[]},getQueueLen:m,getNumWorkers:g}},Zp}function l9(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var tg,C1;function u9(){return C1||(C1=1,tg=e=>{const t={};return typeof WorkerGlobalScope<"u"?t.type="webworker":typeof document=="object"?t.type="browser":typeof process=="object"&&typeof l9=="function"&&(t.type="node"),typeof e>"u"?t:t[e]}),tg}var eg,x1;function c9(){if(x1)return eg;x1=1;const t=u9()("type")==="browser"?n=>new URL(n,window.location.href).href:n=>n;return eg=n=>{const r={...n};return["corePath","workerPath","langPath"].forEach(a=>{n[a]&&(r[a]=t(r[a]))}),r},eg}var ng,I1;function Tx(){return I1||(I1=1,ng={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}),ng}const h9="7.0.0",f9={version:h9};var ig,D1;function d9(){return D1||(D1=1,ig={workerBlobURL:!0,logger:()=>{}}),ig}var rg,N1;function m9(){if(N1)return rg;N1=1;const e=f9.version;return rg={...d9(),workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${e}/dist/worker.min.js`},rg}var sg,M1;function p9(){return M1||(M1=1,sg=({workerPath:e,workerBlobURL:t})=>{let n;if(Blob&&URL&&t){const r=new Blob([`importScripts("${e}");`],{type:"application/javascript"});n=new Worker(URL.createObjectURL(r))}else n=new Worker(e);return n}),sg}var ag,V1;function g9(){return V1||(V1=1,ag=e=>{e.terminate()}),ag}var og,O1;function y9(){return O1||(O1=1,og=(e,t)=>{e.onmessage=({data:n})=>{t(n)}}),og}var lg,P1;function v9(){return P1||(P1=1,lg=async(e,t)=>{e.postMessage(t)}),lg}var ug,L1;function _9(){if(L1)return ug;L1=1;const e=n=>new Promise((r,a)=>{const l=new FileReader;l.onload=()=>{r(l.result)},l.onerror=({target:{error:{code:c}}})=>{a(Error(`File could not be read! Code=${c}`))},l.readAsArrayBuffer(n)}),t=async n=>{let r=n;if(typeof n>"u")return"undefined";if(typeof n=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(n)?r=atob(n.split(",")[1]).split("").map(a=>a.charCodeAt(0)):r=await(await fetch(n)).arrayBuffer();else if(typeof HTMLElement<"u"&&n instanceof HTMLElement)n.tagName==="IMG"&&(r=await t(n.src)),n.tagName==="VIDEO"&&(r=await t(n.poster)),n.tagName==="CANVAS"&&await new Promise(a=>{n.toBlob(async l=>{r=await e(l),a()})});else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas){const a=await n.convertToBlob();r=await e(a)}else(n instanceof File||n instanceof Blob)&&(r=await e(n));return new Uint8Array(r)};return ug=t,ug}var cg,k1;function T9(){if(k1)return cg;k1=1;const e=m9(),t=p9(),n=g9(),r=y9(),a=v9(),l=_9();return cg={defaultOptions:e,spawnWorker:t,terminateWorker:n,onMessage:r,send:a,loadImage:l},cg}var hg,U1;function Ex(){if(U1)return hg;U1=1;const e=c9(),t=_x(),{log:n}=Xv(),r=Qv(),a=Tx(),{defaultOptions:l,spawnWorker:c,terminateWorker:d,onMessage:m,loadImage:g,send:y}=T9();let _=0;return hg=async(b="eng",C=a.LSTM_ONLY,O={},U={})=>{const L=r("Worker",_),{logger:z,errorHandler:G,...q}=e({...l,...O}),lt={},at=typeof b=="string"?b.split("+"):b;let ht=C,x=U;const A=[a.DEFAULT,a.LSTM_ONLY].includes(C)&&!q.legacyCore;let I,k;const P=new Promise((vt,xt)=>{k=vt,I=xt}),B=vt=>{I(vt.message)};let D=c(q);D.onerror=B,_+=1;const Mt=({id:vt,action:xt,payload:Wt})=>new Promise((ze,Be)=>{n(`[${L}]: Start ${vt}, action=${xt}`);const Te=`${xt}-${vt}`;lt[Te]={resolve:ze,reject:Be},y(D,{workerId:L,jobId:vt,action:xt,payload:Wt})}),$t=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),Q=vt=>Mt(t({id:vt,action:"load",payload:{options:{lstmOnly:A,corePath:q.corePath,logging:q.logging}}})),nt=(vt,xt,Wt)=>Mt(t({id:Wt,action:"FS",payload:{method:"writeFile",args:[vt,xt]}})),ft=(vt,xt)=>Mt(t({id:xt,action:"FS",payload:{method:"readFile",args:[vt,{encoding:"utf8"}]}})),J=(vt,xt)=>Mt(t({id:xt,action:"FS",payload:{method:"unlink",args:[vt]}})),X=(vt,xt,Wt)=>Mt(t({id:Wt,action:"FS",payload:{method:vt,args:xt}})),R=(vt,xt)=>Mt(t({id:xt,action:"loadLanguage",payload:{langs:vt,options:{langPath:q.langPath,dataPath:q.dataPath,cachePath:q.cachePath,cacheMethod:q.cacheMethod,gzip:q.gzip,lstmOnly:[a.DEFAULT,a.LSTM_ONLY].includes(ht)&&!q.legacyLang}}})),F=(vt,xt,Wt,ze)=>Mt(t({id:ze,action:"initialize",payload:{langs:vt,oem:xt,config:Wt}})),tt=(vt="eng",xt,Wt,ze)=>{if(A&&[a.TESSERACT_ONLY,a.TESSERACT_LSTM_COMBINED].includes(xt))throw Error("Legacy model requested but code missing.");const Be=xt||ht;ht=Be;const Te=Wt||x;x=Te;const ri=(typeof vt=="string"?vt.split("+"):vt).filter(Ps=>!at.includes(Ps));return at.push(...ri),ri.length>0?R(ri,ze).then(()=>F(vt,Be,Te,ze)):F(vt,Be,Te,ze)},ct=(vt={},xt)=>Mt(t({id:xt,action:"setParameters",payload:{params:vt}})),gt=async(vt,xt={},Wt={text:!0},ze)=>Mt(t({id:ze,action:"recognize",payload:{image:await g(vt),options:xt,output:Wt}})),_t=async(vt,xt)=>{if(A)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return Mt(t({id:xt,action:"detect",payload:{image:await g(vt)}}))},wt=async()=>(D!==null&&(d(D),D=null),Promise.resolve());m(D,({workerId:vt,jobId:xt,status:Wt,action:ze,data:Be})=>{const Te=`${ze}-${xt}`;if(Wt==="resolve")n(`[${vt}]: Complete ${xt}`),lt[Te].resolve({jobId:xt,data:Be}),delete lt[Te];else if(Wt==="reject")if(lt[Te].reject(Be),delete lt[Te],ze==="load"&&I(Be),G)G(Be);else throw Error(Be);else Wt==="progress"&&z({...Be,userJobId:xt})});const Ut={id:L,worker:D,load:$t,writeText:nt,readText:ft,removeFile:J,FS:X,reinitialize:tt,setParameters:ct,recognize:gt,detect:_t,terminate:wt};return Q().then(()=>R(b)).then(()=>F(b,C,U)).then(()=>k(Ut)).catch(()=>{}),P},hg}var fg,j1;function E9(){if(j1)return fg;j1=1;const e=Ex();return fg={recognize:async(r,a,l)=>{const c=await e(a,1,l);return c.recognize(r).finally(async()=>{await c.terminate()})},detect:async(r,a)=>{const l=await e("osd",0,a);return l.detect(r).finally(async()=>{await l.terminate()})}},fg}var dg,z1;function b9(){return z1||(z1=1,dg={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}),dg}var mg,B1;function S9(){return B1||(B1=1,mg={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}),mg}var pg,F1;function w9(){if(F1)return pg;F1=1,a9();const e=o9(),t=Ex(),n=E9(),r=b9(),a=Tx(),l=S9(),{setLogging:c}=Xv();return pg={languages:r,OEM:a,PSM:l,createScheduler:e,createWorker:t,setLogging:c,...n},pg}var A9=w9();const R9=q1(A9),C9=async(e,t)=>{try{return(await R9.recognize(e,"eng",{logger:r=>{t&&r.status==="recognizing text"&&t(Math.round(r.progress*100))}})).data.text}catch(n){throw console.error("OCR Error:",n),new Error("Failed to extract text from the image.")}},x9=({task:e,isOpen:t,onClose:n,onVerify:r,onBypass:a})=>{const[l,c]=N.useState(null),[d,m]=N.useState(null),[g,y]=N.useState("idle"),[_,b]=N.useState(0),[C,O]=N.useState(""),U=N.useRef(null),L=lt=>{const at=lt.target.files[0];if(at){if(!at.type.startsWith("image/")){O("Please upload an image file.");return}c(at),m(URL.createObjectURL(at)),O("")}},z=lt=>{lt.preventDefault();const at=lt.dataTransfer.files[0];if(at){if(!at.type.startsWith("image/")){O("Please upload an image file.");return}c(at),m(URL.createObjectURL(at)),O("")}},G=async()=>{if(l)try{y("ocr"),b(0);const lt=await C9(l,b);if(!lt||lt.trim()==="")throw new Error("No text could be found in the image.");y("llm"),await r(e.id,lt),y("success"),setTimeout(()=>{q()},1500)}catch(lt){console.error(lt),y("error"),O(lt.message||"Verification failed.")}},q=()=>{c(null),d&&URL.revokeObjectURL(d),m(null),y("idle"),b(0),O(""),n()};return t?V.jsx(cd,{children:V.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto custom-scrollbar bg-black/60 backdrop-blur-sm",onClick:g==="ocr"||g==="llm"?void 0:q,children:V.jsx("div",{className:"flex min-h-full items-center justify-center p-4 py-8",children:V.jsxs(vn.div,{onClick:lt=>lt.stopPropagation(),initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"m-auto w-full max-w-6xl bg-gray-900 border border-white/10 rounded-2xl shadow-2xl relative",children:[V.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10 bg-black/20 rounded-t-2xl",children:[V.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[V.jsx(Qp,{className:"text-blue-400",size:20}),"Verify Task Completion"]}),V.jsx("button",{onClick:q,disabled:g==="ocr"||g==="llm",className:"text-gray-400 hover:text-white transition-colors disabled:opacity-50",children:V.jsx(vx,{size:20})})]}),V.jsxs("div",{className:"p-6",children:[V.jsxs("div",{className:"bg-white/5 rounded-xl p-4 mb-6 border border-white/5",children:[V.jsx("span",{className:"text-xs text-gray-400 uppercase tracking-wider block mb-1",children:"Task"}),V.jsx("p",{className:"text-gray-200 text-sm font-medium",children:e?.text})]}),l?V.jsxs("div",{className:"space-y-4",children:[V.jsx("div",{className:"relative rounded-xl overflow-hidden border border-white/10 bg-black/40 h-48 flex items-center justify-center",children:V.jsx("img",{src:d,alt:"Preview",className:"max-h-full max-w-full object-contain"})}),V.jsxs("div",{className:"h-14 flex items-center justify-center",children:[g==="ocr"&&V.jsxs("div",{className:"flex flex-col items-center text-blue-400",children:[V.jsx(E1,{className:"animate-spin mb-2",size:24}),V.jsxs("span",{className:"text-sm font-medium flex items-center gap-2",children:[V.jsx(kU,{size:16})," Extracting Text... ",_,"%"]})]}),g==="llm"&&V.jsxs("div",{className:"flex flex-col items-center text-purple-400",children:[V.jsx(E1,{className:"animate-spin mb-2",size:24}),V.jsx("span",{className:"text-sm font-medium",children:"Manager is reviewing proof..."})]}),g==="success"&&V.jsxs("div",{className:"flex flex-col items-center text-green-400",children:[V.jsx(Qp,{size:32,className:"mb-2"}),V.jsx("span",{className:"text-sm font-medium",children:"Verification Complete!"})]}),g==="error"&&V.jsxs("div",{className:"flex items-center gap-2 text-red-400 bg-red-400/10 p-3 rounded-lg border border-red-400/20 w-full",children:[V.jsx(T1,{size:20,className:"shrink-0"}),V.jsx("span",{className:"text-sm",children:C})]})]})]}):V.jsx("div",{className:"space-y-4",children:V.jsxs("div",{className:"border-2 border-dashed border-white/20 rounded-xl p-8 hover:border-blue-400/50 hover:bg-blue-400/5 transition-all text-center cursor-pointer group",onDragOver:lt=>lt.preventDefault(),onDrop:z,onClick:()=>U.current?.click(),children:[V.jsx("input",{type:"file",ref:U,onChange:L,accept:"image/*",className:"hidden"}),V.jsx("div",{className:"bg-white/5 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-blue-400/20 group-hover:text-blue-400 transition-colors",children:V.jsx(XU,{size:24,className:"text-gray-400 group-hover:text-blue-400"})}),V.jsx("h3",{className:"text-white font-medium mb-1",children:"Upload Screenshot Proof"}),V.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Drag and drop or click to browse"}),V.jsx("p",{className:"text-xs text-gray-500",children:"Supports PNG, JPG, JPEG"})]})})]}),V.jsx("div",{className:"p-6 pt-0 mt-4 border-t border-white/10",children:V.jsx("div",{className:"flex flex-col gap-3 mt-6",children:(g==="idle"||g==="error")&&V.jsxs(V.Fragment,{children:[V.jsxs("div",{className:"flex gap-3",children:[l?V.jsx("button",{onClick:()=>{c(null),d&&URL.revokeObjectURL(d),m(null),y("idle"),O("")},className:"flex-[1.5] bg-white/10 hover:bg-white/20 text-white font-medium py-3 rounded-xl transition-colors flex items-center justify-center text-sm",children:"Upload Another"}):V.jsx("button",{onClick:q,className:"flex-[1.5] bg-white/10 hover:bg-white/20 text-white font-medium py-3 rounded-xl transition-colors flex items-center justify-center text-sm",children:"Cancel"}),V.jsxs("button",{onClick:G,disabled:!l,className:"flex-[2] bg-blue-600 hover:bg-blue-500 disabled:bg-blue-600/50 disabled:cursor-not-allowed text-white font-medium py-3 rounded-xl transition-colors flex items-center justify-center gap-2 text-sm",children:[V.jsx(Qp,{size:18}),"Submit Proof"]})]}),V.jsxs("button",{onClick:()=>{a(e.id),q()},className:"w-full bg-red-500/10 hover:bg-red-500/20 text-red-400 font-medium py-2 rounded-xl border border-red-500/20 transition-colors flex items-center justify-center gap-2 text-sm",children:[V.jsx(T1,{size:16}),"Bypass Manager (Earn 50% Points)"]})]})})})]})})})}):null},I9=({tasks:e,onComplete:t,onVerify:n,onBypass:r})=>{const[a,l]=N.useState(null),c=e.filter(d=>!d.completed);return V.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-4 h-full flex flex-col",children:[V.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b border-white/10 pb-2",children:[V.jsx("h2",{className:"text-lg font-semibold text-white",children:"Current Tasks"}),V.jsx("span",{className:"bg-blue-500 text-xs px-2 py-0.5 rounded-full text-white",children:c.length})]}),V.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 pr-2 custom-scrollbar",children:V.jsx(cd,{children:c.length===0?V.jsx("p",{className:"text-gray-500 text-center mt-10",children:"No active tasks. Good job!"}):c.map(d=>V.jsxs(vn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,x:20},className:"group flex items-center gap-3 bg-white/5 hover:bg-white/10 border border-white/5 rounded-xl p-3 cursor-pointer transition-all",onClick:()=>l(d),children:[V.jsx("div",{className:"text-gray-400 group-hover:text-green-400 transition-colors",children:V.jsx(OU,{size:20})}),V.jsxs("div",{className:"flex-1",children:[V.jsx("p",{className:"text-gray-200 text-sm",children:d.text}),V.jsx("div",{className:"flex gap-1 mt-1",children:[...Array(Math.max(0,Math.floor(d.difficulty||0)))].map((m,g)=>V.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-yellow-500/50"},g))})]})]},d.id))})}),V.jsx(x9,{task:a,isOpen:!!a,onClose:()=>l(null),onVerify:n,onBypass:r})]})},D9=({isOpen:e,onClose:t})=>{const[n,r]=N.useState([]),[a,l]=N.useState(!0);return N.useEffect(()=>{e&&(async()=>{l(!0);try{const d=VL(TL(Ko,"users"),OL("score","desc"),PL(10)),g=(await jL(d)).docs.map(y=>({id:y.id,...y.data()}));r(g)}catch(d){console.error("Error fetching leaderboard:",d)}l(!1)})()},[e]),V.jsx(cd,{children:e&&V.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[V.jsx(vn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),V.jsxs(vn.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-md bg-gray-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden",children:[V.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10 bg-white/5",children:[V.jsxs("div",{className:"flex items-center gap-3",children:[V.jsx("div",{className:"p-2 bg-yellow-500/20 rounded-full",children:V.jsx(zf,{className:"w-6 h-6 text-yellow-500"})}),V.jsx("h2",{className:"text-xl font-bold text-white",children:"Company Leaderboard"})]}),V.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-full transition-colors text-gray-400 hover:text-white",children:V.jsx(vx,{size:20})})]}),V.jsx("div",{className:"p-6 max-h-[60vh] overflow-y-auto custom-scrollbar",children:a?V.jsx("div",{className:"text-center py-8 text-gray-400",children:"Loading scores..."}):n.length===0?V.jsx("div",{className:"text-center py-8 text-gray-400",children:"No scores yet."}):V.jsx("div",{className:"space-y-2",children:n.map((c,d)=>{const m=$v(c.score||0);return V.jsxs(vn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:d*.05},className:`flex items-center justify-between p-3 rounded-lg border ${d===0?"bg-yellow-500/10 border-yellow-500/30":d===1?"bg-gray-400/10 border-gray-400/30":d===2?"bg-orange-500/10 border-orange-500/30":"bg-white/5 border-white/5"}`,children:[V.jsxs("div",{className:"flex items-center gap-4",children:[V.jsxs("span",{className:`font-mono font-bold w-6 text-center ${d===0?"text-yellow-500":d===1?"text-gray-300":d===2?"text-orange-400":"text-gray-500"}`,children:["#",d+1]}),V.jsxs("div",{className:"flex flex-col",children:[V.jsx("div",{className:"font-bold text-gray-200 truncate max-w-[300px]",children:c.companyAlias||"Anonymous Employee"}),V.jsx("div",{className:`text-xs ${m.color} truncate max-w-[300px]`,children:m.title})]})]}),V.jsx("span",{className:"font-mono text-gray-300",children:c.score?.toLocaleString()})]},c.id)})})})]})]})})},N9=({sessionData:e,onEndSession:t})=>{const{timeLeft:n,score:r,streak:a,isPaused:l,setIsPaused:c,tasksCompleted:d,tasks:m,messages:g,completeTask:y,bypassTask:_,verifyTaskCompletion:b,formatTime:C,isActive:O,setIsActive:U,error:L}=r9(e),[z,G]=gg.useState(!1),q=$v(r);gg.useEffect(()=>{n<=0&&O&&(U(!1),t({score:r,tasksCompleted:d}))},[n,O,t,r,d,U]);const lt=()=>{U(!1),t({score:r,tasksCompleted:d})};return V.jsxs("div",{className:"min-h-screen bg-gray-900 text-white p-6 flex flex-col relative",children:[V.jsx(D9,{isOpen:z,onClose:()=>G(!1)}),V.jsxs("header",{className:"flex justify-between items-center mb-8 bg-white/5 p-4 rounded-xl border border-white/10",children:[V.jsx("div",{className:"flex items-center gap-4",children:V.jsxs("div",{className:"text-left",children:[V.jsx("h1",{className:"text-xl font-bold text-white",children:e.name}),V.jsxs("p",{className:"text-xs text-gray-400",children:["Goal: ",e.goal]})]})}),V.jsxs("div",{className:"flex items-center gap-8",children:[V.jsxs("div",{className:"flex flex-col items-center",children:[V.jsx("span",{className:"text-xs text-gray-400 uppercase tracking-wider",children:"Time Remaining"}),V.jsxs("div",{className:`text-2xl font-mono font-bold flex items-center gap-2 ${n<60?"text-red-400 animate-pulse":"text-blue-400"}`,children:[V.jsx(cy,{size:20}),C(n)]})]}),V.jsxs("div",{className:"flex flex-col items-center",children:[V.jsx("span",{className:"text-xs text-gray-400 uppercase tracking-wider",children:"Score"}),V.jsxs("div",{className:"text-2xl font-mono font-bold text-yellow-400 flex items-center gap-2",children:[V.jsx(zf,{size:20}),r.toLocaleString()]})]}),V.jsxs("div",{className:"flex flex-col items-center hidden sm:flex",children:[V.jsx("span",{className:"text-xs text-gray-400 uppercase tracking-wider",children:"Level"}),V.jsx("div",{className:`text-sm font-bold flex items-center gap-1 ${q.color} ${q.bg} px-3 py-1 mt-1 rounded-full border ${q.border}`,children:q.title})]}),a>0&&V.jsxs("div",{className:"flex flex-col items-center",children:[V.jsx("span",{className:"text-xs text-gray-400 uppercase tracking-wider",children:"Streak"}),V.jsxs("div",{className:"text-2xl font-mono font-bold text-orange-500 flex items-center gap-2",children:[V.jsx(jU,{size:20}),a]})]})]}),V.jsxs("div",{className:"flex items-center gap-3",children:[V.jsxs("button",{onClick:()=>G(!0),className:"bg-yellow-500/10 hover:bg-yellow-500/20 text-yellow-500 px-4 py-2 rounded-lg border border-yellow-500/20 flex items-center gap-2 transition-colors",title:"View Leaderboard",children:[V.jsx(zf,{size:18}),"Leaderboard"]}),V.jsxs("button",{onClick:()=>c(!l),className:`px-4 py-2 rounded-lg border flex items-center gap-2 transition-colors ${l?"bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-500 border-yellow-500/30":"bg-white/10 hover:bg-white/20 text-white border-white/20"}`,title:l?"Resume Simulator":"Pause Simulator",children:[l?V.jsx(GU,{size:18}):V.jsx(qU,{size:18}),l?"Resume":"Pause"]}),V.jsxs("button",{onClick:lt,className:"bg-red-500/10 hover:bg-red-500/20 text-red-400 px-4 py-2 rounded-lg border border-red-500/20 flex items-center gap-2 transition-colors",children:[V.jsx(yx,{size:18}),"Clock Out"]})]})]}),L&&V.jsx("div",{className:"bg-red-500/20 border border-red-500 text-red-200 p-4 rounded-xl mb-6",children:"Error: Failed to connect to company servers"}),V.jsxs("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-[1.5fr_1fr] gap-6 overflow-hidden",children:[V.jsx(vn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:V.jsx(s9,{messages:g})}),V.jsx(vn.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},className:"h-full overflow-hidden",children:V.jsx(I9,{tasks:m,onComplete:y,onVerify:b,onBypass:_})})]})]})},M9=({results:e,onRestart:t})=>V.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-900 text-white p-4",children:V.jsxs(vn.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"w-full max-w-md bg-white/10 backdrop-blur-lg rounded-2xl p-8 shadow-2xl border border-white/20 text-center",children:[V.jsx("div",{className:"flex justify-center mb-6",children:V.jsx("div",{className:"p-4 bg-yellow-500/20 rounded-full",children:V.jsx(zf,{className:"w-12 h-12 text-yellow-400"})})}),V.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Shift Complete!"}),V.jsx("p",{className:"text-gray-400 mb-8",children:"Here is how you performed today."}),V.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[V.jsxs("div",{className:"bg-black/20 p-4 rounded-xl border border-white/5",children:[V.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Total Score"}),V.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:e.score.toLocaleString()})]}),V.jsxs("div",{className:"bg-black/20 p-4 rounded-xl border border-white/5",children:[V.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Tasks Done"}),V.jsx("p",{className:"text-2xl font-bold text-blue-400",children:e.tasksCompleted})]})]}),V.jsxs(vn.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"w-full bg-white text-gray-900 font-bold py-3 rounded-lg shadow-lg hover:bg-gray-100 transition-all flex items-center justify-center gap-2",children:[V.jsx(YU,{size:18}),"Start New Shift"]})]})});function V9(){const[e,t]=N.useState("CLOCK_IN"),[n,r]=N.useState(null),[a,l]=N.useState(null),c=g=>{r(g),t("WORK"),window.history.pushState({isSimulatorActive:!0},"")},d=g=>{l(g),t("SUMMARY")},m=()=>{r(null),l(null),t("CLOCK_IN")};return N.useEffect(()=>{const g=y=>{e==="WORK"&&(window.confirm("Are you sure you want to leave? Your current session will be lost.")?(t("CLOCK_IN"),r(null)):window.history.pushState({isSimulatorActive:!0},""))};return window.addEventListener("popstate",g),()=>window.removeEventListener("popstate",g)},[e]),V.jsxs("div",{className:"bg-black min-h-screen font-sans",children:[e==="CLOCK_IN"&&V.jsx(i9,{onClockIn:c}),e==="WORK"&&V.jsx(N9,{sessionData:n,onEndSession:d}),e==="SUMMARY"&&V.jsx(M9,{results:a,onRestart:m})]})}function O9(){return V.jsx(xD,{children:V.jsx(qL,{children:V.jsxs(rD,{children:[V.jsx(Qh,{path:"/login",element:V.jsx(wU,{})}),V.jsx(Qh,{path:"/setup-alias",element:V.jsx(n9,{})}),V.jsx(Qh,{path:"/",element:V.jsx(V9,{})})]})})})}oI.createRoot(document.getElementById("root")).render(V.jsx(N.StrictMode,{children:V.jsx(O9,{})}));
