(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function x2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jm={exports:{}},iu={};var VT;function D2(){if(VT)return iu;VT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var d in o)d!=="key"&&(l[d]=o[d])}else l=o;return o=l.ref,{$$typeof:e,type:s,key:c,ref:o!==void 0?o:null,props:l}}return iu.Fragment=t,iu.jsx=n,iu.jsxs=n,iu}var MT;function V2(){return MT||(MT=1,Jm.exports=D2()),Jm.exports}var Z=V2(),tp={exports:{}},bt={};var NT;function M2(){if(NT)return bt;NT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),S=Symbol.iterator;function R(L){return L===null||typeof L!="object"?null:(L=S&&L[S]||L["@@iterator"],typeof L=="function"?L:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,k={};function j(L,nt,ut){this.props=L,this.context=nt,this.refs=k,this.updater=ut||M}j.prototype.isReactComponent={},j.prototype.setState=function(L,nt){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,nt,"setState")},j.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function G(){}G.prototype=j.prototype;function Y(L,nt,ut){this.props=L,this.context=nt,this.refs=k,this.updater=ut||M}var rt=Y.prototype=new G;rt.constructor=Y,U(rt,j.prototype),rt.isPureReactComponent=!0;var tt=Array.isArray;function at(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(L,nt,ut){var ht=ut.ref;return{$$typeof:e,type:L,key:nt,ref:ht!==void 0?ht:null,props:ut}}function O(L,nt){return I(L.type,nt,L.props)}function N(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function B(L){var nt={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ut){return nt[ut]})}var x=/\/+/g;function te(L,nt){return typeof L=="object"&&L!==null&&L.key!=null?B(""+L.key):nt.toString(36)}function de(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(at,at):(L.status="pending",L.then(function(nt){L.status==="pending"&&(L.status="fulfilled",L.value=nt)},function(nt){L.status==="pending"&&(L.status="rejected",L.reason=nt)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function W(L,nt,ut,ht,St){var xt=typeof L;(xt==="undefined"||xt==="boolean")&&(L=null);var Bt=!1;if(L===null)Bt=!0;else switch(xt){case"bigint":case"string":case"number":Bt=!0;break;case"object":switch(L.$$typeof){case e:case t:Bt=!0;break;case y:return Bt=L._init,W(Bt(L._payload),nt,ut,ht,St)}}if(Bt)return St=St(L),Bt=ht===""?"."+te(L,0):ht,tt(St)?(ut="",Bt!=null&&(ut=Bt.replace(x,"$&/")+"/"),W(St,nt,ut,"",function(Cr){return Cr})):St!=null&&(N(St)&&(St=O(St,ut+(St.key==null||L&&L.key===St.key?"":(""+St.key).replace(x,"$&/")+"/")+Bt)),nt.push(St)),1;Bt=0;var Oe=ht===""?".":ht+":";if(tt(L))for(var re=0;re<L.length;re++)ht=L[re],xt=Oe+te(ht,re),Bt+=W(ht,nt,ut,xt,St);else if(re=R(L),typeof re=="function")for(L=re.call(L),re=0;!(ht=L.next()).done;)ht=ht.value,xt=Oe+te(ht,re++),Bt+=W(ht,nt,ut,xt,St);else if(xt==="object"){if(typeof L.then=="function")return W(de(L),nt,ut,ht,St);throw nt=String(L),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return Bt}function ot(L,nt,ut){if(L==null)return L;var ht=[],St=0;return W(L,ht,"","",function(xt){return nt.call(ut,xt,St++)}),ht}function ft(L){if(L._status===-1){var nt=L._result;nt=nt(),nt.then(function(ut){(L._status===0||L._status===-1)&&(L._status=1,L._result=ut)},function(ut){(L._status===0||L._status===-1)&&(L._status=2,L._result=ut)}),L._status===-1&&(L._status=0,L._result=nt)}if(L._status===1)return L._result.default;throw L._result}var It=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Nt={map:ot,forEach:function(L,nt,ut){ot(L,function(){nt.apply(this,arguments)},ut)},count:function(L){var nt=0;return ot(L,function(){nt++}),nt},toArray:function(L){return ot(L,function(nt){return nt})||[]},only:function(L){if(!N(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return bt.Activity=_,bt.Children=Nt,bt.Component=j,bt.Fragment=n,bt.Profiler=o,bt.PureComponent=Y,bt.StrictMode=s,bt.Suspense=p,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,bt.__COMPILER_RUNTIME={__proto__:null,c:function(L){return C.H.useMemoCache(L)}},bt.cache=function(L){return function(){return L.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(L,nt,ut){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ht=U({},L.props),St=L.key;if(nt!=null)for(xt in nt.key!==void 0&&(St=""+nt.key),nt)!w.call(nt,xt)||xt==="key"||xt==="__self"||xt==="__source"||xt==="ref"&&nt.ref===void 0||(ht[xt]=nt[xt]);var xt=arguments.length-2;if(xt===1)ht.children=ut;else if(1<xt){for(var Bt=Array(xt),Oe=0;Oe<xt;Oe++)Bt[Oe]=arguments[Oe+2];ht.children=Bt}return I(L.type,St,ht)},bt.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},bt.createElement=function(L,nt,ut){var ht,St={},xt=null;if(nt!=null)for(ht in nt.key!==void 0&&(xt=""+nt.key),nt)w.call(nt,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(St[ht]=nt[ht]);var Bt=arguments.length-2;if(Bt===1)St.children=ut;else if(1<Bt){for(var Oe=Array(Bt),re=0;re<Bt;re++)Oe[re]=arguments[re+2];St.children=Oe}if(L&&L.defaultProps)for(ht in Bt=L.defaultProps,Bt)St[ht]===void 0&&(St[ht]=Bt[ht]);return I(L,xt,St)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(L){return{$$typeof:d,render:L}},bt.isValidElement=N,bt.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:ft}},bt.memo=function(L,nt){return{$$typeof:g,type:L,compare:nt===void 0?null:nt}},bt.startTransition=function(L){var nt=C.T,ut={};C.T=ut;try{var ht=L(),St=C.S;St!==null&&St(ut,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(at,It)}catch(xt){It(xt)}finally{nt!==null&&ut.types!==null&&(nt.types=ut.types),C.T=nt}},bt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},bt.use=function(L){return C.H.use(L)},bt.useActionState=function(L,nt,ut){return C.H.useActionState(L,nt,ut)},bt.useCallback=function(L,nt){return C.H.useCallback(L,nt)},bt.useContext=function(L){return C.H.useContext(L)},bt.useDebugValue=function(){},bt.useDeferredValue=function(L,nt){return C.H.useDeferredValue(L,nt)},bt.useEffect=function(L,nt){return C.H.useEffect(L,nt)},bt.useEffectEvent=function(L){return C.H.useEffectEvent(L)},bt.useId=function(){return C.H.useId()},bt.useImperativeHandle=function(L,nt,ut){return C.H.useImperativeHandle(L,nt,ut)},bt.useInsertionEffect=function(L,nt){return C.H.useInsertionEffect(L,nt)},bt.useLayoutEffect=function(L,nt){return C.H.useLayoutEffect(L,nt)},bt.useMemo=function(L,nt){return C.H.useMemo(L,nt)},bt.useOptimistic=function(L,nt){return C.H.useOptimistic(L,nt)},bt.useReducer=function(L,nt,ut){return C.H.useReducer(L,nt,ut)},bt.useRef=function(L){return C.H.useRef(L)},bt.useState=function(L){return C.H.useState(L)},bt.useSyncExternalStore=function(L,nt,ut){return C.H.useSyncExternalStore(L,nt,ut)},bt.useTransition=function(){return C.H.useTransition()},bt.version="19.2.1",bt}var OT;function Vg(){return OT||(OT=1,tp.exports=M2()),tp.exports}var V=Vg();const Mg=x2(V);var ep={exports:{}},su={},np={exports:{}},ip={};var PT;function N2(){return PT||(PT=1,(function(e){function t(W,ot){var ft=W.length;W.push(ot);t:for(;0<ft;){var It=ft-1>>>1,Nt=W[It];if(0<o(Nt,ot))W[It]=ot,W[ft]=Nt,ft=It;else break t}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var ot=W[0],ft=W.pop();if(ft!==ot){W[0]=ft;t:for(var It=0,Nt=W.length,L=Nt>>>1;It<L;){var nt=2*(It+1)-1,ut=W[nt],ht=nt+1,St=W[ht];if(0>o(ut,ft))ht<Nt&&0>o(St,ut)?(W[It]=St,W[ht]=ft,It=ht):(W[It]=ut,W[nt]=ft,It=nt);else if(ht<Nt&&0>o(St,ft))W[It]=St,W[ht]=ft,It=ht;else break t}}return ot}function o(W,ot){var ft=W.sortIndex-ot.sortIndex;return ft!==0?ft:W.id-ot.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var p=[],g=[],y=1,_=null,S=3,R=!1,M=!1,U=!1,k=!1,j=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function rt(W){for(var ot=n(g);ot!==null;){if(ot.callback===null)s(g);else if(ot.startTime<=W)s(g),ot.sortIndex=ot.expirationTime,t(p,ot);else break;ot=n(g)}}function tt(W){if(U=!1,rt(W),!M)if(n(p)!==null)M=!0,at||(at=!0,B());else{var ot=n(g);ot!==null&&de(tt,ot.startTime-W)}}var at=!1,C=-1,w=5,I=-1;function O(){return k?!0:!(e.unstable_now()-I<w)}function N(){if(k=!1,at){var W=e.unstable_now();I=W;var ot=!0;try{t:{M=!1,U&&(U=!1,G(C),C=-1),R=!0;var ft=S;try{e:{for(rt(W),_=n(p);_!==null&&!(_.expirationTime>W&&O());){var It=_.callback;if(typeof It=="function"){_.callback=null,S=_.priorityLevel;var Nt=It(_.expirationTime<=W);if(W=e.unstable_now(),typeof Nt=="function"){_.callback=Nt,rt(W),ot=!0;break e}_===n(p)&&s(p),rt(W)}else s(p);_=n(p)}if(_!==null)ot=!0;else{var L=n(g);L!==null&&de(tt,L.startTime-W),ot=!1}}break t}finally{_=null,S=ft,R=!1}ot=void 0}}finally{ot?B():at=!1}}}var B;if(typeof Y=="function")B=function(){Y(N)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,te=x.port2;x.port1.onmessage=N,B=function(){te.postMessage(null)}}else B=function(){j(N,0)};function de(W,ot){C=j(function(){W(e.unstable_now())},ot)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_next=function(W){switch(S){case 1:case 2:case 3:var ot=3;break;default:ot=S}var ft=S;S=ot;try{return W()}finally{S=ft}},e.unstable_requestPaint=function(){k=!0},e.unstable_runWithPriority=function(W,ot){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ft=S;S=W;try{return ot()}finally{S=ft}},e.unstable_scheduleCallback=function(W,ot,ft){var It=e.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?It+ft:It):ft=It,W){case 1:var Nt=-1;break;case 2:Nt=250;break;case 5:Nt=1073741823;break;case 4:Nt=1e4;break;default:Nt=5e3}return Nt=ft+Nt,W={id:y++,callback:ot,priorityLevel:W,startTime:ft,expirationTime:Nt,sortIndex:-1},ft>It?(W.sortIndex=ft,t(g,W),n(p)===null&&W===n(g)&&(U?(G(C),C=-1):U=!0,de(tt,ft-It))):(W.sortIndex=Nt,t(p,W),M||R||(M=!0,at||(at=!0,B()))),W},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(W){var ot=S;return function(){var ft=S;S=ot;try{return W.apply(this,arguments)}finally{S=ft}}}})(ip)),ip}var LT;function O2(){return LT||(LT=1,np.exports=N2()),np.exports}var sp={exports:{}},en={};var kT;function P2(){if(kT)return en;kT=1;var e=Vg();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,g,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:p,containerInfo:g,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,en.createPortal=function(p,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return l(p,g,null,y)},en.flushSync=function(p){var g=c.T,y=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=y,s.d.f()}},en.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},en.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},en.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var y=g.as,_=d(y,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:R}):y==="script"&&s.d.X(p,{crossOrigin:_,integrity:S,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},en.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},en.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,_=d(y,g.crossOrigin);s.d.L(p,y,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},en.preloadModule=function(p,g){if(typeof p=="string")if(g){var y=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},en.requestFormReset=function(p){s.d.r(p)},en.unstable_batchedUpdates=function(p,g){return p(g)},en.useFormState=function(p,g,y){return c.H.useFormState(p,g,y)},en.useFormStatus=function(){return c.H.useHostTransitionStatus()},en.version="19.2.1",en}var UT;function L2(){if(UT)return sp.exports;UT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),sp.exports=P2(),sp.exports}var zT;function k2(){if(zT)return su;zT=1;var e=O2(),t=Vg(),n=L2();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,a=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(a=r.return),i=r.return;while(i)}return r.tag===3?a:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function p(i){if(l(i)!==i)throw Error(s(188))}function g(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var a=i,u=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return p(f),i;if(m===u)return p(f),r;m=m.sibling}throw Error(s(188))}if(a.return!==u.return)a=f,u=m;else{for(var T=!1,A=f.child;A;){if(A===a){T=!0,a=f,u=m;break}if(A===u){T=!0,u=f,a=m;break}A=A.sibling}if(!T){for(A=m.child;A;){if(A===a){T=!0,a=m,u=f;break}if(A===u){T=!0,u=m,a=f;break}A=A.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=N&&i[N]||i["@@iterator"],typeof i=="function"?i:null)}var x=Symbol.for("react.client.reference");function te(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===x?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case U:return"Fragment";case j:return"Profiler";case k:return"StrictMode";case tt:return"Suspense";case at:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case M:return"Portal";case Y:return i.displayName||"Context";case G:return(i._context.displayName||"Context")+".Consumer";case rt:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return r=i.displayName||null,r!==null?r:te(i.type)||"Memo";case w:r=i._payload,i=i._init;try{return te(i(r))}catch{}}return null}var de=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},It=[],Nt=-1;function L(i){return{current:i}}function nt(i){0>Nt||(i.current=It[Nt],It[Nt]=null,Nt--)}function ut(i,r){Nt++,It[Nt]=i.current,i.current=r}var ht=L(null),St=L(null),xt=L(null),Bt=L(null);function Oe(i,r){switch(ut(xt,r),ut(St,i),ut(ht,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?tT(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=tT(r),i=eT(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}nt(ht),ut(ht,i)}function re(){nt(ht),nt(St),nt(xt)}function Cr(i){i.memoizedState!==null&&ut(Bt,i);var r=ht.current,a=eT(r,i.type);r!==a&&(ut(St,i),ut(ht,a))}function Ca(i){St.current===i&&(nt(ht),nt(St)),Bt.current===i&&(nt(Bt),Jl._currentValue=ft)}var Ia,xa;function pi(i){if(Ia===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ia=r&&r[1]||"",xa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ia+i+xa}var Jo=!1;function Ir(i,r){if(!i||Jo)return"";Jo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(X){var K=X}Reflect.construct(i,[],et)}else{try{et.call()}catch(X){K=X}i.call(et.prototype)}}else{try{throw Error()}catch(X){K=X}(et=i())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(X){if(X&&K&&typeof X.stack=="string")return[X.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),T=m[0],A=m[1];if(T&&A){var D=T.split(`
`),q=A.split(`
`);for(f=u=0;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(u===D.length||f===q.length)for(u=D.length-1,f=q.length-1;1<=u&&0<=f&&D[u]!==q[f];)f--;for(;1<=u&&0<=f;u--,f--)if(D[u]!==q[f]){if(u!==1||f!==1)do if(u--,f--,0>f||D[u]!==q[f]){var $=`
`+D[u].replace(" at new "," at ");return i.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",i.displayName)),$}while(1<=u&&0<=f);break}}}finally{Jo=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?pi(a):""}function tl(i,r){switch(i.tag){case 26:case 27:case 5:return pi(i.type);case 16:return pi("Lazy");case 13:return i.child!==r&&r!==null?pi("Suspense Fallback"):pi("Suspense");case 19:return pi("SuspenseList");case 0:case 15:return Ir(i.type,!1);case 11:return Ir(i.type.render,!1);case 1:return Ir(i.type,!0);case 31:return pi("Activity");default:return""}}function el(i){try{var r="",a=null;do r+=tl(i,a),a=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Se=Object.prototype.hasOwnProperty,Pe=e.unstable_scheduleCallback,Is=e.unstable_cancelCallback,ed=e.unstable_shouldYield,ic=e.unstable_requestPaint,ln=e.unstable_now,xr=e.unstable_getCurrentPriorityLevel,nl=e.unstable_ImmediatePriority,il=e.unstable_UserBlockingPriority,xs=e.unstable_NormalPriority,nd=e.unstable_LowPriority,sc=e.unstable_IdlePriority,rc=e.log,ac=e.unstable_setDisableYieldValue,Wn=null,Ge=null;function Dn(i){if(typeof rc=="function"&&ac(i),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(Wn,i)}catch{}}var ye=Math.clz32?Math.clz32:lc,oc=Math.log,Da=Math.LN2;function lc(i){return i>>>=0,i===0?32:31-(oc(i)/Da|0)|0}var gi=256,Dr=262144,Ae=4194304;function yi(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function vi(i,r,a){var u=i.pendingLanes;if(u===0)return 0;var f=0,m=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var A=u&134217727;return A!==0?(u=A&~m,u!==0?f=yi(u):(T&=A,T!==0?f=yi(T):a||(a=A&~i,a!==0&&(f=yi(a))))):(A=u&~m,A!==0?f=yi(A):T!==0?f=yi(T):a||(a=u&~i,a!==0&&(f=yi(a)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,a=r&-r,m>=a||m===32&&(a&4194048)!==0)?r:f}function Zn(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function id(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uc(){var i=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),i}function _i(i){for(var r=[],a=0;31>a;a++)r.push(i);return r}function Vr(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function sd(i,r,a,u,f,m){var T=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var A=i.entanglements,D=i.expirationTimes,q=i.hiddenUpdates;for(a=T&~a;0<a;){var $=31-ye(a),et=1<<$;A[$]=0,D[$]=-1;var K=q[$];if(K!==null)for(q[$]=null,$=0;$<K.length;$++){var X=K[$];X!==null&&(X.lane&=-536870913)}a&=~et}u!==0&&Mr(i,u,0),m!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=m&~(T&~r))}function Mr(i,r,a){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-ye(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|a&261930}function sl(i,r){var a=i.entangledLanes|=r;for(i=i.entanglements;a;){var u=31-ye(a),f=1<<u;f&r|i[u]&r&&(i[u]|=r),a&=~f}}function rl(i,r){var a=r&-r;return a=(a&42)!==0?1:Nr(a),(a&(i.suspendedLanes|r))!==0?0:a}function Nr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Qi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function cc(){var i=ot.p;return i!==0?i:(i=window.event,i===void 0?32:bT(i.type))}function Jn(i,r){var a=ot.p;try{return ot.p=i,r()}finally{ot.p=a}}var ti=Math.random().toString(36).slice(2),be="__reactFiber$"+ti,Be="__reactProps$"+ti,Ti="__reactContainer$"+ti,Va="__reactEvents$"+ti,rd="__reactListeners$"+ti,hc="__reactHandles$"+ti,fc="__reactResources$"+ti,Ei="__reactMarker$"+ti;function Ma(i){delete i[be],delete i[Be],delete i[Va],delete i[rd],delete i[hc]}function Si(i){var r=i[be];if(r)return r;for(var a=i.parentNode;a;){if(r=a[Ti]||a[be]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(i=lT(i);i!==null;){if(a=i[be])return a;i=lT(i)}return r}i=a,a=i.parentNode}return null}function Vn(i){if(i=i[be]||i[Ti]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function En(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Ai(i){var r=i[fc];return r||(r=i[fc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function we(i){i[Ei]=!0}var al=new Set,ol={};function bi(i,r){wi(i,r),wi(i+"Capture",r)}function wi(i,r){for(ol[i]=r,i=0;i<r.length;i++)al.add(r[i])}var ll=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ul={},cl={};function dc(i){return Se.call(cl,i)?!0:Se.call(ul,i)?!1:ll.test(i)?cl[i]=!0:(ul[i]=!0,!1)}function Na(i,r,a){if(dc(r))if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+a)}}function Sn(i,r,a){if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+a)}}function Re(i,r,a,u){if(u===null)i.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(r,a,""+u)}}function je(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ds(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function hl(i,r,a){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,m=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(T){a=""+T,m.call(this,T)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return a},setValue:function(T){a=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Yt(i){if(!i._valueTracker){var r=Ds(i)?"checked":"value";i._valueTracker=hl(i,r,""+i[r])}}function Or(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return i&&(u=Ds(i)?i.checked?"true":"false":i.value),i=u,i!==a?(r.setValue(i),!0):!1}function Ri(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Pr=/[\n"\\]/g;function fn(i){return i.replace(Pr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Oa(i,r,a,u,f,m,T,A){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+je(r)):i.value!==""+je(r)&&(i.value=""+je(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?fl(i,T,je(r)):a!=null?fl(i,T,je(a)):u!=null&&i.removeAttribute("value"),f==null&&m!=null&&(i.defaultChecked=!!m),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+je(A):i.removeAttribute("name")}function mc(i,r,a,u,f,m,T,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){Yt(i);return}a=a!=null?""+je(a):"",r=r!=null?""+je(r):a,A||r===i.value||(i.value=r),i.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=A?i.checked:!!u,i.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),Yt(i)}function fl(i,r,a){r==="number"&&Ri(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function Vs(i,r,a,u){if(i=i.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<i.length;a++)f=r.hasOwnProperty("$"+i[a].value),i[a].selected!==f&&(i[a].selected=f),f&&u&&(i[a].defaultSelected=!0)}else{for(a=""+je(a),r=null,f=0;f<i.length;f++){if(i[f].value===a){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function pc(i,r,a){if(r!=null&&(r=""+je(r),r!==i.value&&(i.value=r),a==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=a!=null?""+je(a):""}function Ms(i,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error(s(92));if(de(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),r=a}a=je(r),i.defaultValue=a,u=i.textContent,u===a&&u!==""&&u!==null&&(i.value=u),Yt(i)}function dn(i,r){if(r){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=r;return}}i.textContent=r}var gc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dl(i,r,a){var u=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,a):typeof a!="number"||a===0||gc.has(r)?r==="float"?i.cssFloat=a:i[r]=(""+a).trim():i[r]=a+"px"}function ml(i,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&a[f]!==u&&dl(i,f,u)}else for(var m in r)r.hasOwnProperty(m)&&dl(i,m,r[m])}function Pa(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ns=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function La(i){return Ns.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ei(){}var pl=null;function Mn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Os=null,Ci=null;function Lr(i){var r=Vn(i);if(r&&(i=r.stateNode)){var a=i[Be]||null;t:switch(i=r.stateNode,r.type){case"input":if(Oa(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+fn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==i&&u.form===i.form){var f=u[Be]||null;if(!f)throw Error(s(90));Oa(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===i.form&&Or(u)}break t;case"textarea":pc(i,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&Vs(i,!!a.multiple,r,!1)}}}var ka=!1;function Ps(i,r,a){if(ka)return i(r,a);ka=!0;try{var u=i(r);return u}finally{if(ka=!1,(Os!==null||Ci!==null)&&(ch(),Os&&(r=Os,i=Ci,Ci=Os=null,Lr(r),i)))for(r=0;r<i.length;r++)Lr(i[r])}}function ni(i,r){var a=i.stateNode;if(a===null)return null;var u=a[Be]||null;if(u===null)return null;a=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kr=!1;if(Nn)try{var $t={};Object.defineProperty($t,"passive",{get:function(){kr=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{kr=!1}var Ii=null,gl=null,Ur=null;function yl(){if(Ur)return Ur;var i,r=gl,a=r.length,u,f="value"in Ii?Ii.value:Ii.textContent,m=f.length;for(i=0;i<a&&r[i]===f[i];i++);var T=a-i;for(u=1;u<=T&&r[a-u]===f[m-u];u++);return Ur=f.slice(i,1<u?1-u:void 0)}function zr(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Xi(){return!0}function ii(){return!1}function Ke(i){function r(a,u,f,m,T){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(a=i[A],this[A]=a?a(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Xi:ii,this.isPropagationStopped=ii,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),r}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xi=Ke($i),Ls=_({},$i,{view:0,detail:0}),vl=Ke(Ls),ks,Ua,Di,za=_({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Us,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Di&&(Di&&i.type==="mousemove"?(ks=i.screenX-Di.screenX,Ua=i.screenY-Di.screenY):Ua=ks=0,Di=i),ks)},movementY:function(i){return"movementY"in i?i.movementY:Ua}}),_l=Ke(za),Br=_({},za,{dataTransfer:0}),vc=Ke(Br),_c=_({},Ls,{relatedTarget:0}),jr=Ke(_c),Tl=_({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),Tc=Ke(Tl),Ba=_({},$i,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ec=Ke(Ba),Sc=_({},$i,{data:0}),Vi=Ke(Sc),Ac={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rc(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=wc[i])?!!r[i]:!1}function Us(){return Rc}var un=_({},Ls,{key:function(i){if(i.key){var r=Ac[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=zr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?bc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Us,charCode:function(i){return i.type==="keypress"?zr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?zr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Cc=Ke(un),Ic=_({},za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wi=Ke(Ic),h=_({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Us}),v=Ke(h),E=_({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Ke(E),F=_({},za,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Ke(F),lt=_({},$i,{newState:0,oldState:0}),Rt=Ke(lt),ve=[9,13,27,32],qt=Nn&&"CompositionEvent"in window,ae=null;Nn&&"documentMode"in document&&(ae=document.documentMode);var On=Nn&&"TextEvent"in window&&!ae,Mi=Nn&&(!qt||ae&&8<ae&&11>=ae),si=" ",ri=!1;function Fr(i,r){switch(i){case"keyup":return ve.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ja(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Fa=!1;function JR(i,r){switch(i){case"compositionend":return ja(r);case"keypress":return r.which!==32?null:(ri=!0,si);case"textInput":return i=r.data,i===si&&ri?null:i;default:return null}}function tC(i,r){if(Fa)return i==="compositionend"||!qt&&Fr(i,r)?(i=yl(),Ur=gl=Ii=null,Fa=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Mi&&r.locale!=="ko"?null:r.data;default:return null}}var eC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hv(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!eC[i.type]:r==="textarea"}function fv(i,r,a,u){Os?Ci?Ci.push(u):Ci=[u]:Os=u,r=yh(r,"onChange"),0<r.length&&(a=new xi("onChange","change",null,a,u),i.push({event:a,listeners:r}))}var El=null,Sl=null;function nC(i){Q0(i,0)}function xc(i){var r=En(i);if(Or(r))return i}function dv(i,r){if(i==="change")return r}var mv=!1;if(Nn){var ad;if(Nn){var od="oninput"in document;if(!od){var pv=document.createElement("div");pv.setAttribute("oninput","return;"),od=typeof pv.oninput=="function"}ad=od}else ad=!1;mv=ad&&(!document.documentMode||9<document.documentMode)}function gv(){El&&(El.detachEvent("onpropertychange",yv),Sl=El=null)}function yv(i){if(i.propertyName==="value"&&xc(Sl)){var r=[];fv(r,Sl,i,Mn(i)),Ps(nC,r)}}function iC(i,r,a){i==="focusin"?(gv(),El=r,Sl=a,El.attachEvent("onpropertychange",yv)):i==="focusout"&&gv()}function sC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return xc(Sl)}function rC(i,r){if(i==="click")return xc(r)}function aC(i,r){if(i==="input"||i==="change")return xc(r)}function oC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var An=typeof Object.is=="function"?Object.is:oC;function Al(i,r){if(An(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var a=Object.keys(i),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!Se.call(r,f)||!An(i[f],r[f]))return!1}return!0}function vv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function _v(i,r){var a=vv(i);i=0;for(var u;a;){if(a.nodeType===3){if(u=i+a.textContent.length,i<=r&&u>=r)return{node:a,offset:r-i};i=u}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=vv(a)}}function Tv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Tv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Ev(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Ri(i.document);r instanceof i.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)i=r.contentWindow;else break;r=Ri(i.document)}return r}function ld(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var lC=Nn&&"documentMode"in document&&11>=document.documentMode,Ha=null,ud=null,bl=null,cd=!1;function Sv(i,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;cd||Ha==null||Ha!==Ri(u)||(u=Ha,"selectionStart"in u&&ld(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),bl&&Al(bl,u)||(bl=u,u=yh(ud,"onSelect"),0<u.length&&(r=new xi("onSelect","select",null,r,a),i.push({event:r,listeners:u}),r.target=Ha)))}function Hr(i,r){var a={};return a[i.toLowerCase()]=r.toLowerCase(),a["Webkit"+i]="webkit"+r,a["Moz"+i]="moz"+r,a}var qa={animationend:Hr("Animation","AnimationEnd"),animationiteration:Hr("Animation","AnimationIteration"),animationstart:Hr("Animation","AnimationStart"),transitionrun:Hr("Transition","TransitionRun"),transitionstart:Hr("Transition","TransitionStart"),transitioncancel:Hr("Transition","TransitionCancel"),transitionend:Hr("Transition","TransitionEnd")},hd={},Av={};Nn&&(Av=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function qr(i){if(hd[i])return hd[i];if(!qa[i])return i;var r=qa[i],a;for(a in r)if(r.hasOwnProperty(a)&&a in Av)return hd[i]=r[a];return i}var bv=qr("animationend"),wv=qr("animationiteration"),Rv=qr("animationstart"),uC=qr("transitionrun"),cC=qr("transitionstart"),hC=qr("transitioncancel"),Cv=qr("transitionend"),Iv=new Map,fd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fd.push("scrollEnd");function ai(i,r){Iv.set(i,r),bi(r,[i])}var Dc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Pn=[],Ga=0,dd=0;function Vc(){for(var i=Ga,r=dd=Ga=0;r<i;){var a=Pn[r];Pn[r++]=null;var u=Pn[r];Pn[r++]=null;var f=Pn[r];Pn[r++]=null;var m=Pn[r];if(Pn[r++]=null,u!==null&&f!==null){var T=u.pending;T===null?f.next=f:(f.next=T.next,T.next=f),u.pending=f}m!==0&&xv(a,f,m)}}function Mc(i,r,a,u){Pn[Ga++]=i,Pn[Ga++]=r,Pn[Ga++]=a,Pn[Ga++]=u,dd|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function md(i,r,a,u){return Mc(i,r,a,u),Nc(i)}function Gr(i,r){return Mc(i,null,null,r),Nc(i)}function xv(i,r,a){i.lanes|=a;var u=i.alternate;u!==null&&(u.lanes|=a);for(var f=!1,m=i.return;m!==null;)m.childLanes|=a,u=m.alternate,u!==null&&(u.childLanes|=a),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(f=!0)),i=m,m=m.return;return i.tag===3?(m=i.stateNode,f&&r!==null&&(f=31-ye(a),i=m.hiddenUpdates,u=i[f],u===null?i[f]=[r]:u.push(r),r.lane=a|536870912),m):null}function Nc(i){if(50<Kl)throw Kl=0,Am=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Ka={};function fC(i,r,a,u){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(i,r,a,u){return new fC(i,r,a,u)}function pd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Zi(i,r){var a=i.alternate;return a===null?(a=bn(i.tag,r,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=r,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,r=i.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function Dv(i,r){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,r=a.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Oc(i,r,a,u,f,m){var T=0;if(u=i,typeof i=="function")pd(i)&&(T=1);else if(typeof i=="string")T=y2(i,a,ht.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case I:return i=bn(31,a,r,f),i.elementType=I,i.lanes=m,i;case U:return Kr(a.children,f,m,r);case k:T=8,f|=24;break;case j:return i=bn(12,a,r,f|2),i.elementType=j,i.lanes=m,i;case tt:return i=bn(13,a,r,f),i.elementType=tt,i.lanes=m,i;case at:return i=bn(19,a,r,f),i.elementType=at,i.lanes=m,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Y:T=10;break t;case G:T=9;break t;case rt:T=11;break t;case C:T=14;break t;case w:T=16,u=null;break t}T=29,a=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=bn(T,a,r,f),r.elementType=i,r.type=u,r.lanes=m,r}function Kr(i,r,a,u){return i=bn(7,i,u,r),i.lanes=a,i}function gd(i,r,a){return i=bn(6,i,null,r),i.lanes=a,i}function Vv(i){var r=bn(18,null,null,0);return r.stateNode=i,r}function yd(i,r,a){return r=bn(4,i.children!==null?i.children:[],i.key,r),r.lanes=a,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Mv=new WeakMap;function Ln(i,r){if(typeof i=="object"&&i!==null){var a=Mv.get(i);return a!==void 0?a:(r={value:i,source:r,stack:el(r)},Mv.set(i,r),r)}return{value:i,source:r,stack:el(r)}}var Ya=[],Qa=0,Pc=null,wl=0,kn=[],Un=0,zs=null,Ni=1,Oi="";function Ji(i,r){Ya[Qa++]=wl,Ya[Qa++]=Pc,Pc=i,wl=r}function Nv(i,r,a){kn[Un++]=Ni,kn[Un++]=Oi,kn[Un++]=zs,zs=i;var u=Ni;i=Oi;var f=32-ye(u)-1;u&=~(1<<f),a+=1;var m=32-ye(r)+f;if(30<m){var T=f-f%5;m=(u&(1<<T)-1).toString(32),u>>=T,f-=T,Ni=1<<32-ye(r)+f|a<<f|u,Oi=m+i}else Ni=1<<m|a<<f|u,Oi=i}function vd(i){i.return!==null&&(Ji(i,1),Nv(i,1,0))}function _d(i){for(;i===Pc;)Pc=Ya[--Qa],Ya[Qa]=null,wl=Ya[--Qa],Ya[Qa]=null;for(;i===zs;)zs=kn[--Un],kn[Un]=null,Oi=kn[--Un],kn[Un]=null,Ni=kn[--Un],kn[Un]=null}function Ov(i,r){kn[Un++]=Ni,kn[Un++]=Oi,kn[Un++]=zs,Ni=r.id,Oi=r.overflow,zs=i}var Ye=null,ne=null,zt=!1,Bs=null,zn=!1,Td=Error(s(519));function js(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Rl(Ln(r,i)),Td}function Pv(i){var r=i.stateNode,a=i.type,u=i.memoizedProps;switch(r[be]=i,r[Be]=u,a){case"dialog":Mt("cancel",r),Mt("close",r);break;case"iframe":case"object":case"embed":Mt("load",r);break;case"video":case"audio":for(a=0;a<Ql.length;a++)Mt(Ql[a],r);break;case"source":Mt("error",r);break;case"img":case"image":case"link":Mt("error",r),Mt("load",r);break;case"details":Mt("toggle",r);break;case"input":Mt("invalid",r),mc(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Mt("invalid",r);break;case"textarea":Mt("invalid",r),Ms(r,u.value,u.defaultValue,u.children)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||Z0(r.textContent,a)?(u.popover!=null&&(Mt("beforetoggle",r),Mt("toggle",r)),u.onScroll!=null&&Mt("scroll",r),u.onScrollEnd!=null&&Mt("scrollend",r),u.onClick!=null&&(r.onclick=ei),r=!0):r=!1,r||js(i,!0)}function Lv(i){for(Ye=i.return;Ye;)switch(Ye.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Ye=Ye.return}}function Xa(i){if(i!==Ye)return!1;if(!zt)return Lv(i),zt=!0,!1;var r=i.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||Um(i.type,i.memoizedProps)),a=!a),a&&ne&&js(i),Lv(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ne=oT(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ne=oT(i)}else r===27?(r=ne,er(i.type)?(i=Hm,Hm=null,ne=i):ne=r):ne=Ye?jn(i.stateNode.nextSibling):null;return!0}function Yr(){ne=Ye=null,zt=!1}function Ed(){var i=Bs;return i!==null&&(yn===null?yn=i:yn.push.apply(yn,i),Bs=null),i}function Rl(i){Bs===null?Bs=[i]:Bs.push(i)}var Sd=L(null),Qr=null,ts=null;function Fs(i,r,a){ut(Sd,r._currentValue),r._currentValue=a}function es(i){i._currentValue=Sd.current,nt(Sd)}function Ad(i,r,a){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===a)break;i=i.return}}function bd(i,r,a,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;t:for(;m!==null;){var A=m;m=f;for(var D=0;D<r.length;D++)if(A.context===r[D]){m.lanes|=a,A=m.alternate,A!==null&&(A.lanes|=a),Ad(m.return,a,i),u||(T=null);break t}m=A.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),Ad(T,a,i),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===i){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function $a(i,r,a,u){i=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var A=f.type;An(f.pendingProps.value,T.value)||(i!==null?i.push(A):i=[A])}}else if(f===Bt.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(Jl):i=[Jl])}f=f.return}i!==null&&bd(r,i,a,u),r.flags|=262144}function Lc(i){for(i=i.firstContext;i!==null;){if(!An(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Xr(i){Qr=i,ts=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Qe(i){return kv(Qr,i)}function kc(i,r){return Qr===null&&Xr(i),kv(i,r)}function kv(i,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ts===null){if(i===null)throw Error(s(308));ts=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else ts=ts.next=r;return a}var dC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(a,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(a){return a()})}},mC=e.unstable_scheduleCallback,pC=e.unstable_NormalPriority,Ce={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wd(){return{controller:new dC,data:new Map,refCount:0}}function Cl(i){i.refCount--,i.refCount===0&&mC(pC,function(){i.controller.abort()})}var Il=null,Rd=0,Wa=0,Za=null;function gC(i,r){if(Il===null){var a=Il=[];Rd=0,Wa=xm(),Za={status:"pending",value:void 0,then:function(u){a.push(u)}}}return Rd++,r.then(Uv,Uv),r}function Uv(){if(--Rd===0&&Il!==null){Za!==null&&(Za.status="fulfilled");var i=Il;Il=null,Wa=0,Za=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function yC(i,r){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var zv=W.S;W.S=function(i,r){S0=ln(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&gC(i,r),zv!==null&&zv(i,r)};var $r=L(null);function Cd(){var i=$r.current;return i!==null?i:ee.pooledCache}function Uc(i,r){r===null?ut($r,$r.current):ut($r,r.pool)}function Bv(){var i=Cd();return i===null?null:{parent:Ce._currentValue,pool:i}}var Ja=Error(s(460)),Id=Error(s(474)),zc=Error(s(542)),Bc={then:function(){}};function jv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Fv(i,r,a){switch(a=i[a],a===void 0?i.push(r):a!==r&&(r.then(ei,ei),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,qv(i),i;default:if(typeof r.status=="string")r.then(ei,ei);else{if(i=ee,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,qv(i),i}throw Zr=r,Ja}}function Wr(i){try{var r=i._init;return r(i._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Zr=a,Ja):a}}var Zr=null;function Hv(){if(Zr===null)throw Error(s(459));var i=Zr;return Zr=null,i}function qv(i){if(i===Ja||i===zc)throw Error(s(483))}var to=null,xl=0;function jc(i){var r=xl;return xl+=1,to===null&&(to=[]),Fv(to,i,r)}function Dl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Fc(i,r){throw r.$$typeof===S?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Gv(i){function r(z,P){if(i){var H=z.deletions;H===null?(z.deletions=[P],z.flags|=16):H.push(P)}}function a(z,P){if(!i)return null;for(;P!==null;)r(z,P),P=P.sibling;return null}function u(z){for(var P=new Map;z!==null;)z.key!==null?P.set(z.key,z):P.set(z.index,z),z=z.sibling;return P}function f(z,P){return z=Zi(z,P),z.index=0,z.sibling=null,z}function m(z,P,H){return z.index=H,i?(H=z.alternate,H!==null?(H=H.index,H<P?(z.flags|=67108866,P):H):(z.flags|=67108866,P)):(z.flags|=1048576,P)}function T(z){return i&&z.alternate===null&&(z.flags|=67108866),z}function A(z,P,H,J){return P===null||P.tag!==6?(P=gd(H,z.mode,J),P.return=z,P):(P=f(P,H),P.return=z,P)}function D(z,P,H,J){var gt=H.type;return gt===U?$(z,P,H.props.children,J,H.key):P!==null&&(P.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===w&&Wr(gt)===P.type)?(P=f(P,H.props),Dl(P,H),P.return=z,P):(P=Oc(H.type,H.key,H.props,null,z.mode,J),Dl(P,H),P.return=z,P)}function q(z,P,H,J){return P===null||P.tag!==4||P.stateNode.containerInfo!==H.containerInfo||P.stateNode.implementation!==H.implementation?(P=yd(H,z.mode,J),P.return=z,P):(P=f(P,H.children||[]),P.return=z,P)}function $(z,P,H,J,gt){return P===null||P.tag!==7?(P=Kr(H,z.mode,J,gt),P.return=z,P):(P=f(P,H),P.return=z,P)}function et(z,P,H){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=gd(""+P,z.mode,H),P.return=z,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case R:return H=Oc(P.type,P.key,P.props,null,z.mode,H),Dl(H,P),H.return=z,H;case M:return P=yd(P,z.mode,H),P.return=z,P;case w:return P=Wr(P),et(z,P,H)}if(de(P)||B(P))return P=Kr(P,z.mode,H,null),P.return=z,P;if(typeof P.then=="function")return et(z,jc(P),H);if(P.$$typeof===Y)return et(z,kc(z,P),H);Fc(z,P)}return null}function K(z,P,H,J){var gt=P!==null?P.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return gt!==null?null:A(z,P,""+H,J);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case R:return H.key===gt?D(z,P,H,J):null;case M:return H.key===gt?q(z,P,H,J):null;case w:return H=Wr(H),K(z,P,H,J)}if(de(H)||B(H))return gt!==null?null:$(z,P,H,J,null);if(typeof H.then=="function")return K(z,P,jc(H),J);if(H.$$typeof===Y)return K(z,P,kc(z,H),J);Fc(z,H)}return null}function X(z,P,H,J,gt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return z=z.get(H)||null,A(P,z,""+J,gt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case R:return z=z.get(J.key===null?H:J.key)||null,D(P,z,J,gt);case M:return z=z.get(J.key===null?H:J.key)||null,q(P,z,J,gt);case w:return J=Wr(J),X(z,P,H,J,gt)}if(de(J)||B(J))return z=z.get(H)||null,$(P,z,J,gt,null);if(typeof J.then=="function")return X(z,P,H,jc(J),gt);if(J.$$typeof===Y)return X(z,P,H,kc(P,J),gt);Fc(P,J)}return null}function dt(z,P,H,J){for(var gt=null,Ft=null,mt=P,Dt=P=0,Pt=null;mt!==null&&Dt<H.length;Dt++){mt.index>Dt?(Pt=mt,mt=null):Pt=mt.sibling;var Ht=K(z,mt,H[Dt],J);if(Ht===null){mt===null&&(mt=Pt);break}i&&mt&&Ht.alternate===null&&r(z,mt),P=m(Ht,P,Dt),Ft===null?gt=Ht:Ft.sibling=Ht,Ft=Ht,mt=Pt}if(Dt===H.length)return a(z,mt),zt&&Ji(z,Dt),gt;if(mt===null){for(;Dt<H.length;Dt++)mt=et(z,H[Dt],J),mt!==null&&(P=m(mt,P,Dt),Ft===null?gt=mt:Ft.sibling=mt,Ft=mt);return zt&&Ji(z,Dt),gt}for(mt=u(mt);Dt<H.length;Dt++)Pt=X(mt,z,Dt,H[Dt],J),Pt!==null&&(i&&Pt.alternate!==null&&mt.delete(Pt.key===null?Dt:Pt.key),P=m(Pt,P,Dt),Ft===null?gt=Pt:Ft.sibling=Pt,Ft=Pt);return i&&mt.forEach(function(ar){return r(z,ar)}),zt&&Ji(z,Dt),gt}function vt(z,P,H,J){if(H==null)throw Error(s(151));for(var gt=null,Ft=null,mt=P,Dt=P=0,Pt=null,Ht=H.next();mt!==null&&!Ht.done;Dt++,Ht=H.next()){mt.index>Dt?(Pt=mt,mt=null):Pt=mt.sibling;var ar=K(z,mt,Ht.value,J);if(ar===null){mt===null&&(mt=Pt);break}i&&mt&&ar.alternate===null&&r(z,mt),P=m(ar,P,Dt),Ft===null?gt=ar:Ft.sibling=ar,Ft=ar,mt=Pt}if(Ht.done)return a(z,mt),zt&&Ji(z,Dt),gt;if(mt===null){for(;!Ht.done;Dt++,Ht=H.next())Ht=et(z,Ht.value,J),Ht!==null&&(P=m(Ht,P,Dt),Ft===null?gt=Ht:Ft.sibling=Ht,Ft=Ht);return zt&&Ji(z,Dt),gt}for(mt=u(mt);!Ht.done;Dt++,Ht=H.next())Ht=X(mt,z,Dt,Ht.value,J),Ht!==null&&(i&&Ht.alternate!==null&&mt.delete(Ht.key===null?Dt:Ht.key),P=m(Ht,P,Dt),Ft===null?gt=Ht:Ft.sibling=Ht,Ft=Ht);return i&&mt.forEach(function(I2){return r(z,I2)}),zt&&Ji(z,Dt),gt}function Jt(z,P,H,J){if(typeof H=="object"&&H!==null&&H.type===U&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case R:t:{for(var gt=H.key;P!==null;){if(P.key===gt){if(gt=H.type,gt===U){if(P.tag===7){a(z,P.sibling),J=f(P,H.props.children),J.return=z,z=J;break t}}else if(P.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===w&&Wr(gt)===P.type){a(z,P.sibling),J=f(P,H.props),Dl(J,H),J.return=z,z=J;break t}a(z,P);break}else r(z,P);P=P.sibling}H.type===U?(J=Kr(H.props.children,z.mode,J,H.key),J.return=z,z=J):(J=Oc(H.type,H.key,H.props,null,z.mode,J),Dl(J,H),J.return=z,z=J)}return T(z);case M:t:{for(gt=H.key;P!==null;){if(P.key===gt)if(P.tag===4&&P.stateNode.containerInfo===H.containerInfo&&P.stateNode.implementation===H.implementation){a(z,P.sibling),J=f(P,H.children||[]),J.return=z,z=J;break t}else{a(z,P);break}else r(z,P);P=P.sibling}J=yd(H,z.mode,J),J.return=z,z=J}return T(z);case w:return H=Wr(H),Jt(z,P,H,J)}if(de(H))return dt(z,P,H,J);if(B(H)){if(gt=B(H),typeof gt!="function")throw Error(s(150));return H=gt.call(H),vt(z,P,H,J)}if(typeof H.then=="function")return Jt(z,P,jc(H),J);if(H.$$typeof===Y)return Jt(z,P,kc(z,H),J);Fc(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,P!==null&&P.tag===6?(a(z,P.sibling),J=f(P,H),J.return=z,z=J):(a(z,P),J=gd(H,z.mode,J),J.return=z,z=J),T(z)):a(z,P)}return function(z,P,H,J){try{xl=0;var gt=Jt(z,P,H,J);return to=null,gt}catch(mt){if(mt===Ja||mt===zc)throw mt;var Ft=bn(29,mt,null,z.mode);return Ft.lanes=J,Ft.return=z,Ft}finally{}}}var Jr=Gv(!0),Kv=Gv(!1),Hs=!1;function xd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dd(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function qs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Gs(i,r,a){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Gt&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=Nc(i),xv(i,null,a),r}return Mc(i,u,r,a),Nc(i)}function Vl(i,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,a|=u,r.lanes=a,sl(i,a)}}function Vd(i,r){var a=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=r:i.next=r,a.lastBaseUpdate=r}var Md=!1;function Ml(){if(Md){var i=Za;if(i!==null)throw i}}function Nl(i,r,a,u){Md=!1;var f=i.updateQueue;Hs=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var D=A,q=D.next;D.next=null,T===null?m=q:T.next=q,T=D;var $=i.alternate;$!==null&&($=$.updateQueue,A=$.lastBaseUpdate,A!==T&&(A===null?$.firstBaseUpdate=q:A.next=q,$.lastBaseUpdate=D))}if(m!==null){var et=f.baseState;T=0,$=q=D=null,A=m;do{var K=A.lane&-536870913,X=K!==A.lane;if(X?(Ot&K)===K:(u&K)===K){K!==0&&K===Wa&&(Md=!0),$!==null&&($=$.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var dt=i,vt=A;K=r;var Jt=a;switch(vt.tag){case 1:if(dt=vt.payload,typeof dt=="function"){et=dt.call(Jt,et,K);break t}et=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=vt.payload,K=typeof dt=="function"?dt.call(Jt,et,K):dt,K==null)break t;et=_({},et,K);break t;case 2:Hs=!0}}K=A.callback,K!==null&&(i.flags|=64,X&&(i.flags|=8192),X=f.callbacks,X===null?f.callbacks=[K]:X.push(K))}else X={lane:K,tag:A.tag,payload:A.payload,callback:A.callback,next:null},$===null?(q=$=X,D=et):$=$.next=X,T|=K;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;X=A,A=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);$===null&&(D=et),f.baseState=D,f.firstBaseUpdate=q,f.lastBaseUpdate=$,m===null&&(f.shared.lanes=0),$s|=T,i.lanes=T,i.memoizedState=et}}function Yv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Qv(i,r){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)Yv(a[i],r)}var eo=L(null),Hc=L(0);function Xv(i,r){i=cs,ut(Hc,i),ut(eo,r),cs=i|r.baseLanes}function Nd(){ut(Hc,cs),ut(eo,eo.current)}function Od(){cs=Hc.current,nt(eo),nt(Hc)}var wn=L(null),Bn=null;function Ks(i){var r=i.alternate;ut(_e,_e.current&1),ut(wn,i),Bn===null&&(r===null||eo.current!==null||r.memoizedState!==null)&&(Bn=i)}function Pd(i){ut(_e,_e.current),ut(wn,i),Bn===null&&(Bn=i)}function $v(i){i.tag===22?(ut(_e,_e.current),ut(wn,i),Bn===null&&(Bn=i)):Ys()}function Ys(){ut(_e,_e.current),ut(wn,wn.current)}function Rn(i){nt(wn),Bn===i&&(Bn=null),nt(_e)}var _e=L(0);function qc(i){for(var r=i;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||jm(a)||Fm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ns=0,Ct=null,Wt=null,Ie=null,Gc=!1,no=!1,ta=!1,Kc=0,Ol=0,io=null,vC=0;function me(){throw Error(s(321))}function Ld(i,r){if(r===null)return!1;for(var a=0;a<r.length&&a<i.length;a++)if(!An(i[a],r[a]))return!1;return!0}function kd(i,r,a,u,f,m){return ns=m,Ct=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=i===null||i.memoizedState===null?N_:Zd,ta=!1,m=a(u,f),ta=!1,no&&(m=Zv(r,a,u,f)),Wv(i),m}function Wv(i){W.H=kl;var r=Wt!==null&&Wt.next!==null;if(ns=0,Ie=Wt=Ct=null,Gc=!1,Ol=0,io=null,r)throw Error(s(300));i===null||xe||(i=i.dependencies,i!==null&&Lc(i)&&(xe=!0))}function Zv(i,r,a,u){Ct=i;var f=0;do{if(no&&(io=null),Ol=0,no=!1,25<=f)throw Error(s(301));if(f+=1,Ie=Wt=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}W.H=O_,m=r(a,u)}while(no);return m}function _C(){var i=W.H,r=i.useState()[0];return r=typeof r.then=="function"?Pl(r):r,i=i.useState()[0],(Wt!==null?Wt.memoizedState:null)!==i&&(Ct.flags|=1024),r}function Ud(){var i=Kc!==0;return Kc=0,i}function zd(i,r,a){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~a}function Bd(i){if(Gc){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Gc=!1}ns=0,Ie=Wt=Ct=null,no=!1,Ol=Kc=0,io=null}function cn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?Ct.memoizedState=Ie=i:Ie=Ie.next=i,Ie}function Te(){if(Wt===null){var i=Ct.alternate;i=i!==null?i.memoizedState:null}else i=Wt.next;var r=Ie===null?Ct.memoizedState:Ie.next;if(r!==null)Ie=r,Wt=i;else{if(i===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Wt=i,i={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Ie===null?Ct.memoizedState=Ie=i:Ie=Ie.next=i}return Ie}function Yc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pl(i){var r=Ol;return Ol+=1,io===null&&(io=[]),i=Fv(io,i,r),r=Ct,(Ie===null?r.memoizedState:Ie.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?N_:Zd),i}function Qc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Pl(i);if(i.$$typeof===Y)return Qe(i)}throw Error(s(438,String(i)))}function jd(i){var r=null,a=Ct.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=Ct.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Yc(),Ct.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(i),u=0;u<i;u++)a[u]=O;return r.index++,a}function is(i,r){return typeof r=="function"?r(i):r}function Xc(i){var r=Te();return Fd(r,Wt,i)}function Fd(i,r,a){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var f=i.baseQueue,m=u.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}r.baseQueue=f=m,u.pending=null}if(m=i.baseState,f===null)i.memoizedState=m;else{r=f.next;var A=T=null,D=null,q=r,$=!1;do{var et=q.lane&-536870913;if(et!==q.lane?(Ot&et)===et:(ns&et)===et){var K=q.revertLane;if(K===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),et===Wa&&($=!0);else if((ns&K)===K){q=q.next,K===Wa&&($=!0);continue}else et={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(A=D=et,T=m):D=D.next=et,Ct.lanes|=K,$s|=K;et=q.action,ta&&a(m,et),m=q.hasEagerState?q.eagerState:a(m,et)}else K={lane:et,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(A=D=K,T=m):D=D.next=K,Ct.lanes|=et,$s|=et;q=q.next}while(q!==null&&q!==r);if(D===null?T=m:D.next=A,!An(m,i.memoizedState)&&(xe=!0,$&&(a=Za,a!==null)))throw a;i.memoizedState=m,i.baseState=T,i.baseQueue=D,u.lastRenderedState=m}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Hd(i){var r=Te(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=i;var u=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do m=i(m,T.action),T=T.next;while(T!==f);An(m,r.memoizedState)||(xe=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,u]}function Jv(i,r,a){var u=Ct,f=Te(),m=zt;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var T=!An((Wt||f).memoizedState,a);if(T&&(f.memoizedState=a,xe=!0),f=f.queue,Kd(n_.bind(null,u,f,i),[i]),f.getSnapshot!==r||T||Ie!==null&&Ie.memoizedState.tag&1){if(u.flags|=2048,so(9,{destroy:void 0},e_.bind(null,u,f,a,r),null),ee===null)throw Error(s(349));m||(ns&127)!==0||t_(u,r,a)}return a}function t_(i,r,a){i.flags|=16384,i={getSnapshot:r,value:a},r=Ct.updateQueue,r===null?(r=Yc(),Ct.updateQueue=r,r.stores=[i]):(a=r.stores,a===null?r.stores=[i]:a.push(i))}function e_(i,r,a,u){r.value=a,r.getSnapshot=u,i_(r)&&s_(i)}function n_(i,r,a){return a(function(){i_(r)&&s_(i)})}function i_(i){var r=i.getSnapshot;i=i.value;try{var a=r();return!An(i,a)}catch{return!0}}function s_(i){var r=Gr(i,2);r!==null&&vn(r,i,2)}function qd(i){var r=cn();if(typeof i=="function"){var a=i;if(i=a(),ta){Dn(!0);try{a()}finally{Dn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:i},r}function r_(i,r,a,u){return i.baseState=a,Fd(i,Wt,typeof u=="function"?u:is)}function TC(i,r,a,u,f){if(Zc(i))throw Error(s(485));if(i=r.action,i!==null){var m={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};W.T!==null?a(!0):m.isTransition=!1,u(m),a=r.pending,a===null?(m.next=r.pending=m,a_(r,m)):(m.next=a.next,r.pending=a.next=m)}}function a_(i,r){var a=r.action,u=r.payload,f=i.state;if(r.isTransition){var m=W.T,T={};W.T=T;try{var A=a(f,u),D=W.S;D!==null&&D(T,A),o_(i,r,A)}catch(q){Gd(i,r,q)}finally{m!==null&&T.types!==null&&(m.types=T.types),W.T=m}}else try{m=a(f,u),o_(i,r,m)}catch(q){Gd(i,r,q)}}function o_(i,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){l_(i,r,u)},function(u){return Gd(i,r,u)}):l_(i,r,a)}function l_(i,r,a){r.status="fulfilled",r.value=a,u_(r),i.state=a,r=i.pending,r!==null&&(a=r.next,a===r?i.pending=null:(a=a.next,r.next=a,a_(i,a)))}function Gd(i,r,a){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,u_(r),r=r.next;while(r!==u)}i.action=null}function u_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function c_(i,r){return r}function h_(i,r){if(zt){var a=ee.formState;if(a!==null){t:{var u=Ct;if(zt){if(ne){e:{for(var f=ne,m=zn;f.nodeType!==8;){if(!m){f=null;break e}if(f=jn(f.nextSibling),f===null){f=null;break e}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){ne=jn(f.nextSibling),u=f.data==="F!";break t}}js(u)}u=!1}u&&(r=a[0])}}return a=cn(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c_,lastRenderedState:r},a.queue=u,a=D_.bind(null,Ct,u),u.dispatch=a,u=qd(!1),m=Wd.bind(null,Ct,!1,u.queue),u=cn(),f={state:r,dispatch:null,action:i,pending:null},u.queue=f,a=TC.bind(null,Ct,f,m,a),f.dispatch=a,u.memoizedState=i,[r,a,!1]}function f_(i){var r=Te();return d_(r,Wt,i)}function d_(i,r,a){if(r=Fd(i,r,c_)[0],i=Xc(is)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Pl(r)}catch(T){throw T===Ja?zc:T}else u=r;r=Te();var f=r.queue,m=f.dispatch;return a!==r.memoizedState&&(Ct.flags|=2048,so(9,{destroy:void 0},EC.bind(null,f,a),null)),[u,m,i]}function EC(i,r){i.action=r}function m_(i){var r=Te(),a=Wt;if(a!==null)return d_(r,a,i);Te(),r=r.memoizedState,a=Te();var u=a.queue.dispatch;return a.memoizedState=i,[r,u,!1]}function so(i,r,a,u){return i={tag:i,create:a,deps:u,inst:r,next:null},r=Ct.updateQueue,r===null&&(r=Yc(),Ct.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=i.next=i:(u=a.next,a.next=i,i.next=u,r.lastEffect=i),i}function p_(){return Te().memoizedState}function $c(i,r,a,u){var f=cn();Ct.flags|=i,f.memoizedState=so(1|r,{destroy:void 0},a,u===void 0?null:u)}function Wc(i,r,a,u){var f=Te();u=u===void 0?null:u;var m=f.memoizedState.inst;Wt!==null&&u!==null&&Ld(u,Wt.memoizedState.deps)?f.memoizedState=so(r,m,a,u):(Ct.flags|=i,f.memoizedState=so(1|r,m,a,u))}function g_(i,r){$c(8390656,8,i,r)}function Kd(i,r){Wc(2048,8,i,r)}function SC(i){Ct.flags|=4;var r=Ct.updateQueue;if(r===null)r=Yc(),Ct.updateQueue=r,r.events=[i];else{var a=r.events;a===null?r.events=[i]:a.push(i)}}function y_(i){var r=Te().memoizedState;return SC({ref:r,nextImpl:i}),function(){if((Gt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function v_(i,r){return Wc(4,2,i,r)}function __(i,r){return Wc(4,4,i,r)}function T_(i,r){if(typeof r=="function"){i=i();var a=r(i);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function E_(i,r,a){a=a!=null?a.concat([i]):null,Wc(4,4,T_.bind(null,r,i),a)}function Yd(){}function S_(i,r){var a=Te();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&Ld(r,u[1])?u[0]:(a.memoizedState=[i,r],i)}function A_(i,r){var a=Te();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&Ld(r,u[1]))return u[0];if(u=i(),ta){Dn(!0);try{i()}finally{Dn(!1)}}return a.memoizedState=[u,r],u}function Qd(i,r,a){return a===void 0||(ns&1073741824)!==0&&(Ot&261930)===0?i.memoizedState=r:(i.memoizedState=a,i=b0(),Ct.lanes|=i,$s|=i,a)}function b_(i,r,a,u){return An(a,r)?a:eo.current!==null?(i=Qd(i,a,u),An(i,r)||(xe=!0),i):(ns&42)===0||(ns&1073741824)!==0&&(Ot&261930)===0?(xe=!0,i.memoizedState=a):(i=b0(),Ct.lanes|=i,$s|=i,r)}function w_(i,r,a,u,f){var m=ot.p;ot.p=m!==0&&8>m?m:8;var T=W.T,A={};W.T=A,Wd(i,!1,r,a);try{var D=f(),q=W.S;if(q!==null&&q(A,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var $=yC(D,u);Ll(i,r,$,xn(i))}else Ll(i,r,u,xn(i))}catch(et){Ll(i,r,{then:function(){},status:"rejected",reason:et},xn())}finally{ot.p=m,T!==null&&A.types!==null&&(T.types=A.types),W.T=T}}function AC(){}function Xd(i,r,a,u){if(i.tag!==5)throw Error(s(476));var f=R_(i).queue;w_(i,f,r,ft,a===null?AC:function(){return C_(i),a(u)})}function R_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:ft},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:a},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function C_(i){var r=R_(i);r.next===null&&(r=i.alternate.memoizedState),Ll(i,r.next.queue,{},xn())}function $d(){return Qe(Jl)}function I_(){return Te().memoizedState}function x_(){return Te().memoizedState}function bC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var a=xn();i=qs(a);var u=Gs(r,i,a);u!==null&&(vn(u,r,a),Vl(u,r,a)),r={cache:wd()},i.payload=r;return}r=r.return}}function wC(i,r,a){var u=xn();a={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Zc(i)?V_(r,a):(a=md(i,r,a,u),a!==null&&(vn(a,i,u),M_(a,r,u)))}function D_(i,r,a){var u=xn();Ll(i,r,a,u)}function Ll(i,r,a,u){var f={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Zc(i))V_(r,f);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var T=r.lastRenderedState,A=m(T,a);if(f.hasEagerState=!0,f.eagerState=A,An(A,T))return Mc(i,r,f,0),ee===null&&Vc(),!1}catch{}finally{}if(a=md(i,r,f,u),a!==null)return vn(a,i,u),M_(a,r,u),!0}return!1}function Wd(i,r,a,u){if(u={lane:2,revertLane:xm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Zc(i)){if(r)throw Error(s(479))}else r=md(i,a,u,2),r!==null&&vn(r,i,2)}function Zc(i){var r=i.alternate;return i===Ct||r!==null&&r===Ct}function V_(i,r){no=Gc=!0;var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}function M_(i,r,a){if((a&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,a|=u,r.lanes=a,sl(i,a)}}var kl={readContext:Qe,use:Qc,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me,useHostTransitionStatus:me,useFormState:me,useActionState:me,useOptimistic:me,useMemoCache:me,useCacheRefresh:me};kl.useEffectEvent=me;var N_={readContext:Qe,use:Qc,useCallback:function(i,r){return cn().memoizedState=[i,r===void 0?null:r],i},useContext:Qe,useEffect:g_,useImperativeHandle:function(i,r,a){a=a!=null?a.concat([i]):null,$c(4194308,4,T_.bind(null,r,i),a)},useLayoutEffect:function(i,r){return $c(4194308,4,i,r)},useInsertionEffect:function(i,r){$c(4,2,i,r)},useMemo:function(i,r){var a=cn();r=r===void 0?null:r;var u=i();if(ta){Dn(!0);try{i()}finally{Dn(!1)}}return a.memoizedState=[u,r],u},useReducer:function(i,r,a){var u=cn();if(a!==void 0){var f=a(r);if(ta){Dn(!0);try{a(r)}finally{Dn(!1)}}}else f=r;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=wC.bind(null,Ct,i),[u.memoizedState,i]},useRef:function(i){var r=cn();return i={current:i},r.memoizedState=i},useState:function(i){i=qd(i);var r=i.queue,a=D_.bind(null,Ct,r);return r.dispatch=a,[i.memoizedState,a]},useDebugValue:Yd,useDeferredValue:function(i,r){var a=cn();return Qd(a,i,r)},useTransition:function(){var i=qd(!1);return i=w_.bind(null,Ct,i.queue,!0,!1),cn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,a){var u=Ct,f=cn();if(zt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ee===null)throw Error(s(349));(Ot&127)!==0||t_(u,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,g_(n_.bind(null,u,m,i),[i]),u.flags|=2048,so(9,{destroy:void 0},e_.bind(null,u,m,a,r),null),a},useId:function(){var i=cn(),r=ee.identifierPrefix;if(zt){var a=Oi,u=Ni;a=(u&~(1<<32-ye(u)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Kc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=vC++,r="_"+r+"r_"+a.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:$d,useFormState:h_,useActionState:h_,useOptimistic:function(i){var r=cn();r.memoizedState=r.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Wd.bind(null,Ct,!0,a),a.dispatch=r,[i,r]},useMemoCache:jd,useCacheRefresh:function(){return cn().memoizedState=bC.bind(null,Ct)},useEffectEvent:function(i){var r=cn(),a={impl:i};return r.memoizedState=a,function(){if((Gt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Zd={readContext:Qe,use:Qc,useCallback:S_,useContext:Qe,useEffect:Kd,useImperativeHandle:E_,useInsertionEffect:v_,useLayoutEffect:__,useMemo:A_,useReducer:Xc,useRef:p_,useState:function(){return Xc(is)},useDebugValue:Yd,useDeferredValue:function(i,r){var a=Te();return b_(a,Wt.memoizedState,i,r)},useTransition:function(){var i=Xc(is)[0],r=Te().memoizedState;return[typeof i=="boolean"?i:Pl(i),r]},useSyncExternalStore:Jv,useId:I_,useHostTransitionStatus:$d,useFormState:f_,useActionState:f_,useOptimistic:function(i,r){var a=Te();return r_(a,Wt,i,r)},useMemoCache:jd,useCacheRefresh:x_};Zd.useEffectEvent=y_;var O_={readContext:Qe,use:Qc,useCallback:S_,useContext:Qe,useEffect:Kd,useImperativeHandle:E_,useInsertionEffect:v_,useLayoutEffect:__,useMemo:A_,useReducer:Hd,useRef:p_,useState:function(){return Hd(is)},useDebugValue:Yd,useDeferredValue:function(i,r){var a=Te();return Wt===null?Qd(a,i,r):b_(a,Wt.memoizedState,i,r)},useTransition:function(){var i=Hd(is)[0],r=Te().memoizedState;return[typeof i=="boolean"?i:Pl(i),r]},useSyncExternalStore:Jv,useId:I_,useHostTransitionStatus:$d,useFormState:m_,useActionState:m_,useOptimistic:function(i,r){var a=Te();return Wt!==null?r_(a,Wt,i,r):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:jd,useCacheRefresh:x_};O_.useEffectEvent=y_;function Jd(i,r,a,u){r=i.memoizedState,a=a(u,r),a=a==null?r:_({},r,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var tm={enqueueSetState:function(i,r,a){i=i._reactInternals;var u=xn(),f=qs(u);f.payload=r,a!=null&&(f.callback=a),r=Gs(i,f,u),r!==null&&(vn(r,i,u),Vl(r,i,u))},enqueueReplaceState:function(i,r,a){i=i._reactInternals;var u=xn(),f=qs(u);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Gs(i,f,u),r!==null&&(vn(r,i,u),Vl(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var a=xn(),u=qs(a);u.tag=2,r!=null&&(u.callback=r),r=Gs(i,u,a),r!==null&&(vn(r,i,a),Vl(r,i,a))}};function P_(i,r,a,u,f,m,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,m,T):r.prototype&&r.prototype.isPureReactComponent?!Al(a,u)||!Al(f,m):!0}function L_(i,r,a,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==i&&tm.enqueueReplaceState(r,r.state,null)}function ea(i,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(i=i.defaultProps){a===r&&(a=_({},a));for(var f in i)a[f]===void 0&&(a[f]=i[f])}return a}function k_(i){Dc(i)}function U_(i){console.error(i)}function z_(i){Dc(i)}function Jc(i,r){try{var a=i.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function B_(i,r,a){try{var u=i.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function em(i,r,a){return a=qs(a),a.tag=3,a.payload={element:null},a.callback=function(){Jc(i,r)},a}function j_(i){return i=qs(i),i.tag=3,i}function F_(i,r,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;i.payload=function(){return f(m)},i.callback=function(){B_(r,a,u)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){B_(r,a,u),typeof f!="function"&&(Ws===null?Ws=new Set([this]):Ws.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function RC(i,r,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&$a(r,a,f,!0),a=wn.current,a!==null){switch(a.tag){case 31:case 13:return Bn===null?hh():a.alternate===null&&pe===0&&(pe=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===Bc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),Rm(i,u,f)),!1;case 22:return a.flags|=65536,u===Bc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),Rm(i,u,f)),!1}throw Error(s(435,a.tag))}return Rm(i,u,f),hh(),!1}if(zt)return r=wn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==Td&&(i=Error(s(422),{cause:u}),Rl(Ln(i,a)))):(u!==Td&&(r=Error(s(423),{cause:u}),Rl(Ln(r,a))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=Ln(u,a),f=em(i.stateNode,u,f),Vd(i,f),pe!==4&&(pe=2)),!1;var m=Error(s(520),{cause:u});if(m=Ln(m,a),Gl===null?Gl=[m]:Gl.push(m),pe!==4&&(pe=2),r===null)return!0;u=Ln(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,i=f&-f,a.lanes|=i,i=em(a.stateNode,u,i),Vd(a,i),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ws===null||!Ws.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=j_(f),F_(f,i,a,u),Vd(a,f),!1}a=a.return}while(a!==null);return!1}var nm=Error(s(461)),xe=!1;function Xe(i,r,a,u){r.child=i===null?Kv(r,null,a,u):Jr(r,i.child,a,u)}function H_(i,r,a,u,f){a=a.render;var m=r.ref;if("ref"in u){var T={};for(var A in u)A!=="ref"&&(T[A]=u[A])}else T=u;return Xr(r),u=kd(i,r,a,T,m,f),A=Ud(),i!==null&&!xe?(zd(i,r,f),ss(i,r,f)):(zt&&A&&vd(r),r.flags|=1,Xe(i,r,u,f),r.child)}function q_(i,r,a,u,f){if(i===null){var m=a.type;return typeof m=="function"&&!pd(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,G_(i,r,m,u,f)):(i=Oc(a.type,null,u,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(m=i.child,!cm(i,f)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:Al,a(T,u)&&i.ref===r.ref)return ss(i,r,f)}return r.flags|=1,i=Zi(m,u),i.ref=r.ref,i.return=r,r.child=i}function G_(i,r,a,u,f){if(i!==null){var m=i.memoizedProps;if(Al(m,u)&&i.ref===r.ref)if(xe=!1,r.pendingProps=u=m,cm(i,f))(i.flags&131072)!==0&&(xe=!0);else return r.lanes=i.lanes,ss(i,r,f)}return im(i,r,a,u,f)}function K_(i,r,a,u){var f=u.children,m=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,i!==null){for(u=r.child=i.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~m}else u=0,r.child=null;return Y_(i,r,m,a,u)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Uc(r,m!==null?m.cachePool:null),m!==null?Xv(r,m):Nd(),$v(r);else return u=r.lanes=536870912,Y_(i,r,m!==null?m.baseLanes|a:a,a,u)}else m!==null?(Uc(r,m.cachePool),Xv(r,m),Ys(),r.memoizedState=null):(i!==null&&Uc(r,null),Nd(),Ys());return Xe(i,r,f,a),r.child}function Ul(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Y_(i,r,a,u,f){var m=Cd();return m=m===null?null:{parent:Ce._currentValue,pool:m},r.memoizedState={baseLanes:a,cachePool:m},i!==null&&Uc(r,null),Nd(),$v(r),i!==null&&$a(i,r,u,!0),r.childLanes=f,null}function th(i,r){return r=nh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function Q_(i,r,a){return Jr(r,i.child,null,a),i=th(r,r.pendingProps),i.flags|=2,Rn(r),r.memoizedState=null,i}function CC(i,r,a){var u=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(zt){if(u.mode==="hidden")return i=th(r,u),r.lanes=536870912,Ul(null,i);if(Pd(r),(i=ne)?(i=aT(i,zn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:zs!==null?{id:Ni,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},a=Vv(i),a.return=r,r.child=a,Ye=r,ne=null)):i=null,i===null)throw js(r);return r.lanes=536870912,null}return th(r,u)}var m=i.memoizedState;if(m!==null){var T=m.dehydrated;if(Pd(r),f)if(r.flags&256)r.flags&=-257,r=Q_(i,r,a);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(xe||$a(i,r,a,!1),f=(a&i.childLanes)!==0,xe||f){if(u=ee,u!==null&&(T=rl(u,a),T!==0&&T!==m.retryLane))throw m.retryLane=T,Gr(i,T),vn(u,i,T),nm;hh(),r=Q_(i,r,a)}else i=m.treeContext,ne=jn(T.nextSibling),Ye=r,zt=!0,Bs=null,zn=!1,i!==null&&Ov(r,i),r=th(r,u),r.flags|=4096;return r}return i=Zi(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function eh(i,r){var a=r.ref;if(a===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(i===null||i.ref!==a)&&(r.flags|=4194816)}}function im(i,r,a,u,f){return Xr(r),a=kd(i,r,a,u,void 0,f),u=Ud(),i!==null&&!xe?(zd(i,r,f),ss(i,r,f)):(zt&&u&&vd(r),r.flags|=1,Xe(i,r,a,f),r.child)}function X_(i,r,a,u,f,m){return Xr(r),r.updateQueue=null,a=Zv(r,u,a,f),Wv(i),u=Ud(),i!==null&&!xe?(zd(i,r,m),ss(i,r,m)):(zt&&u&&vd(r),r.flags|=1,Xe(i,r,a,m),r.child)}function $_(i,r,a,u,f){if(Xr(r),r.stateNode===null){var m=Ka,T=a.contextType;typeof T=="object"&&T!==null&&(m=Qe(T)),m=new a(u,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=tm,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=u,m.state=r.memoizedState,m.refs={},xd(r),T=a.contextType,m.context=typeof T=="object"&&T!==null?Qe(T):Ka,m.state=r.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Jd(r,a,T,u),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&tm.enqueueReplaceState(m,m.state,null),Nl(r,u,m,f),Ml(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){m=r.stateNode;var A=r.memoizedProps,D=ea(a,A);m.props=D;var q=m.context,$=a.contextType;T=Ka,typeof $=="object"&&$!==null&&(T=Qe($));var et=a.getDerivedStateFromProps;$=typeof et=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,$||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||q!==T)&&L_(r,m,u,T),Hs=!1;var K=r.memoizedState;m.state=K,Nl(r,u,m,f),Ml(),q=r.memoizedState,A||K!==q||Hs?(typeof et=="function"&&(Jd(r,a,et,u),q=r.memoizedState),(D=Hs||P_(r,a,D,u,K,q,T))?($||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=q),m.props=u,m.state=q,m.context=T,u=D):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{m=r.stateNode,Dd(i,r),T=r.memoizedProps,$=ea(a,T),m.props=$,et=r.pendingProps,K=m.context,q=a.contextType,D=Ka,typeof q=="object"&&q!==null&&(D=Qe(q)),A=a.getDerivedStateFromProps,(q=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==et||K!==D)&&L_(r,m,u,D),Hs=!1,K=r.memoizedState,m.state=K,Nl(r,u,m,f),Ml();var X=r.memoizedState;T!==et||K!==X||Hs||i!==null&&i.dependencies!==null&&Lc(i.dependencies)?(typeof A=="function"&&(Jd(r,a,A,u),X=r.memoizedState),($=Hs||P_(r,a,$,u,K,X,D)||i!==null&&i.dependencies!==null&&Lc(i.dependencies))?(q||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,X,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,X,D)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=X),m.props=u,m.state=X,m.context=D,u=$):(typeof m.componentDidUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(r.flags|=1024),u=!1)}return m=u,eh(i,r),u=(r.flags&128)!==0,m||u?(m=r.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,i!==null&&u?(r.child=Jr(r,i.child,null,f),r.child=Jr(r,null,a,f)):Xe(i,r,a,f),r.memoizedState=m.state,i=r.child):i=ss(i,r,f),i}function W_(i,r,a,u){return Yr(),r.flags|=256,Xe(i,r,a,u),r.child}var sm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rm(i){return{baseLanes:i,cachePool:Bv()}}function am(i,r,a){return i=i!==null?i.childLanes&~a:0,r&&(i|=In),i}function Z_(i,r,a){var u=r.pendingProps,f=!1,m=(r.flags&128)!==0,T;if((T=m)||(T=i!==null&&i.memoizedState===null?!1:(_e.current&2)!==0),T&&(f=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(zt){if(f?Ks(r):Ys(),(i=ne)?(i=aT(i,zn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:zs!==null?{id:Ni,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},a=Vv(i),a.return=r,r.child=a,Ye=r,ne=null)):i=null,i===null)throw js(r);return Fm(i)?r.lanes=32:r.lanes=536870912,null}var A=u.children;return u=u.fallback,f?(Ys(),f=r.mode,A=nh({mode:"hidden",children:A},f),u=Kr(u,f,a,null),A.return=r,u.return=r,A.sibling=u,r.child=A,u=r.child,u.memoizedState=rm(a),u.childLanes=am(i,T,a),r.memoizedState=sm,Ul(null,u)):(Ks(r),om(r,A))}var D=i.memoizedState;if(D!==null&&(A=D.dehydrated,A!==null)){if(m)r.flags&256?(Ks(r),r.flags&=-257,r=lm(i,r,a)):r.memoizedState!==null?(Ys(),r.child=i.child,r.flags|=128,r=null):(Ys(),A=u.fallback,f=r.mode,u=nh({mode:"visible",children:u.children},f),A=Kr(A,f,a,null),A.flags|=2,u.return=r,A.return=r,u.sibling=A,r.child=u,Jr(r,i.child,null,a),u=r.child,u.memoizedState=rm(a),u.childLanes=am(i,T,a),r.memoizedState=sm,r=Ul(null,u));else if(Ks(r),Fm(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var q=T.dgst;T=q,u=Error(s(419)),u.stack="",u.digest=T,Rl({value:u,source:null,stack:null}),r=lm(i,r,a)}else if(xe||$a(i,r,a,!1),T=(a&i.childLanes)!==0,xe||T){if(T=ee,T!==null&&(u=rl(T,a),u!==0&&u!==D.retryLane))throw D.retryLane=u,Gr(i,u),vn(T,i,u),nm;jm(A)||hh(),r=lm(i,r,a)}else jm(A)?(r.flags|=192,r.child=i.child,r=null):(i=D.treeContext,ne=jn(A.nextSibling),Ye=r,zt=!0,Bs=null,zn=!1,i!==null&&Ov(r,i),r=om(r,u.children),r.flags|=4096);return r}return f?(Ys(),A=u.fallback,f=r.mode,D=i.child,q=D.sibling,u=Zi(D,{mode:"hidden",children:u.children}),u.subtreeFlags=D.subtreeFlags&65011712,q!==null?A=Zi(q,A):(A=Kr(A,f,a,null),A.flags|=2),A.return=r,u.return=r,u.sibling=A,r.child=u,Ul(null,u),u=r.child,A=i.child.memoizedState,A===null?A=rm(a):(f=A.cachePool,f!==null?(D=Ce._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=Bv(),A={baseLanes:A.baseLanes|a,cachePool:f}),u.memoizedState=A,u.childLanes=am(i,T,a),r.memoizedState=sm,Ul(i.child,u)):(Ks(r),a=i.child,i=a.sibling,a=Zi(a,{mode:"visible",children:u.children}),a.return=r,a.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=a,r.memoizedState=null,a)}function om(i,r){return r=nh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function nh(i,r){return i=bn(22,i,null,r),i.lanes=0,i}function lm(i,r,a){return Jr(r,i.child,null,a),i=om(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function J_(i,r,a){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),Ad(i.return,r,a)}function um(i,r,a,u,f,m){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f,treeForkCount:m}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=a,T.tailMode=f,T.treeForkCount=m)}function t0(i,r,a){var u=r.pendingProps,f=u.revealOrder,m=u.tail;u=u.children;var T=_e.current,A=(T&2)!==0;if(A?(T=T&1|2,r.flags|=128):T&=1,ut(_e,T),Xe(i,r,u,a),u=zt?wl:0,!A&&i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&J_(i,a,r);else if(i.tag===19)J_(i,a,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)i=a.alternate,i!==null&&qc(i)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),um(r,!1,f,a,m,u);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&qc(i)===null){r.child=f;break}i=f.sibling,f.sibling=a,a=f,f=i}um(r,!0,a,null,m,u);break;case"together":um(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function ss(i,r,a){if(i!==null&&(r.dependencies=i.dependencies),$s|=r.lanes,(a&r.childLanes)===0)if(i!==null){if($a(i,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,a=Zi(i,i.pendingProps),r.child=a,a.return=r;i.sibling!==null;)i=i.sibling,a=a.sibling=Zi(i,i.pendingProps),a.return=r;a.sibling=null}return r.child}function cm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Lc(i)))}function IC(i,r,a){switch(r.tag){case 3:Oe(r,r.stateNode.containerInfo),Fs(r,Ce,i.memoizedState.cache),Yr();break;case 27:case 5:Cr(r);break;case 4:Oe(r,r.stateNode.containerInfo);break;case 10:Fs(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Pd(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Ks(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Z_(i,r,a):(Ks(r),i=ss(i,r,a),i!==null?i.sibling:null);Ks(r);break;case 19:var f=(i.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||($a(i,r,a,!1),u=(a&r.childLanes)!==0),f){if(u)return t0(i,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ut(_e,_e.current),u)break;return null;case 22:return r.lanes=0,K_(i,r,a,r.pendingProps);case 24:Fs(r,Ce,i.memoizedState.cache)}return ss(i,r,a)}function e0(i,r,a){if(i!==null)if(i.memoizedProps!==r.pendingProps)xe=!0;else{if(!cm(i,a)&&(r.flags&128)===0)return xe=!1,IC(i,r,a);xe=(i.flags&131072)!==0}else xe=!1,zt&&(r.flags&1048576)!==0&&Nv(r,wl,r.index);switch(r.lanes=0,r.tag){case 16:t:{var u=r.pendingProps;if(i=Wr(r.elementType),r.type=i,typeof i=="function")pd(i)?(u=ea(i,u),r.tag=1,r=$_(null,r,i,u,a)):(r.tag=0,r=im(null,r,i,u,a));else{if(i!=null){var f=i.$$typeof;if(f===rt){r.tag=11,r=H_(null,r,i,u,a);break t}else if(f===C){r.tag=14,r=q_(null,r,i,u,a);break t}}throw r=te(i)||i,Error(s(306,r,""))}}return r;case 0:return im(i,r,r.type,r.pendingProps,a);case 1:return u=r.type,f=ea(u,r.pendingProps),$_(i,r,u,f,a);case 3:t:{if(Oe(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var m=r.memoizedState;f=m.element,Dd(i,r),Nl(r,u,null,a);var T=r.memoizedState;if(u=T.cache,Fs(r,Ce,u),u!==m.cache&&bd(r,[Ce],a,!0),Ml(),u=T.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=W_(i,r,u,a);break t}else if(u!==f){f=Ln(Error(s(424)),r),Rl(f),r=W_(i,r,u,a);break t}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ne=jn(i.firstChild),Ye=r,zt=!0,Bs=null,zn=!0,a=Kv(r,null,u,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Yr(),u===f){r=ss(i,r,a);break t}Xe(i,r,u,a)}r=r.child}return r;case 26:return eh(i,r),i===null?(a=fT(r.type,null,r.pendingProps,null))?r.memoizedState=a:zt||(a=r.type,i=r.pendingProps,u=vh(xt.current).createElement(a),u[be]=r,u[Be]=i,$e(u,a,i),we(u),r.stateNode=u):r.memoizedState=fT(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Cr(r),i===null&&zt&&(u=r.stateNode=uT(r.type,r.pendingProps,xt.current),Ye=r,zn=!0,f=ne,er(r.type)?(Hm=f,ne=jn(u.firstChild)):ne=f),Xe(i,r,r.pendingProps.children,a),eh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&zt&&((f=u=ne)&&(u=s2(u,r.type,r.pendingProps,zn),u!==null?(r.stateNode=u,Ye=r,ne=jn(u.firstChild),zn=!1,f=!0):f=!1),f||js(r)),Cr(r),f=r.type,m=r.pendingProps,T=i!==null?i.memoizedProps:null,u=m.children,Um(f,m)?u=null:T!==null&&Um(f,T)&&(r.flags|=32),r.memoizedState!==null&&(f=kd(i,r,_C,null,null,a),Jl._currentValue=f),eh(i,r),Xe(i,r,u,a),r.child;case 6:return i===null&&zt&&((i=a=ne)&&(a=r2(a,r.pendingProps,zn),a!==null?(r.stateNode=a,Ye=r,ne=null,i=!0):i=!1),i||js(r)),null;case 13:return Z_(i,r,a);case 4:return Oe(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=Jr(r,null,u,a):Xe(i,r,u,a),r.child;case 11:return H_(i,r,r.type,r.pendingProps,a);case 7:return Xe(i,r,r.pendingProps,a),r.child;case 8:return Xe(i,r,r.pendingProps.children,a),r.child;case 12:return Xe(i,r,r.pendingProps.children,a),r.child;case 10:return u=r.pendingProps,Fs(r,r.type,u.value),Xe(i,r,u.children,a),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,Xr(r),f=Qe(f),u=u(f),r.flags|=1,Xe(i,r,u,a),r.child;case 14:return q_(i,r,r.type,r.pendingProps,a);case 15:return G_(i,r,r.type,r.pendingProps,a);case 19:return t0(i,r,a);case 31:return CC(i,r,a);case 22:return K_(i,r,a,r.pendingProps);case 24:return Xr(r),u=Qe(Ce),i===null?(f=Cd(),f===null&&(f=ee,m=wd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),r.memoizedState={parent:u,cache:f},xd(r),Fs(r,Ce,f)):((i.lanes&a)!==0&&(Dd(i,r),Nl(r,null,null,a),Ml()),f=i.memoizedState,m=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Fs(r,Ce,u)):(u=m.cache,Fs(r,Ce,u),u!==f.cache&&bd(r,[Ce],a,!0))),Xe(i,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function rs(i){i.flags|=4}function hm(i,r,a,u,f){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(I0())i.flags|=8192;else throw Zr=Bc,Id}else i.flags&=-16777217}function n0(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!yT(r))if(I0())i.flags|=8192;else throw Zr=Bc,Id}function ih(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?uc():536870912,i.lanes|=r,lo|=r)}function zl(i,r){if(!zt)switch(i.tailMode){case"hidden":r=i.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function ie(i){var r=i.alternate!==null&&i.alternate.child===i.child,a=0,u=0;if(r)for(var f=i.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=a,r}function xC(i,r,a){var u=r.pendingProps;switch(_d(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(r),null;case 1:return ie(r),null;case 3:return a=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),es(Ce),re(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Xa(r)?rs(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ed())),ie(r),null;case 26:var f=r.type,m=r.memoizedState;return i===null?(rs(r),m!==null?(ie(r),n0(r,m)):(ie(r),hm(r,f,null,u,a))):m?m!==i.memoizedState?(rs(r),ie(r),n0(r,m)):(ie(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&rs(r),ie(r),hm(r,f,i,u,a)),null;case 27:if(Ca(r),a=xt.current,f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&rs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ie(r),null}i=ht.current,Xa(r)?Pv(r):(i=uT(f,u,a),r.stateNode=i,rs(r))}return ie(r),null;case 5:if(Ca(r),f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&rs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ie(r),null}if(m=ht.current,Xa(r))Pv(r);else{var T=vh(xt.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?m.multiple=!0:u.size&&(m.size=u.size);break;default:m=typeof u.is=="string"?T.createElement(f,{is:u.is}):T.createElement(f)}}m[be]=r,m[Be]=u;t:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break t;for(;T.sibling===null;){if(T.return===null||T.return===r)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=m;t:switch($e(m,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&rs(r)}}return ie(r),hm(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,a),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&rs(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=xt.current,Xa(r)){if(i=r.stateNode,a=r.memoizedProps,u=null,f=Ye,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[be]=r,i=!!(i.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||Z0(i.nodeValue,a)),i||js(r,!0)}else i=vh(i).createTextNode(u),i[be]=r,r.stateNode=i}return ie(r),null;case 31:if(a=r.memoizedState,i===null||i.memoizedState!==null){if(u=Xa(r),a!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[be]=r}else Yr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ie(r),i=!1}else a=Ed(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=a),i=!0;if(!i)return r.flags&256?(Rn(r),r):(Rn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ie(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Xa(r),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[be]=r}else Yr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ie(r),f=!1}else f=Ed(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Rn(r),r):(Rn(r),null)}return Rn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=u!==null,i=i!==null&&i.memoizedState!==null,a&&(u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)),a!==i&&a&&(r.child.flags|=8192),ih(r,r.updateQueue),ie(r),null);case 4:return re(),i===null&&Nm(r.stateNode.containerInfo),ie(r),null;case 10:return es(r.type),ie(r),null;case 19:if(nt(_e),u=r.memoizedState,u===null)return ie(r),null;if(f=(r.flags&128)!==0,m=u.rendering,m===null)if(f)zl(u,!1);else{if(pe!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(m=qc(i),m!==null){for(r.flags|=128,zl(u,!1),i=m.updateQueue,r.updateQueue=i,ih(r,i),r.subtreeFlags=0,i=a,a=r.child;a!==null;)Dv(a,i),a=a.sibling;return ut(_e,_e.current&1|2),zt&&Ji(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&ln()>lh&&(r.flags|=128,f=!0,zl(u,!1),r.lanes=4194304)}else{if(!f)if(i=qc(m),i!==null){if(r.flags|=128,f=!0,i=i.updateQueue,r.updateQueue=i,ih(r,i),zl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!zt)return ie(r),null}else 2*ln()-u.renderingStartTime>lh&&a!==536870912&&(r.flags|=128,f=!0,zl(u,!1),r.lanes=4194304);u.isBackwards?(m.sibling=r.child,r.child=m):(i=u.last,i!==null?i.sibling=m:r.child=m,u.last=m)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=ln(),i.sibling=null,a=_e.current,ut(_e,f?a&1|2:a&1),zt&&Ji(r,u.treeForkCount),i):(ie(r),null);case 22:case 23:return Rn(r),Od(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(a&536870912)!==0&&(r.flags&128)===0&&(ie(r),r.subtreeFlags&6&&(r.flags|=8192)):ie(r),a=r.updateQueue,a!==null&&ih(r,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),i!==null&&nt($r),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),es(Ce),ie(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function DC(i,r){switch(_d(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return es(Ce),re(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Ca(r),null;case 31:if(r.memoizedState!==null){if(Rn(r),r.alternate===null)throw Error(s(340));Yr()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Rn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Yr()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return nt(_e),null;case 4:return re(),null;case 10:return es(r.type),null;case 22:case 23:return Rn(r),Od(),i!==null&&nt($r),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return es(Ce),null;case 25:return null;default:return null}}function i0(i,r){switch(_d(r),r.tag){case 3:es(Ce),re();break;case 26:case 27:case 5:Ca(r);break;case 4:re();break;case 31:r.memoizedState!==null&&Rn(r);break;case 13:Rn(r);break;case 19:nt(_e);break;case 10:es(r.type);break;case 22:case 23:Rn(r),Od(),i!==null&&nt($r);break;case 24:es(Ce)}}function Bl(i,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&i)===i){u=void 0;var m=a.create,T=a.inst;u=m(),T.destroy=u}a=a.next}while(a!==f)}}catch(A){Xt(r,r.return,A)}}function Qs(i,r,a){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&i)===i){var T=u.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,f=r;var D=a,q=A;try{q()}catch($){Xt(f,D,$)}}}u=u.next}while(u!==m)}}catch($){Xt(r,r.return,$)}}function s0(i){var r=i.updateQueue;if(r!==null){var a=i.stateNode;try{Qv(r,a)}catch(u){Xt(i,i.return,u)}}}function r0(i,r,a){a.props=ea(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(u){Xt(i,r,u)}}function jl(i,r){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof a=="function"?i.refCleanup=a(u):a.current=u}}catch(f){Xt(i,r,f)}}function Pi(i,r){var a=i.ref,u=i.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){Xt(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Xt(i,r,f)}else a.current=null}function a0(i){var r=i.type,a=i.memoizedProps,u=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break t;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){Xt(i,i.return,f)}}function fm(i,r,a){try{var u=i.stateNode;ZC(u,i.type,a,r),u[Be]=r}catch(f){Xt(i,i.return,f)}}function o0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&er(i.type)||i.tag===4}function dm(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||o0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&er(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function mm(i,r,a){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(i),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ei));else if(u!==4&&(u===27&&er(i.type)&&(a=i.stateNode,r=null),i=i.child,i!==null))for(mm(i,r,a),i=i.sibling;i!==null;)mm(i,r,a),i=i.sibling}function sh(i,r,a){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?a.insertBefore(i,r):a.appendChild(i);else if(u!==4&&(u===27&&er(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(sh(i,r,a),i=i.sibling;i!==null;)sh(i,r,a),i=i.sibling}function l0(i){var r=i.stateNode,a=i.memoizedProps;try{for(var u=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);$e(r,u,a),r[be]=i,r[Be]=a}catch(m){Xt(i,i.return,m)}}var as=!1,De=!1,pm=!1,u0=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function VC(i,r){if(i=i.containerInfo,Lm=wh,i=Ev(i),ld(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else t:{a=(a=i.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break t}var T=0,A=-1,D=-1,q=0,$=0,et=i,K=null;e:for(;;){for(var X;et!==a||f!==0&&et.nodeType!==3||(A=T+f),et!==m||u!==0&&et.nodeType!==3||(D=T+u),et.nodeType===3&&(T+=et.nodeValue.length),(X=et.firstChild)!==null;)K=et,et=X;for(;;){if(et===i)break e;if(K===a&&++q===f&&(A=T),K===m&&++$===u&&(D=T),(X=et.nextSibling)!==null)break;et=K,K=et.parentNode}et=X}a=A===-1||D===-1?null:{start:A,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(km={focusedElem:i,selectionRange:a},wh=!1,Fe=r;Fe!==null;)if(r=Fe,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Fe=i;else for(;Fe!==null;){switch(r=Fe,m=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(a=0;a<i.length;a++)f=i[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,a=r,f=m.memoizedProps,m=m.memoizedState,u=a.stateNode;try{var dt=ea(a.type,f);i=u.getSnapshotBeforeUpdate(dt,m),u.__reactInternalSnapshotBeforeUpdate=i}catch(vt){Xt(a,a.return,vt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,a=i.nodeType,a===9)Bm(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Bm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Fe=i;break}Fe=r.return}}function c0(i,r,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:ls(i,a),u&4&&Bl(5,a);break;case 1:if(ls(i,a),u&4)if(i=a.stateNode,r===null)try{i.componentDidMount()}catch(T){Xt(a,a.return,T)}else{var f=ea(a.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){Xt(a,a.return,T)}}u&64&&s0(a),u&512&&jl(a,a.return);break;case 3:if(ls(i,a),u&64&&(i=a.updateQueue,i!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Qv(i,r)}catch(T){Xt(a,a.return,T)}}break;case 27:r===null&&u&4&&l0(a);case 26:case 5:ls(i,a),r===null&&u&4&&a0(a),u&512&&jl(a,a.return);break;case 12:ls(i,a);break;case 31:ls(i,a),u&4&&d0(i,a);break;case 13:ls(i,a),u&4&&m0(i,a),u&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=BC.bind(null,a),a2(i,a))));break;case 22:if(u=a.memoizedState!==null||as,!u){r=r!==null&&r.memoizedState!==null||De,f=as;var m=De;as=u,(De=r)&&!m?us(i,a,(a.subtreeFlags&8772)!==0):ls(i,a),as=f,De=m}break;case 30:break;default:ls(i,a)}}function h0(i){var r=i.alternate;r!==null&&(i.alternate=null,h0(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Ma(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var oe=null,mn=!1;function os(i,r,a){for(a=a.child;a!==null;)f0(i,r,a),a=a.sibling}function f0(i,r,a){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(Wn,a)}catch{}switch(a.tag){case 26:De||Pi(a,r),os(i,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:De||Pi(a,r);var u=oe,f=mn;er(a.type)&&(oe=a.stateNode,mn=!1),os(i,r,a),$l(a.stateNode),oe=u,mn=f;break;case 5:De||Pi(a,r);case 6:if(u=oe,f=mn,oe=null,os(i,r,a),oe=u,mn=f,oe!==null)if(mn)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(m){Xt(a,r,m)}else try{oe.removeChild(a.stateNode)}catch(m){Xt(a,r,m)}break;case 18:oe!==null&&(mn?(i=oe,sT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),yo(i)):sT(oe,a.stateNode));break;case 4:u=oe,f=mn,oe=a.stateNode.containerInfo,mn=!0,os(i,r,a),oe=u,mn=f;break;case 0:case 11:case 14:case 15:Qs(2,a,r),De||Qs(4,a,r),os(i,r,a);break;case 1:De||(Pi(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"&&r0(a,r,u)),os(i,r,a);break;case 21:os(i,r,a);break;case 22:De=(u=De)||a.memoizedState!==null,os(i,r,a),De=u;break;default:os(i,r,a)}}function d0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{yo(i)}catch(a){Xt(r,r.return,a)}}}function m0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{yo(i)}catch(a){Xt(r,r.return,a)}}function MC(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new u0),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new u0),r;default:throw Error(s(435,i.tag))}}function rh(i,r){var a=MC(i);r.forEach(function(u){if(!a.has(u)){a.add(u);var f=jC.bind(null,i,u);u.then(f,f)}})}function pn(i,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],m=i,T=r,A=T;t:for(;A!==null;){switch(A.tag){case 27:if(er(A.type)){oe=A.stateNode,mn=!1;break t}break;case 5:oe=A.stateNode,mn=!1;break t;case 3:case 4:oe=A.stateNode.containerInfo,mn=!0;break t}A=A.return}if(oe===null)throw Error(s(160));f0(m,T,f),oe=null,mn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)p0(r,i),r=r.sibling}var oi=null;function p0(i,r){var a=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:pn(r,i),gn(i),u&4&&(Qs(3,i,i.return),Bl(3,i),Qs(5,i,i.return));break;case 1:pn(r,i),gn(i),u&512&&(De||a===null||Pi(a,a.return)),u&64&&as&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=oi;if(pn(r,i),gn(i),u&512&&(De||a===null||Pi(a,a.return)),u&4){var m=a!==null?a.memoizedState:null;if(u=i.memoizedState,a===null)if(u===null)if(i.stateNode===null){t:{u=i.type,a=i.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ei]||m[be]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),$e(m,u,a),m[be]=i,we(m),u=m;break t;case"link":var T=pT("link","href",f).get(u+(a.href||""));if(T){for(var A=0;A<T.length;A++)if(m=T[A],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(A,1);break e}}m=f.createElement(u),$e(m,u,a),f.head.appendChild(m);break;case"meta":if(T=pT("meta","content",f).get(u+(a.content||""))){for(A=0;A<T.length;A++)if(m=T[A],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(A,1);break e}}m=f.createElement(u),$e(m,u,a),f.head.appendChild(m);break;default:throw Error(s(468,u))}m[be]=i,we(m),u=m}i.stateNode=u}else gT(f,i.type,i.stateNode);else i.stateNode=mT(f,u,i.memoizedProps);else m!==u?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,u===null?gT(f,i.type,i.stateNode):mT(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&fm(i,i.memoizedProps,a.memoizedProps)}break;case 27:pn(r,i),gn(i),u&512&&(De||a===null||Pi(a,a.return)),a!==null&&u&4&&fm(i,i.memoizedProps,a.memoizedProps);break;case 5:if(pn(r,i),gn(i),u&512&&(De||a===null||Pi(a,a.return)),i.flags&32){f=i.stateNode;try{dn(f,"")}catch(dt){Xt(i,i.return,dt)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,fm(i,f,a!==null?a.memoizedProps:f)),u&1024&&(pm=!0);break;case 6:if(pn(r,i),gn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,a=i.stateNode;try{a.nodeValue=u}catch(dt){Xt(i,i.return,dt)}}break;case 3:if(Eh=null,f=oi,oi=_h(r.containerInfo),pn(r,i),oi=f,gn(i),u&4&&a!==null&&a.memoizedState.isDehydrated)try{yo(r.containerInfo)}catch(dt){Xt(i,i.return,dt)}pm&&(pm=!1,g0(i));break;case 4:u=oi,oi=_h(i.stateNode.containerInfo),pn(r,i),gn(i),oi=u;break;case 12:pn(r,i),gn(i);break;case 31:pn(r,i),gn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,rh(i,u)));break;case 13:pn(r,i),gn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(oh=ln()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,rh(i,u)));break;case 22:f=i.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,q=as,$=De;if(as=q||f,De=$||D,pn(r,i),De=$,as=q,gn(i),u&8192)t:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||D||as||De||na(i)),a=null,r=i;;){if(r.tag===5||r.tag===26){if(a===null){D=a=r;try{if(m=D.stateNode,f)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=D.stateNode;var et=D.memoizedProps.style,K=et!=null&&et.hasOwnProperty("display")?et.display:null;A.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(dt){Xt(D,D.return,dt)}}}else if(r.tag===6){if(a===null){D=r;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(dt){Xt(D,D.return,dt)}}}else if(r.tag===18){if(a===null){D=r;try{var X=D.stateNode;f?rT(X,!0):rT(D.stateNode,!1)}catch(dt){Xt(D,D.return,dt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,rh(i,a))));break;case 19:pn(r,i),gn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,rh(i,u)));break;case 30:break;case 21:break;default:pn(r,i),gn(i)}}function gn(i){var r=i.flags;if(r&2){try{for(var a,u=i.return;u!==null;){if(o0(u)){a=u;break}u=u.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,m=dm(i);sh(i,m,f);break;case 5:var T=a.stateNode;a.flags&32&&(dn(T,""),a.flags&=-33);var A=dm(i);sh(i,A,T);break;case 3:case 4:var D=a.stateNode.containerInfo,q=dm(i);mm(i,q,D);break;default:throw Error(s(161))}}catch($){Xt(i,i.return,$)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function g0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;g0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function ls(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)c0(i,r.alternate,r),r=r.sibling}function na(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Qs(4,r,r.return),na(r);break;case 1:Pi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&r0(r,r.return,a),na(r);break;case 27:$l(r.stateNode);case 26:case 5:Pi(r,r.return),na(r);break;case 22:r.memoizedState===null&&na(r);break;case 30:na(r);break;default:na(r)}i=i.sibling}}function us(i,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=i,m=r,T=m.flags;switch(m.tag){case 0:case 11:case 15:us(f,m,a),Bl(4,m);break;case 1:if(us(f,m,a),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){Xt(u,u.return,q)}if(u=m,f=u.updateQueue,f!==null){var A=u.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)Yv(D[f],A)}catch(q){Xt(u,u.return,q)}}a&&T&64&&s0(m),jl(m,m.return);break;case 27:l0(m);case 26:case 5:us(f,m,a),a&&u===null&&T&4&&a0(m),jl(m,m.return);break;case 12:us(f,m,a);break;case 31:us(f,m,a),a&&T&4&&d0(f,m);break;case 13:us(f,m,a),a&&T&4&&m0(f,m);break;case 22:m.memoizedState===null&&us(f,m,a),jl(m,m.return);break;case 30:break;default:us(f,m,a)}r=r.sibling}}function gm(i,r){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Cl(a))}function ym(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Cl(i))}function li(i,r,a,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)y0(i,r,a,u),r=r.sibling}function y0(i,r,a,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:li(i,r,a,u),f&2048&&Bl(9,r);break;case 1:li(i,r,a,u);break;case 3:li(i,r,a,u),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Cl(i)));break;case 12:if(f&2048){li(i,r,a,u),i=r.stateNode;try{var m=r.memoizedProps,T=m.id,A=m.onPostCommit;typeof A=="function"&&A(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(D){Xt(r,r.return,D)}}else li(i,r,a,u);break;case 31:li(i,r,a,u);break;case 13:li(i,r,a,u);break;case 23:break;case 22:m=r.stateNode,T=r.alternate,r.memoizedState!==null?m._visibility&2?li(i,r,a,u):Fl(i,r):m._visibility&2?li(i,r,a,u):(m._visibility|=2,ro(i,r,a,u,(r.subtreeFlags&10256)!==0||!1)),f&2048&&gm(T,r);break;case 24:li(i,r,a,u),f&2048&&ym(r.alternate,r);break;default:li(i,r,a,u)}}function ro(i,r,a,u,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=i,T=r,A=a,D=u,q=T.flags;switch(T.tag){case 0:case 11:case 15:ro(m,T,A,D,f),Bl(8,T);break;case 23:break;case 22:var $=T.stateNode;T.memoizedState!==null?$._visibility&2?ro(m,T,A,D,f):Fl(m,T):($._visibility|=2,ro(m,T,A,D,f)),f&&q&2048&&gm(T.alternate,T);break;case 24:ro(m,T,A,D,f),f&&q&2048&&ym(T.alternate,T);break;default:ro(m,T,A,D,f)}r=r.sibling}}function Fl(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=i,u=r,f=u.flags;switch(u.tag){case 22:Fl(a,u),f&2048&&gm(u.alternate,u);break;case 24:Fl(a,u),f&2048&&ym(u.alternate,u);break;default:Fl(a,u)}r=r.sibling}}var Hl=8192;function ao(i,r,a){if(i.subtreeFlags&Hl)for(i=i.child;i!==null;)v0(i,r,a),i=i.sibling}function v0(i,r,a){switch(i.tag){case 26:ao(i,r,a),i.flags&Hl&&i.memoizedState!==null&&v2(a,oi,i.memoizedState,i.memoizedProps);break;case 5:ao(i,r,a);break;case 3:case 4:var u=oi;oi=_h(i.stateNode.containerInfo),ao(i,r,a),oi=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=Hl,Hl=16777216,ao(i,r,a),Hl=u):ao(i,r,a));break;default:ao(i,r,a)}}function _0(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function ql(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Fe=u,E0(u,i)}_0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)T0(i),i=i.sibling}function T0(i){switch(i.tag){case 0:case 11:case 15:ql(i),i.flags&2048&&Qs(9,i,i.return);break;case 3:ql(i);break;case 12:ql(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,ah(i)):ql(i);break;default:ql(i)}}function ah(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Fe=u,E0(u,i)}_0(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Qs(8,r,r.return),ah(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,ah(r));break;default:ah(r)}i=i.sibling}}function E0(i,r){for(;Fe!==null;){var a=Fe;switch(a.tag){case 0:case 11:case 15:Qs(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Cl(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Fe=u;else t:for(a=i;Fe!==null;){u=Fe;var f=u.sibling,m=u.return;if(h0(u),u===a){Fe=null;break t}if(f!==null){f.return=m,Fe=f;break t}Fe=m}}}var NC={getCacheForType:function(i){var r=Qe(Ce),a=r.data.get(i);return a===void 0&&(a=i(),r.data.set(i,a)),a},cacheSignal:function(){return Qe(Ce).controller.signal}},OC=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ee=null,Vt=null,Ot=0,Qt=0,Cn=null,Xs=!1,oo=!1,vm=!1,cs=0,pe=0,$s=0,ia=0,_m=0,In=0,lo=0,Gl=null,yn=null,Tm=!1,oh=0,S0=0,lh=1/0,uh=null,Ws=null,Le=0,Zs=null,uo=null,hs=0,Em=0,Sm=null,A0=null,Kl=0,Am=null;function xn(){return(Gt&2)!==0&&Ot!==0?Ot&-Ot:W.T!==null?xm():cc()}function b0(){if(In===0)if((Ot&536870912)===0||zt){var i=Dr;Dr<<=1,(Dr&3932160)===0&&(Dr=262144),In=i}else In=536870912;return i=wn.current,i!==null&&(i.flags|=32),In}function vn(i,r,a){(i===ee&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)&&(co(i,0),Js(i,Ot,In,!1)),Vr(i,a),((Gt&2)===0||i!==ee)&&(i===ee&&((Gt&2)===0&&(ia|=a),pe===4&&Js(i,Ot,In,!1)),Li(i))}function w0(i,r,a){if((Gt&6)!==0)throw Error(s(327));var u=!a&&(r&127)===0&&(r&i.expiredLanes)===0||Zn(i,r),f=u?kC(i,r):wm(i,r,!0),m=u;do{if(f===0){oo&&!u&&Js(i,r,0,!1);break}else{if(a=i.current.alternate,m&&!PC(a)){f=wm(i,r,!1),m=!1;continue}if(f===2){if(m=r,i.errorRecoveryDisabledLanes&m)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;t:{var A=i;f=Gl;var D=A.current.memoizedState.isDehydrated;if(D&&(co(A,T).flags|=256),T=wm(A,T,!1),T!==2){if(vm&&!D){A.errorRecoveryDisabledLanes|=m,ia|=m,f=4;break t}m=yn,yn=f,m!==null&&(yn===null?yn=m:yn.push.apply(yn,m))}f=T}if(m=!1,f!==2)continue}}if(f===1){co(i,0),Js(i,r,0,!0);break}t:{switch(u=i,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Js(u,r,In,!Xs);break t;case 2:yn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=oh+300-ln(),10<f)){if(Js(u,r,In,!Xs),vi(u,0,!0)!==0)break t;hs=r,u.timeoutHandle=nT(R0.bind(null,u,a,yn,uh,Tm,r,In,ia,lo,Xs,m,"Throttled",-0,0),f);break t}R0(u,a,yn,uh,Tm,r,In,ia,lo,Xs,m,null,-0,0)}}break}while(!0);Li(i)}function R0(i,r,a,u,f,m,T,A,D,q,$,et,K,X){if(i.timeoutHandle=-1,et=r.subtreeFlags,et&8192||(et&16785408)===16785408){et={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ei},v0(r,m,et);var dt=(m&62914560)===m?oh-ln():(m&4194048)===m?S0-ln():0;if(dt=_2(et,dt),dt!==null){hs=m,i.cancelPendingCommit=dt(O0.bind(null,i,r,m,a,u,f,T,A,D,$,et,null,K,X)),Js(i,m,T,!q);return}}O0(i,r,m,a,u,f,T,A,D)}function PC(i){for(var r=i;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],m=f.getSnapshot;f=f.value;try{if(!An(m(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Js(i,r,a,u){r&=~_m,r&=~ia,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var f=r;0<f;){var m=31-ye(f),T=1<<m;u[m]=-1,f&=~T}a!==0&&Mr(i,a,r)}function ch(){return(Gt&6)===0?(Yl(0),!1):!0}function bm(){if(Vt!==null){if(Qt===0)var i=Vt.return;else i=Vt,ts=Qr=null,Bd(i),to=null,xl=0,i=Vt;for(;i!==null;)i0(i.alternate,i),i=i.return;Vt=null}}function co(i,r){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,e2(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),hs=0,bm(),ee=i,Vt=a=Zi(i.current,null),Ot=r,Qt=0,Cn=null,Xs=!1,oo=Zn(i,r),vm=!1,lo=In=_m=ia=$s=pe=0,yn=Gl=null,Tm=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var f=31-ye(u),m=1<<f;r|=i[f],u&=~m}return cs=r,Vc(),a}function C0(i,r){Ct=null,W.H=kl,r===Ja||r===zc?(r=Hv(),Qt=3):r===Id?(r=Hv(),Qt=4):Qt=r===nm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Cn=r,Vt===null&&(pe=1,Jc(i,Ln(r,i.current)))}function I0(){var i=wn.current;return i===null?!0:(Ot&4194048)===Ot?Bn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?i===Bn:!1}function x0(){var i=W.H;return W.H=kl,i===null?kl:i}function D0(){var i=W.A;return W.A=NC,i}function hh(){pe=4,Xs||(Ot&4194048)!==Ot&&wn.current!==null||(oo=!0),($s&134217727)===0&&(ia&134217727)===0||ee===null||Js(ee,Ot,In,!1)}function wm(i,r,a){var u=Gt;Gt|=2;var f=x0(),m=D0();(ee!==i||Ot!==r)&&(uh=null,co(i,r)),r=!1;var T=pe;t:do try{if(Qt!==0&&Vt!==null){var A=Vt,D=Cn;switch(Qt){case 8:bm(),T=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(r=!0);var q=Qt;if(Qt=0,Cn=null,ho(i,A,D,q),a&&oo){T=0;break t}break;default:q=Qt,Qt=0,Cn=null,ho(i,A,D,q)}}LC(),T=pe;break}catch($){C0(i,$)}while(!0);return r&&i.shellSuspendCounter++,ts=Qr=null,Gt=u,W.H=f,W.A=m,Vt===null&&(ee=null,Ot=0,Vc()),T}function LC(){for(;Vt!==null;)V0(Vt)}function kC(i,r){var a=Gt;Gt|=2;var u=x0(),f=D0();ee!==i||Ot!==r?(uh=null,lh=ln()+500,co(i,r)):oo=Zn(i,r);t:do try{if(Qt!==0&&Vt!==null){r=Vt;var m=Cn;e:switch(Qt){case 1:Qt=0,Cn=null,ho(i,r,m,1);break;case 2:case 9:if(jv(m)){Qt=0,Cn=null,M0(r);break}r=function(){Qt!==2&&Qt!==9||ee!==i||(Qt=7),Li(i)},m.then(r,r);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:jv(m)?(Qt=0,Cn=null,M0(r)):(Qt=0,Cn=null,ho(i,r,m,7));break;case 5:var T=null;switch(Vt.tag){case 26:T=Vt.memoizedState;case 5:case 27:var A=Vt;if(T?yT(T):A.stateNode.complete){Qt=0,Cn=null;var D=A.sibling;if(D!==null)Vt=D;else{var q=A.return;q!==null?(Vt=q,fh(q)):Vt=null}break e}}Qt=0,Cn=null,ho(i,r,m,5);break;case 6:Qt=0,Cn=null,ho(i,r,m,6);break;case 8:bm(),pe=6;break t;default:throw Error(s(462))}}UC();break}catch($){C0(i,$)}while(!0);return ts=Qr=null,W.H=u,W.A=f,Gt=a,Vt!==null?0:(ee=null,Ot=0,Vc(),pe)}function UC(){for(;Vt!==null&&!ed();)V0(Vt)}function V0(i){var r=e0(i.alternate,i,cs);i.memoizedProps=i.pendingProps,r===null?fh(i):Vt=r}function M0(i){var r=i,a=r.alternate;switch(r.tag){case 15:case 0:r=X_(a,r,r.pendingProps,r.type,void 0,Ot);break;case 11:r=X_(a,r,r.pendingProps,r.type.render,r.ref,Ot);break;case 5:Bd(r);default:i0(a,r),r=Vt=Dv(r,cs),r=e0(a,r,cs)}i.memoizedProps=i.pendingProps,r===null?fh(i):Vt=r}function ho(i,r,a,u){ts=Qr=null,Bd(r),to=null,xl=0;var f=r.return;try{if(RC(i,f,r,a,Ot)){pe=1,Jc(i,Ln(a,i.current)),Vt=null;return}}catch(m){if(f!==null)throw Vt=f,m;pe=1,Jc(i,Ln(a,i.current)),Vt=null;return}r.flags&32768?(zt||u===1?i=!0:oo||(Ot&536870912)!==0?i=!1:(Xs=i=!0,(u===2||u===9||u===3||u===6)&&(u=wn.current,u!==null&&u.tag===13&&(u.flags|=16384))),N0(r,i)):fh(r)}function fh(i){var r=i;do{if((r.flags&32768)!==0){N0(r,Xs);return}i=r.return;var a=xC(r.alternate,r,cs);if(a!==null){Vt=a;return}if(r=r.sibling,r!==null){Vt=r;return}Vt=r=i}while(r!==null);pe===0&&(pe=5)}function N0(i,r){do{var a=DC(i.alternate,i);if(a!==null){a.flags&=32767,Vt=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(i=i.sibling,i!==null)){Vt=i;return}Vt=i=a}while(i!==null);pe=6,Vt=null}function O0(i,r,a,u,f,m,T,A,D){i.cancelPendingCommit=null;do dh();while(Le!==0);if((Gt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=dd,sd(i,a,m,T,A,D),i===ee&&(Vt=ee=null,Ot=0),uo=r,Zs=i,hs=a,Em=m,Sm=f,A0=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,FC(xs,function(){return z0(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,f=ot.p,ot.p=2,T=Gt,Gt|=4;try{VC(i,r,a)}finally{Gt=T,ot.p=f,W.T=u}}Le=1,P0(),L0(),k0()}}function P0(){if(Le===1){Le=0;var i=Zs,r=uo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var u=ot.p;ot.p=2;var f=Gt;Gt|=4;try{p0(r,i);var m=km,T=Ev(i.containerInfo),A=m.focusedElem,D=m.selectionRange;if(T!==A&&A&&A.ownerDocument&&Tv(A.ownerDocument.documentElement,A)){if(D!==null&&ld(A)){var q=D.start,$=D.end;if($===void 0&&($=q),"selectionStart"in A)A.selectionStart=q,A.selectionEnd=Math.min($,A.value.length);else{var et=A.ownerDocument||document,K=et&&et.defaultView||window;if(K.getSelection){var X=K.getSelection(),dt=A.textContent.length,vt=Math.min(D.start,dt),Jt=D.end===void 0?vt:Math.min(D.end,dt);!X.extend&&vt>Jt&&(T=Jt,Jt=vt,vt=T);var z=_v(A,vt),P=_v(A,Jt);if(z&&P&&(X.rangeCount!==1||X.anchorNode!==z.node||X.anchorOffset!==z.offset||X.focusNode!==P.node||X.focusOffset!==P.offset)){var H=et.createRange();H.setStart(z.node,z.offset),X.removeAllRanges(),vt>Jt?(X.addRange(H),X.extend(P.node,P.offset)):(H.setEnd(P.node,P.offset),X.addRange(H))}}}}for(et=[],X=A;X=X.parentNode;)X.nodeType===1&&et.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<et.length;A++){var J=et[A];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}wh=!!Lm,km=Lm=null}finally{Gt=f,ot.p=u,W.T=a}}i.current=r,Le=2}}function L0(){if(Le===2){Le=0;var i=Zs,r=uo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var u=ot.p;ot.p=2;var f=Gt;Gt|=4;try{c0(i,r.alternate,r)}finally{Gt=f,ot.p=u,W.T=a}}Le=3}}function k0(){if(Le===4||Le===3){Le=0,ic();var i=Zs,r=uo,a=hs,u=A0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Le=5:(Le=0,uo=Zs=null,U0(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Ws=null),Qi(a),r=r.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(Wn,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=W.T,f=ot.p,ot.p=2,W.T=null;try{for(var m=i.onRecoverableError,T=0;T<u.length;T++){var A=u[T];m(A.value,{componentStack:A.stack})}}finally{W.T=r,ot.p=f}}(hs&3)!==0&&dh(),Li(i),f=i.pendingLanes,(a&261930)!==0&&(f&42)!==0?i===Am?Kl++:(Kl=0,Am=i):Kl=0,Yl(0)}}function U0(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Cl(r)))}function dh(){return P0(),L0(),k0(),z0()}function z0(){if(Le!==5)return!1;var i=Zs,r=Em;Em=0;var a=Qi(hs),u=W.T,f=ot.p;try{ot.p=32>a?32:a,W.T=null,a=Sm,Sm=null;var m=Zs,T=hs;if(Le=0,uo=Zs=null,hs=0,(Gt&6)!==0)throw Error(s(331));var A=Gt;if(Gt|=4,T0(m.current),y0(m,m.current,T,a),Gt=A,Yl(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(Wn,m)}catch{}return!0}finally{ot.p=f,W.T=u,U0(i,r)}}function B0(i,r,a){r=Ln(a,r),r=em(i.stateNode,r,2),i=Gs(i,r,2),i!==null&&(Vr(i,2),Li(i))}function Xt(i,r,a){if(i.tag===3)B0(i,i,a);else for(;r!==null;){if(r.tag===3){B0(r,i,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ws===null||!Ws.has(u))){i=Ln(a,i),a=j_(2),u=Gs(r,a,2),u!==null&&(F_(a,u,r,i),Vr(u,2),Li(u));break}}r=r.return}}function Rm(i,r,a){var u=i.pingCache;if(u===null){u=i.pingCache=new OC;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(a)||(vm=!0,f.add(a),i=zC.bind(null,i,r,a),r.then(i,i))}function zC(i,r,a){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,ee===i&&(Ot&a)===a&&(pe===4||pe===3&&(Ot&62914560)===Ot&&300>ln()-oh?(Gt&2)===0&&co(i,0):_m|=a,lo===Ot&&(lo=0)),Li(i)}function j0(i,r){r===0&&(r=uc()),i=Gr(i,r),i!==null&&(Vr(i,r),Li(i))}function BC(i){var r=i.memoizedState,a=0;r!==null&&(a=r.retryLane),j0(i,a)}function jC(i,r){var a=0;switch(i.tag){case 31:case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),j0(i,a)}function FC(i,r){return Pe(i,r)}var mh=null,fo=null,Cm=!1,ph=!1,Im=!1,tr=0;function Li(i){i!==fo&&i.next===null&&(fo===null?mh=fo=i:fo=fo.next=i),ph=!0,Cm||(Cm=!0,qC())}function Yl(i,r){if(!Im&&ph){Im=!0;do for(var a=!1,u=mh;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var T=u.suspendedLanes,A=u.pingedLanes;m=(1<<31-ye(42|i)+1)-1,m&=f&~(T&~A),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,G0(u,m))}else m=Ot,m=vi(u,u===ee?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||Zn(u,m)||(a=!0,G0(u,m));u=u.next}while(a);Im=!1}}function HC(){F0()}function F0(){ph=Cm=!1;var i=0;tr!==0&&t2()&&(i=tr);for(var r=ln(),a=null,u=mh;u!==null;){var f=u.next,m=H0(u,r);m===0?(u.next=null,a===null?mh=f:a.next=f,f===null&&(fo=a)):(a=u,(i!==0||(m&3)!==0)&&(ph=!0)),u=f}Le!==0&&Le!==5||Yl(i),tr!==0&&(tr=0)}function H0(i,r){for(var a=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var T=31-ye(m),A=1<<T,D=f[T];D===-1?((A&a)===0||(A&u)!==0)&&(f[T]=id(A,r)):D<=r&&(i.expiredLanes|=A),m&=~A}if(r=ee,a=Ot,a=vi(i,i===r?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,a===0||i===r&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Is(u),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||Zn(i,a)){if(r=a&-a,r===i.callbackPriority)return r;switch(u!==null&&Is(u),Qi(a)){case 2:case 8:a=il;break;case 32:a=xs;break;case 268435456:a=sc;break;default:a=xs}return u=q0.bind(null,i),a=Pe(a,u),i.callbackPriority=r,i.callbackNode=a,r}return u!==null&&u!==null&&Is(u),i.callbackPriority=2,i.callbackNode=null,2}function q0(i,r){if(Le!==0&&Le!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(dh()&&i.callbackNode!==a)return null;var u=Ot;return u=vi(i,i===ee?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(w0(i,u,r),H0(i,ln()),i.callbackNode!=null&&i.callbackNode===a?q0.bind(null,i):null)}function G0(i,r){if(dh())return null;w0(i,r,!0)}function qC(){n2(function(){(Gt&6)!==0?Pe(nl,HC):F0()})}function xm(){if(tr===0){var i=Wa;i===0&&(i=gi,gi<<=1,(gi&261888)===0&&(gi=256)),tr=i}return tr}function K0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:La(""+i)}function Y0(i,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,i.id&&a.setAttribute("form",i.id),r.parentNode.insertBefore(a,r),i=new FormData(i),a.parentNode.removeChild(a),i}function GC(i,r,a,u,f){if(r==="submit"&&a&&a.stateNode===f){var m=K0((f[Be]||null).action),T=u.submitter;T&&(r=(r=T[Be]||null)?K0(r.formAction):T.getAttribute("formAction"),r!==null&&(m=r,T=null));var A=new xi("action","action",null,u,f);i.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(tr!==0){var D=T?Y0(f,T):new FormData(f);Xd(a,{pending:!0,data:D,method:f.method,action:m},null,D)}}else typeof m=="function"&&(A.preventDefault(),D=T?Y0(f,T):new FormData(f),Xd(a,{pending:!0,data:D,method:f.method,action:m},m,D))},currentTarget:f}]})}}for(var Dm=0;Dm<fd.length;Dm++){var Vm=fd[Dm],KC=Vm.toLowerCase(),YC=Vm[0].toUpperCase()+Vm.slice(1);ai(KC,"on"+YC)}ai(bv,"onAnimationEnd"),ai(wv,"onAnimationIteration"),ai(Rv,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(uC,"onTransitionRun"),ai(cC,"onTransitionStart"),ai(hC,"onTransitionCancel"),ai(Cv,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ql));function Q0(i,r){r=(r&4)!==0;for(var a=0;a<i.length;a++){var u=i[a],f=u.event;u=u.listeners;t:{var m=void 0;if(r)for(var T=u.length-1;0<=T;T--){var A=u[T],D=A.instance,q=A.currentTarget;if(A=A.listener,D!==m&&f.isPropagationStopped())break t;m=A,f.currentTarget=q;try{m(f)}catch($){Dc($)}f.currentTarget=null,m=D}else for(T=0;T<u.length;T++){if(A=u[T],D=A.instance,q=A.currentTarget,A=A.listener,D!==m&&f.isPropagationStopped())break t;m=A,f.currentTarget=q;try{m(f)}catch($){Dc($)}f.currentTarget=null,m=D}}}}function Mt(i,r){var a=r[Va];a===void 0&&(a=r[Va]=new Set);var u=i+"__bubble";a.has(u)||(X0(r,i,2,!1),a.add(u))}function Mm(i,r,a){var u=0;r&&(u|=4),X0(a,i,u,r)}var gh="_reactListening"+Math.random().toString(36).slice(2);function Nm(i){if(!i[gh]){i[gh]=!0,al.forEach(function(a){a!=="selectionchange"&&(QC.has(a)||Mm(a,!1,i),Mm(a,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[gh]||(r[gh]=!0,Mm("selectionchange",!1,r))}}function X0(i,r,a,u){switch(bT(r)){case 2:var f=S2;break;case 8:f=A2;break;default:f=Qm}a=f.bind(null,r,a,i),f=void 0,!kr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(r,a,{capture:!0,passive:f}):i.addEventListener(r,a,!0):f!==void 0?i.addEventListener(r,a,{passive:f}):i.addEventListener(r,a,!1)}function Om(i,r,a,u,f){var m=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var A=u.stateNode.containerInfo;if(A===f)break;if(T===4)for(T=u.return;T!==null;){var D=T.tag;if((D===3||D===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;A!==null;){if(T=Si(A),T===null)return;if(D=T.tag,D===5||D===6||D===26||D===27){u=m=T;continue t}A=A.parentNode}}u=u.return}Ps(function(){var q=m,$=Mn(a),et=[];t:{var K=Iv.get(i);if(K!==void 0){var X=xi,dt=i;switch(i){case"keypress":if(zr(a)===0)break t;case"keydown":case"keyup":X=Cc;break;case"focusin":dt="focus",X=jr;break;case"focusout":dt="blur",X=jr;break;case"beforeblur":case"afterblur":X=jr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=_l;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=vc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=v;break;case bv:case wv:case Rv:X=Tc;break;case Cv:X=b;break;case"scroll":case"scrollend":X=vl;break;case"wheel":X=Q;break;case"copy":case"cut":case"paste":X=Ec;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Wi;break;case"toggle":case"beforetoggle":X=Rt}var vt=(r&4)!==0,Jt=!vt&&(i==="scroll"||i==="scrollend"),z=vt?K!==null?K+"Capture":null:K;vt=[];for(var P=q,H;P!==null;){var J=P;if(H=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||H===null||z===null||(J=ni(P,z),J!=null&&vt.push(Xl(P,J,H))),Jt)break;P=P.return}0<vt.length&&(K=new X(K,dt,null,a,$),et.push({event:K,listeners:vt}))}}if((r&7)===0){t:{if(K=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",K&&a!==pl&&(dt=a.relatedTarget||a.fromElement)&&(Si(dt)||dt[Ti]))break t;if((X||K)&&(K=$.window===$?$:(K=$.ownerDocument)?K.defaultView||K.parentWindow:window,X?(dt=a.relatedTarget||a.toElement,X=q,dt=dt?Si(dt):null,dt!==null&&(Jt=l(dt),vt=dt.tag,dt!==Jt||vt!==5&&vt!==27&&vt!==6)&&(dt=null)):(X=null,dt=q),X!==dt)){if(vt=_l,J="onMouseLeave",z="onMouseEnter",P="mouse",(i==="pointerout"||i==="pointerover")&&(vt=Wi,J="onPointerLeave",z="onPointerEnter",P="pointer"),Jt=X==null?K:En(X),H=dt==null?K:En(dt),K=new vt(J,P+"leave",X,a,$),K.target=Jt,K.relatedTarget=H,J=null,Si($)===q&&(vt=new vt(z,P+"enter",dt,a,$),vt.target=H,vt.relatedTarget=Jt,J=vt),Jt=J,X&&dt)e:{for(vt=XC,z=X,P=dt,H=0,J=z;J;J=vt(J))H++;J=0;for(var gt=P;gt;gt=vt(gt))J++;for(;0<H-J;)z=vt(z),H--;for(;0<J-H;)P=vt(P),J--;for(;H--;){if(z===P||P!==null&&z===P.alternate){vt=z;break e}z=vt(z),P=vt(P)}vt=null}else vt=null;X!==null&&$0(et,K,X,vt,!1),dt!==null&&Jt!==null&&$0(et,Jt,dt,vt,!0)}}t:{if(K=q?En(q):window,X=K.nodeName&&K.nodeName.toLowerCase(),X==="select"||X==="input"&&K.type==="file")var Ft=dv;else if(hv(K))if(mv)Ft=aC;else{Ft=sC;var mt=iC}else X=K.nodeName,!X||X.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?q&&Pa(q.elementType)&&(Ft=dv):Ft=rC;if(Ft&&(Ft=Ft(i,q))){fv(et,Ft,a,$);break t}mt&&mt(i,K,q),i==="focusout"&&q&&K.type==="number"&&q.memoizedProps.value!=null&&fl(K,"number",K.value)}switch(mt=q?En(q):window,i){case"focusin":(hv(mt)||mt.contentEditable==="true")&&(Ha=mt,ud=q,bl=null);break;case"focusout":bl=ud=Ha=null;break;case"mousedown":cd=!0;break;case"contextmenu":case"mouseup":case"dragend":cd=!1,Sv(et,a,$);break;case"selectionchange":if(lC)break;case"keydown":case"keyup":Sv(et,a,$)}var Dt;if(qt)t:{switch(i){case"compositionstart":var Pt="onCompositionStart";break t;case"compositionend":Pt="onCompositionEnd";break t;case"compositionupdate":Pt="onCompositionUpdate";break t}Pt=void 0}else Fa?Fr(i,a)&&(Pt="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(Pt="onCompositionStart");Pt&&(Mi&&a.locale!=="ko"&&(Fa||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&Fa&&(Dt=yl()):(Ii=$,gl="value"in Ii?Ii.value:Ii.textContent,Fa=!0)),mt=yh(q,Pt),0<mt.length&&(Pt=new Vi(Pt,i,null,a,$),et.push({event:Pt,listeners:mt}),Dt?Pt.data=Dt:(Dt=ja(a),Dt!==null&&(Pt.data=Dt)))),(Dt=On?JR(i,a):tC(i,a))&&(Pt=yh(q,"onBeforeInput"),0<Pt.length&&(mt=new Vi("onBeforeInput","beforeinput",null,a,$),et.push({event:mt,listeners:Pt}),mt.data=Dt)),GC(et,i,q,a,$)}Q0(et,r)})}function Xl(i,r,a){return{instance:i,listener:r,currentTarget:a}}function yh(i,r){for(var a=r+"Capture",u=[];i!==null;){var f=i,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=ni(i,a),f!=null&&u.unshift(Xl(i,f,m)),f=ni(i,r),f!=null&&u.push(Xl(i,f,m))),i.tag===3)return u;i=i.return}return[]}function XC(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function $0(i,r,a,u,f){for(var m=r._reactName,T=[];a!==null&&a!==u;){var A=a,D=A.alternate,q=A.stateNode;if(A=A.tag,D!==null&&D===u)break;A!==5&&A!==26&&A!==27||q===null||(D=q,f?(q=ni(a,m),q!=null&&T.unshift(Xl(a,q,D))):f||(q=ni(a,m),q!=null&&T.push(Xl(a,q,D)))),a=a.return}T.length!==0&&i.push({event:r,listeners:T})}var $C=/\r\n?/g,WC=/\u0000|\uFFFD/g;function W0(i){return(typeof i=="string"?i:""+i).replace($C,`
`).replace(WC,"")}function Z0(i,r){return r=W0(r),W0(i)===r}function Zt(i,r,a,u,f,m){switch(a){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||dn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&dn(i,""+u);break;case"className":Sn(i,"class",u);break;case"tabIndex":Sn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(i,a,u);break;case"style":ml(i,u,m);break;case"data":if(r!=="object"){Sn(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){i.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(a);break}u=La(""+u),i.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&Zt(i,r,"name",f.name,f,null),Zt(i,r,"formEncType",f.formEncType,f,null),Zt(i,r,"formMethod",f.formMethod,f,null),Zt(i,r,"formTarget",f.formTarget,f,null)):(Zt(i,r,"encType",f.encType,f,null),Zt(i,r,"method",f.method,f,null),Zt(i,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(a);break}u=La(""+u),i.setAttribute(a,u);break;case"onClick":u!=null&&(i.onclick=ei);break;case"onScroll":u!=null&&Mt("scroll",i);break;case"onScrollEnd":u!=null&&Mt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}a=La(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,""+u):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":u===!0?i.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,u):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(a,u):i.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(a):i.setAttribute(a,u);break;case"popover":Mt("beforetoggle",i),Mt("toggle",i),Na(i,"popover",u);break;case"xlinkActuate":Re(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Re(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Re(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Re(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Re(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Re(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Re(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Re(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Re(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Na(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=yc.get(a)||a,Na(i,a,u))}}function Pm(i,r,a,u,f,m){switch(a){case"style":ml(i,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"children":typeof u=="string"?dn(i,u):(typeof u=="number"||typeof u=="bigint")&&dn(i,""+u);break;case"onScroll":u!=null&&Mt("scroll",i);break;case"onScrollEnd":u!=null&&Mt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ol.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),m=i[Be]||null,m=m!=null?m[a]:null,typeof m=="function"&&i.removeEventListener(r,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(r,u,f);break t}a in i?i[a]=u:u===!0?i.setAttribute(a,""):Na(i,a,u)}}}function $e(i,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",i),Mt("load",i);var u=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Zt(i,r,m,T,a,null)}}f&&Zt(i,r,"srcSet",a.srcSet,a,null),u&&Zt(i,r,"src",a.src,a,null);return;case"input":Mt("invalid",i);var A=m=T=f=null,D=null,q=null;for(u in a)if(a.hasOwnProperty(u)){var $=a[u];if($!=null)switch(u){case"name":f=$;break;case"type":T=$;break;case"checked":D=$;break;case"defaultChecked":q=$;break;case"value":m=$;break;case"defaultValue":A=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:Zt(i,r,u,$,a,null)}}mc(i,m,A,D,q,T,f,!1);return;case"select":Mt("invalid",i),u=T=m=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":m=A;break;case"defaultValue":T=A;break;case"multiple":u=A;default:Zt(i,r,f,A,a,null)}r=m,a=T,i.multiple=!!u,r!=null?Vs(i,!!u,r,!1):a!=null&&Vs(i,!!u,a,!0);return;case"textarea":Mt("invalid",i),m=f=u=null;for(T in a)if(a.hasOwnProperty(T)&&(A=a[T],A!=null))switch(T){case"value":u=A;break;case"defaultValue":f=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:Zt(i,r,T,A,a,null)}Ms(i,u,f,m);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(u=a[D],u!=null))switch(D){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Zt(i,r,D,u,a,null)}return;case"dialog":Mt("beforetoggle",i),Mt("toggle",i),Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":Mt("load",i);break;case"video":case"audio":for(u=0;u<Ql.length;u++)Mt(Ql[u],i);break;case"image":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"embed":case"source":case"link":Mt("error",i),Mt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(u=a[q],u!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Zt(i,r,q,u,a,null)}return;default:if(Pa(r)){for($ in a)a.hasOwnProperty($)&&(u=a[$],u!==void 0&&Pm(i,r,$,u,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(u=a[A],u!=null&&Zt(i,r,A,u,a,null))}function ZC(i,r,a,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,A=null,D=null,q=null,$=null;for(X in a){var et=a[X];if(a.hasOwnProperty(X)&&et!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":D=et;default:u.hasOwnProperty(X)||Zt(i,r,X,null,u,et)}}for(var K in u){var X=u[K];if(et=a[K],u.hasOwnProperty(K)&&(X!=null||et!=null))switch(K){case"type":m=X;break;case"name":f=X;break;case"checked":q=X;break;case"defaultChecked":$=X;break;case"value":T=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==et&&Zt(i,r,K,X,u,et)}}Oa(i,T,A,D,q,$,m,f);return;case"select":X=T=A=K=null;for(m in a)if(D=a[m],a.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":X=D;default:u.hasOwnProperty(m)||Zt(i,r,m,null,u,D)}for(f in u)if(m=u[f],D=a[f],u.hasOwnProperty(f)&&(m!=null||D!=null))switch(f){case"value":K=m;break;case"defaultValue":A=m;break;case"multiple":T=m;default:m!==D&&Zt(i,r,f,m,u,D)}r=A,a=T,u=X,K!=null?Vs(i,!!a,K,!1):!!u!=!!a&&(r!=null?Vs(i,!!a,r,!0):Vs(i,!!a,a?[]:"",!1));return;case"textarea":X=K=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Zt(i,r,A,null,u,f)}for(T in u)if(f=u[T],m=a[T],u.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":K=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&Zt(i,r,T,f,u,m)}pc(i,K,X);return;case"option":for(var dt in a)if(K=a[dt],a.hasOwnProperty(dt)&&K!=null&&!u.hasOwnProperty(dt))switch(dt){case"selected":i.selected=!1;break;default:Zt(i,r,dt,null,u,K)}for(D in u)if(K=u[D],X=a[D],u.hasOwnProperty(D)&&K!==X&&(K!=null||X!=null))switch(D){case"selected":i.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Zt(i,r,D,K,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in a)K=a[vt],a.hasOwnProperty(vt)&&K!=null&&!u.hasOwnProperty(vt)&&Zt(i,r,vt,null,u,K);for(q in u)if(K=u[q],X=a[q],u.hasOwnProperty(q)&&K!==X&&(K!=null||X!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:Zt(i,r,q,K,u,X)}return;default:if(Pa(r)){for(var Jt in a)K=a[Jt],a.hasOwnProperty(Jt)&&K!==void 0&&!u.hasOwnProperty(Jt)&&Pm(i,r,Jt,void 0,u,K);for($ in u)K=u[$],X=a[$],!u.hasOwnProperty($)||K===X||K===void 0&&X===void 0||Pm(i,r,$,K,u,X);return}}for(var z in a)K=a[z],a.hasOwnProperty(z)&&K!=null&&!u.hasOwnProperty(z)&&Zt(i,r,z,null,u,K);for(et in u)K=u[et],X=a[et],!u.hasOwnProperty(et)||K===X||K==null&&X==null||Zt(i,r,et,K,u,X)}function J0(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function JC(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,a=performance.getEntriesByType("resource"),u=0;u<a.length;u++){var f=a[u],m=f.transferSize,T=f.initiatorType,A=f.duration;if(m&&A&&J0(T)){for(T=0,A=f.responseEnd,u+=1;u<a.length;u++){var D=a[u],q=D.startTime;if(q>A)break;var $=D.transferSize,et=D.initiatorType;$&&J0(et)&&(D=D.responseEnd,T+=$*(D<A?1:(A-q)/(D-q)))}if(--u,r+=8*(m+T)/(f.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Lm=null,km=null;function vh(i){return i.nodeType===9?i:i.ownerDocument}function tT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function eT(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Um(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var zm=null;function t2(){var i=window.event;return i&&i.type==="popstate"?i===zm?!1:(zm=i,!0):(zm=null,!1)}var nT=typeof setTimeout=="function"?setTimeout:void 0,e2=typeof clearTimeout=="function"?clearTimeout:void 0,iT=typeof Promise=="function"?Promise:void 0,n2=typeof queueMicrotask=="function"?queueMicrotask:typeof iT<"u"?function(i){return iT.resolve(null).then(i).catch(i2)}:nT;function i2(i){setTimeout(function(){throw i})}function er(i){return i==="head"}function sT(i,r){var a=r,u=0;do{var f=a.nextSibling;if(i.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(u===0){i.removeChild(f),yo(r);return}u--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")u++;else if(a==="html")$l(i.ownerDocument.documentElement);else if(a==="head"){a=i.ownerDocument.head,$l(a);for(var m=a.firstChild;m;){var T=m.nextSibling,A=m.nodeName;m[Ei]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=T}}else a==="body"&&$l(i.ownerDocument.body);a=f}while(a);yo(r)}function rT(i,r){var a=i;i=0;do{var u=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(i===0)break;i--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||i++;a=u}while(a)}function Bm(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Bm(a),Ma(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function s2(i,r,a,u){for(;i.nodeType===1;){var f=a;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ei])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=jn(i.nextSibling),i===null)break}return null}function r2(i,r,a){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=jn(i.nextSibling),i===null))return null;return i}function aT(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=jn(i.nextSibling),i===null))return null;return i}function jm(i){return i.data==="$?"||i.data==="$~"}function Fm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function a2(i,r){var a=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||a.readyState!=="loading")r();else{var u=function(){r(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function jn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Hm=null;function oT(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="/$"||a==="/&"){if(r===0)return jn(i.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}i=i.nextSibling}return null}function lT(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return i;r--}else a!=="/$"&&a!=="/&"||r++}i=i.previousSibling}return null}function uT(i,r,a){switch(r=vh(a),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function $l(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Ma(i)}var Fn=new Map,cT=new Set;function _h(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var fs=ot.d;ot.d={f:o2,r:l2,D:u2,C:c2,L:h2,m:f2,X:m2,S:d2,M:p2};function o2(){var i=fs.f(),r=ch();return i||r}function l2(i){var r=Vn(i);r!==null&&r.tag===5&&r.type==="form"?C_(r):fs.r(i)}var mo=typeof document>"u"?null:document;function hT(i,r,a){var u=mo;if(u&&typeof r=="string"&&r){var f=fn(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),cT.has(f)||(cT.add(f),i={rel:i,crossOrigin:a,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),$e(r,"link",i),we(r),u.head.appendChild(r)))}}function u2(i){fs.D(i),hT("dns-prefetch",i,null)}function c2(i,r){fs.C(i,r),hT("preconnect",i,r)}function h2(i,r,a){fs.L(i,r,a);var u=mo;if(u&&i&&r){var f='link[rel="preload"][as="'+fn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+fn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+fn(a.imageSizes)+'"]')):f+='[href="'+fn(i)+'"]';var m=f;switch(r){case"style":m=po(i);break;case"script":m=go(i)}Fn.has(m)||(i=_({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:i,as:r},a),Fn.set(m,i),u.querySelector(f)!==null||r==="style"&&u.querySelector(Wl(m))||r==="script"&&u.querySelector(Zl(m))||(r=u.createElement("link"),$e(r,"link",i),we(r),u.head.appendChild(r)))}}function f2(i,r){fs.m(i,r);var a=mo;if(a&&i){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+fn(u)+'"][href="'+fn(i)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=go(i)}if(!Fn.has(m)&&(i=_({rel:"modulepreload",href:i},r),Fn.set(m,i),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Zl(m)))return}u=a.createElement("link"),$e(u,"link",i),we(u),a.head.appendChild(u)}}}function d2(i,r,a){fs.S(i,r,a);var u=mo;if(u&&i){var f=Ai(u).hoistableStyles,m=po(i);r=r||"default";var T=f.get(m);if(!T){var A={loading:0,preload:null};if(T=u.querySelector(Wl(m)))A.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":r},a),(a=Fn.get(m))&&qm(i,a);var D=T=u.createElement("link");we(D),$e(D,"link",i),D._p=new Promise(function(q,$){D.onload=q,D.onerror=$}),D.addEventListener("load",function(){A.loading|=1}),D.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Th(T,r,u)}T={type:"stylesheet",instance:T,count:1,state:A},f.set(m,T)}}}function m2(i,r){fs.X(i,r);var a=mo;if(a&&i){var u=Ai(a).hoistableScripts,f=go(i),m=u.get(f);m||(m=a.querySelector(Zl(f)),m||(i=_({src:i,async:!0},r),(r=Fn.get(f))&&Gm(i,r),m=a.createElement("script"),we(m),$e(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function p2(i,r){fs.M(i,r);var a=mo;if(a&&i){var u=Ai(a).hoistableScripts,f=go(i),m=u.get(f);m||(m=a.querySelector(Zl(f)),m||(i=_({src:i,async:!0,type:"module"},r),(r=Fn.get(f))&&Gm(i,r),m=a.createElement("script"),we(m),$e(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function fT(i,r,a,u){var f=(f=xt.current)?_h(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=po(a.href),a=Ai(f).hoistableStyles,u=a.get(r),u||(u={type:"style",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=po(a.href);var m=Ai(f).hoistableStyles,T=m.get(i);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,T),(m=f.querySelector(Wl(i)))&&!m._p&&(T.instance=m,T.state.loading=5),Fn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Fn.set(i,a),m||g2(f,i,a,T.state))),r&&u===null)throw Error(s(528,""));return T}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=go(a),a=Ai(f).hoistableScripts,u=a.get(r),u||(u={type:"script",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function po(i){return'href="'+fn(i)+'"'}function Wl(i){return'link[rel="stylesheet"]['+i+"]"}function dT(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function g2(i,r,a,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),$e(r,"link",a),we(r),i.head.appendChild(r))}function go(i){return'[src="'+fn(i)+'"]'}function Zl(i){return"script[async]"+i}function mT(i,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+fn(a.href)+'"]');if(u)return r.instance=u,we(u),u;var f=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),we(u),$e(u,"style",f),Th(u,a.precedence,i),r.instance=u;case"stylesheet":f=po(a.href);var m=i.querySelector(Wl(f));if(m)return r.state.loading|=4,r.instance=m,we(m),m;u=dT(a),(f=Fn.get(f))&&qm(u,f),m=(i.ownerDocument||i).createElement("link"),we(m);var T=m;return T._p=new Promise(function(A,D){T.onload=A,T.onerror=D}),$e(m,"link",u),r.state.loading|=4,Th(m,a.precedence,i),r.instance=m;case"script":return m=go(a.src),(f=i.querySelector(Zl(m)))?(r.instance=f,we(f),f):(u=a,(f=Fn.get(m))&&(u=_({},a),Gm(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),we(f),$e(f,"link",u),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Th(u,a.precedence,i));return r.instance}function Th(i,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,T=0;T<u.length;T++){var A=u[T];if(A.dataset.precedence===r)m=A;else if(m!==f)break}m?m.parentNode.insertBefore(i,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(i,r.firstChild))}function qm(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Gm(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Eh=null;function pT(i,r,a){if(Eh===null){var u=new Map,f=Eh=new Map;f.set(a,u)}else f=Eh,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(i))return u;for(u.set(i,null),a=a.getElementsByTagName(i),f=0;f<a.length;f++){var m=a[f];if(!(m[Ei]||m[be]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(r)||"";T=i+T;var A=u.get(T);A?A.push(m):u.set(T,[m])}}return u}function gT(i,r,a){i=i.ownerDocument||i,i.head.insertBefore(a,r==="title"?i.querySelector("head > title"):null)}function y2(i,r,a){if(a===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function yT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function v2(i,r,a,u){if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=po(u.href),m=r.querySelector(Wl(f));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Sh.bind(i),r.then(i,i)),a.state.loading|=4,a.instance=m,we(m);return}m=r.ownerDocument||r,u=dT(u),(f=Fn.get(f))&&qm(u,f),m=m.createElement("link"),we(m);var T=m;T._p=new Promise(function(A,D){T.onload=A,T.onerror=D}),$e(m,"link",u),a.instance=m}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(i.count++,a=Sh.bind(i),r.addEventListener("load",a),r.addEventListener("error",a))}}var Km=0;function _2(i,r){return i.stylesheets&&i.count===0&&bh(i,i.stylesheets),0<i.count||0<i.imgCount?function(a){var u=setTimeout(function(){if(i.stylesheets&&bh(i,i.stylesheets),i.unsuspend){var m=i.unsuspend;i.unsuspend=null,m()}},6e4+r);0<i.imgBytes&&Km===0&&(Km=62500*JC());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&bh(i,i.stylesheets),i.unsuspend)){var m=i.unsuspend;i.unsuspend=null,m()}},(i.imgBytes>Km?50:800)+r);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function Sh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ah=null;function bh(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ah=new Map,r.forEach(T2,i),Ah=null,Sh.call(i))}function T2(i,r){if(!(r.state.loading&4)){var a=Ah.get(i);if(a)var u=a.get(null);else{a=new Map,Ah.set(i,a);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),u=T)}u&&a.set(null,u)}f=r.instance,T=f.getAttribute("data-precedence"),m=a.get(T)||u,m===u&&a.set(null,f),a.set(T,f),this.count++,u=Sh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var Jl={$$typeof:Y,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function E2(i,r,a,u,f,m,T,A,D){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function vT(i,r,a,u,f,m,T,A,D,q,$,et){return i=new E2(i,r,a,T,D,q,$,et,A),r=1,m===!0&&(r|=24),m=bn(3,null,null,r),i.current=m,m.stateNode=i,r=wd(),r.refCount++,i.pooledCache=r,r.refCount++,m.memoizedState={element:u,isDehydrated:a,cache:r},xd(m),i}function _T(i){return i?(i=Ka,i):Ka}function TT(i,r,a,u,f,m){f=_T(f),u.context===null?u.context=f:u.pendingContext=f,u=qs(r),u.payload={element:a},m=m===void 0?null:m,m!==null&&(u.callback=m),a=Gs(i,u,r),a!==null&&(vn(a,i,r),Vl(a,i,r))}function ET(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<r?a:r}}function Ym(i,r){ET(i,r),(i=i.alternate)&&ET(i,r)}function ST(i){if(i.tag===13||i.tag===31){var r=Gr(i,67108864);r!==null&&vn(r,i,67108864),Ym(i,67108864)}}function AT(i){if(i.tag===13||i.tag===31){var r=xn();r=Nr(r);var a=Gr(i,r);a!==null&&vn(a,i,r),Ym(i,r)}}var wh=!0;function S2(i,r,a,u){var f=W.T;W.T=null;var m=ot.p;try{ot.p=2,Qm(i,r,a,u)}finally{ot.p=m,W.T=f}}function A2(i,r,a,u){var f=W.T;W.T=null;var m=ot.p;try{ot.p=8,Qm(i,r,a,u)}finally{ot.p=m,W.T=f}}function Qm(i,r,a,u){if(wh){var f=Xm(u);if(f===null)Om(i,r,u,Rh,a),wT(i,u);else if(w2(f,i,r,a,u))u.stopPropagation();else if(wT(i,u),r&4&&-1<b2.indexOf(i)){for(;f!==null;){var m=Vn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=yi(m.pendingLanes);if(T!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var D=1<<31-ye(T);A.entanglements[1]|=D,T&=~D}Li(m),(Gt&6)===0&&(lh=ln()+500,Yl(0))}}break;case 31:case 13:A=Gr(m,2),A!==null&&vn(A,m,2),ch(),Ym(m,2)}if(m=Xm(u),m===null&&Om(i,r,u,Rh,a),m===f)break;f=m}f!==null&&u.stopPropagation()}else Om(i,r,u,null,a)}}function Xm(i){return i=Mn(i),$m(i)}var Rh=null;function $m(i){if(Rh=null,i=Si(i),i!==null){var r=l(i);if(r===null)i=null;else{var a=r.tag;if(a===13){if(i=c(r),i!==null)return i;i=null}else if(a===31){if(i=d(r),i!==null)return i;i=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Rh=i,null}function bT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xr()){case nl:return 2;case il:return 8;case xs:case nd:return 32;case sc:return 268435456;default:return 32}default:return 32}}var Wm=!1,nr=null,ir=null,sr=null,tu=new Map,eu=new Map,rr=[],b2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wT(i,r){switch(i){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":tu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":eu.delete(r.pointerId)}}function nu(i,r,a,u,f,m){return i===null||i.nativeEvent!==m?(i={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},r!==null&&(r=Vn(r),r!==null&&ST(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function w2(i,r,a,u,f){switch(r){case"focusin":return nr=nu(nr,i,r,a,u,f),!0;case"dragenter":return ir=nu(ir,i,r,a,u,f),!0;case"mouseover":return sr=nu(sr,i,r,a,u,f),!0;case"pointerover":var m=f.pointerId;return tu.set(m,nu(tu.get(m)||null,i,r,a,u,f)),!0;case"gotpointercapture":return m=f.pointerId,eu.set(m,nu(eu.get(m)||null,i,r,a,u,f)),!0}return!1}function RT(i){var r=Si(i.target);if(r!==null){var a=l(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){i.blockedOn=r,Jn(i.priority,function(){AT(a)});return}}else if(r===31){if(r=d(a),r!==null){i.blockedOn=r,Jn(i.priority,function(){AT(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ch(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var a=Xm(i.nativeEvent);if(a===null){a=i.nativeEvent;var u=new a.constructor(a.type,a);pl=u,a.target.dispatchEvent(u),pl=null}else return r=Vn(a),r!==null&&ST(r),i.blockedOn=a,!1;r.shift()}return!0}function CT(i,r,a){Ch(i)&&a.delete(r)}function R2(){Wm=!1,nr!==null&&Ch(nr)&&(nr=null),ir!==null&&Ch(ir)&&(ir=null),sr!==null&&Ch(sr)&&(sr=null),tu.forEach(CT),eu.forEach(CT)}function Ih(i,r){i.blockedOn===r&&(i.blockedOn=null,Wm||(Wm=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,R2)))}var xh=null;function IT(i){xh!==i&&(xh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){xh===i&&(xh=null);for(var r=0;r<i.length;r+=3){var a=i[r],u=i[r+1],f=i[r+2];if(typeof u!="function"){if($m(u||a)===null)continue;break}var m=Vn(a);m!==null&&(i.splice(r,3),r-=3,Xd(m,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function yo(i){function r(D){return Ih(D,i)}nr!==null&&Ih(nr,i),ir!==null&&Ih(ir,i),sr!==null&&Ih(sr,i),tu.forEach(r),eu.forEach(r);for(var a=0;a<rr.length;a++){var u=rr[a];u.blockedOn===i&&(u.blockedOn=null)}for(;0<rr.length&&(a=rr[0],a.blockedOn===null);)RT(a),a.blockedOn===null&&rr.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],m=a[u+1],T=f[Be]||null;if(typeof m=="function")T||IT(a);else if(T){var A=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[Be]||null)A=T.formAction;else if($m(f)!==null)continue}else A=T.action;typeof A=="function"?a[u+1]=A:(a.splice(u,3),u-=3),IT(a)}}}function xT(){function i(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),u||setTimeout(a,20)}function a(){if(!u&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Zm(i){this._internalRoot=i}Dh.prototype.render=Zm.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,u=xn();TT(a,u,i,r,null,null)},Dh.prototype.unmount=Zm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;TT(i.current,2,null,i,null,null),ch(),r[Ti]=null}};function Dh(i){this._internalRoot=i}Dh.prototype.unstable_scheduleHydration=function(i){if(i){var r=cc();i={blockedOn:null,target:i,priority:r};for(var a=0;a<rr.length&&r!==0&&r<rr[a].priority;a++);rr.splice(a,0,i),a===0&&RT(i)}};var DT=t.version;if(DT!=="19.2.1")throw Error(s(527,DT,"19.2.1"));ot.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=g(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var C2={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vh.isDisabled&&Vh.supportsFiber)try{Wn=Vh.inject(C2),Ge=Vh}catch{}}return su.createRoot=function(i,r){if(!o(i))throw Error(s(299));var a=!1,u="",f=k_,m=U_,T=z_;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=vT(i,1,!1,null,null,a,u,null,f,m,T,xT),i[Ti]=r.current,Nm(i),new Zm(r)},su.hydrateRoot=function(i,r,a){if(!o(i))throw Error(s(299));var u=!1,f="",m=k_,T=U_,A=z_,D=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),r=vT(i,1,!0,r,a??null,u,f,D,m,T,A,xT),r.context=_T(null),a=r.current,u=xn(),u=Nr(u),f=qs(u),f.callback=null,Gs(a,f,u),a=u,r.current.lanes=a,Vr(r,a),Li(r),i[Ti]=r.current,Nm(i),new Dh(r)},su.version="19.2.1",su}var BT;function U2(){if(BT)return ep.exports;BT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ep.exports=k2(),ep.exports}var z2=U2();var jT="popstate";function B2(e={}){function t(o,l){let{pathname:c="/",search:d="",hash:p=""}=Ta(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Lp("",{pathname:c,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(o,l){let c=o.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");d=g===-1?p:p.slice(0,g)}return d+"#"+(typeof l=="string"?l:Au(l))}function s(o,l){Qn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return F2(t,n,s,e)}function he(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Qn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function j2(){return Math.random().toString(36).substring(2,10)}function FT(e,t){return{usr:e.state,key:e.key,idx:t}}function Lp(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ta(t):t,state:n,key:t&&t.key||s||j2()}}function Au({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ta(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function F2(e,t,n,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,d="POP",p=null,g=y();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function y(){return(c.state||{idx:null}).idx}function _(){d="POP";let k=y(),j=k==null?null:k-g;g=k,p&&p({action:d,location:U.location,delta:j})}function S(k,j){d="PUSH";let G=Lp(U.location,k,j);n&&n(G,k),g=y()+1;let Y=FT(G,g),rt=U.createHref(G);try{c.pushState(Y,"",rt)}catch(tt){if(tt instanceof DOMException&&tt.name==="DataCloneError")throw tt;o.location.assign(rt)}l&&p&&p({action:d,location:U.location,delta:1})}function R(k,j){d="REPLACE";let G=Lp(U.location,k,j);n&&n(G,k),g=y();let Y=FT(G,g),rt=U.createHref(G);c.replaceState(Y,"",rt),l&&p&&p({action:d,location:U.location,delta:0})}function M(k){return H2(k)}let U={get action(){return d},get location(){return e(o,c)},listen(k){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(jT,_),p=k,()=>{o.removeEventListener(jT,_),p=null}},createHref(k){return t(o,k)},createURL:M,encodeLocation(k){let j=M(k);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:S,replace:R,go(k){return c.go(k)}};return U}function H2(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),he(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Au(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function MA(e,t,n="/"){return q2(e,t,n,!1)}function q2(e,t,n,s){let o=typeof t=="string"?Ta(t):t,l=vs(o.pathname||"/",n);if(l==null)return null;let c=NA(e);G2(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=nI(l);d=tI(c[p],g,s)}return d}function NA(e,t=[],n=[],s="",o=!1){let l=(c,d,p=o,g)=>{let y={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&p)return;he(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let _=gs([s,y.relativePath]),S=n.concat(y);c.children&&c.children.length>0&&(he(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),NA(c.children,t,S,_,p)),!(c.path==null&&!c.index)&&t.push({path:_,score:Z2(_,c.index),routesMeta:S})};return e.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let p of OA(c.path))l(c,d,!0,p)}),t}function OA(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=OA(s.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...c),d.map(p=>e.startsWith("/")&&p===""?"/":p)}function G2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:J2(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var K2=/^:[\w-]+$/,Y2=3,Q2=2,X2=1,$2=10,W2=-2,HT=e=>e==="*";function Z2(e,t){let n=e.split("/"),s=n.length;return n.some(HT)&&(s+=W2),t&&(s+=Q2),n.filter(o=>!HT(o)).reduce((o,l)=>o+(K2.test(l)?Y2:l===""?X2:$2),s)}function J2(e,t){return e.length===t.length&&e.slice(0,-1).every((s,o)=>s===t[o])?e[e.length-1]-t[t.length-1]:0}function tI(e,t,n=!1){let{routesMeta:s}=e,o={},l="/",c=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,y=l==="/"?t:t.slice(l.length)||"/",_=af({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},y),S=p.route;if(!_&&g&&n&&!s[s.length-1].route.index&&(_=af({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!_)return null;Object.assign(o,_.params),c.push({params:o,pathname:gs([l,_.pathname]),pathnameBase:aI(gs([l,_.pathnameBase])),route:S}),_.pathnameBase!=="/"&&(l=gs([l,_.pathnameBase]))}return c}function af(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=eI(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:y,isOptional:_},S)=>{if(y==="*"){let M=d[S]||"";c=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const R=d[S];return _&&!R?g[y]=void 0:g[y]=(R||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:e}}function eI(e,t=!1,n=!0){Qn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function nI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Qn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function vs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}var PA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iI=e=>PA.test(e);function sI(e,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof e=="string"?Ta(e):e,l;if(n)if(iI(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),Qn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=qT(n.substring(1),"/"):l=qT(n,t)}else l=t;return{pathname:l,search:oI(s),hash:lI(o)}}function qT(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function rp(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rI(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function LA(e){let t=rI(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function kA(e,t,n,s=!1){let o;typeof e=="string"?o=Ta(e):(o={...e},he(!o.pathname||!o.pathname.includes("?"),rp("?","pathname","search",o)),he(!o.pathname||!o.pathname.includes("#"),rp("#","pathname","hash",o)),he(!o.search||!o.search.includes("#"),rp("#","search","hash",o)));let l=e===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=n;else{let _=t.length-1;if(!s&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),_-=1;o.pathname=S.join("/")}d=_>=0?t[_]:"/"}let p=sI(o,d),g=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||y)&&(p.pathname+="/"),p}var gs=e=>e.join("/").replace(/\/\/+/g,"/"),aI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),oI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,lI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,uI=class{constructor(e,t,n,s=!1){this.status=e,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function cI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function hI(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var UA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function zA(e,t){let n=e;if(typeof n!="string"||!PA.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(UA)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=vs(c.pathname,t);c.origin===l.origin&&d!=null?n=d+c.search+c.hash:o=!0}catch{Qn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var BA=["POST","PUT","PATCH","DELETE"];new Set(BA);var fI=["GET",...BA];new Set(fI);var Fo=V.createContext(null);Fo.displayName="DataRouter";var Nf=V.createContext(null);Nf.displayName="DataRouterState";var dI=V.createContext(!1),jA=V.createContext({isTransitioning:!1});jA.displayName="ViewTransition";var mI=V.createContext(new Map);mI.displayName="Fetchers";var pI=V.createContext(null);pI.displayName="Await";var $n=V.createContext(null);$n.displayName="Navigation";var Bu=V.createContext(null);Bu.displayName="Location";var Rs=V.createContext({outlet:null,matches:[],isDataRoute:!1});Rs.displayName="Route";var Ng=V.createContext(null);Ng.displayName="RouteError";var FA="REACT_ROUTER_ERROR",gI="REDIRECT",yI="ROUTE_ERROR_RESPONSE";function vI(e){if(e.startsWith(`${FA}:${gI}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function _I(e){if(e.startsWith(`${FA}:${yI}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new uI(t.status,t.statusText,t.data)}catch{}}function TI(e,{relative:t}={}){he(ju(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=V.useContext($n),{hash:o,pathname:l,search:c}=Fu(e,{relative:t}),d=l;return n!=="/"&&(d=l==="/"?n:gs([n,l])),s.createHref({pathname:d,search:c,hash:o})}function ju(){return V.useContext(Bu)!=null}function Ea(){return he(ju(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(Bu).location}var HA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qA(e){V.useContext($n).static||V.useLayoutEffect(e)}function Og(){let{isDataRoute:e}=V.useContext(Rs);return e?NI():EI()}function EI(){he(ju(),"useNavigate() may be used only in the context of a <Router> component.");let e=V.useContext(Fo),{basename:t,navigator:n}=V.useContext($n),{matches:s}=V.useContext(Rs),{pathname:o}=Ea(),l=JSON.stringify(LA(s)),c=V.useRef(!1);return qA(()=>{c.current=!0}),V.useCallback((p,g={})=>{if(Qn(c.current,HA),!c.current)return;if(typeof p=="number"){n.go(p);return}let y=kA(p,JSON.parse(l),o,g.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:gs([t,y.pathname])),(g.replace?n.replace:n.push)(y,g.state,g)},[t,n,l,o,e])}V.createContext(null);function Fu(e,{relative:t}={}){let{matches:n}=V.useContext(Rs),{pathname:s}=Ea(),o=JSON.stringify(LA(n));return V.useMemo(()=>kA(e,JSON.parse(o),s,t==="path"),[e,o,s,t])}function SI(e,t){return GA(e,t)}function GA(e,t,n,s,o){he(ju(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=V.useContext($n),{matches:c}=V.useContext(Rs),d=c[c.length-1],p=d?d.params:{},g=d?d.pathname:"/",y=d?d.pathnameBase:"/",_=d&&d.route;{let G=_&&_.path||"";YA(g,!_||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let S=Ea(),R;if(t){let G=typeof t=="string"?Ta(t):t;he(y==="/"||G.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${G.pathname}" was given in the \`location\` prop.`),R=G}else R=S;let M=R.pathname||"/",U=M;if(y!=="/"){let G=y.replace(/^\//,"").split("/");U="/"+M.replace(/^\//,"").split("/").slice(G.length).join("/")}let k=MA(e,{pathname:U});Qn(_||k!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Qn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=CI(k&&k.map(G=>Object.assign({},G,{params:Object.assign({},p,G.params),pathname:gs([y,l.encodeLocation?l.encodeLocation(G.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?y:gs([y,l.encodeLocation?l.encodeLocation(G.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathnameBase])})),c,n,s,o);return t&&j?V.createElement(Bu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},j):j}function AI(){let e=MI(),t=cI(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:l},"ErrorBoundary")," or"," ",V.createElement("code",{style:l},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},t),n?V.createElement("pre",{style:o},n):null,c)}var bI=V.createElement(AI,null),KA=class extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=_I(e.digest);n&&(e=n)}let t=e!==void 0?V.createElement(Rs.Provider,{value:this.props.routeContext},V.createElement(Ng.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?V.createElement(wI,{error:e},t):t}};KA.contextType=dI;var ap=new WeakMap;function wI({children:e,error:t}){let{basename:n}=V.useContext($n);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=vI(t.digest);if(s){let o=ap.get(t);if(o)throw o;let l=zA(s.location,n);if(UA&&!ap.get(t))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw ap.set(t,c),c}return V.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return e}function RI({routeContext:e,match:t,children:n}){let s=V.useContext(Fo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),V.createElement(Rs.Provider,{value:e},n)}function CI(e,t=[],n=null,s=null,o=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=n?.errors;if(c!=null){let y=l.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);he(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let d=!1,p=-1;if(n)for(let y=0;y<l.length;y++){let _=l[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=y),_.route.id){let{loaderData:S,errors:R}=n,M=_.route.loader&&!S.hasOwnProperty(_.route.id)&&(!R||R[_.route.id]===void 0);if(_.route.lazy||M){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let g=n&&s?(y,_)=>{s(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:hI(n.matches),errorInfo:_})}:void 0;return l.reduceRight((y,_,S)=>{let R,M=!1,U=null,k=null;n&&(R=c&&_.route.id?c[_.route.id]:void 0,U=_.route.errorElement||bI,d&&(p<0&&S===0?(YA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,k=null):p===S&&(M=!0,k=_.route.hydrateFallbackElement||null)));let j=t.concat(l.slice(0,S+1)),G=()=>{let Y;return R?Y=U:M?Y=k:_.route.Component?Y=V.createElement(_.route.Component,null):_.route.element?Y=_.route.element:Y=y,V.createElement(RI,{match:_,routeContext:{outlet:y,matches:j,isDataRoute:n!=null},children:Y})};return n&&(_.route.ErrorBoundary||_.route.errorElement||S===0)?V.createElement(KA,{location:n.location,revalidation:n.revalidation,component:U,error:R,children:G(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:g}):G()},null)}function Pg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function II(e){let t=V.useContext(Fo);return he(t,Pg(e)),t}function xI(e){let t=V.useContext(Nf);return he(t,Pg(e)),t}function DI(e){let t=V.useContext(Rs);return he(t,Pg(e)),t}function Lg(e){let t=DI(e),n=t.matches[t.matches.length-1];return he(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function VI(){return Lg("useRouteId")}function MI(){let e=V.useContext(Ng),t=xI("useRouteError"),n=Lg("useRouteError");return e!==void 0?e:t.errors?.[n]}function NI(){let{router:e}=II("useNavigate"),t=Lg("useNavigate"),n=V.useRef(!1);return qA(()=>{n.current=!0}),V.useCallback(async(o,l={})=>{Qn(n.current,HA),n.current&&(typeof o=="number"?await e.navigate(o):await e.navigate(o,{fromRouteId:t,...l}))},[e,t])}var GT={};function YA(e,t,n){!t&&!GT[e]&&(GT[e]=!0,Qn(!1,n))}V.memo(OI);function OI({routes:e,future:t,state:n,onError:s}){return GA(e,void 0,n,s,t)}function kp(e){he(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function PI({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:l=!1,unstable_useTransitions:c}){he(!ju(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),p=V.useMemo(()=>({basename:d,navigator:o,static:l,unstable_useTransitions:c,future:{}}),[d,o,l,c]);typeof n=="string"&&(n=Ta(n));let{pathname:g="/",search:y="",hash:_="",state:S=null,key:R="default"}=n,M=V.useMemo(()=>{let U=vs(g,d);return U==null?null:{location:{pathname:U,search:y,hash:_,state:S,key:R},navigationType:s}},[d,g,y,_,S,R,s]);return Qn(M!=null,`<Router basename="${d}"> is not able to match the URL "${g}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:V.createElement($n.Provider,{value:p},V.createElement(Bu.Provider,{children:t,value:M}))}function LI({children:e,location:t}){return SI(Up(e),t)}function Up(e,t=[]){let n=[];return V.Children.forEach(e,(s,o)=>{if(!V.isValidElement(s))return;let l=[...t,o];if(s.type===V.Fragment){n.push.apply(n,Up(s.props.children,l));return}he(s.type===kp,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),he(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Up(s.props.children,l)),n.push(c)}),n}var Hh="get",qh="application/x-www-form-urlencoded";function Of(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function kI(e){return Of(e)&&e.tagName.toLowerCase()==="button"}function UI(e){return Of(e)&&e.tagName.toLowerCase()==="form"}function zI(e){return Of(e)&&e.tagName.toLowerCase()==="input"}function BI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function jI(e,t){return e.button===0&&(!t||t==="_self")&&!BI(e)}var Mh=null;function FI(){if(Mh===null)try{new FormData(document.createElement("form"),0),Mh=!1}catch{Mh=!0}return Mh}var HI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function op(e){return e!=null&&!HI.has(e)?(Qn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qh}"`),null):e}function qI(e,t){let n,s,o,l,c;if(UI(e)){let d=e.getAttribute("action");s=d?vs(d,t):null,n=e.getAttribute("method")||Hh,o=op(e.getAttribute("enctype"))||qh,l=new FormData(e)}else if(kI(e)||zI(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=e.getAttribute("formaction")||d.getAttribute("action");if(s=p?vs(p,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||Hh,o=op(e.getAttribute("formenctype"))||op(d.getAttribute("enctype"))||qh,l=new FormData(d,e),!FI()){let{name:g,type:y,value:_}=e;if(y==="image"){let S=g?`${g}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else g&&l.append(g,_)}}else{if(Of(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Hh,s=null,o=qh,c=e}return l&&o==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function kg(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function GI(e,t,n){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&vs(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function KI(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function YI(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function QI(e,t,n){let s=await Promise.all(e.map(async o=>{let l=t.routes[o.route.id];if(l){let c=await KI(l,n);return c.links?c.links():[]}return[]}));return ZI(s.flat(1).filter(YI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function KT(e,t,n,s,o,l){let c=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,d=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return l==="assets"?t.filter((p,g)=>c(p,g)||d(p,g)):l==="data"?t.filter((p,g)=>{let y=s.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let _=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function XI(e,t,{includeHydrateFallback:n}={}){return $I(e.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function $I(e){return[...new Set(e)]}function WI(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function ZI(e,t){let n=new Set;return new Set(t),e.reduce((s,o)=>{let l=JSON.stringify(WI(o));return n.has(l)||(n.add(l),s.push({key:l,link:o})),s},[])}function QA(){let e=V.useContext(Fo);return kg(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function JI(){let e=V.useContext(Nf);return kg(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ug=V.createContext(void 0);Ug.displayName="FrameworkContext";function XA(){let e=V.useContext(Ug);return kg(e,"You must render this element inside a <HydratedRouter> element"),e}function tx(e,t){let n=V.useContext(Ug),[s,o]=V.useState(!1),[l,c]=V.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:y,onTouchStart:_}=t,S=V.useRef(null);V.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let U=j=>{j.forEach(G=>{c(G.isIntersecting)})},k=new IntersectionObserver(U,{threshold:.5});return S.current&&k.observe(S.current),()=>{k.disconnect()}}},[e]),V.useEffect(()=>{if(s){let U=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(U)}}},[s]);let R=()=>{o(!0)},M=()=>{o(!1),c(!1)};return n?e!=="intent"?[l,S,{}]:[l,S,{onFocus:ru(d,R),onBlur:ru(p,M),onMouseEnter:ru(g,R),onMouseLeave:ru(y,M),onTouchStart:ru(_,R)}]:[!1,S,{}]}function ru(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function ex({page:e,...t}){let{router:n}=QA(),s=V.useMemo(()=>MA(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?V.createElement(ix,{page:e,matches:s,...t}):null}function nx(e){let{manifest:t,routeModules:n}=XA(),[s,o]=V.useState([]);return V.useEffect(()=>{let l=!1;return QI(e,t,n).then(c=>{l||o(c)}),()=>{l=!0}},[e,t,n]),s}function ix({page:e,matches:t,...n}){let s=Ea(),{manifest:o,routeModules:l}=XA(),{basename:c}=QA(),{loaderData:d,matches:p}=JI(),g=V.useMemo(()=>KT(e,t,p,o,s,"data"),[e,t,p,o,s]),y=V.useMemo(()=>KT(e,t,p,o,s,"assets"),[e,t,p,o,s]),_=V.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let M=new Set,U=!1;if(t.forEach(j=>{let G=o.routes[j.route.id];!G||!G.hasLoader||(!g.some(Y=>Y.route.id===j.route.id)&&j.route.id in d&&l[j.route.id]?.shouldRevalidate||G.hasClientLoader?U=!0:M.add(j.route.id))}),M.size===0)return[];let k=GI(e,c,"data");return U&&M.size>0&&k.searchParams.set("_routes",t.filter(j=>M.has(j.route.id)).map(j=>j.route.id).join(",")),[k.pathname+k.search]},[c,d,s,o,g,t,e,l]),S=V.useMemo(()=>XI(y,o),[y,o]),R=nx(y);return V.createElement(V.Fragment,null,_.map(M=>V.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),S.map(M=>V.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),R.map(({key:M,link:U})=>V.createElement("link",{key:M,nonce:n.nonce,...U})))}function sx(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var rx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rx&&(window.__reactRouterVersion="7.11.0")}catch{}function ax({basename:e,children:t,unstable_useTransitions:n,window:s}){let o=V.useRef();o.current==null&&(o.current=B2({window:s,v5Compat:!0}));let l=o.current,[c,d]=V.useState({action:l.action,location:l.location}),p=V.useCallback(g=>{n===!1?d(g):V.startTransition(()=>d(g))},[n]);return V.useLayoutEffect(()=>l.listen(p),[l,p]),V.createElement(PI,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var $A=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zg=V.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:l,replace:c,state:d,target:p,to:g,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:S,...R},M){let{basename:U,unstable_useTransitions:k}=V.useContext($n),j=typeof g=="string"&&$A.test(g),G=zA(g,U);g=G.to;let Y=TI(g,{relative:o}),[rt,tt,at]=tx(s,R),C=cx(g,{replace:c,state:d,target:p,preventScrollReset:y,relative:o,viewTransition:_,unstable_defaultShouldRevalidate:S,unstable_useTransitions:k});function w(O){t&&t(O),O.defaultPrevented||C(O)}let I=V.createElement("a",{...R,...at,href:G.absoluteURL||Y,onClick:G.isExternal||l?t:w,ref:sx(M,tt),target:p,"data-discover":!j&&n==="render"?"true":void 0});return rt&&!j?V.createElement(V.Fragment,null,I,V.createElement(ex,{page:Y})):I});zg.displayName="Link";var ox=V.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:d,children:p,...g},y){let _=Fu(c,{relative:g.relative}),S=Ea(),R=V.useContext(Nf),{navigator:M,basename:U}=V.useContext($n),k=R!=null&&px(_)&&d===!0,j=M.encodeLocation?M.encodeLocation(_).pathname:_.pathname,G=S.pathname,Y=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(G=G.toLowerCase(),Y=Y?Y.toLowerCase():null,j=j.toLowerCase()),Y&&U&&(Y=vs(Y,U)||Y);const rt=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let tt=G===j||!o&&G.startsWith(j)&&G.charAt(rt)==="/",at=Y!=null&&(Y===j||!o&&Y.startsWith(j)&&Y.charAt(j.length)==="/"),C={isActive:tt,isPending:at,isTransitioning:k},w=tt?t:void 0,I;typeof s=="function"?I=s(C):I=[s,tt?"active":null,at?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(C):l;return V.createElement(zg,{...g,"aria-current":w,className:I,ref:y,style:O,to:c,viewTransition:d},typeof p=="function"?p(C):p)});ox.displayName="NavLink";var lx=V.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:l,method:c=Hh,action:d,onSubmit:p,relative:g,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:S,...R},M)=>{let{unstable_useTransitions:U}=V.useContext($n),k=dx(),j=mx(d,{relative:g}),G=c.toLowerCase()==="get"?"get":"post",Y=typeof d=="string"&&$A.test(d),rt=tt=>{if(p&&p(tt),tt.defaultPrevented)return;tt.preventDefault();let at=tt.nativeEvent.submitter,C=at?.getAttribute("formmethod")||c,w=()=>k(at||tt.currentTarget,{fetcherKey:t,method:C,navigate:n,replace:o,state:l,relative:g,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:S});U&&n!==!1?V.startTransition(()=>w()):w()};return V.createElement("form",{ref:M,method:G,action:j,onSubmit:s?p:rt,...R,"data-discover":!Y&&e==="render"?"true":void 0})});lx.displayName="Form";function ux(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WA(e){let t=V.useContext(Fo);return he(t,ux(e)),t}function cx(e,{target:t,replace:n,state:s,preventScrollReset:o,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:p}={}){let g=Og(),y=Ea(),_=Fu(e,{relative:l});return V.useCallback(S=>{if(jI(S,t)){S.preventDefault();let R=n!==void 0?n:Au(y)===Au(_),M=()=>g(e,{replace:R,state:s,preventScrollReset:o,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});p?V.startTransition(()=>M()):M()}},[y,g,_,n,s,t,e,o,l,c,d,p])}var hx=0,fx=()=>`__${String(++hx)}__`;function dx(){let{router:e}=WA("useSubmit"),{basename:t}=V.useContext($n),n=VI(),s=e.fetch,o=e.navigate;return V.useCallback(async(l,c={})=>{let{action:d,method:p,encType:g,formData:y,body:_}=qI(l,t);if(c.navigate===!1){let S=c.fetcherKey||fx();await s(S,n,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||p,formEncType:c.encType||g,flushSync:c.flushSync})}else await o(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||p,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,o,t,n])}function mx(e,{relative:t}={}){let{basename:n}=V.useContext($n),s=V.useContext(Rs);he(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...Fu(e||".",{relative:t})},c=Ea();if(e==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(y=>y==="")){d.delete("index"),p.filter(_=>_).forEach(_=>d.append("index",_));let y=d.toString();l.search=y?`?${y}`:""}}return(!e||e===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:gs([n,l.pathname])),Au(l)}function px(e,{relative:t}={}){let n=V.useContext(jA);he(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=WA("useViewTransitionState"),o=Fu(e,{relative:t});if(!n.isTransitioning)return!1;let l=vs(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=vs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return af(o.pathname,c)!=null||af(o.pathname,l)!=null}const gx=()=>{};var YT={};const ZA=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let o=e.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},yx=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const o=e[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=e[n++];t[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=e[n++],c=e[n++],d=e[n++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const l=e[n++],c=e[n++];t[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return t.join("")},JA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<e.length;o+=3){const l=e[o],c=o+1<e.length,d=c?e[o+1]:0,p=o+2<e.length,g=p?e[o+2]:0,y=l>>2,_=(l&3)<<4|d>>4;let S=(d&15)<<2|g>>6,R=g&63;p||(R=64,c||(S=64)),s.push(n[y],n[_],n[S],n[R])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ZA(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):yx(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<e.length;){const l=n[e.charAt(o++)],d=o<e.length?n[e.charAt(o)]:0;++o;const g=o<e.length?n[e.charAt(o)]:64;++o;const _=o<e.length?n[e.charAt(o)]:64;if(++o,l==null||d==null||g==null||_==null)throw new vx;const S=l<<2|d>>4;if(s.push(S),g!==64){const R=d<<4&240|g>>2;if(s.push(R),_!==64){const M=g<<6&192|_;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class vx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _x=function(e){const t=ZA(e);return JA.encodeByteArray(t,!0)},of=function(e){return _x(e).replace(/\./g,"")},tb=function(e){try{return JA.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Tx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Ex=()=>Tx().__FIREBASE_DEFAULTS__,Sx=()=>{if(typeof process>"u"||typeof YT>"u")return;const e=YT.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Ax=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&tb(e[1]);return t&&JSON.parse(t)},Pf=()=>{try{return gx()||Ex()||Sx()||Ax()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},eb=e=>Pf()?.emulatorHosts?.[e],bx=e=>{const t=eb(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},nb=()=>Pf()?.config,ib=e=>Pf()?.[`_${e}`];class wx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function Ho(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sb(e){return(await fetch(e,{credentials:"include"})).ok}function Rx(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...e};return[of(JSON.stringify(n)),of(JSON.stringify(c)),""].join(".")}const fu={};function Cx(){const e={prod:[],emulator:[]};for(const t of Object.keys(fu))fu[t]?e.emulator.push(t):e.prod.push(t);return e}function Ix(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let QT=!1;function rb(e,t){if(typeof window>"u"||typeof document>"u"||!Ho(window.location.host)||fu[e]===t||fu[e]||QT)return;fu[e]=t;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",l=Cx().prod.length>0;function c(){const S=document.getElementById(s);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,R){S.setAttribute("width","24"),S.setAttribute("id",R),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{QT=!0,c()},S}function y(S,R){S.setAttribute("id",R),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function _(){const S=Ix(s),R=n("text"),M=document.getElementById(R)||document.createElement("span"),U=n("learnmore"),k=document.getElementById(U)||document.createElement("a"),j=n("preprendIcon"),G=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const Y=S.element;d(Y),y(k,U);const rt=g();p(G,j),Y.append(G,M,k,rt),document.body.appendChild(Y)}l?(M.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function Dx(){const e=Pf()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Vx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Mx(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Nx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ox(){const e=on();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Px(){return!Dx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Lx(){try{return typeof indexedDB=="object"}catch{return!1}}function kx(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}const Ux="FirebaseError";class Cs extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=Ux,Object.setPrototypeOf(this,Cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hu.prototype.create)}}class Hu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,l=this.errors[t],c=l?zx(l,s):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Cs(o,d,s)}}function zx(e,t){return e.replace(Bx,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const Bx=/\{\$([^}]+)}/g;function jx(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function pa(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const l=e[o],c=t[o];if(XT(l)&&XT(c)){if(!pa(l,c))return!1}else if(l!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function XT(e){return e!==null&&typeof e=="object"}function qu(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Fx(e,t){const n=new Hx(e,t);return n.subscribe.bind(n)}class Hx{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");qx(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=lp),o.error===void 0&&(o.error=lp),o.complete===void 0&&(o.complete=lp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qx(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function lp(){}function Xn(e){return e&&e._delegate?e._delegate:e}class ga{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ra="[DEFAULT]";class Gx{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new wx;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Yx(t))try{this.getOrInitializeService({instanceIdentifier:ra})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(t=ra){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ra){return this.instances.has(t)}getOptions(t=ra){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&t(l,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Kx(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ra){return this.component?this.component.multipleInstances?t:ra:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Kx(e){return e===ra?void 0:e}function Yx(e){return e.instantiationMode==="EAGER"}class Qx{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Gx(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Lt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Lt||(Lt={}));const Xx={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},$x=Lt.INFO,Wx={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},Zx=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),o=Wx[t];if(o)console[o](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Bg{constructor(t){this.name=t,this._logLevel=$x,this._logHandler=Zx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Xx[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const Jx=(e,t)=>t.some(n=>e instanceof n);let $T,WT;function tD(){return $T||($T=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eD(){return WT||(WT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ab=new WeakMap,zp=new WeakMap,ob=new WeakMap,up=new WeakMap,jg=new WeakMap;function nD(e){const t=new Promise((n,s)=>{const o=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(dr(e.result)),o()},c=()=>{s(e.error),o()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&ab.set(n,e)}).catch(()=>{}),jg.set(t,e),t}function iD(e){if(zp.has(e))return;const t=new Promise((n,s)=>{const o=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),o()},c=()=>{s(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});zp.set(e,t)}let Bp={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return zp.get(e);if(t==="objectStoreNames")return e.objectStoreNames||ob.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function sD(e){Bp=e(Bp)}function rD(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(cp(this),t,...n);return ob.set(s,t.sort?t.sort():[t]),dr(s)}:eD().includes(e)?function(...t){return e.apply(cp(this),t),dr(ab.get(this))}:function(...t){return dr(e.apply(cp(this),t))}}function aD(e){return typeof e=="function"?rD(e):(e instanceof IDBTransaction&&iD(e),Jx(e,tD())?new Proxy(e,Bp):e)}function dr(e){if(e instanceof IDBRequest)return nD(e);if(up.has(e))return up.get(e);const t=aD(e);return t!==e&&(up.set(e,t),jg.set(t,e)),t}const cp=e=>jg.get(e);function oD(e,t,{blocked:n,upgrade:s,blocking:o,terminated:l}={}){const c=indexedDB.open(e,t),d=dr(c);return s&&c.addEventListener("upgradeneeded",p=>{s(dr(c.result),p.oldVersion,p.newVersion,dr(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const lD=["get","getKey","getAll","getAllKeys","count"],uD=["put","add","delete","clear"],hp=new Map;function ZT(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(hp.get(t))return hp.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=uD.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||lD.includes(n)))return;const l=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),o&&p.done]))[0]};return hp.set(t,l),l}sD(e=>({...e,get:(t,n,s)=>ZT(t,n)||e.get(t,n,s),has:(t,n)=>!!ZT(t,n)||e.has(t,n)}));class cD{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hD(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function hD(e){return e.getComponent()?.type==="VERSION"}const jp="@firebase/app",JT="0.14.6";const _s=new Bg("@firebase/app"),fD="@firebase/app-compat",dD="@firebase/analytics-compat",mD="@firebase/analytics",pD="@firebase/app-check-compat",gD="@firebase/app-check",yD="@firebase/auth",vD="@firebase/auth-compat",_D="@firebase/database",TD="@firebase/data-connect",ED="@firebase/database-compat",SD="@firebase/functions",AD="@firebase/functions-compat",bD="@firebase/installations",wD="@firebase/installations-compat",RD="@firebase/messaging",CD="@firebase/messaging-compat",ID="@firebase/performance",xD="@firebase/performance-compat",DD="@firebase/remote-config",VD="@firebase/remote-config-compat",MD="@firebase/storage",ND="@firebase/storage-compat",OD="@firebase/firestore",PD="@firebase/ai",LD="@firebase/firestore-compat",kD="firebase",UD="12.6.0";const Fp="[DEFAULT]",zD={[jp]:"fire-core",[fD]:"fire-core-compat",[mD]:"fire-analytics",[dD]:"fire-analytics-compat",[gD]:"fire-app-check",[pD]:"fire-app-check-compat",[yD]:"fire-auth",[vD]:"fire-auth-compat",[_D]:"fire-rtdb",[TD]:"fire-data-connect",[ED]:"fire-rtdb-compat",[SD]:"fire-fn",[AD]:"fire-fn-compat",[bD]:"fire-iid",[wD]:"fire-iid-compat",[RD]:"fire-fcm",[CD]:"fire-fcm-compat",[ID]:"fire-perf",[xD]:"fire-perf-compat",[DD]:"fire-rc",[VD]:"fire-rc-compat",[MD]:"fire-gcs",[ND]:"fire-gcs-compat",[OD]:"fire-fst",[LD]:"fire-fst-compat",[PD]:"fire-vertex","fire-js":"fire-js",[kD]:"fire-js-all"};const lf=new Map,BD=new Map,Hp=new Map;function tE(e,t){try{e.container.addComponent(t)}catch(n){_s.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Mo(e){const t=e.name;if(Hp.has(t))return _s.debug(`There were multiple attempts to register component ${t}.`),!1;Hp.set(t,e);for(const n of lf.values())tE(n,e);for(const n of BD.values())tE(n,e);return!0}function Fg(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function hi(e){return e==null?!1:e.settings!==void 0}const jD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mr=new Hu("app","Firebase",jD);class FD{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ga("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}}const qo=UD;function lb(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s={name:Fp,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw mr.create("bad-app-name",{appName:String(o)});if(n||(n=nb()),!n)throw mr.create("no-options");const l=lf.get(o);if(l){if(pa(n,l.options)&&pa(s,l.config))return l;throw mr.create("duplicate-app",{appName:o})}const c=new Qx(o);for(const p of Hp.values())c.addComponent(p);const d=new FD(n,s,c);return lf.set(o,d),d}function ub(e=Fp){const t=lf.get(e);if(!t&&e===Fp&&nb())return lb();if(!t)throw mr.create("no-app",{appName:e});return t}function pr(e,t,n){let s=zD[e]??e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),l=t.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${t}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),_s.warn(c.join(" "));return}Mo(new ga(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const HD="firebase-heartbeat-database",qD=1,bu="firebase-heartbeat-store";let fp=null;function cb(){return fp||(fp=oD(HD,qD,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(bu)}catch(n){console.warn(n)}}}}).catch(e=>{throw mr.create("idb-open",{originalErrorMessage:e.message})})),fp}async function GD(e){try{const n=(await cb()).transaction(bu),s=await n.objectStore(bu).get(hb(e));return await n.done,s}catch(t){if(t instanceof Cs)_s.warn(t.message);else{const n=mr.create("idb-get",{originalErrorMessage:t?.message});_s.warn(n.message)}}}async function eE(e,t){try{const s=(await cb()).transaction(bu,"readwrite");await s.objectStore(bu).put(t,hb(e)),await s.done}catch(n){if(n instanceof Cs)_s.warn(n.message);else{const s=mr.create("idb-set",{originalErrorMessage:n?.message});_s.warn(s.message)}}}function hb(e){return`${e.name}!${e.options.appId}`}const KD=1024,YD=30;class QD{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $D(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=nE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>YD){const o=WD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){_s.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=nE(),{heartbeatsToSend:n,unsentEntries:s}=XD(this._heartbeatsCache.heartbeats),o=of(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return _s.warn(t),""}}}function nE(){return new Date().toISOString().substring(0,10)}function XD(e,t=KD){const n=[];let s=e.slice();for(const o of e){const l=n.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),iE(n)>t){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),iE(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class $D{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Lx()?kx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await GD(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return eE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return eE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function iE(e){return of(JSON.stringify({version:2,heartbeats:e})).length}function WD(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}function ZD(e){Mo(new ga("platform-logger",t=>new cD(t),"PRIVATE")),Mo(new ga("heartbeat",t=>new QD(t),"PRIVATE")),pr(jp,JT,e),pr(jp,JT,"esm2020"),pr("fire-js","")}ZD("");var JD="firebase",tV="12.7.0";pr(JD,tV,"app");function fb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eV=fb,db=new Hu("auth","Firebase",fb());const uf=new Bg("@firebase/auth");function nV(e,...t){uf.logLevel<=Lt.WARN&&uf.warn(`Auth (${qo}): ${e}`,...t)}function Gh(e,...t){uf.logLevel<=Lt.ERROR&&uf.error(`Auth (${qo}): ${e}`,...t)}function Gi(e,...t){throw qg(e,...t)}function mi(e,...t){return qg(e,...t)}function Hg(e,t,n){const s={...eV(),[t]:n};return new Hu("auth","Firebase",s).create(t,{appName:e.name})}function ha(e){return Hg(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function iV(e,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&Gi(e,"argument-error"),Hg(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qg(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return db.create(e,...t)}function Et(e,t,...n){if(!e)throw qg(t,...n)}function ms(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Gh(t),new Error(t)}function Ts(e,t){e||ms(t)}function qp(){return typeof self<"u"&&self.location?.href||""}function sV(){return sE()==="http:"||sE()==="https:"}function sE(){return typeof self<"u"&&self.location?.protocol||null}function rV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sV()||Mx()||"connection"in navigator)?navigator.onLine:!0}function aV(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}class Gu{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ts(n>t,"Short delay should be less than long delay!"),this.isMobile=xx()||Nx()}get(){return rV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Gg(e,t){Ts(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class mb{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const oV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const lV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uV=new Gu(3e4,6e4);function Kg(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Go(e,t,n,s,o={}){return pb(e,o,async()=>{let l={},c={};s&&(t==="GET"?c=s:l={body:JSON.stringify(s)});const d=qu({key:e.config.apiKey,...c}).slice(1),p=await e._getAdditionalHeaders();p["Content-Type"]="application/json",e.languageCode&&(p["X-Firebase-Locale"]=e.languageCode);const g={method:t,headers:p,...l};return Vx()||(g.referrerPolicy="no-referrer"),e.emulatorConfig&&Ho(e.emulatorConfig.host)&&(g.credentials="include"),mb.fetch()(await gb(e,e.config.apiHost,n,d),g)})}async function pb(e,t,n){e._canInitEmulator=!1;const s={...oV,...t};try{const o=new hV(e),l=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Nh(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nh(e,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Nh(e,"email-already-in-use",c);if(p==="USER_DISABLED")throw Nh(e,"user-disabled",c);const y=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Hg(e,y,g);Gi(e,y)}}catch(o){if(o instanceof Cs)throw o;Gi(e,"network-request-failed",{message:String(o)})}}async function cV(e,t,n,s,o={}){const l=await Go(e,t,n,s,o);return"mfaPendingCredential"in l&&Gi(e,"multi-factor-auth-required",{_serverResponse:l}),l}async function gb(e,t,n,s){const o=`${t}${n}?${s}`,l=e,c=l.config.emulator?Gg(e.config,o):`${e.config.apiScheme}://${o}`;return lV.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class hV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(mi(this.auth,"network-request-failed")),uV.get())})}}function Nh(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=mi(e,t,s);return o.customData._tokenResponse=n,o}async function fV(e,t){return Go(e,"POST","/v1/accounts:delete",t)}async function cf(e,t){return Go(e,"POST","/v1/accounts:lookup",t)}function du(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function dV(e,t=!1){const n=Xn(e),s=await n.getIdToken(t),o=Yg(s);Et(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l?.sign_in_provider;return{claims:o,token:s,authTime:du(dp(o.auth_time)),issuedAtTime:du(dp(o.iat)),expirationTime:du(dp(o.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function dp(e){return Number(e)*1e3}function Yg(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return Gh("JWT malformed, contained fewer than 3 sections"),null;try{const o=tb(n);return o?JSON.parse(o):(Gh("Failed to decode base64 JWT payload"),null)}catch(o){return Gh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function rE(e){const t=Yg(e);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function wu(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Cs&&mV(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function mV({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}class pV{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Gp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=du(this.lastLoginAt),this.creationTime=du(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function hf(e){const t=e.auth,n=await e.getIdToken(),s=await wu(e,cf(t,{idToken:n}));Et(s?.users.length,t,"internal-error");const o=s.users[0];e._notifyReloadListener(o);const l=o.providerUserInfo?.length?yb(o.providerUserInfo):[],c=yV(e.providerData,l),d=e.isAnonymous,p=!(e.email&&o.passwordHash)&&!c?.length,g=d?p:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Gp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(e,y)}async function gV(e){const t=Xn(e);await hf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function yV(e,t){return[...e.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function yb(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function vV(e,t){const n=await pb(e,{},async()=>{const s=qu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:l}=e.config,c=await gb(e,o,"/v1/token",`key=${l}`),d=await e._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return e.emulatorConfig&&Ho(e.emulatorConfig.host)&&(p.credentials="include"),mb.fetch()(c,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _V(e,t){return Go(e,"POST","/v2/accounts:revokeToken",Kg(e,t))}class Co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):rE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const n=rE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:l}=await vV(t,n);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:l}=n,c=new Co;return s&&(Et(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),o&&(Et(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),l&&(Et(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Co,this.toJSON())}_performRefresh(){return ms("not implemented")}}function or(e,t){Et(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class fi{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new pV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Gp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await wu(this,this.stsTokenManager.getToken(this.auth,t));return Et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return dV(this,t)}reload(){return gV(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new fi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await hf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hi(this.auth.app))return Promise.reject(ha(this.auth));const t=await this.getIdToken();return await wu(this,fV(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:_,emailVerified:S,isAnonymous:R,providerData:M,stsTokenManager:U}=n;Et(_&&U,t,"internal-error");const k=Co.fromJSON(this.name,U);Et(typeof _=="string",t,"internal-error"),or(s,t.name),or(o,t.name),Et(typeof S=="boolean",t,"internal-error"),Et(typeof R=="boolean",t,"internal-error"),or(l,t.name),or(c,t.name),or(d,t.name),or(p,t.name),or(g,t.name),or(y,t.name);const j=new fi({uid:_,auth:t,email:o,emailVerified:S,displayName:s,isAnonymous:R,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:k,createdAt:g,lastLoginAt:y});return M&&Array.isArray(M)&&(j.providerData=M.map(G=>({...G}))),p&&(j._redirectEventId=p),j}static async _fromIdTokenResponse(t,n,s=!1){const o=new Co;o.updateFromServerResponse(n);const l=new fi({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await hf(l),l}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];Et(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?yb(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!l?.length,d=new Co;d.updateFromIdToken(s);const p=new fi({uid:o.localId,auth:t,stsTokenManager:d,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Gp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(p,g),p}}const aE=new Map;function ps(e){Ts(e instanceof Function,"Expected a class definition");let t=aE.get(e);return t?(Ts(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,aE.set(e,t),t)}class vb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}vb.type="NONE";const oE=vb;function Kh(e,t,n){return`firebase:${e}:${t}:${n}`}class Io{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=Kh(this.userKey,o.apiKey,l),this.fullPersistenceKey=Kh("persistence",o.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await cf(this.auth,{idToken:t}).catch(()=>{});return n?fi._fromGetAccountInfoResponse(this.auth,n,t):null}return fi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Io(ps(oE),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||ps(oE);const c=Kh(s,t.config.apiKey,t.name);let d=null;for(const g of n)try{const y=await g._get(c);if(y){let _;if(typeof y=="string"){const S=await cf(t,{idToken:y}).catch(()=>{});if(!S)break;_=await fi._fromGetAccountInfoResponse(t,S,y)}else _=fi._fromJSON(t,y);g!==l&&(d=_),l=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Io(l,t,s):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Io(l,t,s))}}function lE(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Sb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_b(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(bb(t))return"Blackberry";if(wb(t))return"Webos";if(Tb(t))return"Safari";if((t.includes("chrome/")||Eb(t))&&!t.includes("edge/"))return"Chrome";if(Ab(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if(s?.length===2)return s[1]}return"Other"}function _b(e=on()){return/firefox\//i.test(e)}function Tb(e=on()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Eb(e=on()){return/crios\//i.test(e)}function Sb(e=on()){return/iemobile/i.test(e)}function Ab(e=on()){return/android/i.test(e)}function bb(e=on()){return/blackberry/i.test(e)}function wb(e=on()){return/webos/i.test(e)}function Qg(e=on()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function TV(e=on()){return Qg(e)&&!!window.navigator?.standalone}function EV(){return Ox()&&document.documentMode===10}function Rb(e=on()){return Qg(e)||Ab(e)||wb(e)||bb(e)||/windows phone/i.test(e)||Sb(e)}function Cb(e,t=[]){let n;switch(e){case"Browser":n=lE(on());break;case"Worker":n=`${lE(on())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${qo}/${s}`}class SV{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=l=>new Promise((c,d)=>{try{const p=t(l);c(p)}catch(p){d(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function AV(e,t={}){return Go(e,"GET","/v2/passwordPolicy",Kg(e,t))}const bV=6;class wV{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??bV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}class RV{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uE(this),this.idTokenSubscription=new uE(this),this.beforeStateQueue=new SV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=db,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ps(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Io.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await cf(this,{idToken:t}),s=await fi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(hi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(t);(!l||l===c)&&d?.user&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await hf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=aV()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(hi(this.app))return Promise.reject(ha(this));const n=t?Xn(t):null;return n&&Et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return hi(this.app)?Promise.reject(ha(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return hi(this.app)?Promise.reject(ha(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ps(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await AV(this),n=new wV(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Hu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await _V(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ps(t)||this._popupRedirectResolver;Et(n,this,"argument-error"),this.redirectPersistenceManager=await Io.create(this,[ps(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{c=!0,p()}}else{const p=t.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Cb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(hi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&nV(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Lf(e){return Xn(e)}class uE{constructor(t){this.auth=t,this.observer=null,this.addObserver=Fx(n=>this.observer=n)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Xg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CV(e){Xg=e}function IV(e){return Xg.loadJS(e)}function xV(){return Xg.gapiScript}function DV(e){return`__${e}${Math.floor(Math.random()*1e6)}`}function VV(e,t){const n=Fg(e,"auth");if(n.isInitialized()){const o=n.getImmediate(),l=n.getOptions();if(pa(l,t??{}))return o;Gi(o,"already-initialized")}return n.initialize({options:t})}function MV(e,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ps);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t?.popupRedirectResolver)}function NV(e,t,n){const s=Lf(e);Et(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,l=Ib(t),{host:c,port:d}=OV(t),p=d===null?"":`:${d}`,g={url:`${l}//${c}${p}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Et(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Et(pa(g,s.config.emulator)&&pa(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,Ho(c)?(sb(`${l}//${c}${p}`),rb("Auth",!0)):PV()}function Ib(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function OV(e){const t=Ib(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:cE(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:cE(c)}}}function cE(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function PV(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}class xb{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ms("not implemented")}_getIdTokenResponse(t){return ms("not implemented")}_linkToIdToken(t,n){return ms("not implemented")}_getReauthenticationResolver(t){return ms("not implemented")}}async function xo(e,t){return cV(e,"POST","/v1/accounts:signInWithIdp",Kg(e,t))}const LV="http://localhost";class ya extends xb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ya(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Gi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...l}=n;if(!s||!o)return null;const c=new ya(s,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return xo(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,xo(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,xo(t,n)}buildRequest(){const t={requestUri:LV,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=qu(n)}return t}}class $g{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Ku extends $g{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class ur extends Ku{constructor(){super("facebook.com")}static credential(t){return ya._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ur.credentialFromTaggedObject(t)}static credentialFromError(t){return ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ur.credential(t.oauthAccessToken)}catch{return null}}}ur.FACEBOOK_SIGN_IN_METHOD="facebook.com";ur.PROVIDER_ID="facebook.com";class ds extends Ku{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ya._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ds.credentialFromTaggedObject(t)}static credentialFromError(t){return ds.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return ds.credential(n,s)}catch{return null}}}ds.GOOGLE_SIGN_IN_METHOD="google.com";ds.PROVIDER_ID="google.com";class cr extends Ku{constructor(){super("github.com")}static credential(t){return ya._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return cr.credentialFromTaggedObject(t)}static credentialFromError(t){return cr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return cr.credential(t.oauthAccessToken)}catch{return null}}}cr.GITHUB_SIGN_IN_METHOD="github.com";cr.PROVIDER_ID="github.com";class hr extends Ku{constructor(){super("twitter.com")}static credential(t,n){return ya._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return hr.credentialFromTaggedObject(t)}static credentialFromError(t){return hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return hr.credential(n,s)}catch{return null}}}hr.TWITTER_SIGN_IN_METHOD="twitter.com";hr.PROVIDER_ID="twitter.com";class No{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const l=await fi._fromIdTokenResponse(t,s,o),c=hE(s);return new No({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=hE(s);return new No({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function hE(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ff extends Cs{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,ff.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new ff(t,n,s,o)}}function Db(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?ff._fromErrorAndOperation(e,l,t,s):l})}async function kV(e,t,n=!1){const s=await wu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return No._forOperation(e,"link",s)}async function UV(e,t,n=!1){const{auth:s}=e;if(hi(s.app))return Promise.reject(ha(s));const o="reauthenticate";try{const l=await wu(e,Db(s,o,t,e),n);Et(l.idToken,s,"internal-error");const c=Yg(l.idToken);Et(c,s,"internal-error");const{sub:d}=c;return Et(e.uid===d,s,"user-mismatch"),No._forOperation(e,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&Gi(s,"user-mismatch"),l}}async function zV(e,t,n=!1){if(hi(e.app))return Promise.reject(ha(e));const s="signIn",o=await Db(e,s,t),l=await No._fromIdTokenResponse(e,s,o);return n||await e._updateCurrentUser(l.user),l}function BV(e,t,n,s){return Xn(e).onIdTokenChanged(t,n,s)}function jV(e,t,n){return Xn(e).beforeAuthStateChanged(t,n)}function FV(e,t,n,s){return Xn(e).onAuthStateChanged(t,n,s)}function HV(e){return Xn(e).signOut()}const df="__sak";class Vb{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(df,"1"),this.storage.removeItem(df),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const qV=1e3,GV=10;class Mb extends Vb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Rb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);EV()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,GV):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},qV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Mb.type="LOCAL";const KV=Mb;class Nb extends Vb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Nb.type="SESSION";const Ob=Nb;function YV(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class kf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new kf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:l}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(c).map(async g=>g(n.origin,l)),p=await YV(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kf.receivers=[];function Wg(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}class QV{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const g=Wg("",20);o.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(_){const S=_;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(S.data.response);break;default:clearTimeout(y),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Ui(){return window}function XV(e){Ui().location.href=e}function Pb(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function $V(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WV(){return navigator?.serviceWorker?.controller||null}function ZV(){return Pb()?self:null}const Lb="firebaseLocalStorageDb",JV=1,mf="firebaseLocalStorage",kb="fbase_key";class Yu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Uf(e,t){return e.transaction([mf],t?"readwrite":"readonly").objectStore(mf)}function tM(){const e=indexedDB.deleteDatabase(Lb);return new Yu(e).toPromise()}function Kp(){const e=indexedDB.open(Lb,JV);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(mf,{keyPath:kb})}catch(o){n(o)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(mf)?t(s):(s.close(),await tM(),t(await Kp()))})})}async function fE(e,t,n){const s=Uf(e,!0).put({[kb]:t,value:n});return new Yu(s).toPromise()}async function eM(e,t){const n=Uf(e,!1).get(t),s=await new Yu(n).toPromise();return s===void 0?null:s.value}function dE(e,t){const n=Uf(e,!0).delete(t);return new Yu(n).toPromise()}const nM=800,iM=3;class Ub{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>iM)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Pb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kf._getInstance(ZV()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await $V(),!this.activeServiceWorker)return;this.sender=new QV(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||WV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Kp();return await fE(t,df,"1"),await dE(t,df),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>fE(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>eM(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>dE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const l=Uf(o,!1).getAll();return new Yu(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:l}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ub.type="LOCAL";const sM=Ub;new Gu(3e4,6e4);function zb(e,t){return t?ps(t):(Et(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class Zg extends xb{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return xo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return xo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return xo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function rM(e){return zV(e.auth,new Zg(e),e.bypassAuthState)}function aM(e){const{auth:t,user:n}=e;return Et(n,t,"internal-error"),UV(n,new Zg(e),e.bypassAuthState)}async function oM(e){const{auth:t,user:n}=e;return Et(n,t,"internal-error"),kV(n,new Zg(e),e.bypassAuthState)}class Bb{constructor(t,n,s,o,l=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:l,error:c,type:d}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return rM;case"linkViaPopup":case"linkViaRedirect":return oM;case"reauthViaPopup":case"reauthViaRedirect":return aM;default:Gi(this.auth,"internal-error")}}resolve(t){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const lM=new Gu(2e3,1e4);async function uM(e,t,n){if(hi(e.app))return Promise.reject(mi(e,"operation-not-supported-in-this-environment"));const s=Lf(e);iV(e,t,$g);const o=zb(s,n);return new oa(s,"signInViaPopup",t,o).executeNotNull()}class oa extends Bb{constructor(t,n,s,o,l){super(t,n,o,l),this.provider=s,this.authWindow=null,this.pollId=null,oa.currentPopupAction&&oa.currentPopupAction.cancel(),oa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){Ts(this.filter.length===1,"Popup operations only handle one event");const t=Wg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,lM.get())};t()}}oa.currentPopupAction=null;const cM="pendingRedirect",Yh=new Map;class hM extends Bb{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Yh.get(this.auth._key());if(!t){try{const s=await fM(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Yh.set(this.auth._key(),t)}return this.bypassAuthState||Yh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fM(e,t){const n=pM(t),s=mM(e);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function dM(e,t){Yh.set(e._key(),t)}function mM(e){return ps(e._redirectPersistence)}function pM(e){return Kh(cM,e.config.apiKey,e.name)}async function gM(e,t,n=!1){if(hi(e.app))return Promise.reject(ha(e));const s=Lf(e),o=zb(s,t),c=await new hM(s,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}const yM=600*1e3;class vM{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!_M(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!jb(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(mi(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=yM&&this.cachedEventUids.clear(),this.cachedEventUids.has(mE(t))}saveEventToCache(t){this.cachedEventUids.add(mE(t)),this.lastProcessedEventTime=Date.now()}}function mE(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function jb({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function _M(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jb(e);default:return!1}}async function TM(e,t={}){return Go(e,"GET","/v1/projects",t)}const EM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SM=/^https?/;async function AM(e){if(e.config.emulator)return;const{authorizedDomains:t}=await TM(e);for(const n of t)try{if(bM(n))return}catch{}Gi(e,"unauthorized-domain")}function bM(e){const t=qp(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!SM.test(n))return!1;if(EM.test(e))return s===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const wM=new Gu(3e4,6e4);function pE(){const e=Ui().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function RM(e){return new Promise((t,n)=>{function s(){pE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{pE(),n(mi(e,"network-request-failed"))},timeout:wM.get()})}if(Ui().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ui().gapi?.load)s();else{const o=DV("iframefcb");return Ui()[o]=()=>{gapi.load?s():n(mi(e,"network-request-failed"))},IV(`${xV()}?onload=${o}`).catch(l=>n(l))}}).catch(t=>{throw Qh=null,t})}let Qh=null;function CM(e){return Qh=Qh||RM(e),Qh}const IM=new Gu(5e3,15e3),xM="__/auth/iframe",DM="emulator/auth/iframe",VM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NM(e){const t=e.config;Et(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Gg(t,DM):`https://${e.config.authDomain}/${xM}`,s={apiKey:t.apiKey,appName:e.name,v:qo},o=MM.get(e.config.apiHost);o&&(s.eid=o);const l=e._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${qu(s).slice(1)}`}async function OM(e){const t=await CM(e),n=Ui().gapi;return Et(n,e,"internal-error"),t.open({where:document.body,url:NM(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VM,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const c=mi(e,"network-request-failed"),d=Ui().setTimeout(()=>{l(c)},IM.get());function p(){Ui().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{l(c)})}))}const PM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LM=500,kM=600,UM="_blank",zM="http://localhost";class gE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BM(e,t,n,s=LM,o=kM){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p={...PM,width:s.toString(),height:o.toString(),top:l,left:c},g=on().toLowerCase();n&&(d=Eb(g)?UM:n),_b(g)&&(t=t||zM,p.scrollbars="yes");const y=Object.entries(p).reduce((S,[R,M])=>`${S}${R}=${M},`,"");if(TV(g)&&d!=="_self")return jM(t||"",d),new gE(null);const _=window.open(t||"",d,y);Et(_,e,"popup-blocked");try{_.focus()}catch{}return new gE(_)}function jM(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const FM="__/auth/handler",HM="emulator/auth/handler",qM=encodeURIComponent("fac");async function yE(e,t,n,s,o,l){Et(e.config.authDomain,e,"auth-domain-config-required"),Et(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:qo,eventId:o};if(t instanceof $g){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",jx(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(t instanceof Ku){const y=t.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}e.tenantId&&(c.tid=e.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const p=await e._getAppCheckToken(),g=p?`#${qM}=${encodeURIComponent(p)}`:"";return`${GM(e)}?${qu(d).slice(1)}${g}`}function GM({config:e}){return e.emulator?Gg(e,HM):`https://${e.authDomain}/${FM}`}const mp="webStorageSupport";class KM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ob,this._completeRedirectFn=gM,this._overrideRedirectResult=dM}async _openPopup(t,n,s,o){Ts(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await yE(t,n,s,qp(),o);return BM(t,l,Wg())}async _openRedirect(t,n,s,o){await this._originValidation(t);const l=await yE(t,n,s,qp(),o);return XV(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:l}=this.eventManagers[n];return o?Promise.resolve(o):(Ts(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await OM(t),s=new vM(t);return n.register("authEvent",o=>(Et(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(mp,{type:mp},o=>{const l=o?.[0]?.[mp];l!==void 0&&n(!!l),Gi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=AM(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Rb()||Tb()||Qg()}}const YM=KM;var vE="@firebase/auth",_E="1.12.0";class QM{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function XM(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $M(e){Mo(new ga("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;Et(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:d,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cb(e)},g=new RV(s,o,l,p);return MV(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Mo(new ga("auth-internal",t=>{const n=Lf(t.getProvider("auth").getImmediate());return(s=>new QM(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pr(vE,_E,XM(e)),pr(vE,_E,"esm2020")}const WM=300,ZM=ib("authIdTokenMaxAge")||WM;let TE=null;const JM=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>ZM)return;const o=n?.token;TE!==o&&(TE=o,await fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function tN(e=ub()){const t=Fg(e,"auth");if(t.isInitialized())return t.getImmediate();const n=VV(e,{popupRedirectResolver:YM,persistence:[sM,KV,Ob]}),s=ib("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=JM(l.toString());jV(n,c,()=>c(n.currentUser)),BV(n,d=>c(d))}}const o=eb("auth");return o&&NV(n,`http://${o}`),n}function eN(){return document.getElementsByTagName("head")?.[0]??document}CV({loadJS(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=o=>{const l=mi("internal-error");l.customData=o,n(l)},s.type="text/javascript",s.charset="UTF-8",eN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$M("Browser");var EE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var gr,Fb;(function(){var e;function t(C,w){function I(){}I.prototype=w.prototype,C.F=w.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(O,N,B){for(var x=Array(arguments.length-2),te=2;te<arguments.length;te++)x[te-2]=arguments[te];return w.prototype[N].apply(O,x)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,w,I){I||(I=0);const O=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)O[N]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(N=0;N<16;++N)O[N]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=C.g[0],I=C.g[1],N=C.g[2];let B=C.g[3],x;x=w+(B^I&(N^B))+O[0]+3614090360&4294967295,w=I+(x<<7&4294967295|x>>>25),x=B+(N^w&(I^N))+O[1]+3905402710&4294967295,B=w+(x<<12&4294967295|x>>>20),x=N+(I^B&(w^I))+O[2]+606105819&4294967295,N=B+(x<<17&4294967295|x>>>15),x=I+(w^N&(B^w))+O[3]+3250441966&4294967295,I=N+(x<<22&4294967295|x>>>10),x=w+(B^I&(N^B))+O[4]+4118548399&4294967295,w=I+(x<<7&4294967295|x>>>25),x=B+(N^w&(I^N))+O[5]+1200080426&4294967295,B=w+(x<<12&4294967295|x>>>20),x=N+(I^B&(w^I))+O[6]+2821735955&4294967295,N=B+(x<<17&4294967295|x>>>15),x=I+(w^N&(B^w))+O[7]+4249261313&4294967295,I=N+(x<<22&4294967295|x>>>10),x=w+(B^I&(N^B))+O[8]+1770035416&4294967295,w=I+(x<<7&4294967295|x>>>25),x=B+(N^w&(I^N))+O[9]+2336552879&4294967295,B=w+(x<<12&4294967295|x>>>20),x=N+(I^B&(w^I))+O[10]+4294925233&4294967295,N=B+(x<<17&4294967295|x>>>15),x=I+(w^N&(B^w))+O[11]+2304563134&4294967295,I=N+(x<<22&4294967295|x>>>10),x=w+(B^I&(N^B))+O[12]+1804603682&4294967295,w=I+(x<<7&4294967295|x>>>25),x=B+(N^w&(I^N))+O[13]+4254626195&4294967295,B=w+(x<<12&4294967295|x>>>20),x=N+(I^B&(w^I))+O[14]+2792965006&4294967295,N=B+(x<<17&4294967295|x>>>15),x=I+(w^N&(B^w))+O[15]+1236535329&4294967295,I=N+(x<<22&4294967295|x>>>10),x=w+(N^B&(I^N))+O[1]+4129170786&4294967295,w=I+(x<<5&4294967295|x>>>27),x=B+(I^N&(w^I))+O[6]+3225465664&4294967295,B=w+(x<<9&4294967295|x>>>23),x=N+(w^I&(B^w))+O[11]+643717713&4294967295,N=B+(x<<14&4294967295|x>>>18),x=I+(B^w&(N^B))+O[0]+3921069994&4294967295,I=N+(x<<20&4294967295|x>>>12),x=w+(N^B&(I^N))+O[5]+3593408605&4294967295,w=I+(x<<5&4294967295|x>>>27),x=B+(I^N&(w^I))+O[10]+38016083&4294967295,B=w+(x<<9&4294967295|x>>>23),x=N+(w^I&(B^w))+O[15]+3634488961&4294967295,N=B+(x<<14&4294967295|x>>>18),x=I+(B^w&(N^B))+O[4]+3889429448&4294967295,I=N+(x<<20&4294967295|x>>>12),x=w+(N^B&(I^N))+O[9]+568446438&4294967295,w=I+(x<<5&4294967295|x>>>27),x=B+(I^N&(w^I))+O[14]+3275163606&4294967295,B=w+(x<<9&4294967295|x>>>23),x=N+(w^I&(B^w))+O[3]+4107603335&4294967295,N=B+(x<<14&4294967295|x>>>18),x=I+(B^w&(N^B))+O[8]+1163531501&4294967295,I=N+(x<<20&4294967295|x>>>12),x=w+(N^B&(I^N))+O[13]+2850285829&4294967295,w=I+(x<<5&4294967295|x>>>27),x=B+(I^N&(w^I))+O[2]+4243563512&4294967295,B=w+(x<<9&4294967295|x>>>23),x=N+(w^I&(B^w))+O[7]+1735328473&4294967295,N=B+(x<<14&4294967295|x>>>18),x=I+(B^w&(N^B))+O[12]+2368359562&4294967295,I=N+(x<<20&4294967295|x>>>12),x=w+(I^N^B)+O[5]+4294588738&4294967295,w=I+(x<<4&4294967295|x>>>28),x=B+(w^I^N)+O[8]+2272392833&4294967295,B=w+(x<<11&4294967295|x>>>21),x=N+(B^w^I)+O[11]+1839030562&4294967295,N=B+(x<<16&4294967295|x>>>16),x=I+(N^B^w)+O[14]+4259657740&4294967295,I=N+(x<<23&4294967295|x>>>9),x=w+(I^N^B)+O[1]+2763975236&4294967295,w=I+(x<<4&4294967295|x>>>28),x=B+(w^I^N)+O[4]+1272893353&4294967295,B=w+(x<<11&4294967295|x>>>21),x=N+(B^w^I)+O[7]+4139469664&4294967295,N=B+(x<<16&4294967295|x>>>16),x=I+(N^B^w)+O[10]+3200236656&4294967295,I=N+(x<<23&4294967295|x>>>9),x=w+(I^N^B)+O[13]+681279174&4294967295,w=I+(x<<4&4294967295|x>>>28),x=B+(w^I^N)+O[0]+3936430074&4294967295,B=w+(x<<11&4294967295|x>>>21),x=N+(B^w^I)+O[3]+3572445317&4294967295,N=B+(x<<16&4294967295|x>>>16),x=I+(N^B^w)+O[6]+76029189&4294967295,I=N+(x<<23&4294967295|x>>>9),x=w+(I^N^B)+O[9]+3654602809&4294967295,w=I+(x<<4&4294967295|x>>>28),x=B+(w^I^N)+O[12]+3873151461&4294967295,B=w+(x<<11&4294967295|x>>>21),x=N+(B^w^I)+O[15]+530742520&4294967295,N=B+(x<<16&4294967295|x>>>16),x=I+(N^B^w)+O[2]+3299628645&4294967295,I=N+(x<<23&4294967295|x>>>9),x=w+(N^(I|~B))+O[0]+4096336452&4294967295,w=I+(x<<6&4294967295|x>>>26),x=B+(I^(w|~N))+O[7]+1126891415&4294967295,B=w+(x<<10&4294967295|x>>>22),x=N+(w^(B|~I))+O[14]+2878612391&4294967295,N=B+(x<<15&4294967295|x>>>17),x=I+(B^(N|~w))+O[5]+4237533241&4294967295,I=N+(x<<21&4294967295|x>>>11),x=w+(N^(I|~B))+O[12]+1700485571&4294967295,w=I+(x<<6&4294967295|x>>>26),x=B+(I^(w|~N))+O[3]+2399980690&4294967295,B=w+(x<<10&4294967295|x>>>22),x=N+(w^(B|~I))+O[10]+4293915773&4294967295,N=B+(x<<15&4294967295|x>>>17),x=I+(B^(N|~w))+O[1]+2240044497&4294967295,I=N+(x<<21&4294967295|x>>>11),x=w+(N^(I|~B))+O[8]+1873313359&4294967295,w=I+(x<<6&4294967295|x>>>26),x=B+(I^(w|~N))+O[15]+4264355552&4294967295,B=w+(x<<10&4294967295|x>>>22),x=N+(w^(B|~I))+O[6]+2734768916&4294967295,N=B+(x<<15&4294967295|x>>>17),x=I+(B^(N|~w))+O[13]+1309151649&4294967295,I=N+(x<<21&4294967295|x>>>11),x=w+(N^(I|~B))+O[4]+4149444226&4294967295,w=I+(x<<6&4294967295|x>>>26),x=B+(I^(w|~N))+O[11]+3174756917&4294967295,B=w+(x<<10&4294967295|x>>>22),x=N+(w^(B|~I))+O[2]+718787259&4294967295,N=B+(x<<15&4294967295|x>>>17),x=I+(B^(N|~w))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(N+(x<<21&4294967295|x>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+B&4294967295}s.prototype.v=function(C,w){w===void 0&&(w=C.length);const I=w-this.blockSize,O=this.C;let N=this.h,B=0;for(;B<w;){if(N==0)for(;B<=I;)o(this,C,B),B+=this.blockSize;if(typeof C=="string"){for(;B<w;)if(O[N++]=C.charCodeAt(B++),N==this.blockSize){o(this,O),N=0;break}}else for(;B<w;)if(O[N++]=C[B++],N==this.blockSize){o(this,O),N=0;break}}this.h=N,this.o+=w},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,I=0;I<4;++I)for(let O=0;O<32;O+=8)C[w++]=this.g[I]>>>O&255;return C};function l(C,w){var I=d;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=w(C)}function c(C,w){this.h=w;const I=[];let O=!0;for(let N=C.length-1;N>=0;N--){const B=C[N]|0;O&&B==w||(I[N]=B,O=!1)}this.g=I}var d={};function p(C){return-128<=C&&C<128?l(C,function(w){return new c([w|0],w<0?-1:0)}):new c([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return _;if(C<0)return k(g(-C));const w=[];let I=1;for(let O=0;C>=I;O++)w[O]=C/I|0,I*=4294967296;return new c(w,0)}function y(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return k(y(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(w,8));let O=_;for(let B=0;B<C.length;B+=8){var N=Math.min(8,C.length-B);const x=parseInt(C.substring(B,B+N),w);N<8?(N=g(Math.pow(w,N)),O=O.j(N).add(g(x))):(O=O.j(I),O=O.add(g(x)))}return O}var _=p(0),S=p(1),R=p(16777216);e=c.prototype,e.m=function(){if(U(this))return-k(this).m();let C=0,w=1;for(let I=0;I<this.g.length;I++){const O=this.i(I);C+=(O>=0?O:4294967296+O)*w,w*=4294967296}return C},e.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(M(this))return"0";if(U(this))return"-"+k(this).toString(C);const w=g(Math.pow(C,6));var I=this;let O="";for(;;){const N=rt(I,w).g;I=j(I,N.j(w));let B=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=N,M(I))return B+O;for(;B.length<6;)B="0"+B;O=B+O}},e.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function M(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function U(C){return C.h==-1}e.l=function(C){return C=j(this,C),U(C)?-1:M(C)?0:1};function k(C){const w=C.g.length,I=[];for(let O=0;O<w;O++)I[O]=~C.g[O];return new c(I,~C.h).add(S)}e.abs=function(){return U(this)?k(this):this},e.add=function(C){const w=Math.max(this.g.length,C.g.length),I=[];let O=0;for(let N=0;N<=w;N++){let B=O+(this.i(N)&65535)+(C.i(N)&65535),x=(B>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);O=x>>>16,B&=65535,x&=65535,I[N]=x<<16|B}return new c(I,I[I.length-1]&-2147483648?-1:0)};function j(C,w){return C.add(k(w))}e.j=function(C){if(M(this)||M(C))return _;if(U(this))return U(C)?k(this).j(k(C)):k(k(this).j(C));if(U(C))return k(this.j(k(C)));if(this.l(R)<0&&C.l(R)<0)return g(this.m()*C.m());const w=this.g.length+C.g.length,I=[];for(var O=0;O<2*w;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(let N=0;N<C.g.length;N++){const B=this.i(O)>>>16,x=this.i(O)&65535,te=C.i(N)>>>16,de=C.i(N)&65535;I[2*O+2*N]+=x*de,G(I,2*O+2*N),I[2*O+2*N+1]+=B*de,G(I,2*O+2*N+1),I[2*O+2*N+1]+=x*te,G(I,2*O+2*N+1),I[2*O+2*N+2]+=B*te,G(I,2*O+2*N+2)}for(C=0;C<w;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=w;C<2*w;C++)I[C]=0;return new c(I,0)};function G(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function Y(C,w){this.g=C,this.h=w}function rt(C,w){if(M(w))throw Error("division by zero");if(M(C))return new Y(_,_);if(U(C))return w=rt(k(C),w),new Y(k(w.g),k(w.h));if(U(w))return w=rt(C,k(w)),new Y(k(w.g),w.h);if(C.g.length>30){if(U(C)||U(w))throw Error("slowDivide_ only works with positive integers.");for(var I=S,O=w;O.l(C)<=0;)I=tt(I),O=tt(O);var N=at(I,1),B=at(O,1);for(O=at(O,2),I=at(I,2);!M(O);){var x=B.add(O);x.l(C)<=0&&(N=N.add(I),B=x),O=at(O,1),I=at(I,1)}return w=j(C,N.j(w)),new Y(N,w)}for(N=_;C.l(w)>=0;){for(I=Math.max(1,Math.floor(C.m()/w.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),B=g(I),x=B.j(w);U(x)||x.l(C)>0;)I-=O,B=g(I),x=B.j(w);M(B)&&(B=S),N=N.add(B),C=j(C,x)}return new Y(N,C)}e.B=function(C){return rt(this,C).h},e.and=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let O=0;O<w;O++)I[O]=this.i(O)&C.i(O);return new c(I,this.h&C.h)},e.or=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let O=0;O<w;O++)I[O]=this.i(O)|C.i(O);return new c(I,this.h|C.h)},e.xor=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let O=0;O<w;O++)I[O]=this.i(O)^C.i(O);return new c(I,this.h^C.h)};function tt(C){const w=C.g.length+1,I=[];for(let O=0;O<w;O++)I[O]=C.i(O)<<1|C.i(O-1)>>>31;return new c(I,C.h)}function at(C,w){const I=w>>5;w%=32;const O=C.g.length-I,N=[];for(let B=0;B<O;B++)N[B]=w>0?C.i(B+I)>>>w|C.i(B+I+1)<<32-w:C.i(B+I);return new c(N,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Fb=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,gr=c}).apply(typeof EE<"u"?EE:typeof self<"u"?self:typeof window<"u"?window:{});var Oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Hb,ou,qb,Xh,Yp,Gb,Kb,Yb;(function(){var e,t=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oh=="object"&&Oh];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(h,v){if(v)t:{var E=s;h=h.split(".");for(var b=0;b<h.length-1;b++){var F=h[b];if(!(F in E))break t;E=E[F]}h=h[h.length-1],b=E[h],v=v(b),v!=b&&v!=null&&t(E,h,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(v){var E=[],b;for(b in v)Object.prototype.hasOwnProperty.call(v,b)&&E.push([b,v[b]]);return E}});var l=l||{},c=this||self;function d(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function p(h,v,E){return h.call.apply(h.bind,arguments)}function g(h,v,E){return g=p,g.apply(null,arguments)}function y(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var b=E.slice();return b.push.apply(b,arguments),h.apply(this,b)}}function _(h,v){function E(){}E.prototype=v.prototype,h.Z=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(b,F,Q){for(var lt=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)lt[Rt-2]=arguments[Rt];return v.prototype[F].apply(b,lt)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function R(h){const v=h.length;if(v>0){const E=Array(v);for(let b=0;b<v;b++)E[b]=h[b];return E}return[]}function M(h,v){for(let b=1;b<arguments.length;b++){const F=arguments[b];var E=typeof F;if(E=E!="object"?E:F?Array.isArray(F)?"array":E:"null",E=="array"||E=="object"&&typeof F.length=="number"){E=h.length||0;const Q=F.length||0;h.length=E+Q;for(let lt=0;lt<Q;lt++)h[E+lt]=F[lt]}else h.push(F)}}class U{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function k(h){c.setTimeout(()=>{throw h},0)}function j(){var h=C;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class G{constructor(){this.h=this.g=null}add(v,E){const b=Y.get();b.set(v,E),this.h?this.h.next=b:this.g=b,this.h=b}}var Y=new U(()=>new rt,h=>h.reset());class rt{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,at=!1,C=new G,w=()=>{const h=Promise.resolve(void 0);tt=()=>{h.then(I)}};function I(){for(var h;h=j();){try{h.h.call(h.g)}catch(E){k(E)}var v=Y;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}at=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,v),c.removeEventListener("test",E,v)}catch{}return h})();function x(h){return/^[\s\xa0]*$/.test(h)}function te(h,v){N.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}_(te,N),te.prototype.init=function(h,v){const E=this.type=h.type,b=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&te.Z.h.call(this)},te.prototype.h=function(){te.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),W=0;function ot(h,v,E,b,F){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!b,this.ha=F,this.key=++W,this.da=this.fa=!1}function ft(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function It(h,v,E){for(const b in h)v.call(E,h[b],b,h)}function Nt(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function L(h){const v={};for(const E in h)v[E]=h[E];return v}const nt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(h,v){let E,b;for(let F=1;F<arguments.length;F++){b=arguments[F];for(E in b)h[E]=b[E];for(let Q=0;Q<nt.length;Q++)E=nt[Q],Object.prototype.hasOwnProperty.call(b,E)&&(h[E]=b[E])}}function ht(h){this.src=h,this.g={},this.h=0}ht.prototype.add=function(h,v,E,b,F){const Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);const lt=xt(h,v,b,F);return lt>-1?(v=h[lt],E||(v.fa=!1)):(v=new ot(v,this.src,Q,!!b,F),v.fa=E,h.push(v)),v};function St(h,v){const E=v.type;if(E in h.g){var b=h.g[E],F=Array.prototype.indexOf.call(b,v,void 0),Q;(Q=F>=0)&&Array.prototype.splice.call(b,F,1),Q&&(ft(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function xt(h,v,E,b){for(let F=0;F<h.length;++F){const Q=h[F];if(!Q.da&&Q.listener==v&&Q.capture==!!E&&Q.ha==b)return F}return-1}var Bt="closure_lm_"+(Math.random()*1e6|0),Oe={};function re(h,v,E,b,F){if(Array.isArray(v)){for(let Q=0;Q<v.length;Q++)re(h,v[Q],E,b,F);return null}return E=el(E),h&&h[de]?h.J(v,E,d(b)?!!b.capture:!1,F):Cr(h,v,E,!1,b,F)}function Cr(h,v,E,b,F,Q){if(!v)throw Error("Invalid event type");const lt=d(F)?!!F.capture:!!F;let Rt=Ir(h);if(Rt||(h[Bt]=Rt=new ht(h)),E=Rt.add(v,E,b,lt,Q),E.proxy)return E;if(b=Ca(),E.proxy=b,b.src=h,b.listener=E,h.addEventListener)B||(F=lt),F===void 0&&(F=!1),h.addEventListener(v.toString(),b,F);else if(h.attachEvent)h.attachEvent(pi(v.toString()),b);else if(h.addListener&&h.removeListener)h.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ca(){function h(E){return v.call(h.src,h.listener,E)}const v=Jo;return h}function Ia(h,v,E,b,F){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)Ia(h,v[Q],E,b,F);else b=d(b)?!!b.capture:!!b,E=el(E),h&&h[de]?(h=h.i,Q=String(v).toString(),Q in h.g&&(v=h.g[Q],E=xt(v,E,b,F),E>-1&&(ft(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete h.g[Q],h.h--)))):h&&(h=Ir(h))&&(v=h.g[v.toString()],h=-1,v&&(h=xt(v,E,b,F)),(E=h>-1?v[h]:null)&&xa(E))}function xa(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[de])St(v.i,h);else{var E=h.type,b=h.proxy;v.removeEventListener?v.removeEventListener(E,b,h.capture):v.detachEvent?v.detachEvent(pi(E),b):v.addListener&&v.removeListener&&v.removeListener(b),(E=Ir(v))?(St(E,h),E.h==0&&(E.src=null,v[Bt]=null)):ft(h)}}}function pi(h){return h in Oe?Oe[h]:Oe[h]="on"+h}function Jo(h,v){if(h.da)h=!0;else{v=new te(v,this);const E=h.listener,b=h.ha||h.src;h.fa&&xa(h),h=E.call(b,v)}return h}function Ir(h){return h=h[Bt],h instanceof ht?h:null}var tl="__closure_events_fn_"+(Math.random()*1e9>>>0);function el(h){return typeof h=="function"?h:(h[tl]||(h[tl]=function(v){return h.handleEvent(v)}),h[tl])}function Se(){O.call(this),this.i=new ht(this),this.M=this,this.G=null}_(Se,O),Se.prototype[de]=!0,Se.prototype.removeEventListener=function(h,v,E,b){Ia(this,h,v,E,b)};function Pe(h,v){var E,b=h.G;if(b)for(E=[];b;b=b.G)E.push(b);if(h=h.M,b=v.type||v,typeof v=="string")v=new N(v,h);else if(v instanceof N)v.target=v.target||h;else{var F=v;v=new N(b,h),ut(v,F)}F=!0;let Q,lt;if(E)for(lt=E.length-1;lt>=0;lt--)Q=v.g=E[lt],F=Is(Q,b,!0,v)&&F;if(Q=v.g=h,F=Is(Q,b,!0,v)&&F,F=Is(Q,b,!1,v)&&F,E)for(lt=0;lt<E.length;lt++)Q=v.g=E[lt],F=Is(Q,b,!1,v)&&F}Se.prototype.N=function(){if(Se.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const E=h.g[v];for(let b=0;b<E.length;b++)ft(E[b]);delete h.g[v],h.h--}}this.G=null},Se.prototype.J=function(h,v,E,b){return this.i.add(String(h),v,!1,E,b)},Se.prototype.K=function(h,v,E,b){return this.i.add(String(h),v,!0,E,b)};function Is(h,v,E,b){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let F=!0;for(let Q=0;Q<v.length;++Q){const lt=v[Q];if(lt&&!lt.da&&lt.capture==E){const Rt=lt.listener,ve=lt.ha||lt.src;lt.fa&&St(h.i,lt),F=Rt.call(ve,b)!==!1&&F}}return F&&!b.defaultPrevented}function ed(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(h,v||0)}function ic(h){h.g=ed(()=>{h.g=null,h.i&&(h.i=!1,ic(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class ln extends O{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ic(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xr(h){O.call(this),this.h=h,this.g={}}_(xr,O);var nl=[];function il(h){It(h.g,function(v,E){this.g.hasOwnProperty(E)&&xa(v)},h),h.g={}}xr.prototype.N=function(){xr.Z.N.call(this),il(this)},xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xs=c.JSON.stringify,nd=c.JSON.parse,sc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function rc(){}function ac(){}var Wn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ge(){N.call(this,"d")}_(Ge,N);function Dn(){N.call(this,"c")}_(Dn,N);var ye={},oc=null;function Da(){return oc=oc||new Se}ye.Ia="serverreachability";function lc(h){N.call(this,ye.Ia,h)}_(lc,N);function gi(h){const v=Da();Pe(v,new lc(v))}ye.STAT_EVENT="statevent";function Dr(h,v){N.call(this,ye.STAT_EVENT,h),this.stat=v}_(Dr,N);function Ae(h){const v=Da();Pe(v,new Dr(v,h))}ye.Ja="timingevent";function yi(h,v){N.call(this,ye.Ja,h),this.size=v}_(yi,N);function vi(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function Zn(){this.g=!0}Zn.prototype.ua=function(){this.g=!1};function id(h,v,E,b,F,Q){h.info(function(){if(h.g)if(Q){var lt="",Rt=Q.split("&");for(let qt=0;qt<Rt.length;qt++){var ve=Rt[qt].split("=");if(ve.length>1){const ae=ve[0];ve=ve[1];const On=ae.split("_");lt=On.length>=2&&On[1]=="type"?lt+(ae+"="+ve+"&"):lt+(ae+"=redacted&")}}}else lt=null;else lt=Q;return"XMLHTTP REQ ("+b+") [attempt "+F+"]: "+v+`
`+E+`
`+lt})}function uc(h,v,E,b,F,Q,lt){h.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+F+"]: "+v+`
`+E+`
`+Q+" "+lt})}function _i(h,v,E,b){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+sd(h,E)+(b?" "+b:"")})}function Vr(h,v){h.info(function(){return"TIMEOUT: "+v})}Zn.prototype.info=function(){};function sd(h,v){if(!h.g)return v;if(!v)return null;try{const Q=JSON.parse(v);if(Q){for(h=0;h<Q.length;h++)if(Array.isArray(Q[h])){var E=Q[h];if(!(E.length<2)){var b=E[1];if(Array.isArray(b)&&!(b.length<1)){var F=b[0];if(F!="noop"&&F!="stop"&&F!="close")for(let lt=1;lt<b.length;lt++)b[lt]=""}}}}return xs(Q)}catch{return v}}var Mr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},sl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},rl;function Nr(){}_(Nr,rc),Nr.prototype.g=function(){return new XMLHttpRequest},rl=new Nr;function Qi(h){return encodeURIComponent(String(h))}function cc(h){var v=1;h=h.split(":");const E=[];for(;v>0&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function Jn(h,v,E,b){this.j=h,this.i=v,this.l=E,this.S=b||1,this.V=new xr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ti}function ti(){this.i=null,this.g="",this.h=!1}var be={},Be={};function Ti(h,v,E){h.M=1,h.A=Or(Re(v)),h.u=E,h.R=!0,Va(h,null)}function Va(h,v){h.F=Date.now(),Ei(h),h.B=Re(h.A);var E=h.B,b=h.S;Array.isArray(b)||(b=[String(b)]),Pa(E.i,"t",b),h.C=0,E=h.j.L,h.h=new ti,h.g=wc(h.j,E?v:null,!h.u),h.P>0&&(h.O=new ln(g(h.Y,h,h.g),h.P)),v=h.V,E=h.g,b=h.ba;var F="readystatechange";Array.isArray(F)||(F&&(nl[0]=F.toString()),F=nl);for(let Q=0;Q<F.length;Q++){const lt=re(E,F[Q],b||v.handleEvent,!1,v.h||v);if(!lt)break;v.g[lt.key]=lt}v=h.J?L(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),gi(),id(h.i,h.v,h.B,h.l,h.S,h.u)}Jn.prototype.ba=function(h){h=h.target;const v=this.O;v&&ii(h)==3?v.j():this.Y(h)},Jn.prototype.Y=function(h){try{if(h==this.g)t:{const Rt=ii(this.g),ve=this.g.ya(),qt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Ke(this.g)))){this.K||Rt!=4||ve==7||(ve==8||qt<=0?gi(3):gi(2)),Si(this);var v=this.g.ca();this.X=v;var E=rd(this);if(this.o=v==200,uc(this.i,this.v,this.B,this.l,this.S,Rt,v),this.o){if(this.U&&!this.L){e:{if(this.g){var b,F=this.g;if((b=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(b)){var Q=b;break e}}Q=null}if(h=Q)_i(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ai(this,h);else{this.o=!1,this.m=3,Ae(12),En(this),Vn(this);break t}}if(this.R){h=!0;let ae;for(;!this.K&&this.C<E.length;)if(ae=fc(this,E),ae==Be){Rt==4&&(this.m=4,Ae(14),h=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==be){this.m=4,Ae(15),_i(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else _i(this.i,this.l,ae,null),Ai(this,ae);if(hc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||E.length!=0||this.h.h||(this.m=1,Ae(16),h=!1),this.o=this.o&&h,!h)_i(this.i,this.l,E,"[Invalid Chunked Response]"),En(this),Vn(this);else if(E.length>0&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.aa&&!lt.P&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Tl(lt),lt.P=!0,Ae(11))}}else _i(this.i,this.l,E,null),Ai(this,E);Rt==4&&En(this),this.o&&!this.K&&(Rt==4?Ec(this.j,this):(this.o=!1,Ei(this)))}else $i(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),En(this),Vn(this)}}}catch{}finally{}};function rd(h){if(!hc(h))return h.g.la();const v=Ke(h.g);if(v==="")return"";let E="";const b=v.length,F=ii(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return En(h),Vn(h),"";h.h.i=new c.TextDecoder}for(let Q=0;Q<b;Q++)h.h.h=!0,E+=h.h.i.decode(v[Q],{stream:!(F&&Q==b-1)});return v.length=0,h.h.g+=E,h.C=0,h.h.g}function hc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function fc(h,v){var E=h.C,b=v.indexOf(`
`,E);return b==-1?Be:(E=Number(v.substring(E,b)),isNaN(E)?be:(b+=1,b+E>v.length?Be:(v=v.slice(b,b+E),h.C=b+E,v)))}Jn.prototype.cancel=function(){this.K=!0,En(this)};function Ei(h){h.T=Date.now()+h.H,Ma(h,h.H)}function Ma(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=vi(g(h.aa,h),v)}function Si(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Jn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Vr(this.i,this.B),this.M!=2&&(gi(),Ae(17)),En(this),this.m=2,Vn(this)):Ma(this,this.T-h)};function Vn(h){h.j.I==0||h.K||Ec(h.j,h)}function En(h){Si(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,il(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Ai(h,v){try{var E=h.j;if(E.I!=0&&(E.g==h||wi(E.h,h))){if(!h.L&&wi(E.h,h)&&E.I==3){try{var b=E.Ba.g.parse(v)}catch{b=null}if(Array.isArray(b)&&b.length==3){var F=b;if(F[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Ba(E),ks(E);else break t;jr(E),Ae(18)}}else E.xa=F[1],0<E.xa-E.K&&F[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=vi(g(E.Va,E),6e3));bi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Vi(E,11)}else if((h.L||E.g==h)&&Ba(E),!x(v))for(F=E.Ba.g.parse(v),v=0;v<F.length;v++){let qt=F[v];const ae=qt[0];if(!(ae<=E.K))if(E.K=ae,qt=qt[1],E.I==2)if(qt[0]=="c"){E.M=qt[1],E.ba=qt[2];const On=qt[3];On!=null&&(E.ka=On,E.j.info("VER="+E.ka));const Mi=qt[4];Mi!=null&&(E.za=Mi,E.j.info("SVER="+E.za));const si=qt[5];si!=null&&typeof si=="number"&&si>0&&(b=1.5*si,E.O=b,E.j.info("backChannelRequestTimeoutMs_="+b)),b=E;const ri=h.g;if(ri){const Fr=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fr){var Q=b.h;Q.g||Fr.indexOf("spdy")==-1&&Fr.indexOf("quic")==-1&&Fr.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(ll(Q,Q.h),Q.h=null))}if(b.G){const ja=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;ja&&(b.wa=ja,Yt(b.J,b.G,ja))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),b=E;var lt=h;if(b.na=bc(b,b.L?b.ba:null,b.W),lt.L){ul(b.h,lt);var Rt=lt,ve=b.O;ve&&(Rt.H=ve),Rt.D&&(Si(Rt),Ei(Rt)),b.g=lt}else _c(b);E.i.length>0&&Di(E)}else qt[0]!="stop"&&qt[0]!="close"||Vi(E,7);else E.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?Vi(E,7):vl(E):qt[0]!="noop"&&E.l&&E.l.qa(qt),E.A=0)}}gi(4)}catch{}}var we=class{constructor(h,v){this.g=h,this.map=v}};function al(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ol(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function bi(h){return h.h?1:h.g?h.g.size:0}function wi(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function ll(h,v){h.g?h.g.add(v):h.h=v}function ul(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}al.prototype.cancel=function(){if(this.i=cl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function cl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.G);return v}return R(h.i)}var dc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Na(h,v){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const b=h[E].indexOf("=");let F,Q=null;b>=0?(F=h[E].substring(0,b),Q=h[E].substring(b+1)):F=h[E],v(F,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Sn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof Sn?(this.l=h.l,je(this,h.j),this.o=h.o,this.g=h.g,Ds(this,h.u),this.h=h.h,hl(this,yc(h.i)),this.m=h.m):h&&(v=String(h).match(dc))?(this.l=!1,je(this,v[1]||"",!0),this.o=Ri(v[2]||""),this.g=Ri(v[3]||"",!0),Ds(this,v[4]),this.h=Ri(v[5]||"",!0),hl(this,v[6]||"",!0),this.m=Ri(v[7]||"")):(this.l=!1,this.i=new Ms(null,this.l))}Sn.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Pr(v,Oa,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Pr(v,Oa,!0),"@"),h.push(Qi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Pr(E,E.charAt(0)=="/"?fl:mc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Pr(E,pc)),h.join("")},Sn.prototype.resolve=function(h){const v=Re(this);let E=!!h.j;E?je(v,h.j):E=!!h.o,E?v.o=h.o:E=!!h.g,E?v.g=h.g:E=h.u!=null;var b=h.h;if(E)Ds(v,h.u);else if(E=!!h.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var F=v.h.lastIndexOf("/");F!=-1&&(b=v.h.slice(0,F+1)+b)}if(F=b,F==".."||F==".")b="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){b=F.lastIndexOf("/",0)==0,F=F.split("/");const Q=[];for(let lt=0;lt<F.length;){const Rt=F[lt++];Rt=="."?b&&lt==F.length&&Q.push(""):Rt==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),b&&lt==F.length&&Q.push("")):(Q.push(Rt),b=!0)}b=Q.join("/")}else b=F}return E?v.h=b:E=h.i.toString()!=="",E?hl(v,yc(h.i)):E=!!h.m,E&&(v.m=h.m),v};function Re(h){return new Sn(h)}function je(h,v,E){h.j=E?Ri(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Ds(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function hl(h,v,E){v instanceof Ms?(h.i=v,La(h.i,h.l)):(E||(v=Pr(v,Vs)),h.i=new Ms(v,h.l))}function Yt(h,v,E){h.i.set(v,E)}function Or(h){return Yt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ri(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Pr(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,fn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function fn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Oa=/[#\/\?@]/g,mc=/[#\?:]/g,fl=/[#\?]/g,Vs=/[#\?@]/g,pc=/#/g;function Ms(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function dn(h){h.g||(h.g=new Map,h.h=0,h.i&&Na(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}e=Ms.prototype,e.add=function(h,v){dn(this),this.i=null,h=Ns(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function gc(h,v){dn(h),v=Ns(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function dl(h,v){return dn(h),v=Ns(h,v),h.g.has(v)}e.forEach=function(h,v){dn(this),this.g.forEach(function(E,b){E.forEach(function(F){h.call(v,F,b,this)},this)},this)};function ml(h,v){dn(h);let E=[];if(typeof v=="string")dl(h,v)&&(E=E.concat(h.g.get(Ns(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)E=E.concat(h[v]);return E}e.set=function(h,v){return dn(this),this.i=null,h=Ns(this,h),dl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},e.get=function(h,v){return h?(h=ml(this,h),h.length>0?String(h[0]):v):v};function Pa(h,v,E){gc(h,v),E.length>0&&(h.i=null,h.g.set(Ns(h,v),R(E)),h.h+=E.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let b=0;b<v.length;b++){var E=v[b];const F=Qi(E);E=ml(this,E);for(let Q=0;Q<E.length;Q++){let lt=F;E[Q]!==""&&(lt+="="+Qi(E[Q])),h.push(lt)}}return this.i=h.join("&")};function yc(h){const v=new Ms;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function Ns(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function La(h,v){v&&!h.j&&(dn(h),h.i=null,h.g.forEach(function(E,b){const F=b.toLowerCase();b!=F&&(gc(this,b),Pa(this,F,E))},h)),h.j=v}function ei(h,v){const E=new Zn;if(c.Image){const b=new Image;b.onload=y(Mn,E,"TestLoadImage: loaded",!0,v,b),b.onerror=y(Mn,E,"TestLoadImage: error",!1,v,b),b.onabort=y(Mn,E,"TestLoadImage: abort",!1,v,b),b.ontimeout=y(Mn,E,"TestLoadImage: timeout",!1,v,b),c.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=h}else v(!1)}function pl(h,v){const E=new Zn,b=new AbortController,F=setTimeout(()=>{b.abort(),Mn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:b.signal}).then(Q=>{clearTimeout(F),Q.ok?Mn(E,"TestPingServer: ok",!0,v):Mn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(F),Mn(E,"TestPingServer: error",!1,v)})}function Mn(h,v,E,b,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),b(E)}catch{}}function Os(){this.g=new sc}function Ci(h){this.i=h.Sb||null,this.h=h.ab||!1}_(Ci,rc),Ci.prototype.g=function(){return new Lr(this.i,this.h)};function Lr(h,v){Se.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(Lr,Se),e=Lr.prototype,e.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,ni(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ps(this)),this.readyState=0},e.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ka(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function ka(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}e.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Ps(this):ni(this),this.readyState==3&&ka(this)}},e.Oa=function(h){this.g&&(this.response=this.responseText=h,Ps(this))},e.Na=function(h){this.g&&(this.response=h,Ps(this))},e.ga=function(){this.g&&Ps(this)};function Ps(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ni(h)}e.setRequestHeader=function(h,v){this.A.append(h,v)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function ni(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Lr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Nn(h){let v="";return It(h,function(E,b){v+=b,v+=":",v+=E,v+=`\r
`}),v}function kr(h,v,E){t:{for(b in E){var b=!1;break t}b=!0}b||(E=Nn(E),typeof h=="string"?E!=null&&Qi(E):Yt(h,v,E))}function $t(h){Se.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_($t,Se);var Ii=/^https?$/i,gl=["POST","PUT"];e=$t.prototype,e.Fa=function(h){this.H=h},e.ea=function(h,v,E,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():rl.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Q){Ur(this,Q);return}if(h=E||"",E=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var F in b)E.set(F,b[F]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Q of b.keys())E.set(Q,b.get(Q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),F=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(gl,v,void 0)>=0)||b||F||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,lt]of E)this.g.setRequestHeader(Q,lt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Q){Ur(this,Q)}};function Ur(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,yl(h),Xi(h)}function yl(h){h.A||(h.A=!0,Pe(h,"complete"),Pe(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Pe(this,"complete"),Pe(this,"abort"),Xi(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xi(this,!0)),$t.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?zr(this):this.Xa())},e.Xa=function(){zr(this)};function zr(h){if(h.h&&typeof l<"u"){if(h.v&&ii(h)==4)setTimeout(h.Ca.bind(h),0);else if(Pe(h,"readystatechange"),ii(h)==4){h.h=!1;try{const Q=h.ca();t:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var E;if(!(E=v)){var b;if(b=Q===0){let lt=String(h.D).match(dc)[1]||null;!lt&&c.self&&c.self.location&&(lt=c.self.location.protocol.slice(0,-1)),b=!Ii.test(lt?lt.toLowerCase():"")}E=b}if(E)Pe(h,"complete"),Pe(h,"success");else{h.o=6;try{var F=ii(h)>2?h.g.statusText:""}catch{F=""}h.l=F+" ["+h.ca()+"]",yl(h)}}finally{Xi(h)}}}}function Xi(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,v||Pe(h,"ready");try{E.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function ii(h){return h.g?h.g.readyState:0}e.ca=function(){try{return ii(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),nd(v)}};function Ke(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function $i(h){const v={};h=(h.g&&ii(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<h.length;b++){if(x(h[b]))continue;var E=cc(h[b]);const F=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=v[F]||[];v[F]=Q,Q.push(E)}Nt(v,function(b){return b.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xi(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function Ls(h){this.za=0,this.i=[],this.j=new Zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xi("baseRetryDelayMs",5e3,h),this.Za=xi("retryDelaySeedMs",1e4,h),this.Ta=xi("forwardChannelMaxRetries",2,h),this.va=xi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new al(h&&h.concurrentRequestLimit),this.Ba=new Os,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=Ls.prototype,e.ka=8,e.I=1,e.connect=function(h,v,E,b){Ae(0),this.W=h,this.H=v||{},E&&b!==void 0&&(this.H.OSID=E,this.H.OAID=b),this.F=this.X,this.J=bc(this,null,this.W),Di(this)};function vl(h){if(Ua(h),h.I==3){var v=h.V++,E=Re(h.J);if(Yt(E,"SID",h.M),Yt(E,"RID",v),Yt(E,"TYPE","terminate"),Br(h,E),v=new Jn(h,h.j,v),v.M=2,v.A=Or(Re(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=v.A,E=!0),E||(v.g=wc(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ei(v)}Ac(h)}function ks(h){h.g&&(Tl(h),h.g.cancel(),h.g=null)}function Ua(h){ks(h),h.v&&(c.clearTimeout(h.v),h.v=null),Ba(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Di(h){if(!ol(h.h)&&!h.m){h.m=!0;var v=h.Ea;tt||w(),at||(tt(),at=!0),C.add(v,h),h.D=0}}function za(h,v){return bi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=vi(g(h.Ea,h,v),Sc(h,h.D)),h.D++,!0)}e.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const F=new Jn(this,this.j,h);let Q=this.o;if(this.U&&(Q?(Q=L(Q),ut(Q,this.U)):Q=this.U),this.u!==null||this.R||(F.J=Q,Q=null),this.S)t:{for(var v=0,E=0;E<this.i.length;E++){e:{var b=this.i[E];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(v+=b,v>4096){v=E;break t}if(v===4096||E===this.i.length-1){v=E+1;break t}}v=1e3}else v=1e3;v=vc(this,F,v),E=Re(this.J),Yt(E,"RID",h),Yt(E,"CVER",22),this.G&&Yt(E,"X-HTTP-Session-Id",this.G),Br(this,E),Q&&(this.R?v="headers="+Qi(Nn(Q))+"&"+v:this.u&&kr(E,this.u,Q)),ll(this.h,F),this.Ra&&Yt(E,"TYPE","init"),this.S?(Yt(E,"$req",v),Yt(E,"SID","null"),F.U=!0,Ti(F,E,null)):Ti(F,E,v),this.I=2}}else this.I==3&&(h?_l(this,h):this.i.length==0||ol(this.h)||_l(this))};function _l(h,v){var E;v?E=v.l:E=h.V++;const b=Re(h.J);Yt(b,"SID",h.M),Yt(b,"RID",E),Yt(b,"AID",h.K),Br(h,b),h.u&&h.o&&kr(b,h.u,h.o),E=new Jn(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),v&&(h.i=v.G.concat(h.i)),v=vc(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),ll(h.h,E),Ti(E,b,v)}function Br(h,v){h.H&&It(h.H,function(E,b){Yt(v,b,E)}),h.l&&It({},function(E,b){Yt(v,b,E)})}function vc(h,v,E){E=Math.min(h.i.length,E);const b=h.l?g(h.l.Ka,h.l,h):null;t:{var F=h.i;let Rt=-1;for(;;){const ve=["count="+E];Rt==-1?E>0?(Rt=F[0].g,ve.push("ofs="+Rt)):Rt=0:ve.push("ofs="+Rt);let qt=!0;for(let ae=0;ae<E;ae++){var Q=F[ae].g;const On=F[ae].map;if(Q-=Rt,Q<0)Rt=Math.max(0,F[ae].g-100),qt=!1;else try{Q="req"+Q+"_"||"";try{var lt=On instanceof Map?On:Object.entries(On);for(const[Mi,si]of lt){let ri=si;d(si)&&(ri=xs(si)),ve.push(Q+Mi+"="+encodeURIComponent(ri))}}catch(Mi){throw ve.push(Q+"type="+encodeURIComponent("_badmap")),Mi}}catch{b&&b(On)}}if(qt){lt=ve.join("&");break t}}lt=void 0}return h=h.i.splice(0,E),v.G=h,lt}function _c(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;tt||w(),at||(tt(),at=!0),C.add(v,h),h.A=0}}function jr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=vi(g(h.Da,h),Sc(h,h.A)),h.A++,!0)}e.Da=function(){if(this.v=null,Tc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=vi(g(this.Wa,this),h)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),ks(this),Tc(this))};function Tl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Tc(h){h.g=new Jn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=Re(h.na);Yt(v,"RID","rpc"),Yt(v,"SID",h.M),Yt(v,"AID",h.K),Yt(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&Yt(v,"TO",h.ia),Yt(v,"TYPE","xmlhttp"),Br(h,v),h.u&&h.o&&kr(v,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=Or(Re(v)),E.u=null,E.R=!0,Va(E,h)}e.Va=function(){this.C!=null&&(this.C=null,ks(this),jr(this),Ae(19))};function Ba(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Ec(h,v){var E=null;if(h.g==v){Ba(h),Tl(h),h.g=null;var b=2}else if(wi(h.h,v))E=v.G,ul(h.h,v),b=1;else return;if(h.I!=0){if(v.o)if(b==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var F=h.D;b=Da(),Pe(b,new yi(b,E)),Di(h)}else _c(h);else if(F=v.m,F==3||F==0&&v.X>0||!(b==1&&za(h,v)||b==2&&jr(h)))switch(E&&E.length>0&&(v=h.h,v.i=v.i.concat(E)),F){case 1:Vi(h,5);break;case 4:Vi(h,10);break;case 3:Vi(h,6);break;default:Vi(h,2)}}}function Sc(h,v){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*v}function Vi(h,v){if(h.j.info("Error code "+v),v==2){var E=g(h.bb,h),b=h.Ua;const F=!b;b=new Sn(b||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||je(b,"https"),Or(b),F?ei(b.toString(),E):pl(b.toString(),E)}else Ae(2);h.I=0,h.l&&h.l.pa(v),Ac(h),Ua(h)}e.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function Ac(h){if(h.I=0,h.ja=[],h.l){const v=cl(h.h);(v.length!=0||h.i.length!=0)&&(M(h.ja,v),M(h.ja,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.oa()}}function bc(h,v,E){var b=E instanceof Sn?Re(E):new Sn(E);if(b.g!="")v&&(b.g=v+"."+b.g),Ds(b,b.u);else{var F=c.location;b=F.protocol,v=v?v+"."+F.hostname:F.hostname,F=+F.port;const Q=new Sn(null);b&&je(Q,b),v&&(Q.g=v),F&&Ds(Q,F),E&&(Q.h=E),b=Q}return E=h.G,v=h.wa,E&&v&&Yt(b,E,v),Yt(b,"VER",h.ka),Br(h,b),b}function wc(h,v,E){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new $t(new Ci({ab:E})):new $t(h.ma),v.Fa(h.L),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rc(){}e=Rc.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Us(){}Us.prototype.g=function(h,v){return new un(h,v)};function un(h,v){Se.call(this),this.g=new Ls(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!x(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!x(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Wi(this)}_(un,Se),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){vl(this.g)},un.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=xs(h),h=E);v.i.push(new we(v.Ya++,h)),v.I==3&&Di(v)},un.prototype.N=function(){this.g.l=null,delete this.j,vl(this.g),delete this.g,un.Z.N.call(this)};function Cc(h){Ge.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const E in v){h=E;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}_(Cc,Ge);function Ic(){Dn.call(this),this.status=1}_(Ic,Dn);function Wi(h){this.g=h}_(Wi,Rc),Wi.prototype.ra=function(){Pe(this.g,"a")},Wi.prototype.qa=function(h){Pe(this.g,new Cc(h))},Wi.prototype.pa=function(h){Pe(this.g,new Ic)},Wi.prototype.oa=function(){Pe(this.g,"b")},Us.prototype.createWebChannel=Us.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,Yb=function(){return new Us},Kb=function(){return Da()},Gb=ye,Yp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Mr.NO_ERROR=0,Mr.TIMEOUT=8,Mr.HTTP_ERROR=6,Xh=Mr,sl.COMPLETE="complete",qb=sl,ac.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",Se.prototype.listen=Se.prototype.J,ou=ac,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,Hb=$t}).apply(typeof Oh<"u"?Oh:typeof self<"u"?self:typeof window<"u"?window:{});const SE="@firebase/firestore",AE="4.9.3";let sn=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let Ko="12.7.0";const va=new Bg("@firebase/firestore");function vo(){return va.logLevel}function ct(e,...t){if(va.logLevel<=Lt.DEBUG){const n=t.map(Jg);va.debug(`Firestore (${Ko}): ${e}`,...n)}}function Es(e,...t){if(va.logLevel<=Lt.ERROR){const n=t.map(Jg);va.error(`Firestore (${Ko}): ${e}`,...n)}}function Oo(e,...t){if(va.logLevel<=Lt.WARN){const n=t.map(Jg);va.warn(`Firestore (${Ko}): ${e}`,...n)}}function Jg(e){if(typeof e=="string")return e;try{return(function(n){return JSON.stringify(n)})(e)}catch{return e}}function _t(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,Qb(e,s,n)}function Qb(e,t,n){let s=`FIRESTORE (${Ko}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Es(s),new Error(s)}function Kt(e,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,e||Qb(t,o,s)}function wt(e,t){return e}const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pt extends Cs{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class Xb{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class nN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(sn.UNAUTHENTICATED)))}shutdown(){}}class iN{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class sN{constructor(t){this.t=t,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Kt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let l=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new yr,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=l;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},d=p=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new yr)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Kt(typeof s.accessToken=="string",31837,{l:s}),new Xb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new sn(t)}}class rN{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class aN{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new rN(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class bE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oN{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Kt(this.o===void 0,3512);const s=l=>{l.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ct("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>s(l)))};const o=l=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new bE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Kt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new bE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function lN(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}class ty{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=lN(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<n&&(s+=t.charAt(o[l]%62))}return s}}function kt(e,t){return e<t?-1:e>t?1:0}function Qp(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const o=e.charAt(s),l=t.charAt(s);if(o!==l)return pp(o)===pp(l)?kt(o,l):pp(o)?1:-1}return kt(e.length,t.length)}const uN=55296,cN=57343;function pp(e){const t=e.charCodeAt(0);return t>=uN&&t<=cN}function Po(e,t,n){return e.length===t.length&&e.every(((s,o)=>n(s,t[o])))}const wE="__name__";class ki{constructor(t,n,s){n===void 0?n=0:n>t.length&&_t(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&_t(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return ki.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ki?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const l=ki.compareSegments(t.get(o),n.get(o));if(l!==0)return l}return kt(t.length,n.length)}static compareSegments(t,n){const s=ki.isNumericId(t),o=ki.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ki.extractNumericId(t).compare(ki.extractNumericId(n)):Qp(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return gr.fromString(t.substring(4,t.length-2))}}class ue extends ki{construct(t,n,s){return new ue(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new pt(st.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ue(n)}static emptyPath(){return new ue([])}}const hN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends ki{construct(t,n,s){return new Je(t,n,s)}static isValidIdentifier(t){return hN.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wE}static keyField(){return new Je([wE])}static fromServerFormat(t){const n=[];let s="",o=0;const l=()=>{if(s.length===0)throw new pt(st.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new pt(st.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pt(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(s+=d,o++):(l(),o++)}if(l(),c)throw new pt(st.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Je(n)}static emptyPath(){return new Je([])}}class yt{constructor(t){this.path=t}static fromPath(t){return new yt(ue.fromString(t))}static fromName(t){return new yt(ue.fromString(t).popFirst(5))}static empty(){return new yt(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ue.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new ue(t.slice()))}}function fN(e,t,n){if(!n)throw new pt(st.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function dN(e,t,n,s){if(t===!0&&s===!0)throw new pt(st.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function RE(e){if(!yt.isDocumentKey(e))throw new pt(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function $b(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function ey(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":_t(12329,{type:typeof e})}function Ru(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new pt(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ey(e);throw new pt(st.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Ne(e,t){const n={typeString:e};return t&&(n.value=t),n}function Qu(e,t){if(!$b(e))throw new pt(st.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,l="value"in t[s]?{value:t[s].value}:void 0;if(!(s in e)){n=`JSON missing required field: '${s}'`;break}const c=e[s];if(o&&typeof c!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new pt(st.INVALID_ARGUMENT,n);return!0}const CE=-62135596800,IE=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*IE);return new se(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new pt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<CE)throw new pt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/IE}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Qu(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-CE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Ne("string",se._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new se(0,0))}static max(){return new At(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Cu=-1;function mN(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,o=At.fromTimestamp(s===1e9?new se(n+1,0):new se(n,s));return new vr(o,yt.empty(),t)}function pN(e){return new vr(e.readTime,e.key,Cu)}class vr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new vr(At.min(),yt.empty(),Cu)}static max(){return new vr(At.max(),yt.empty(),Cu)}}function gN(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(e.documentKey,t.documentKey),n!==0?n:kt(e.largestBatchId,t.largestBatchId))}const yN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Yo(e){if(e.code!==st.FAILED_PRECONDITION||e.message!==yN)throw e;ct("LocalStore","Unexpectedly lost primary lease")}class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new it(((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof it?n:it.resolve(n)}catch(n){return it.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):it.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):it.reject(n)}static resolve(t){return new it(((n,s)=>{n(t)}))}static reject(t){return new it(((n,s)=>{s(t)}))}static waitFor(t){return new it(((n,s)=>{let o=0,l=0,c=!1;t.forEach((d=>{++o,d.next((()=>{++l,c&&l===o&&n()}),(p=>s(p)))})),c=!0,l===o&&n()}))}static or(t){let n=it.resolve(!1);for(const s of t)n=n.next((o=>o?it.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,l)=>{s.push(n.call(this,o,l))})),this.waitFor(s)}static mapArray(t,n){return new it(((s,o)=>{const l=t.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;n(t[g]).next((y=>{c[g]=y,++d,d===l&&s(c)}),(y=>o(y)))}}))}static doWhile(t,n){return new it(((s,o)=>{const l=()=>{t()===!0?n().next((()=>{l()}),o):s()};l()}))}}function _N(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Qo(e){return e.name==="IndexedDbTransactionError"}class zf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}zf.ce=-1;const ny=-1;function Bf(e){return e==null}function pf(e){return e===0&&1/e==-1/0}function TN(e){return typeof e=="number"&&Number.isInteger(e)&&!pf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Wb="";function EN(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=xE(t)),t=SN(e.get(n),t);return xE(t)}function SN(e,t){let n=t;const s=e.length;for(let o=0;o<s;o++){const l=e.charAt(o);switch(l){case"\0":n+="";break;case Wb:n+="";break;default:n+=l}}return n}function xE(e){return e+Wb+""}function DE(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Sa(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Zb(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class fe{constructor(t,n){this.comparator=t,this.root=n||Ze.EMPTY}insert(t,n){return new fe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(t){return new fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ph(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ph(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ph(this.root,t,this.comparator,!0)}}class Ph{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?s(t.key,n):1,n&&o&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ze{constructor(t,n,s,o,l){this.key=t,this.value=n,this.color=s??Ze.RED,this.left=o??Ze.EMPTY,this.right=l??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,l){return new Ze(t??this.key,n??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const l=s(t,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(t,n,s),null):l===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Ze.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,n,s,o,l){return this}insert(t,n,s){return new Ze(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ze{constructor(t){this.comparator=t,this.data=new fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new VE(this.data.getIterator())}getIteratorFrom(t){return new VE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof ze)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new ze(this.comparator);return n.data=t,n}}class VE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class di{constructor(t){this.fields=t,t.sort(Je.comparator)}static empty(){return new di([])}unionWith(t){let n=new ze(Je.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new di(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Po(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class Jb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Jb("Invalid base64 string: "+l):l}})(t);return new tn(n)}static fromUint8Array(t){const n=(function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l})(t);return new tn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const AN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(e){if(Kt(!!e,39018),typeof e=="string"){let t=0;const n=AN.exec(e);if(Kt(!!n,46558,{timestamp:e}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ee(e.seconds),nanos:Ee(e.nanos)}}function Ee(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Tr(e){return typeof e=="string"?tn.fromBase64String(e):tn.fromUint8Array(e)}const t1="server_timestamp",e1="__type__",n1="__previous_value__",i1="__local_write_time__";function iy(e){return(e?.mapValue?.fields||{})[e1]?.stringValue===t1}function jf(e){const t=e.mapValue.fields[n1];return iy(t)?jf(t):t}function Iu(e){const t=_r(e.mapValue.fields[i1].timestampValue);return new se(t.seconds,t.nanos)}class bN{constructor(t,n,s,o,l,c,d,p,g,y){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=y}}const gf="(default)";class xu{constructor(t,n){this.projectId=t,this.database=n||gf}static empty(){return new xu("","")}get isDefaultDatabase(){return this.database===gf}isEqual(t){return t instanceof xu&&t.projectId===this.projectId&&t.database===this.database}}const s1="__type__",wN="__max__",Lh={mapValue:{}},r1="__vector__",yf="value";function Er(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?iy(e)?4:CN(e)?9007199254740991:RN(e)?10:11:_t(28295,{value:e})}function Ki(e,t){if(e===t)return!0;const n=Er(e);if(n!==Er(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Iu(e).isEqual(Iu(t));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=_r(o.timestampValue),d=_r(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(o,l){return Tr(o.bytesValue).isEqual(Tr(l.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(o,l){return Ee(o.geoPointValue.latitude)===Ee(l.geoPointValue.latitude)&&Ee(o.geoPointValue.longitude)===Ee(l.geoPointValue.longitude)})(e,t);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return Ee(o.integerValue)===Ee(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=Ee(o.doubleValue),d=Ee(l.doubleValue);return c===d?pf(c)===pf(d):isNaN(c)&&isNaN(d)}return!1})(e,t);case 9:return Po(e.arrayValue.values||[],t.arrayValue.values||[],Ki);case 10:case 11:return(function(o,l){const c=o.mapValue.fields||{},d=l.mapValue.fields||{};if(DE(c)!==DE(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Ki(c[p],d[p])))return!1;return!0})(e,t);default:return _t(52216,{left:e})}}function Du(e,t){return(e.values||[]).find((n=>Ki(n,t)))!==void 0}function Lo(e,t){if(e===t)return 0;const n=Er(e),s=Er(t);if(n!==s)return kt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return kt(e.booleanValue,t.booleanValue);case 2:return(function(l,c){const d=Ee(l.integerValue||l.doubleValue),p=Ee(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(e,t);case 3:return ME(e.timestampValue,t.timestampValue);case 4:return ME(Iu(e),Iu(t));case 5:return Qp(e.stringValue,t.stringValue);case 6:return(function(l,c){const d=Tr(l),p=Tr(c);return d.compareTo(p)})(e.bytesValue,t.bytesValue);case 7:return(function(l,c){const d=l.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const y=kt(d[g],p[g]);if(y!==0)return y}return kt(d.length,p.length)})(e.referenceValue,t.referenceValue);case 8:return(function(l,c){const d=kt(Ee(l.latitude),Ee(c.latitude));return d!==0?d:kt(Ee(l.longitude),Ee(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return NE(e.arrayValue,t.arrayValue);case 10:return(function(l,c){const d=l.fields||{},p=c.fields||{},g=d[yf]?.arrayValue,y=p[yf]?.arrayValue,_=kt(g?.values?.length||0,y?.values?.length||0);return _!==0?_:NE(g,y)})(e.mapValue,t.mapValue);case 11:return(function(l,c){if(l===Lh.mapValue&&c===Lh.mapValue)return 0;if(l===Lh.mapValue)return 1;if(c===Lh.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=c.fields||{},y=Object.keys(g);p.sort(),y.sort();for(let _=0;_<p.length&&_<y.length;++_){const S=Qp(p[_],y[_]);if(S!==0)return S;const R=Lo(d[p[_]],g[y[_]]);if(R!==0)return R}return kt(p.length,y.length)})(e.mapValue,t.mapValue);default:throw _t(23264,{he:n})}}function ME(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return kt(e,t);const n=_r(e),s=_r(t),o=kt(n.seconds,s.seconds);return o!==0?o:kt(n.nanos,s.nanos)}function NE(e,t){const n=e.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const l=Lo(n[o],s[o]);if(l)return l}return kt(n.length,s.length)}function ko(e){return Xp(e)}function Xp(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const s=_r(n);return`time(${s.seconds},${s.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return Tr(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return yt.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let s="[",o=!0;for(const l of n.values||[])o?o=!1:s+=",",s+=Xp(l);return s+"]"})(e.arrayValue):"mapValue"in e?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",l=!0;for(const c of s)l?l=!1:o+=",",o+=`${c}:${Xp(n.fields[c])}`;return o+"}"})(e.mapValue):_t(61005,{value:e})}function $h(e){switch(Er(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=jf(e);return t?16+$h(t):16;case 5:return 2*e.stringValue.length;case 6:return Tr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,l)=>o+$h(l)),0)})(e.arrayValue);case 10:case 11:return(function(s){let o=0;return Sa(s.fields,((l,c)=>{o+=l.length+$h(c)})),o})(e.mapValue);default:throw _t(13486,{value:e})}}function $p(e){return!!e&&"integerValue"in e}function sy(e){return!!e&&"arrayValue"in e}function OE(e){return!!e&&"nullValue"in e}function PE(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Wh(e){return!!e&&"mapValue"in e}function RN(e){return(e?.mapValue?.fields||{})[s1]?.stringValue===r1}function mu(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Sa(e.mapValue.fields,((n,s)=>t.mapValue.fields[n]=mu(s))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=mu(e.arrayValue.values[n]);return t}return{...e}}function CN(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===wN}class qn{constructor(t){this.value=t}static empty(){return new qn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Wh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=mu(n)}setAll(t){let n=Je.emptyPath(),s={},o=[];t.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=d.popLast()}c?s[d.lastSegment()]=mu(c):o.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,o)}delete(t){const n=this.field(t.popLast());Wh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ki(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Wh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Sa(n,((o,l)=>t[o]=l));for(const o of s)delete t[o]}clone(){return new qn(mu(this.value))}}function a1(e){const t=[];return Sa(e.fields,((n,s)=>{const o=new Je([n]);if(Wh(s)){const l=a1(s.mapValue).fields;if(l.length===0)t.push(o);else for(const c of l)t.push(o.child(c))}else t.push(o)})),new di(t)}class rn{constructor(t,n,s,o,l,c,d){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new rn(t,0,At.min(),At.min(),At.min(),qn.empty(),0)}static newFoundDocument(t,n,s,o){return new rn(t,1,n,At.min(),s,o,0)}static newNoDocument(t,n){return new rn(t,2,n,At.min(),At.min(),qn.empty(),0)}static newUnknownDocument(t,n){return new rn(t,3,n,At.min(),At.min(),qn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof rn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vf{constructor(t,n){this.position=t,this.inclusive=n}}function LE(e,t,n){let s=0;for(let o=0;o<e.position.length;o++){const l=t[o],c=e.position[o];if(l.field.isKeyField()?s=yt.comparator(yt.fromName(c.referenceValue),n.key):s=Lo(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function kE(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ki(e.position[n],t.position[n]))return!1;return!0}class _f{constructor(t,n="asc"){this.field=t,this.dir=n}}function IN(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class o1{}class Ue extends o1{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new DN(t,n,s):n==="array-contains"?new NN(t,s):n==="in"?new ON(t,s):n==="not-in"?new PN(t,s):n==="array-contains-any"?new LN(t,s):new Ue(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new VN(t,s):new MN(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Lo(n,this.value)):n!==null&&Er(this.value)===Er(n)&&this.matchesComparison(Lo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yi extends o1{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Yi(t,n)}matches(t){return l1(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function l1(e){return e.op==="and"}function u1(e){return xN(e)&&l1(e)}function xN(e){for(const t of e.filters)if(t instanceof Yi)return!1;return!0}function Wp(e){if(e instanceof Ue)return e.field.canonicalString()+e.op.toString()+ko(e.value);if(u1(e))return e.filters.map((t=>Wp(t))).join(",");{const t=e.filters.map((n=>Wp(n))).join(",");return`${e.op}(${t})`}}function c1(e,t){return e instanceof Ue?(function(s,o){return o instanceof Ue&&s.op===o.op&&s.field.isEqual(o.field)&&Ki(s.value,o.value)})(e,t):e instanceof Yi?(function(s,o){return o instanceof Yi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((l,c,d)=>l&&c1(c,o.filters[d])),!0):!1})(e,t):void _t(19439)}function h1(e){return e instanceof Ue?(function(n){return`${n.field.canonicalString()} ${n.op} ${ko(n.value)}`})(e):e instanceof Yi?(function(n){return n.op.toString()+" {"+n.getFilters().map(h1).join(" ,")+"}"})(e):"Filter"}class DN extends Ue{constructor(t,n,s){super(t,n,s),this.key=yt.fromName(s.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class VN extends Ue{constructor(t,n){super(t,"in",n),this.keys=f1("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class MN extends Ue{constructor(t,n){super(t,"not-in",n),this.keys=f1("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function f1(e,t){return(t.arrayValue?.values||[]).map((n=>yt.fromName(n.referenceValue)))}class NN extends Ue{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return sy(n)&&Du(n.arrayValue,this.value)}}class ON extends Ue{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Du(this.value.arrayValue,n)}}class PN extends Ue{constructor(t,n){super(t,"not-in",n)}matches(t){if(Du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Du(this.value.arrayValue,n)}}class LN extends Ue{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!sy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Du(this.value.arrayValue,s)))}}class kN{constructor(t,n=null,s=[],o=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function UE(e,t=null,n=[],s=[],o=null,l=null,c=null){return new kN(e,t,n,s,o,l,c)}function ry(e){const t=wt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Wp(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Bf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>ko(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>ko(s))).join(",")),t.Te=n}return t.Te}function ay(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!IN(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!c1(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!kE(e.startAt,t.startAt)&&kE(e.endAt,t.endAt)}function Zp(e){return yt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class Ff{constructor(t,n=null,s=[],o=[],l=null,c="F",d=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function UN(e,t,n,s,o,l,c,d){return new Ff(e,t,n,s,o,l,c,d)}function oy(e){return new Ff(e)}function zE(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function zN(e){return e.collectionGroup!==null}function pu(e){const t=wt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),n.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new ze(Je.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(t).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new _f(l,s))})),n.has(Je.keyField().canonicalString())||t.Ie.push(new _f(Je.keyField(),s))}return t.Ie}function zi(e){const t=wt(e);return t.Ee||(t.Ee=BN(t,pu(e))),t.Ee}function BN(e,t){if(e.limitType==="F")return UE(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new _f(o.field,l)}));const n=e.endAt?new vf(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new vf(e.startAt.position,e.startAt.inclusive):null;return UE(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function Jp(e,t,n){return new Ff(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Hf(e,t){return ay(zi(e),zi(t))&&e.limitType===t.limitType}function d1(e){return`${ry(zi(e))}|lt:${e.limitType}`}function _o(e){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>h1(o))).join(", ")}]`),Bf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>ko(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>ko(o))).join(",")),`Target(${s})`})(zi(e))}; limitType=${e.limitType})`}function qf(e,t){return t.isFoundDocument()&&(function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):yt.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(e,t)&&(function(s,o){for(const l of pu(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(e,t)&&(function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0})(e,t)&&(function(s,o){return!(s.startAt&&!(function(c,d,p){const g=LE(c,d,p);return c.inclusive?g<=0:g<0})(s.startAt,pu(s),o)||s.endAt&&!(function(c,d,p){const g=LE(c,d,p);return c.inclusive?g>=0:g>0})(s.endAt,pu(s),o))})(e,t)}function jN(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function m1(e){return(t,n)=>{let s=!1;for(const o of pu(e)){const l=FN(o,t,n);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function FN(e,t,n){const s=e.field.isKeyField()?yt.comparator(t.key,n.key):(function(l,c,d){const p=c.data.field(l),g=d.data.field(l);return p!==null&&g!==null?Lo(p,g):_t(42886)})(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return _t(19790,{direction:e.dir})}}class Aa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],t))return void(o[l]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Sa(this.inner,((n,s)=>{for(const[o,l]of s)t(o,l)}))}isEmpty(){return Zb(this.inner)}size(){return this.innerSize}}const HN=new fe(yt.comparator);function Ss(){return HN}const p1=new fe(yt.comparator);function lu(...e){let t=p1;for(const n of e)t=t.insert(n.key,n);return t}function g1(e){let t=p1;return e.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function la(){return gu()}function y1(){return gu()}function gu(){return new Aa((e=>e.toString()),((e,t)=>e.isEqual(t)))}const qN=new fe(yt.comparator),GN=new ze(yt.comparator);function Ut(...e){let t=GN;for(const n of e)t=t.add(n);return t}const KN=new ze(kt);function YN(){return KN}function ly(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pf(t)?"-0":t}}function v1(e){return{integerValue:""+e}}function QN(e,t){return TN(t)?v1(t):ly(e,t)}class Gf{constructor(){this._=void 0}}function XN(e,t,n){return e instanceof Tf?(function(o,l){const c={fields:{[e1]:{stringValue:t1},[i1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&iy(l)&&(l=jf(l)),l&&(c.fields[n1]=l),{mapValue:c}})(n,t):e instanceof Vu?T1(e,t):e instanceof Mu?E1(e,t):(function(o,l){const c=_1(o,l),d=BE(c)+BE(o.Ae);return $p(c)&&$p(o.Ae)?v1(d):ly(o.serializer,d)})(e,t)}function $N(e,t,n){return e instanceof Vu?T1(e,t):e instanceof Mu?E1(e,t):n}function _1(e,t){return e instanceof Ef?(function(s){return $p(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(t)?t:{integerValue:0}:null}class Tf extends Gf{}class Vu extends Gf{constructor(t){super(),this.elements=t}}function T1(e,t){const n=S1(t);for(const s of e.elements)n.some((o=>Ki(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Mu extends Gf{constructor(t){super(),this.elements=t}}function E1(e,t){let n=S1(t);for(const s of e.elements)n=n.filter((o=>!Ki(o,s)));return{arrayValue:{values:n}}}class Ef extends Gf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function BE(e){return Ee(e.integerValue||e.doubleValue)}function S1(e){return sy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function WN(e,t){return e.field.isEqual(t.field)&&(function(s,o){return s instanceof Vu&&o instanceof Vu||s instanceof Mu&&o instanceof Mu?Po(s.elements,o.elements,Ki):s instanceof Ef&&o instanceof Ef?Ki(s.Ae,o.Ae):s instanceof Tf&&o instanceof Tf})(e.transform,t.transform)}class ZN{constructor(t,n){this.version=t,this.transformResults=n}}class ys{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ys}static exists(t){return new ys(void 0,t)}static updateTime(t){return new ys(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Zh(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Kf{}function A1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new w1(e.key,ys.none()):new Xu(e.key,e.data,ys.none());{const n=e.data,s=qn.empty();let o=new ze(Je.comparator);for(let l of t.fields)if(!o.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),o=o.add(l)}return new ba(e.key,s,new di(o.toArray()),ys.none())}}function JN(e,t,n){e instanceof Xu?(function(o,l,c){const d=o.value.clone(),p=FE(o.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(e,t,n):e instanceof ba?(function(o,l,c){if(!Zh(o.precondition,l))return void l.convertToUnknownDocument(c.version);const d=FE(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(b1(o)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(e,t,n):(function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function yu(e,t,n,s){return e instanceof Xu?(function(l,c,d,p){if(!Zh(l.precondition,c))return d;const g=l.value.clone(),y=HE(l.fieldTransforms,p,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(e,t,n,s):e instanceof ba?(function(l,c,d,p){if(!Zh(l.precondition,c))return d;const g=HE(l.fieldTransforms,p,c),y=c.data;return y.setAll(b1(l)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(e,t,n,s):(function(l,c,d){return Zh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(e,t,n)}function tO(e,t){let n=null;for(const s of e.fieldTransforms){const o=t.data.field(s.field),l=_1(s.transform,o||null);l!=null&&(n===null&&(n=qn.empty()),n.set(s.field,l))}return n||null}function jE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Po(s,o,((l,c)=>WN(l,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Xu extends Kf{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ba extends Kf{constructor(t,n,s,o,l=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function b1(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}})),t}function FE(e,t,n){const s=new Map;Kt(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let o=0;o<n.length;o++){const l=e[o],c=l.transform,d=t.data.field(l.field);s.set(l.field,$N(c,d,n[o]))}return s}function HE(e,t,n){const s=new Map;for(const o of e){const l=o.transform,c=n.data.field(o.field);s.set(o.field,XN(l,c,t))}return s}class w1 extends Kf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eO extends Kf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nO{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(t.key)&&JN(l,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=yu(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=yu(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=y1();return this.mutations.forEach((o=>{const l=t.get(o.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(o.key)?null:d;const p=A1(c,d);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(At.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&Po(this.mutations,t.mutations,((n,s)=>jE(n,s)))&&Po(this.baseMutations,t.baseMutations,((n,s)=>jE(n,s)))}}class uy{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Kt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return qN})();const l=t.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,s[c].version);return new uy(t,n,s,o)}}class iO{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class sO{constructor(t,n){this.count=t,this.unchangedNames=n}}var Ve,jt;function rO(e){switch(e){case st.OK:return _t(64938);case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0;default:return _t(15467,{code:e})}}function R1(e){if(e===void 0)return Es("GRPC error has no .code"),st.UNKNOWN;switch(e){case Ve.OK:return st.OK;case Ve.CANCELLED:return st.CANCELLED;case Ve.UNKNOWN:return st.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return st.INTERNAL;case Ve.UNAVAILABLE:return st.UNAVAILABLE;case Ve.UNAUTHENTICATED:return st.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case Ve.NOT_FOUND:return st.NOT_FOUND;case Ve.ALREADY_EXISTS:return st.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return st.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case Ve.ABORTED:return st.ABORTED;case Ve.OUT_OF_RANGE:return st.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return st.UNIMPLEMENTED;case Ve.DATA_LOSS:return st.DATA_LOSS;default:return _t(39323,{code:e})}}(jt=Ve||(Ve={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";function aO(){return new TextEncoder}const oO=new gr([4294967295,4294967295],0);function qE(e){const t=aO().encode(e),n=new Fb;return n.update(t),new Uint8Array(n.digest())}function GE(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new gr([n,s],0),new gr([o,l],0)]}class cy{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new uu(`Invalid padding: ${n}`);if(s<0)throw new uu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new uu(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new uu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=gr.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(gr.fromNumber(s)));return o.compare(oO)===1&&(o=new gr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=qE(t),[s,o]=GE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,o,l);if(!this.we(c))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new cy(l,o,n);return s.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const n=qE(t),[s,o]=GE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,o,l);this.Se(c)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Yf{constructor(t,n,s,o,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,$u.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Yf(At.min(),o,new fe(kt),Ss(),Ut())}}class $u{constructor(t,n,s,o,l){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new $u(s,n,Ut(),Ut(),Ut())}}class Jh{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class C1{constructor(t,n){this.targetId=t,this.Ce=n}}class I1{constructor(t,n,s=tn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class KE{constructor(){this.ve=0,this.Fe=YE(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),n=Ut(),s=Ut();return this.Fe.forEach(((o,l)=>{switch(l){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:_t(38017,{changeType:l})}})),new $u(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=YE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class lO{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ss(),this.Je=kh(),this.He=kh(),this.Ye=new fe(kt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const l=o.target;if(Zp(l))if(s===0){const c=new yt(l.path);this.et(n,c,rn.newNoDocument(c,At.min()))}else Kt(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const d=this.ut(t),p=d?this.ct(d,t,c):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=n;let c,d;try{c=Tr(s).toUint8Array()}catch(p){if(p instanceof Jb)return Oo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new cy(c,o,l)}catch(p){return Oo(p instanceof uu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.et(n,l,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&Zp(d.target)){const p=new yt(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,rn.newNoDocument(p,t))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let s=Ut();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(t)));const o=new Yf(t,n,this.Ye,this.je,s);return this.je=Ss(),this.Je=kh(),this.He=kh(),this.Ye=new fe(kt),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new KE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new ze(kt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new ze(kt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ct("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new KE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function kh(){return new fe(yt.comparator)}function YE(){return new fe(yt.comparator)}const uO={asc:"ASCENDING",desc:"DESCENDING"},cO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hO={and:"AND",or:"OR"};class fO{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function tg(e,t){return e.useProto3Json||Bf(t)?t:{value:t}}function Sf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function x1(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function dO(e,t){return Sf(e,t.toTimestamp())}function Bi(e){return Kt(!!e,49232),At.fromTimestamp((function(n){const s=_r(n);return new se(s.seconds,s.nanos)})(e))}function hy(e,t){return eg(e,t).canonicalString()}function eg(e,t){const n=(function(o){return new ue(["projects",o.projectId,"databases",o.database])})(e).child("documents");return t===void 0?n:n.child(t)}function D1(e){const t=ue.fromString(e);return Kt(P1(t),10190,{key:t.toString()}),t}function ng(e,t){return hy(e.databaseId,t.path)}function gp(e,t){const n=D1(t);if(n.get(1)!==e.databaseId.projectId)throw new pt(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new pt(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new yt(M1(n))}function V1(e,t){return hy(e.databaseId,t)}function mO(e){const t=D1(e);return t.length===4?ue.emptyPath():M1(t)}function ig(e){return new ue(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function M1(e){return Kt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function QE(e,t,n){return{name:ng(e,t),fields:n.value.mapValue.fields}}function pO(e,t){let n;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:_t(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],l=(function(g,y){return g.useProto3Json?(Kt(y===void 0||typeof y=="string",58123),tn.fromBase64String(y||"")):(Kt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),tn.fromUint8Array(y||new Uint8Array))})(e,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(g){const y=g.code===void 0?st.UNKNOWN:R1(g.code);return new pt(y,g.message||"")})(c);n=new I1(s,o,l,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=gp(e,s.document.name),l=Bi(s.document.updateTime),c=s.document.createTime?Bi(s.document.createTime):At.min(),d=new qn({mapValue:{fields:s.document.fields}}),p=rn.newFoundDocument(o,l,c,d),g=s.targetIds||[],y=s.removedTargetIds||[];n=new Jh(g,y,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=gp(e,s.document),l=s.readTime?Bi(s.readTime):At.min(),c=rn.newNoDocument(o,l),d=s.removedTargetIds||[];n=new Jh([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=gp(e,s.document),l=s.removedTargetIds||[];n=new Jh([],l,o,null)}else{if(!("filter"in t))return _t(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,c=new sO(o,l),d=s.targetId;n=new C1(d,c)}}return n}function gO(e,t){let n;if(t instanceof Xu)n={update:QE(e,t.key,t.value)};else if(t instanceof w1)n={delete:ng(e,t.key)};else if(t instanceof ba)n={update:QE(e,t.key,t.data),updateMask:wO(t.fieldMask)};else{if(!(t instanceof eO))return _t(16599,{Vt:t.type});n={verify:ng(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(l,c){const d=c.transform;if(d instanceof Tf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Vu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Mu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Ef)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw _t(20930,{transform:c.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:dO(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:_t(27497)})(e,t.precondition)),n}function yO(e,t){return e&&e.length>0?(Kt(t!==void 0,14353),e.map((n=>(function(o,l){let c=o.updateTime?Bi(o.updateTime):Bi(l);return c.isEqual(At.min())&&(c=Bi(l)),new ZN(c,o.transformResults||[])})(n,t)))):[]}function vO(e,t){return{documents:[V1(e,t.path)]}}function _O(e,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=V1(e,o);const l=(function(g){if(g.length!==0)return O1(Yi.create(g,"and"))})(t.filters);l&&(n.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((y=>(function(S){return{field:To(S.field),direction:SO(S.dir)}})(y)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const d=tg(e,t.limit);return d!==null&&(n.structuredQuery.limit=d),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:o}}function TO(e){let t=mO(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Kt(s===1,65062);const y=n.from[0];y.allDescendants?o=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=(function(_){const S=N1(_);return S instanceof Yi&&u1(S)?S.getFilters():[S]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((S=>(function(M){return new _f(Eo(M.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(S)))})(n.orderBy));let d=null;n.limit&&(d=(function(_){let S;return S=typeof _=="object"?_.value:_,Bf(S)?null:S})(n.limit));let p=null;n.startAt&&(p=(function(_){const S=!!_.before,R=_.values||[];return new vf(R,S)})(n.startAt));let g=null;return n.endAt&&(g=(function(_){const S=!_.before,R=_.values||[];return new vf(R,S)})(n.endAt)),UN(t,o,c,l,d,"F",p,g)}function EO(e,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function N1(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Eo(n.unaryFilter.field);return Ue.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Eo(n.unaryFilter.field);return Ue.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Eo(n.unaryFilter.field);return Ue.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Eo(n.unaryFilter.field);return Ue.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(e):e.fieldFilter!==void 0?(function(n){return Ue.create(Eo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return Yi.create(n.compositeFilter.filters.map((s=>N1(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(n.compositeFilter.op))})(e):_t(30097,{filter:e})}function SO(e){return uO[e]}function AO(e){return cO[e]}function bO(e){return hO[e]}function To(e){return{fieldPath:e.canonicalString()}}function Eo(e){return Je.fromServerFormat(e.fieldPath)}function O1(e){return e instanceof Ue?(function(n){if(n.op==="=="){if(PE(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NAN"}};if(OE(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(PE(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NAN"}};if(OE(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:To(n.field),op:AO(n.op),value:n.value}}})(e):e instanceof Yi?(function(n){const s=n.getFilters().map((o=>O1(o)));return s.length===1?s[0]:{compositeFilter:{op:bO(n.op),filters:s}}})(e):_t(54877,{filter:e})}function wO(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function P1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}class fr{constructor(t,n,s,o,l=At.min(),c=At.min(),d=tn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(t){return new fr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class RO{constructor(t){this.yt=t}}function CO(e){const t=TO({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Jp(t,t.limit,"L"):t}class IO{constructor(){this.Cn=new xO}addToCollectionParentIndex(t,n){return this.Cn.add(n),it.resolve()}getCollectionParents(t,n){return it.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return it.resolve()}deleteFieldIndex(t,n){return it.resolve()}deleteAllFieldIndexes(t){return it.resolve()}createTargetIndexes(t,n){return it.resolve()}getDocumentsMatchingTarget(t,n){return it.resolve(null)}getIndexType(t,n){return it.resolve(0)}getFieldIndexes(t,n){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,n){return it.resolve(vr.min())}getMinOffsetFromCollectionGroup(t,n){return it.resolve(vr.min())}updateCollectionGroup(t,n,s){return it.resolve()}updateIndexEntries(t,n){return it.resolve()}}class xO{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new ze(ue.comparator),l=!o.has(s);return this.index[n]=o.add(s),l}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new ze(ue.comparator)).toArray()}}const XE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},L1=41943040;class _n{static withCacheSize(t){return new _n(t,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(L1,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class Uo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Uo(0)}static cr(){return new Uo(-1)}}const $E="LruGarbageCollector",DO=1048576;function WE([e,t],[n,s]){const o=kt(e,n);return o===0?kt(t,s):o}class VO{constructor(t){this.Ir=t,this.buffer=new ze(WE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();WE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class MO{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ct($E,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Qo(n)?ct($E,"Ignoring IndexedDB error during garbage collection: ",n):await Yo(n)}await this.Vr(3e5)}))}}class NO{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return it.resolve(zf.ce);const s=new VO(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(XE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),XE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,l,c,d,p,g;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),o=this.params.maximumSequenceNumbersToCollect):o=_,c=Date.now(),this.nthSequenceNumber(t,o)))).next((_=>(s=_,d=Date.now(),this.removeTargets(t,s,n)))).next((_=>(l=_,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((_=>(g=Date.now(),vo()<=Lt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${_} documents in `+(g-p)+`ms
Total Duration: ${g-y}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:_}))))}}function OO(e,t){return new NO(e,t)}class PO{constructor(){this.changes=new Aa((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,rn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?it.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class LO{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class kO{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&yu(s.mutation,o,di.empty(),se.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Ut()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Ut()){const o=la();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((l=>{let c=lu();return l.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const s=la();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Ut())))}populateOverlays(t,n,s){const o=[];return s.forEach((l=>{n.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(t,o).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(t,n,s,o){let l=Ss();const c=gu(),d=(function(){return gu()})();return n.forEach(((p,g)=>{const y=s.get(g.key);o.has(g.key)&&(y===void 0||y.mutation instanceof ba)?l=l.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),yu(y.mutation,g,y.mutation.getFieldMask(),se.now())):c.set(g.key,di.empty())})),this.recalculateAndSaveOverlays(t,l).next((p=>(p.forEach(((g,y)=>c.set(g,y))),n.forEach(((g,y)=>d.set(g,new LO(y,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(t,n){const s=gu();let o=new fe(((c,d)=>c-d)),l=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const d of c)d.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let y=s.get(p)||di.empty();y=d.applyToLocalView(g,y),s.set(p,y);const _=(o.get(d.batchId)||Ut()).add(p);o=o.insert(d.batchId,_)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,y=p.value,_=y1();y.forEach((S=>{if(!l.has(S)){const R=A1(n.get(S),s.get(S));R!==null&&_.set(S,R),l=l.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,_))}return it.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(c){return yt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):zN(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-l.size):it.resolve(la());let d=Cu,p=l;return c.next((g=>it.forEach(g,((y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(y)?it.resolve():this.remoteDocumentCache.getEntry(t,y).next((S=>{p=p.insert(y,S)}))))).next((()=>this.populateOverlays(t,g,l))).next((()=>this.computeViews(t,p,g,Ut()))).next((y=>({batchId:d,changes:g1(y)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next((s=>{let o=lu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const l=n.collectionGroup;let c=lu();return this.indexManager.getCollectionParents(t,l).next((d=>it.forEach(d,(p=>{const g=(function(_,S){return new Ff(S,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next((y=>{y.forEach(((_,S)=>{c=c.insert(_,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,l,o)))).next((c=>{l.forEach(((p,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,rn.newInvalidDocument(y)))}));let d=lu();return c.forEach(((p,g)=>{const y=l.get(p);y!==void 0&&yu(y.mutation,g,di.empty(),se.now()),qf(n,g)&&(d=d.insert(p,g))})),d}))}}class UO{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return it.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Bi(o.createTime)}})(n)),it.resolve()}getNamedQuery(t,n){return it.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:CO(o.bundledQuery),readTime:Bi(o.readTime)}})(n)),it.resolve()}}class zO{constructor(){this.overlays=new fe(yt.comparator),this.qr=new Map}getOverlay(t,n){return it.resolve(this.overlays.get(n))}getOverlays(t,n){const s=la();return it.forEach(n,(o=>this.getOverlay(t,o).next((l=>{l!==null&&s.set(o,l)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,l)=>{this.St(t,n,l)})),it.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),it.resolve()}getOverlaysForCollection(t,n,s){const o=la(),l=n.length+1,c=new yt(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>s&&o.set(p.getKey(),p)}return it.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let l=new fe(((g,y)=>g-y));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let y=l.get(g.largestBatchId);y===null&&(y=la(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const d=la(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,y)=>d.set(g,y))),!(d.size()>=o)););return it.resolve(d)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new iO(n,s));let l=this.qr.get(n);l===void 0&&(l=Ut(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}class BO{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(t){return it.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,it.resolve()}}class fy{constructor(){this.Qr=new ze(He.$r),this.Ur=new ze(He.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new He(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new He(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new yt(new ue([])),s=new He(n,t),o=new He(n,t+1),l=[];return this.Ur.forEachInRange([s,o],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new yt(new ue([])),s=new He(n,t),o=new He(n,t+1);let l=Ut();return this.Ur.forEachInRange([s,o],(c=>{l=l.add(c.key)})),l}containsKey(t){const n=new He(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class He{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return yt.comparator(t.key,n.key)||kt(t.Yr,n.Yr)}static Kr(t,n){return kt(t.Yr,n.Yr)||yt.comparator(t.key,n.key)}}class jO{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ze(He.$r)}checkEmpty(t){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new nO(l,n,s,o);this.mutationQueue.push(c);for(const d of o)this.Zr=this.Zr.add(new He(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return it.resolve(c)}lookupMutationBatch(t,n){return it.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),l=o<0?0:o;return it.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?ny:this.tr-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new He(n,0),o=new He(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,o],(c=>{const d=this.Xr(c.Yr);l.push(d)})),it.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new ze(kt);return n.forEach((o=>{const l=new He(o,0),c=new He(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{s=s.add(d.Yr)}))})),it.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let l=s;yt.isDocumentKey(l)||(l=l.child(""));const c=new He(new yt(l),0);let d=new ze(kt);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Yr)),!0)}),c),it.resolve(this.ti(d))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Kt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return it.forEach(n.mutations,(o=>{const l=new He(o.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new He(n,0),o=this.Zr.firstAfterOrEqual(s);return it.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class FO{constructor(t){this.ri=t,this.docs=(function(){return new fe(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),l=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return it.resolve(s?s.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(t,n){let s=Ss();return n.forEach((o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():rn.newInvalidDocument(o))})),it.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let l=Ss();const c=n.path,d=new yt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:y}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||gN(pN(y),s)<=0||(o.has(y.key)||qf(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return it.resolve(l)}getAllFromCollectionGroup(t,n,s,o){_t(9500)}ii(t,n){return it.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new HO(this)}getSize(t){return it.resolve(this.size)}}class HO extends PO{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),it.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class qO{constructor(t){this.persistence=t,this.si=new Aa((n=>ry(n)),ay),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new fy,this.targetCount=0,this.ai=Uo.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),it.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Uo(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,it.resolve()}updateTargetData(t,n){return this.Pr(n),it.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,n,s){let o=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)})),it.waitFor(l).next((()=>o))}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return it.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),it.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,l=[];return o&&n.forEach((c=>{l.push(o.markPotentiallyOrphaned(t,c))})),it.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),it.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return it.resolve(s)}containsKey(t,n){return it.resolve(this._i.containsKey(n))}}class k1{constructor(t,n){this.ui={},this.overlays={},this.ci=new zf(0),this.li=!1,this.li=!0,this.hi=new BO,this.referenceDelegate=t(this),this.Pi=new qO(this),this.indexManager=new IO,this.remoteDocumentCache=(function(o){return new FO(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new RO(n),this.Ii=new UO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new zO,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new jO(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ct("MemoryPersistence","Starting transaction:",t);const o=new GO(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(t,n){return it.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class GO extends vN{constructor(t){super(),this.currentSequenceNumber=t}}class dy{constructor(t){this.persistence=t,this.Ri=new fy,this.Vi=null}static mi(t){return new dy(t)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),it.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),it.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),it.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.fi,(s=>{const o=yt.fromPath(s);return this.gi(t,o).next((l=>{l||n.removeEntry(o,At.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return it.or([()=>it.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Af{constructor(t,n){this.persistence=t,this.pi=new Aa((s=>EN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=OO(this,n)}static mi(t,n){return new Af(t,n)}Ei(){}di(t){return it.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return it.forEach(this.pi,((s,o)=>this.br(t,s,o).next((l=>l?it.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,n).next((d=>{d||(s++,l.removeEntry(c,At.min()))})))).next((()=>l.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),it.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),it.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),it.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),it.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=$h(t.data.value)),n}br(t,n,s){return it.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return it.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class my{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=Ut(),o=Ut();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new my(t,n.fromCache,s,o)}}class KO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class YO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Px()?8:_N(on())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const l={result:null};return this.ys(t,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(t,n,o,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new KO;return this.Ss(t,n,c).next((d=>{if(l.result=d,this.Vs)return this.bs(t,n,c,d.size)}))})).next((()=>l.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?(vo()<=Lt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",_o(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),it.resolve()):(vo()<=Lt.DEBUG&&ct("QueryEngine","Query:",_o(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(vo()<=Lt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",_o(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,zi(n))):it.resolve())}ys(t,n){if(zE(n))return it.resolve(null);let s=zi(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Jp(n,null,"F"),s=zi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((l=>{const c=Ut(...l);return this.ps.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,s).next((p=>{const g=this.Ds(n,d);return this.Cs(n,g,c,p.readTime)?this.ys(t,Jp(n,null,"F")):this.vs(t,g,n,p)}))))})))))}ws(t,n,s,o){return zE(n)||o.isEqual(At.min())?it.resolve(null):this.ps.getDocuments(t,s).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,o)?it.resolve(null):(vo()<=Lt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_o(n)),this.vs(t,c,n,mN(o,Cu)).next((d=>d)))}))}Ds(t,n){let s=new ze(m1(t));return n.forEach(((o,l)=>{qf(t,l)&&(s=s.add(l))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(t,n,s){return vo()<=Lt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",_o(n)),this.ps.getDocumentsMatchingQuery(t,n,vr.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const py="LocalStore",QO=3e8;class XO{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new fe(kt),this.xs=new Aa((l=>ry(l)),ay),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new kO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function $O(e,t,n,s){return new XO(e,t,n,s)}async function U1(e,t){const n=wt(e);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((l=>(o=l,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],d=[];let p=Ut();for(const g of o){c.push(g.batchId);for(const y of g.mutations)p=p.add(y.key)}for(const g of l){d.push(g.batchId);for(const y of g.mutations)p=p.add(y.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function WO(e,t){const n=wt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,y){const _=g.batch,S=_.keys();let R=it.resolve();return S.forEach((M=>{R=R.next((()=>y.getEntry(p,M))).next((U=>{const k=g.docVersions.get(M);Kt(k!==null,48541),U.version.compareTo(k)<0&&(_.applyToRemoteDocument(U,g),U.isValidDocument()&&(U.setReadTime(g.commitVersion),y.addEntry(U)))}))})),R.next((()=>d.mutationQueue.removeMutationBatch(p,_)))})(n,s,t,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let p=Ut();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function z1(e){const t=wt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function ZO(e,t){const n=wt(e),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const d=[];t.targetChanges.forEach(((y,_)=>{const S=o.get(_);if(!S)return;d.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,_))));let R=S.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(_)!==null?R=R.withResumeToken(tn.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):y.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(y.resumeToken,s)),o=o.insert(_,R),(function(U,k,j){return U.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=QO?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(S,R,y)&&d.push(n.Pi.updateTargetData(l,R))}));let p=Ss(),g=Ut();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push(JO(l,c,t.documentUpdates).next((y=>{p=y.ks,g=y.qs}))),!s.isEqual(At.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((_=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(y)}return it.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(n.Ms=o,l)))}function JO(e,t,n){let s=Ut(),o=Ut();return n.forEach((l=>s=s.add(l))),t.getEntries(e,s).next((l=>{let c=Ss();return n.forEach(((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(At.min())?(t.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(d,p)):ct(py,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function tP(e,t){const n=wt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=ny),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function eP(e,t){const n=wt(e);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((l=>l?(o=l,it.resolve(o)):n.Pi.allocateTargetId(s).next((c=>(o=new fr(t,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function sg(e,t,n){const s=wt(e),o=s.Ms.get(t),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Qo(c))throw c;ct(py,`Failed to update sequence numbers for target ${t}: ${c}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function ZE(e,t,n){const s=wt(e);let o=At.min(),l=Ut();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,y){const _=wt(p),S=_.xs.get(y);return S!==void 0?it.resolve(_.Ms.get(S)):_.Pi.getTargetData(g,y)})(s,c,zi(t)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((p=>{l=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,t,n?o:At.min(),n?l:Ut()))).next((d=>(nP(s,jN(t),d),{documents:d,Qs:l})))))}function nP(e,t,n){let s=e.Os.get(t)||At.min();n.forEach(((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),e.Os.set(t,s)}class JE{constructor(){this.activeTargetIds=YN()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class iP{constructor(){this.Mo=new JE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new JE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class sP{Oo(t){}shutdown(){}}const tS="ConnectivityMonitor";class eS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ct(tS,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ct(tS,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Uh=null;function rg(){return Uh===null?Uh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Uh++,"0x"+Uh.toString(16)}const yp="RestConnection",rP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aP{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===gf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,l){const c=rg(),d=this.zo(t,n.toUriEncodedString());ct(yp,`Sending RPC '${t}' ${c}:`,d,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,l);const{host:g}=new URL(d),y=Ho(g);return this.Jo(t,d,p,s,y).then((_=>(ct(yp,`Received RPC '${t}' ${c}: `,_),_)),(_=>{throw Oo(yp,`RPC '${t}' ${c} failed with error: `,_,"url: ",d,"request:",s),_}))}Ho(t,n,s,o,l,c){return this.Go(t,n,s,o,l)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ko})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,l)=>t[l]=o)),s&&s.headers.forEach(((o,l)=>t[l]=o))}zo(t,n){const s=rP[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class oP{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const nn="WebChannelConnection";class lP extends aP{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,l){const c=rg();return new Promise(((d,p)=>{const g=new Hb;g.setWithCredentials(!0),g.listenOnce(qb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Xh.NO_ERROR:const _=g.getResponseJson();ct(nn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(_)),d(_);break;case Xh.TIMEOUT:ct(nn,`RPC '${t}' ${c} timed out`),p(new pt(st.DEADLINE_EXCEEDED,"Request time out"));break;case Xh.HTTP_ERROR:const S=g.getStatus();if(ct(nn,`RPC '${t}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const M=R?.error;if(M&&M.status&&M.message){const U=(function(j){const G=j.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(G)>=0?G:st.UNKNOWN})(M.status);p(new pt(U,M.message))}else p(new pt(st.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new pt(st.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ct(nn,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(o);ct(nn,`RPC '${t}' ${c} sending request:`,o),g.send(n,"POST",y,s,15)}))}T_(t,n,s){const o=rg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=Yb(),d=Kb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const y=l.join("");ct(nn,`Creating RPC '${t}' stream ${o}: ${y}`,p);const _=c.createWebChannel(y,p);this.I_(_);let S=!1,R=!1;const M=new oP({Yo:k=>{R?ct(nn,`Not sending because RPC '${t}' stream ${o} is closed:`,k):(S||(ct(nn,`Opening RPC '${t}' stream ${o} transport.`),_.open(),S=!0),ct(nn,`RPC '${t}' stream ${o} sending:`,k),_.send(k))},Zo:()=>_.close()}),U=(k,j,G)=>{k.listen(j,(Y=>{try{G(Y)}catch(rt){setTimeout((()=>{throw rt}),0)}}))};return U(_,ou.EventType.OPEN,(()=>{R||(ct(nn,`RPC '${t}' stream ${o} transport opened.`),M.o_())})),U(_,ou.EventType.CLOSE,(()=>{R||(R=!0,ct(nn,`RPC '${t}' stream ${o} transport closed`),M.a_(),this.E_(_))})),U(_,ou.EventType.ERROR,(k=>{R||(R=!0,Oo(nn,`RPC '${t}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),M.a_(new pt(st.UNAVAILABLE,"The operation could not be completed")))})),U(_,ou.EventType.MESSAGE,(k=>{if(!R){const j=k.data[0];Kt(!!j,16349);const G=j,Y=G?.error||G[0]?.error;if(Y){ct(nn,`RPC '${t}' stream ${o} received error:`,Y);const rt=Y.status;let tt=(function(w){const I=Ve[w];if(I!==void 0)return R1(I)})(rt),at=Y.message;tt===void 0&&(tt=st.INTERNAL,at="Unknown error status: "+rt+" with message "+Y.message),R=!0,M.a_(new pt(tt,at)),_.close()}else ct(nn,`RPC '${t}' stream ${o} received:`,j),M.u_(j)}})),U(d,Gb.STAT_EVENT,(k=>{k.stat===Yp.PROXY?ct(nn,`RPC '${t}' stream ${o} detected buffering proxy`):k.stat===Yp.NOPROXY&&ct(nn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function vp(){return typeof document<"u"?document:null}function Qf(e){return new fO(e,!0)}class B1{constructor(t,n,s=1e3,o=1.5,l=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ct("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const nS="PersistentStream";class j1{constructor(t,n,s,o,l,c,d,p){this.Mi=t,this.S_=s,this.b_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new B1(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===st.RESOURCE_EXHAUSTED?(Es(n.toString()),Es("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===st.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new pt(st.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ct(nS,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ct(nS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uP extends j1{constructor(t,n,s,o,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,c),this.serializer=l}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=pO(this.serializer,t),s=(function(l){if(!("targetChange"in l))return At.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?At.min():c.readTime?Bi(c.readTime):At.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=ig(this.serializer),n.addTarget=(function(l,c){let d;const p=c.target;if(d=Zp(p)?{documents:vO(l,p)}:{query:_O(l,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=x1(l,c.resumeToken);const g=tg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(At.min())>0){d.readTime=Sf(l,c.snapshotVersion.toTimestamp());const g=tg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,t);const s=EO(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=ig(this.serializer),n.removeTarget=t,this.q_(n)}}class cP extends j1{constructor(t,n,s,o,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=yO(t.writeResults,t.commitTime),s=Bi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=ig(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>gO(this.serializer,s)))};this.q_(n)}}class hP{}class fP extends hP{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pt(st.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(t,eg(n,s),o,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pt(st.UNKNOWN,l.toString())}))}Ho(t,n,s,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(t,eg(n,s),o,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pt(st.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class dP{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Es(n),this.aa=!1):ct("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const _a="RemoteStore";class mP{constructor(t,n,s,o,l){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{wa(this)&&(ct(_a,"Restarting streams for network reachability change."),await(async function(p){const g=wt(p);g.Ea.add(4),await Wu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Xf(g)})(this))}))})),this.Ra=new dP(s,o)}}async function Xf(e){if(wa(e))for(const t of e.da)await t(!0)}async function Wu(e){for(const t of e.da)await t(!1)}function F1(e,t){const n=wt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),_y(n)?vy(n):Xo(n).O_()&&yy(n,t))}function gy(e,t){const n=wt(e),s=Xo(n);n.Ia.delete(t),s.O_()&&H1(n,t),n.Ia.size===0&&(s.O_()?s.L_():wa(n)&&n.Ra.set("Unknown"))}function yy(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Xo(e).Y_(t)}function H1(e,t){e.Va.Ue(t),Xo(e).Z_(t)}function vy(e){e.Va=new lO({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Xo(e).start(),e.Ra.ua()}function _y(e){return wa(e)&&!Xo(e).x_()&&e.Ia.size>0}function wa(e){return wt(e).Ea.size===0}function q1(e){e.Va=void 0}async function pP(e){e.Ra.set("Online")}async function gP(e){e.Ia.forEach(((t,n)=>{yy(e,t)}))}async function yP(e,t){q1(e),_y(e)?(e.Ra.ha(t),vy(e)):e.Ra.set("Unknown")}async function vP(e,t,n){if(e.Ra.set("Online"),t instanceof I1&&t.state===2&&t.cause)try{await(async function(o,l){const c=l.cause;for(const d of l.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ia.delete(d),o.Va.removeTarget(d))})(e,t)}catch(s){ct(_a,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await bf(e,s)}else if(t instanceof Jh?e.Va.Ze(t):t instanceof C1?e.Va.st(t):e.Va.tt(t),!n.isEqual(At.min()))try{const s=await z1(e.localStore);n.compareTo(s)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const y=l.Ia.get(g);y&&l.Ia.set(g,y.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,g)=>{const y=l.Ia.get(p);if(!y)return;l.Ia.set(p,y.withResumeToken(tn.EMPTY_BYTE_STRING,y.snapshotVersion)),H1(l,p);const _=new fr(y.target,p,g,y.sequenceNumber);yy(l,_)})),l.remoteSyncer.applyRemoteEvent(d)})(e,n)}catch(s){ct(_a,"Failed to raise snapshot:",s),await bf(e,s)}}async function bf(e,t,n){if(!Qo(t))throw t;e.Ea.add(1),await Wu(e),e.Ra.set("Offline"),n||(n=()=>z1(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ct(_a,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Xf(e)}))}function G1(e,t){return t().catch((n=>bf(e,n,t)))}async function $f(e){const t=wt(e),n=Sr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ny;for(;_P(t);)try{const o=await tP(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,TP(t,o)}catch(o){await bf(t,o)}K1(t)&&Y1(t)}function _P(e){return wa(e)&&e.Ta.length<10}function TP(e,t){e.Ta.push(t);const n=Sr(e);n.O_()&&n.X_&&n.ea(t.mutations)}function K1(e){return wa(e)&&!Sr(e).x_()&&e.Ta.length>0}function Y1(e){Sr(e).start()}async function EP(e){Sr(e).ra()}async function SP(e){const t=Sr(e);for(const n of e.Ta)t.ea(n.mutations)}async function AP(e,t,n){const s=e.Ta.shift(),o=uy.from(s,t,n);await G1(e,(()=>e.remoteSyncer.applySuccessfulWrite(o))),await $f(e)}async function bP(e,t){t&&Sr(e).X_&&await(async function(s,o){if((function(c){return rO(c)&&c!==st.ABORTED})(o.code)){const l=s.Ta.shift();Sr(s).B_(),await G1(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o))),await $f(s)}})(e,t),K1(e)&&Y1(e)}async function iS(e,t){const n=wt(e);n.asyncQueue.verifyOperationInProgress(),ct(_a,"RemoteStore received new credentials");const s=wa(n);n.Ea.add(3),await Wu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Xf(n)}async function wP(e,t){const n=wt(e);t?(n.Ea.delete(2),await Xf(n)):t||(n.Ea.add(2),await Wu(n),n.Ra.set("Unknown"))}function Xo(e){return e.ma||(e.ma=(function(n,s,o){const l=wt(n);return l.sa(),new uP(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(e.datastore,e.asyncQueue,{Xo:pP.bind(null,e),t_:gP.bind(null,e),r_:yP.bind(null,e),H_:vP.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),_y(e)?vy(e):e.Ra.set("Unknown")):(await e.ma.stop(),q1(e))}))),e.ma}function Sr(e){return e.fa||(e.fa=(function(n,s,o){const l=wt(n);return l.sa(),new cP(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:EP.bind(null,e),r_:bP.bind(null,e),ta:SP.bind(null,e),na:AP.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await $f(e)):(await e.fa.stop(),e.Ta.length>0&&(ct(_a,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}class Ty{constructor(t,n,s,o,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,l){const c=Date.now()+s,d=new Ty(t,n,c,o,l);return d.start(s),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pt(st.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ey(e,t){if(Es("AsyncQueue",`${t}: ${e}`),Qo(e))return new pt(st.UNAVAILABLE,`${t}: ${e}`);throw e}class Do{static emptySet(t){return new Do(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||yt.comparator(n.key,s.key):(n,s)=>yt.comparator(n.key,s.key),this.keyedMap=lu(),this.sortedSet=new fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Do)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Do;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class sS{constructor(){this.ga=new fe(yt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):_t(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class zo{constructor(t,n,s,o,l,c,d,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new zo(t,n,Do.emptySet(n),c,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Hf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class RP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class CP{constructor(){this.queries=rS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=wt(n),l=o.queries;o.queries=rS(),l.forEach(((c,d)=>{for(const p of d.Sa)p.onError(s)}))})(this,new pt(st.ABORTED,"Firestore shutting down"))}}function rS(){return new Aa((e=>d1(e)),Hf)}async function IP(e,t){const n=wt(e);let s=3;const o=t.query;let l=n.queries.get(o);l?!l.ba()&&t.Da()&&(s=2):(l=new RP,s=t.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(o,!0);break;case 1:l.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const d=Ey(c,`Initialization of query '${_o(t.query)}' failed`);return void t.onError(d)}n.queries.set(o,l),l.Sa.push(t),t.va(n.onlineState),l.wa&&t.Fa(l.wa)&&Sy(n)}async function xP(e,t){const n=wt(e),s=t.query;let o=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(t);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?o=t.Da()?0:1:!l.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function DP(e,t){const n=wt(e);let s=!1;for(const o of t){const l=o.query,c=n.queries.get(l);if(c){for(const d of c.Sa)d.Fa(o)&&(s=!0);c.wa=o}}s&&Sy(n)}function VP(e,t,n){const s=wt(e),o=s.queries.get(t);if(o)for(const l of o.Sa)l.onError(n);s.queries.delete(t)}function Sy(e){e.Ca.forEach((t=>{t.next()}))}var ag,aS;(aS=ag||(ag={})).Ma="default",aS.Cache="cache";class MP{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new zo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=zo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==ag.Cache}}class Q1{constructor(t){this.key=t}}class X1{constructor(t){this.key=t}}class NP{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=m1(t),this.tu=new Do(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new sS,o=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((y,_)=>{const S=o.get(y),R=qf(this.query,_)?_:null,M=!!S&&this.mutatedKeys.has(S.key),U=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let k=!1;S&&R?S.data.isEqual(R.data)?M!==U&&(s.track({type:3,doc:R}),k=!0):this.su(S,R)||(s.track({type:2,doc:R}),k=!0,(p&&this.eu(R,p)>0||g&&this.eu(R,g)<0)&&(d=!0)):!S&&R?(s.track({type:0,doc:R}),k=!0):S&&!R&&(s.track({type:1,doc:S}),k=!0,(p||g)&&(d=!0)),k&&(R?(c=c.add(R),l=U?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Cs:d,mutatedKeys:l}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,_)=>(function(R,M){const U=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:k})}};return U(R)-U(M)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(s),o=o??!1;const d=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new zo(this.query,t.tu,l,c,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ut(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new X1(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new Q1(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Ut();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return zo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ay="SyncEngine";class OP{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class PP{constructor(t){this.key=t,this.hu=!1}}class LP{constructor(t,n,s,o,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Aa((d=>d1(d)),Hf),this.Iu=new Map,this.Eu=new Set,this.du=new fe(yt.comparator),this.Au=new Map,this.Ru=new fy,this.Vu={},this.mu=new Map,this.fu=Uo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function kP(e,t,n=!0){const s=ew(e);let o;const l=s.Tu.get(t);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await $1(s,t,n,!0),o}async function UP(e,t){const n=ew(e);await $1(n,t,!0,!1)}async function $1(e,t,n,s){const o=await eP(e.localStore,zi(t)),l=o.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await zP(e,t,l,c==="current",o.resumeToken)),e.isPrimaryClient&&n&&F1(e.remoteStore,o),d}async function zP(e,t,n,s,o){e.pu=(_,S,R)=>(async function(U,k,j,G){let Y=k.view.ru(j);Y.Cs&&(Y=await ZE(U.localStore,k.query,!1).then((({documents:C})=>k.view.ru(C,Y))));const rt=G&&G.targetChanges.get(k.targetId),tt=G&&G.targetMismatches.get(k.targetId)!=null,at=k.view.applyChanges(Y,U.isPrimaryClient,rt,tt);return lS(U,k.targetId,at.au),at.snapshot})(e,_,S,R);const l=await ZE(e.localStore,t,!0),c=new NP(t,l.Qs),d=c.ru(l.documents),p=$u.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",o),g=c.applyChanges(d,e.isPrimaryClient,p);lS(e,n,g.au);const y=new OP(t,n,c);return e.Tu.set(t,y),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),g.snapshot}async function BP(e,t,n){const s=wt(e),o=s.Tu.get(t),l=s.Iu.get(o.targetId);if(l.length>1)return s.Iu.set(o.targetId,l.filter((c=>!Hf(c,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await sg(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&gy(s.remoteStore,o.targetId),og(s,o.targetId)})).catch(Yo)):(og(s,o.targetId),await sg(s.localStore,o.targetId,!0))}async function jP(e,t){const n=wt(e),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),gy(n.remoteStore,s.targetId))}async function FP(e,t,n){const s=XP(e);try{const o=await(function(c,d){const p=wt(c),g=se.now(),y=d.reduce(((R,M)=>R.add(M.key)),Ut());let _,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let M=Ss(),U=Ut();return p.Ns.getEntries(R,y).next((k=>{M=k,M.forEach(((j,G)=>{G.isValidDocument()||(U=U.add(j))}))})).next((()=>p.localDocuments.getOverlayedDocuments(R,M))).next((k=>{_=k;const j=[];for(const G of d){const Y=tO(G,_.get(G.key).overlayedDocument);Y!=null&&j.push(new ba(G.key,Y,a1(Y.value.mapValue),ys.exists(!0)))}return p.mutationQueue.addMutationBatch(R,g,j,d)})).next((k=>{S=k;const j=k.applyToLocalDocumentSet(_,U);return p.documentOverlayCache.saveOverlays(R,k.batchId,j)}))})).then((()=>({batchId:S.batchId,changes:g1(_)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(c,d,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new fe(kt)),g=g.insert(d,p),c.Vu[c.currentUser.toKey()]=g})(s,o.batchId,n),await Zu(s,o.changes),await $f(s.remoteStore)}catch(o){const l=Ey(o,"Failed to persist write");n.reject(l)}}async function W1(e,t){const n=wt(e);try{const s=await ZO(n.localStore,t);t.targetChanges.forEach(((o,l)=>{const c=n.Au.get(l);c&&(Kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Kt(c.hu,14607):o.removedDocuments.size>0&&(Kt(c.hu,42227),c.hu=!1))})),await Zu(n,s,t)}catch(s){await Yo(s)}}function oS(e,t,n){const s=wt(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((l,c)=>{const d=c.view.va(t);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const p=wt(c);p.onlineState=d;let g=!1;p.queries.forEach(((y,_)=>{for(const S of _.Sa)S.va(d)&&(g=!0)})),g&&Sy(p)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function HP(e,t,n){const s=wt(e);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),l=o&&o.key;if(l){let c=new fe(yt.comparator);c=c.insert(l,rn.newNoDocument(l,At.min()));const d=Ut().add(l),p=new Yf(At.min(),new Map,new fe(kt),c,d);await W1(s,p),s.du=s.du.remove(l),s.Au.delete(t),by(s)}else await sg(s.localStore,t,!1).then((()=>og(s,t,n))).catch(Yo)}async function qP(e,t){const n=wt(e),s=t.batch.batchId;try{const o=await WO(n.localStore,t);J1(n,s,null),Z1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Zu(n,o)}catch(o){await Yo(o)}}async function GP(e,t,n){const s=wt(e);try{const o=await(function(c,d){const p=wt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return p.mutationQueue.lookupMutationBatch(g,d).next((_=>(Kt(_!==null,37113),y=_.keys(),p.mutationQueue.removeMutationBatch(g,_)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,y,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>p.localDocuments.getDocuments(g,y)))}))})(s.localStore,t);J1(s,t,n),Z1(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Zu(s,o)}catch(o){await Yo(o)}}function Z1(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function J1(e,t,n){const s=wt(e);let o=s.Vu[s.currentUser.toKey()];if(o){const l=o.get(t);l&&(n?l.reject(n):l.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function og(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Iu.get(t))e.Tu.delete(s),n&&e.Pu.yu(s,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((s=>{e.Ru.containsKey(s)||tw(e,s)}))}function tw(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(gy(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),by(e))}function lS(e,t,n){for(const s of n)s instanceof Q1?(e.Ru.addReference(s.key,t),KP(e,s)):s instanceof X1?(ct(Ay,"Document no longer in limbo: "+s.key),e.Ru.removeReference(s.key,t),e.Ru.containsKey(s.key)||tw(e,s.key)):_t(19791,{wu:s})}function KP(e,t){const n=t.key,s=n.path.canonicalString();e.du.get(n)||e.Eu.has(s)||(ct(Ay,"New document in limbo: "+n),e.Eu.add(s),by(e))}function by(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new yt(ue.fromString(t)),s=e.fu.next();e.Au.set(s,new PP(n)),e.du=e.du.insert(n,s),F1(e.remoteStore,new fr(zi(oy(n.path)),s,"TargetPurposeLimboResolution",zf.ce))}}async function Zu(e,t,n){const s=wt(e),o=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,p)=>{c.push(s.pu(p,t,n).then((g=>{if((g||n)&&s.isPrimaryClient){const y=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,y?"current":"not-current")}if(g){o.push(g);const y=my.As(p.targetId,g);l.push(y)}})))})),await Promise.all(c),s.Pu.H_(o),await(async function(p,g){const y=wt(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>it.forEach(g,(S=>it.forEach(S.Es,(R=>y.persistence.referenceDelegate.addReference(_,S.targetId,R))).next((()=>it.forEach(S.ds,(R=>y.persistence.referenceDelegate.removeReference(_,S.targetId,R)))))))))}catch(_){if(!Qo(_))throw _;ct(py,"Failed to update sequence numbers: "+_)}for(const _ of g){const S=_.targetId;if(!_.fromCache){const R=y.Ms.get(S),M=R.snapshotVersion,U=R.withLastLimboFreeSnapshotVersion(M);y.Ms=y.Ms.insert(S,U)}}})(s.localStore,l))}async function YP(e,t){const n=wt(e);if(!n.currentUser.isEqual(t)){ct(Ay,"User change. New user:",t.toKey());const s=await U1(n.localStore,t);n.currentUser=t,(function(l,c){l.mu.forEach((d=>{d.forEach((p=>{p.reject(new pt(st.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Zu(n,s.Ls)}}function QP(e,t){const n=wt(e),s=n.Au.get(t);if(s&&s.hu)return Ut().add(s.key);{let o=Ut();const l=n.Iu.get(t);if(!l)return o;for(const c of l){const d=n.Tu.get(c);o=o.unionWith(d.view.nu)}return o}}function ew(e){const t=wt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=W1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=QP.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=HP.bind(null,t),t.Pu.H_=DP.bind(null,t.eventManager),t.Pu.yu=VP.bind(null,t.eventManager),t}function XP(e){const t=wt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=qP.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=GP.bind(null,t),t}class wf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Qf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return $O(this.persistence,new YO,t.initialUser,this.serializer)}Cu(t){return new k1(dy.mi,this.serializer)}Du(t){return new iP}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wf.provider={build:()=>new wf};class $P extends wf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Kt(this.persistence.referenceDelegate instanceof Af,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new MO(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new k1((s=>Af.mi(s,n)),this.serializer)}}class lg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>oS(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=YP.bind(null,this.syncEngine),await wP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new CP})()}createDatastore(t){const n=Qf(t.databaseInfo.databaseId),s=(function(l){return new lP(l)})(t.databaseInfo);return(function(l,c,d,p){return new fP(l,c,d,p)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,l,c,d){return new mP(s,o,l,c,d)})(this.localStore,this.datastore,t.asyncQueue,(n=>oS(this.syncEngine,n,0)),(function(){return eS.v()?new eS:new sP})())}createSyncEngine(t,n){return(function(o,l,c,d,p,g,y){const _=new LP(o,l,c,d,p,g);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=wt(n);ct(_a,"RemoteStore shutting down."),s.Ea.add(5),await Wu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}lg.provider={build:()=>new lg};class WP{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Es("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const Ar="FirestoreClient";class ZP{constructor(t,n,s,o,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=ty.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{ct(Ar,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ct(Ar,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Ey(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function _p(e,t){e.asyncQueue.verifyOperationInProgress(),ct(Ar,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener((async o=>{s.isEqual(o)||(await U1(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function uS(e,t){e.asyncQueue.verifyOperationInProgress();const n=await JP(e);ct(Ar,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((s=>iS(t.remoteStore,s))),e.setAppCheckTokenChangeListener(((s,o)=>iS(t.remoteStore,o))),e._onlineComponents=t}async function JP(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ct(Ar,"Using user provided OfflineComponentProvider");try{await _p(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===st.FAILED_PRECONDITION||o.code===st.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Oo("Error using user provided cache. Falling back to memory cache: "+n),await _p(e,new wf)}}else ct(Ar,"Using default OfflineComponentProvider"),await _p(e,new $P(void 0));return e._offlineComponents}async function nw(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ct(Ar,"Using user provided OnlineComponentProvider"),await uS(e,e._uninitializedComponentsProvider._online)):(ct(Ar,"Using default OnlineComponentProvider"),await uS(e,new lg))),e._onlineComponents}function t4(e){return nw(e).then((t=>t.syncEngine))}async function e4(e){const t=await nw(e),n=t.eventManager;return n.onListen=kP.bind(null,t.syncEngine),n.onUnlisten=BP.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=UP.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=jP.bind(null,t.syncEngine),n}function n4(e,t,n={}){const s=new yr;return e.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,g){const y=new WP({next:S=>{y.Nu(),c.enqueueAndForget((()=>xP(l,_)));const R=S.docs.has(d);!R&&S.fromCache?g.reject(new pt(st.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&S.fromCache&&p&&p.source==="server"?g.reject(new pt(st.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),_=new MP(oy(d.path),y,{includeMetadataChanges:!0,qa:!0});return IP(l,_)})(await e4(e),e.asyncQueue,t,n,s))),s.promise}function iw(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const cS=new Map;const sw="firestore.googleapis.com",hS=!0;class fS{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new pt(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sw,this.ssl=hS}else this.host=t.host,this.ssl=t.ssl??hS;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=L1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<DO)throw new pt(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}dN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iw(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new pt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new pt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new pt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class wy{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pt(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new pt(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fS(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new nN;switch(s.type){case"firstParty":return new aN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pt(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=cS.get(n);s&&(ct("ComponentProvider","Removing Datastore"),cS.delete(n),s.terminate())})(this),Promise.resolve()}}function i4(e,t,n,s={}){e=Ru(e,wy);const o=Ho(t),l=e._getSettings(),c={...l,emulatorOptions:e._getEmulatorOptions()},d=`${t}:${n}`;o&&(sb(`https://${d}`),rb("Firestore",!0)),l.host!==sw&&l.host!==d&&Oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:d,ssl:o,emulatorOptions:s};if(!pa(p,c)&&(e._setSettings(p),s.mockUserToken)){let g,y;if(typeof s.mockUserToken=="string")g=s.mockUserToken,y=sn.MOCK_USER;else{g=Rx(s.mockUserToken,e._app?.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new pt(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new sn(_)}e._authCredentials=new iN(new Xb(g,y))}}class Ry{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Ry(this.firestore,t,this._query)}}class qe{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new qe(this.firestore,t,this._key)}toJSON(){return{type:qe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Qu(n,qe._jsonSchema))return new qe(t,s||null,new yt(ue.fromString(n.referencePath)))}}qe._jsonSchemaVersion="firestore/documentReference/1.0",qe._jsonSchema={type:Ne("string",qe._jsonSchemaVersion),referencePath:Ne("string")};class Nu extends Ry{constructor(t,n,s){super(t,n,oy(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new qe(this.firestore,null,new yt(t))}withConverter(t){return new Nu(this.firestore,t,this._path)}}function dS(e,t,...n){if(e=Xn(e),arguments.length===1&&(t=ty.newId()),fN("doc","path",t),e instanceof wy){const s=ue.fromString(t,...n);return RE(s),new qe(e,null,new yt(s))}{if(!(e instanceof qe||e instanceof Nu))throw new pt(st.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(ue.fromString(t,...n));return RE(s),new qe(e.firestore,e instanceof Nu?e.converter:null,new yt(s))}}const mS="AsyncQueue";class pS{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new B1(this,"async_queue_retry"),this._c=()=>{const s=vp();s&&ct(mS,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=vp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=vp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new yr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Qo(t))throw t;ct(mS,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Es("INTERNAL UNHANDLED ERROR: ",gS(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=Ty.createAndSchedule(this,t,n,s,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&_t(47125,{Pc:gS(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function gS(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Cy extends wy{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new pS,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new pS(t),this._firestoreClient=void 0,await t}}}function s4(e,t){const n=typeof e=="object"?e:ub(),s=typeof e=="string"?e:gf,o=Fg(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=bx("firestore");l&&i4(o,...l)}return o}function rw(e){if(e._terminated)throw new pt(st.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||r4(e),e._firestoreClient}function r4(e){const t=e._freezeSettings(),n=(function(o,l,c,d){return new bN(o,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,iw(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new ZP(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(e._componentsProvider))}class Gn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Gn(tn.fromBase64String(t))}catch(n){throw new pt(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Gn(tn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Qu(t,Gn._jsonSchema))return Gn.fromBase64String(t.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:Ne("string",Gn._jsonSchemaVersion),bytes:Ne("string")};class Iy{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new pt(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class aw{constructor(t){this._methodName=t}}class ji{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new pt(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new pt(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ji._jsonSchemaVersion}}static fromJSON(t){if(Qu(t,ji._jsonSchema))return new ji(t.latitude,t.longitude)}}ji._jsonSchemaVersion="firestore/geoPoint/1.0",ji._jsonSchema={type:Ne("string",ji._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};class Fi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Qu(t,Fi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Fi(t.vectorValues);throw new pt(st.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fi._jsonSchemaVersion="firestore/vectorValue/1.0",Fi._jsonSchema={type:Ne("string",Fi._jsonSchemaVersion),vectorValues:Ne("object")};const a4=/^__.*__$/;class o4{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new ba(t,this.data,this.fieldMask,n,this.fieldTransforms):new Xu(t,this.data,n,this.fieldTransforms)}}function ow(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:e})}}class xy{constructor(t,n,s,o,l,c){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new xy({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Rf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(ow(this.Ac)&&a4.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class l4{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Qf(t)}Cc(t,n,s,o=!1){return new xy({Ac:t,methodName:n,Dc:s,path:Je.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function u4(e){const t=e._freezeSettings(),n=Qf(e._databaseId);return new l4(e._databaseId,!!t.ignoreUndefinedProperties,n)}function c4(e,t,n,s,o,l={}){const c=e.Cc(l.merge||l.mergeFields?2:0,t,n,o);hw("Data must be an object, but it was:",c,s);const d=uw(s,c);let p,g;if(l.merge)p=new di(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const S=h4(t,_,n);if(!c.contains(S))throw new pt(st.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);d4(y,S)||y.push(S)}p=new di(y),g=c.fieldTransforms.filter((_=>p.covers(_.field)))}else p=null,g=c.fieldTransforms;return new o4(new qn(d),p,g)}function lw(e,t){if(cw(e=Xn(e)))return hw("Unsupported field value:",t,e),uw(e,t);if(e instanceof aw)return(function(s,o){if(!ow(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const l=[];let c=0;for(const d of s){let p=lw(d,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(e,t)}return(function(s,o){if((s=Xn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return QN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=se.fromDate(s);return{timestampValue:Sf(o.serializer,l)}}if(s instanceof se){const l=new se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Sf(o.serializer,l)}}if(s instanceof ji)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Gn)return{bytesValue:x1(o.serializer,s._byteString)};if(s instanceof qe){const l=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:hy(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Fi)return(function(c,d){return{mapValue:{fields:{[s1]:{stringValue:r1},[yf]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return ly(d.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${ey(s)}`)})(e,t)}function uw(e,t){const n={};return Zb(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Sa(e,((s,o)=>{const l=lw(o,t.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function cw(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof se||e instanceof ji||e instanceof Gn||e instanceof qe||e instanceof aw||e instanceof Fi)}function hw(e,t,n){if(!cw(n)||!$b(n)){const s=ey(n);throw s==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+s)}}function h4(e,t,n){if((t=Xn(t))instanceof Iy)return t._internalPath;if(typeof t=="string")return fw(e,t);throw Rf("Field path arguments must be of type string or ",e,!1,void 0,n)}const f4=new RegExp("[~\\*/\\[\\]]");function fw(e,t,n){if(t.search(f4)>=0)throw Rf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Iy(...t.split("."))._internalPath}catch{throw Rf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Rf(e,t,n,s,o){const l=s&&!s.isEmpty(),c=o!==void 0;let d=`Function ${t}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new pt(st.INVALID_ARGUMENT,d+e+p)}function d4(e,t){return e.some((n=>n.isEqual(t)))}class dw{constructor(t,n,s,o,l){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new qe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new m4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(mw("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class m4 extends dw{data(){return super.data()}}function mw(e,t){return typeof t=="string"?fw(e,t):t instanceof Iy?t._internalPath:t._delegate._internalPath}class p4{convertValue(t,n="none"){switch(Er(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Tr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Sa(t,((o,l)=>{s[o]=this.convertValue(l,n)})),s}convertVectorValue(t){const n=t.fields?.[yf].arrayValue?.values?.map((s=>Ee(s.doubleValue)));return new Fi(n)}convertGeoPoint(t){return new ji(Ee(t.latitude),Ee(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=jf(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Iu(t));default:return null}}convertTimestamp(t){const n=_r(t);return new se(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ue.fromString(t);Kt(P1(s),9688,{name:t});const o=new xu(s.get(1),s.get(3)),l=new yt(s.popFirst(5));return o.isEqual(n)||Es(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function g4(e,t,n){let s;return s=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,s}class cu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class fa extends dw{constructor(t,n,s,o,l,c){super(t,n,s,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new tf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(mw("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pt(st.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=fa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}fa._jsonSchemaVersion="firestore/documentSnapshot/1.0",fa._jsonSchema={type:Ne("string",fa._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class tf extends fa{data(t={}){return super.data(t)}}class vu{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new cu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new tf(this._firestore,this._userDataWriter,s.key,s,new cu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pt(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const p=new tf(o._firestore,o._userDataWriter,d.doc.key,d.doc,new cu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const p=new tf(o._firestore,o._userDataWriter,d.doc.key,d.doc,new cu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,y=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:y4(d.type),doc:p,oldIndex:g,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pt(st.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=vu._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=ty.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function y4(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:e})}}function v4(e){e=Ru(e,qe);const t=Ru(e.firestore,Cy);return n4(rw(t),e._key).then((n=>S4(t,e,n)))}vu._jsonSchemaVersion="firestore/querySnapshot/1.0",vu._jsonSchema={type:Ne("string",vu._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class _4 extends p4{constructor(t){super(),this.firestore=t}convertBytes(t){return new Gn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new qe(this.firestore,null,n)}}function T4(e,t,n){e=Ru(e,qe);const s=Ru(e.firestore,Cy),o=g4(e.converter,t,n);return E4(s,[c4(u4(s),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,ys.none())])}function E4(e,t){return(function(s,o){const l=new yr;return s.asyncQueue.enqueueAndForget((async()=>FP(await t4(s),o,l))),l.promise})(rw(e),t)}function S4(e,t,n){const s=n.docs.get(t._key),o=new _4(e);return new fa(e,o,t._key,s,new cu(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){Ko=o})(qo),Mo(new ga("firestore",((s,{instanceIdentifier:o,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new Cy(new sN(s.getProvider("auth-internal")),new oN(c,s.getProvider("app-check-internal")),(function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new pt(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xu(g.options.projectId,y)})(c,o),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),pr(SE,AE,t),pr(SE,AE,"esm2020")})();const A4={apiKey:"AIzaSyAv3lXBF8luX9q6-p9lCd12iB2VbcX6JyU",authDomain:"employment-simulator.firebaseapp.com",projectId:"employment-simulator",storageBucket:"employment-simulator.firebasestorage.app",messagingSenderId:"33354203420",appId:"1:33354203420:web:744ff4c254a7e9ad70fad9"},pw=lb(A4),Tp=tN(pw),yS=s4(pw),gw=Mg.createContext();function Dy(){return V.useContext(gw)}function b4({children:e}){const[t,n]=V.useState(null),[s,o]=V.useState(!0);function l(){const p=new ds;return uM(Tp,p)}function c(){return HV(Tp)}V.useEffect(()=>FV(Tp,g=>{n(g),o(!1)}),[]);const d={currentUser:t,loginWithGoogle:l,logout:c};return Z.jsx(gw.Provider,{value:d,children:!s&&e})}const Vy=V.createContext({});function My(e){const t=V.useRef(null);return t.current===null&&(t.current=e()),t.current}const Ny=typeof window<"u",yw=Ny?V.useLayoutEffect:V.useEffect,Wf=V.createContext(null);function Oy(e,t){e.indexOf(t)===-1&&e.push(t)}function Py(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const As=(e,t,n)=>n>t?t:n<e?e:n;let Ly=()=>{};const bs={},vw=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function _w(e){return typeof e=="object"&&e!==null}const Tw=e=>/^0[^.\s]+$/u.test(e);function ky(e){let t;return()=>(t===void 0&&(t=e()),t)}const Yn=e=>e,w4=(e,t)=>n=>t(e(n)),Ju=(...e)=>e.reduce(w4),Ou=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class Uy{constructor(){this.subscriptions=[]}add(t){return Oy(this.subscriptions,t),()=>Py(this.subscriptions,t)}notify(t,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,s);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Hi=e=>e*1e3,Kn=e=>e/1e3;function Ew(e,t){return t?e*(1e3/t):0}const Sw=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,R4=1e-7,C4=12;function I4(e,t,n,s,o){let l,c,d=0;do c=t+(n-t)/2,l=Sw(c,s,o)-e,l>0?n=c:t=c;while(Math.abs(l)>R4&&++d<C4);return c}function tc(e,t,n,s){if(e===t&&n===s)return Yn;const o=l=>I4(l,0,1,e,n);return l=>l===0||l===1?l:Sw(o(l),t,s)}const Aw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,bw=e=>t=>1-e(1-t),ww=tc(.33,1.53,.69,.99),zy=bw(ww),Rw=Aw(zy),Cw=e=>(e*=2)<1?.5*zy(e):.5*(2-Math.pow(2,-10*(e-1))),By=e=>1-Math.sin(Math.acos(e)),Iw=bw(By),xw=Aw(By),x4=tc(.42,0,1,1),D4=tc(0,0,.58,1),Dw=tc(.42,0,.58,1),V4=e=>Array.isArray(e)&&typeof e[0]!="number",Vw=e=>Array.isArray(e)&&typeof e[0]=="number",M4={linear:Yn,easeIn:x4,easeInOut:Dw,easeOut:D4,circIn:By,circInOut:xw,circOut:Iw,backIn:zy,backInOut:Rw,backOut:ww,anticipate:Cw},N4=e=>typeof e=="string",vS=e=>{if(Vw(e)){Ly(e.length===4);const[t,n,s,o]=e;return tc(t,n,s,o)}else if(N4(e))return M4[e];return e},zh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function O4(e,t){let n=new Set,s=new Set,o=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function p(y){c.has(y)&&(g.schedule(y),e()),y(d)}const g={schedule:(y,_=!1,S=!1)=>{const M=S&&o?n:s;return _&&c.add(y),M.has(y)||M.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(d=y,o){l=!0;return}o=!0,[n,s]=[s,n],n.forEach(p),n.clear(),o=!1,l&&(l=!1,g.process(y))}};return g}const P4=40;function Mw(e,t){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=zh.reduce((Y,rt)=>(Y[rt]=O4(l),Y),{}),{setup:d,read:p,resolveKeyframes:g,preUpdate:y,update:_,preRender:S,render:R,postRender:M}=c,U=()=>{const Y=bs.useManualTiming?o.timestamp:performance.now();n=!1,bs.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(Y-o.timestamp,P4),1)),o.timestamp=Y,o.isProcessing=!0,d.process(o),p.process(o),g.process(o),y.process(o),_.process(o),S.process(o),R.process(o),M.process(o),o.isProcessing=!1,n&&t&&(s=!1,e(U))},k=()=>{n=!0,s=!0,o.isProcessing||e(U)};return{schedule:zh.reduce((Y,rt)=>{const tt=c[rt];return Y[rt]=(at,C=!1,w=!1)=>(n||k(),tt.schedule(at,C,w)),Y},{}),cancel:Y=>{for(let rt=0;rt<zh.length;rt++)c[zh[rt]].cancel(Y)},state:o,steps:c}}const{schedule:le,cancel:br,state:We,steps:Ep}=Mw(typeof requestAnimationFrame<"u"?requestAnimationFrame:Yn,!0);let ef;function L4(){ef=void 0}const Tn={now:()=>(ef===void 0&&Tn.set(We.isProcessing||bs.useManualTiming?We.timestamp:performance.now()),ef),set:e=>{ef=e,queueMicrotask(L4)}},Nw=e=>t=>typeof t=="string"&&t.startsWith(e),jy=Nw("--"),k4=Nw("var(--"),Fy=e=>k4(e)?U4.test(e.split("/*")[0].trim()):!1,U4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,$o={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Pu={...$o,transform:e=>As(0,1,e)},Bh={...$o,default:1},_u=e=>Math.round(e*1e5)/1e5,Hy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function z4(e){return e==null}const B4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,qy=(e,t)=>n=>!!(typeof n=="string"&&B4.test(n)&&n.startsWith(e)||t&&!z4(n)&&Object.prototype.hasOwnProperty.call(n,t)),Ow=(e,t,n)=>s=>{if(typeof s!="string")return s;const[o,l,c,d]=s.match(Hy);return{[e]:parseFloat(o),[t]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},j4=e=>As(0,255,e),Sp={...$o,transform:e=>Math.round(j4(e))},ua={test:qy("rgb","red"),parse:Ow("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Sp.transform(e)+", "+Sp.transform(t)+", "+Sp.transform(n)+", "+_u(Pu.transform(s))+")"};function F4(e){let t="",n="",s="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,s+=s,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const ug={test:qy("#"),parse:F4,transform:ua.transform},ec=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),lr=ec("deg"),qi=ec("%"),Tt=ec("px"),H4=ec("vh"),q4=ec("vw"),_S={...qi,parse:e=>qi.parse(e)/100,transform:e=>qi.transform(e*100)},So={test:qy("hsl","hue"),parse:Ow("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+qi.transform(_u(t))+", "+qi.transform(_u(n))+", "+_u(Pu.transform(s))+")"},Me={test:e=>ua.test(e)||ug.test(e)||So.test(e),parse:e=>ua.test(e)?ua.parse(e):So.test(e)?So.parse(e):ug.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ua.transform(e):So.transform(e),getAnimatableNone:e=>{const t=Me.parse(e);return t.alpha=0,Me.transform(t)}},G4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function K4(e){return isNaN(e)&&typeof e=="string"&&(e.match(Hy)?.length||0)+(e.match(G4)?.length||0)>0}const Pw="number",Lw="color",Y4="var",Q4="var(",TS="${}",X4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Lu(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},o=[];let l=0;const d=t.replace(X4,p=>(Me.test(p)?(s.color.push(l),o.push(Lw),n.push(Me.parse(p))):p.startsWith(Q4)?(s.var.push(l),o.push(Y4),n.push(p)):(s.number.push(l),o.push(Pw),n.push(parseFloat(p))),++l,TS)).split(TS);return{values:n,split:d,indexes:s,types:o}}function kw(e){return Lu(e).values}function Uw(e){const{split:t,types:n}=Lu(e),s=t.length;return o=>{let l="";for(let c=0;c<s;c++)if(l+=t[c],o[c]!==void 0){const d=n[c];d===Pw?l+=_u(o[c]):d===Lw?l+=Me.transform(o[c]):l+=o[c]}return l}}const $4=e=>typeof e=="number"?0:Me.test(e)?Me.getAnimatableNone(e):e;function W4(e){const t=kw(e);return Uw(e)(t.map($4))}const wr={test:K4,parse:kw,createTransformer:Uw,getAnimatableNone:W4};function Ap(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Z4({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let o=0,l=0,c=0;if(!t)o=l=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,p=2*n-d;o=Ap(p,d,e+1/3),l=Ap(p,d,e),c=Ap(p,d,e-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Cf(e,t){return n=>n>0?t:e}const ce=(e,t,n)=>e+(t-e)*n,bp=(e,t,n)=>{const s=e*e,o=n*(t*t-s)+s;return o<0?0:Math.sqrt(o)},J4=[ug,ua,So],tL=e=>J4.find(t=>t.test(e));function ES(e){const t=tL(e);if(!t)return!1;let n=t.parse(e);return t===So&&(n=Z4(n)),n}const SS=(e,t)=>{const n=ES(e),s=ES(t);if(!n||!s)return Cf(e,t);const o={...n};return l=>(o.red=bp(n.red,s.red,l),o.green=bp(n.green,s.green,l),o.blue=bp(n.blue,s.blue,l),o.alpha=ce(n.alpha,s.alpha,l),ua.transform(o))},cg=new Set(["none","hidden"]);function eL(e,t){return cg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function nL(e,t){return n=>ce(e,t,n)}function Gy(e){return typeof e=="number"?nL:typeof e=="string"?Fy(e)?Cf:Me.test(e)?SS:rL:Array.isArray(e)?zw:typeof e=="object"?Me.test(e)?SS:iL:Cf}function zw(e,t){const n=[...e],s=n.length,o=e.map((l,c)=>Gy(l)(l,t[c]));return l=>{for(let c=0;c<s;c++)n[c]=o[c](l);return n}}function iL(e,t){const n={...e,...t},s={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(s[o]=Gy(e[o])(e[o],t[o]));return o=>{for(const l in s)n[l]=s[l](o);return n}}function sL(e,t){const n=[],s={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const l=t.types[o],c=e.indexes[l][s[l]],d=e.values[c]??0;n[o]=d,s[l]++}return n}const rL=(e,t)=>{const n=wr.createTransformer(t),s=Lu(e),o=Lu(t);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?cg.has(e)&&!o.values.length||cg.has(t)&&!s.values.length?eL(e,t):Ju(zw(sL(s,o),o.values),n):Cf(e,t)};function Bw(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ce(e,t,n):Gy(e)(e,t)}const aL=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>le.update(t,n),stop:()=>br(t),now:()=>We.isProcessing?We.timestamp:Tn.now()}},jw=(e,t,n=10)=>{let s="";const o=Math.max(Math.round(t/n),2);for(let l=0;l<o;l++)s+=Math.round(e(l/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},If=2e4;function Ky(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<If;)t+=n,s=e.next(t);return t>=If?1/0:t}function oL(e,t=100,n){const s=n({...e,keyframes:[0,t]}),o=Math.min(Ky(s),If);return{type:"keyframes",ease:l=>s.next(o*l).value/t,duration:Kn(o)}}const lL=5;function Fw(e,t,n){const s=Math.max(t-lL,0);return Ew(n-e(s),t-s)}const ge={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},wp=.001;function uL({duration:e=ge.duration,bounce:t=ge.bounce,velocity:n=ge.velocity,mass:s=ge.mass}){let o,l,c=1-t;c=As(ge.minDamping,ge.maxDamping,c),e=As(ge.minDuration,ge.maxDuration,Kn(e)),c<1?(o=g=>{const y=g*c,_=y*e,S=y-n,R=hg(g,c),M=Math.exp(-_);return wp-S/R*M},l=g=>{const _=g*c*e,S=_*n+n,R=Math.pow(c,2)*Math.pow(g,2)*e,M=Math.exp(-_),U=hg(Math.pow(g,2),c);return(-o(g)+wp>0?-1:1)*((S-R)*M)/U}):(o=g=>{const y=Math.exp(-g*e),_=(g-n)*e+1;return-wp+y*_},l=g=>{const y=Math.exp(-g*e),_=(n-g)*(e*e);return y*_});const d=5/e,p=hL(o,l,d);if(e=Hi(e),isNaN(p))return{stiffness:ge.stiffness,damping:ge.damping,duration:e};{const g=Math.pow(p,2)*s;return{stiffness:g,damping:c*2*Math.sqrt(s*g),duration:e}}}const cL=12;function hL(e,t,n){let s=n;for(let o=1;o<cL;o++)s=s-e(s)/t(s);return s}function hg(e,t){return e*Math.sqrt(1-t*t)}const fL=["duration","bounce"],dL=["stiffness","damping","mass"];function AS(e,t){return t.some(n=>e[n]!==void 0)}function mL(e){let t={velocity:ge.velocity,stiffness:ge.stiffness,damping:ge.damping,mass:ge.mass,isResolvedFromDuration:!1,...e};if(!AS(e,dL)&&AS(e,fL))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,l=2*As(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:ge.mass,stiffness:o,damping:l}}else{const n=uL(e);t={...t,...n,mass:ge.mass},t.isResolvedFromDuration=!0}return t}function xf(e=ge.visualDuration,t=ge.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:o}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:p,damping:g,mass:y,duration:_,velocity:S,isResolvedFromDuration:R}=mL({...n,velocity:-Kn(n.velocity||0)}),M=S||0,U=g/(2*Math.sqrt(p*y)),k=c-l,j=Kn(Math.sqrt(p/y)),G=Math.abs(k)<5;s||(s=G?ge.restSpeed.granular:ge.restSpeed.default),o||(o=G?ge.restDelta.granular:ge.restDelta.default);let Y;if(U<1){const tt=hg(j,U);Y=at=>{const C=Math.exp(-U*j*at);return c-C*((M+U*j*k)/tt*Math.sin(tt*at)+k*Math.cos(tt*at))}}else if(U===1)Y=tt=>c-Math.exp(-j*tt)*(k+(M+j*k)*tt);else{const tt=j*Math.sqrt(U*U-1);Y=at=>{const C=Math.exp(-U*j*at),w=Math.min(tt*at,300);return c-C*((M+U*j*k)*Math.sinh(w)+tt*k*Math.cosh(w))/tt}}const rt={calculatedDuration:R&&_||null,next:tt=>{const at=Y(tt);if(R)d.done=tt>=_;else{let C=tt===0?M:0;U<1&&(C=tt===0?Hi(M):Fw(Y,tt,at));const w=Math.abs(C)<=s,I=Math.abs(c-at)<=o;d.done=w&&I}return d.value=d.done?c:at,d},toString:()=>{const tt=Math.min(Ky(rt),If),at=jw(C=>rt.next(tt*C).value,tt,30);return tt+"ms "+at},toTransition:()=>{}};return rt}xf.applyToOptions=e=>{const t=oL(e,100,xf);return e.ease=t.ease,e.duration=Hi(t.duration),e.type="keyframes",e};function fg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:p,restDelta:g=.5,restSpeed:y}){const _=e[0],S={done:!1,value:_},R=w=>d!==void 0&&w<d||p!==void 0&&w>p,M=w=>d===void 0?p:p===void 0||Math.abs(d-w)<Math.abs(p-w)?d:p;let U=n*t;const k=_+U,j=c===void 0?k:c(k);j!==k&&(U=j-_);const G=w=>-U*Math.exp(-w/s),Y=w=>j+G(w),rt=w=>{const I=G(w),O=Y(w);S.done=Math.abs(I)<=g,S.value=S.done?j:O};let tt,at;const C=w=>{R(S.value)&&(tt=w,at=xf({keyframes:[S.value,M(S.value)],velocity:Fw(Y,w,S.value),damping:o,stiffness:l,restDelta:g,restSpeed:y}))};return C(0),{calculatedDuration:null,next:w=>{let I=!1;return!at&&tt===void 0&&(I=!0,rt(w),C(w)),tt!==void 0&&w>=tt?at.next(w-tt):(!I&&rt(w),S)}}}function pL(e,t,n){const s=[],o=n||bs.mix||Bw,l=e.length-1;for(let c=0;c<l;c++){let d=o(e[c],e[c+1]);if(t){const p=Array.isArray(t)?t[c]||Yn:t;d=Ju(p,d)}s.push(d)}return s}function gL(e,t,{clamp:n=!0,ease:s,mixer:o}={}){const l=e.length;if(Ly(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=pL(t,s,o),p=d.length,g=y=>{if(c&&y<e[0])return t[0];let _=0;if(p>1)for(;_<e.length-2&&!(y<e[_+1]);_++);const S=Ou(e[_],e[_+1],y);return d[_](S)};return n?y=>g(As(e[0],e[l-1],y)):g}function yL(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const o=Ou(0,t,s);e.push(ce(n,1,o))}}function vL(e){const t=[0];return yL(t,e.length-1),t}function _L(e,t){return e.map(n=>n*t)}function TL(e,t){return e.map(()=>t||Dw).splice(0,e.length-1)}function Tu({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const o=V4(s)?s.map(vS):vS(s),l={done:!1,value:t[0]},c=_L(n&&n.length===t.length?n:vL(t),e),d=gL(c,t,{ease:Array.isArray(o)?o:TL(t,o)});return{calculatedDuration:e,next:p=>(l.value=d(p),l.done=p>=e,l)}}const EL=e=>e!==null;function Yy(e,{repeat:t,repeatType:n="loop"},s,o=1){const l=e.filter(EL),d=o<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const SL={decay:fg,inertia:fg,tween:Tu,keyframes:Tu,spring:xf};function Hw(e){typeof e.type=="string"&&(e.type=SL[e.type])}class Qy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const AL=e=>e/100;class Xy extends Qy{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Tn.now()&&this.tick(Tn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Hw(t);const{type:n=Tu,repeat:s=0,repeatDelay:o=0,repeatType:l,velocity:c=0}=t;let{keyframes:d}=t;const p=n||Tu;p!==Tu&&typeof d[0]!="number"&&(this.mixKeyframes=Ju(AL,Bw(d[0],d[1])),d=[0,100]);const g=p({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...d].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Ky(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=g}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:o,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:p}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:y,repeat:_,repeatType:S,repeatDelay:R,type:M,onUpdate:U,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const j=this.currentTime-g*(this.playbackSpeed>=0?1:-1),G=this.playbackSpeed>=0?j<0:j>o;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let Y=this.currentTime,rt=s;if(_){const w=Math.min(this.currentTime,o)/d;let I=Math.floor(w),O=w%1;!O&&w>=1&&(O=1),O===1&&I--,I=Math.min(I,_+1),!!(I%2)&&(S==="reverse"?(O=1-O,R&&(O-=R/d)):S==="mirror"&&(rt=c)),Y=As(0,1,O)*d}const tt=G?{done:!1,value:y[0]}:rt.next(Y);l&&(tt.value=l(tt.value));let{done:at}=tt;!G&&p!==null&&(at=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&at);return C&&M!==fg&&(tt.value=Yy(y,this.options,k,this.speed)),U&&U(tt.value),C&&this.finish(),tt}then(t,n){return this.finished.then(t,n)}get duration(){return Kn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Kn(t)}get time(){return Kn(this.currentTime)}set time(t){t=Hi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Tn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Kn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=aL,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Tn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function bL(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ca=e=>e*180/Math.PI,dg=e=>{const t=ca(Math.atan2(e[1],e[0]));return mg(t)},wL={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:dg,rotateZ:dg,skewX:e=>ca(Math.atan(e[1])),skewY:e=>ca(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},mg=e=>(e=e%360,e<0&&(e+=360),e),bS=dg,wS=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),RS=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),RL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:wS,scaleY:RS,scale:e=>(wS(e)+RS(e))/2,rotateX:e=>mg(ca(Math.atan2(e[6],e[5]))),rotateY:e=>mg(ca(Math.atan2(-e[2],e[0]))),rotateZ:bS,rotate:bS,skewX:e=>ca(Math.atan(e[4])),skewY:e=>ca(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function pg(e){return e.includes("scale")?1:0}function gg(e,t){if(!e||e==="none")return pg(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(n)s=RL,o=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=wL,o=d}if(!o)return pg(t);const l=s[t],c=o[1].split(",").map(IL);return typeof l=="function"?l(c):c[l]}const CL=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return gg(n,t)};function IL(e){return parseFloat(e.trim())}const Wo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Zo=new Set(Wo),CS=e=>e===$o||e===Tt,xL=new Set(["x","y","z"]),DL=Wo.filter(e=>!xL.has(e));function VL(e){const t=[];return DL.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const da={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>gg(t,"x"),y:(e,{transform:t})=>gg(t,"y")};da.translateX=da.x;da.translateY=da.y;const ma=new Set;let yg=!1,vg=!1,_g=!1;function qw(){if(vg){const e=Array.from(ma).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const o=VL(s);o.length&&(n.set(s,o),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}vg=!1,yg=!1,ma.forEach(e=>e.complete(_g)),ma.clear()}function Gw(){ma.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(vg=!0)})}function ML(){_g=!0,Gw(),qw(),_g=!1}class $y{constructor(t,n,s,o,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=o,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ma.add(this),yg||(yg=!0,le.read(Gw),le.resolveKeyframes(qw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:o}=this;if(t[0]===null){const l=o?.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(s&&n){const d=s.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),o&&l===void 0&&o.set(t[0])}bL(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ma.delete(this)}cancel(){this.state==="scheduled"&&(ma.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const NL=e=>e.startsWith("--");function OL(e,t,n){NL(t)?e.style.setProperty(t,n):e.style[t]=n}const PL=ky(()=>window.ScrollTimeline!==void 0),LL={};function kL(e,t){const n=ky(e);return()=>LL[t]??n()}const Kw=kL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),hu=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,IS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:hu([0,.65,.55,1]),circOut:hu([.55,0,1,.45]),backIn:hu([.31,.01,.66,-.59]),backOut:hu([.33,1.53,.69,.99])};function Yw(e,t){if(e)return typeof e=="function"?Kw()?jw(e,t):"ease-out":Vw(e)?hu(e):Array.isArray(e)?e.map(n=>Yw(n,t)||IS.easeOut):IS[e]}function UL(e,t,n,{delay:s=0,duration:o=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:p}={},g=void 0){const y={[t]:n};p&&(y.offset=p);const _=Yw(d,o);Array.isArray(_)&&(y.easing=_);const S={delay:s,duration:o,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return g&&(S.pseudoElement=g),e.animate(y,S)}function Qw(e){return typeof e=="function"&&"applyToOptions"in e}function zL({type:e,...t}){return Qw(e)&&Kw()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class BL extends Qy{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:o,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:p}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,Ly(typeof t.type!="string");const g=zL(t);this.animation=UL(n,s,o,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=Yy(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):OL(n,s,y),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Kn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Kn(t)}get time(){return Kn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Hi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&PL()?(this.animation.timeline=t,Yn):n(this)}}const Xw={anticipate:Cw,backInOut:Rw,circInOut:xw};function jL(e){return e in Xw}function FL(e){typeof e.ease=="string"&&jL(e.ease)&&(e.ease=Xw[e.ease])}const xS=10;class HL extends BL{constructor(t){FL(t),Hw(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:o,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new Xy({...c,autoplay:!1}),p=Hi(this.finishedTime??this.time);n.setWithVelocity(d.sample(p-xS).value,d.sample(p).value,xS),d.stop()}}const DS=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(wr.test(e)||e==="0")&&!e.startsWith("url("));function qL(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function GL(e,t,n,s){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=DS(o,t),d=DS(l,t);return!c||!d?!1:qL(e)||(n==="spring"||Qw(n))&&s}function Tg(e){e.duration=0,e.type="keyframes"}const KL=new Set(["opacity","clipPath","filter","transform"]),YL=ky(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function QL(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:o,damping:l,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return YL()&&n&&KL.has(n)&&(n!=="transform"||!g)&&!p&&!s&&o!=="mirror"&&l!==0&&c!=="inertia"}const XL=40;class $L extends Qy{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:p,motionValue:g,element:y,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Tn.now();const S={autoplay:t,delay:n,type:s,repeat:o,repeatDelay:l,repeatType:c,name:p,motionValue:g,element:y,..._},R=y?.KeyframeResolver||$y;this.keyframeResolver=new R(d,(M,U,k)=>this.onKeyframesResolved(M,U,S,!k),p,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,s,o){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:p,isHandoff:g,onUpdate:y}=s;this.resolvedAt=Tn.now(),GL(t,l,c,d)||((bs.instantAnimations||!p)&&y?.(Yy(t,s,n)),t[0]=t[t.length-1],Tg(s),s.repeat=0);const S={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>XL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},R=!g&&QL(S)?new HL({...S,element:S.motionValue.owner.current}):new Xy(S);R.finished.then(()=>this.notifyFinished()).catch(Yn),this.pendingTimeline&&(this.stopTimeline=R.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=R}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),ML()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const WL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ZL(e){const t=WL.exec(e);if(!t)return[,];const[,n,s,o]=t;return[`--${n??s}`,o]}function $w(e,t,n=1){const[s,o]=ZL(e);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const c=l.trim();return vw(c)?parseFloat(c):c}return Fy(o)?$w(o,t,n+1):o}function Wy(e,t){return e?.[t]??e?.default??e}const Ww=new Set(["width","height","top","left","right","bottom",...Wo]),JL={test:e=>e==="auto",parse:e=>e},Zw=e=>t=>t.test(e),Jw=[$o,Tt,qi,lr,q4,H4,JL],VS=e=>Jw.find(Zw(e));function t3(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Tw(e):!0}const e3=new Set(["brightness","contrast","saturate","opacity"]);function n3(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Hy)||[];if(!s)return e;const o=n.replace(s,"");let l=e3.has(t)?1:0;return s!==n&&(l*=100),t+"("+l+o+")"}const i3=/\b([a-z-]*)\(.*?\)/gu,Eg={...wr,getAnimatableNone:e=>{const t=e.match(i3);return t?t.map(n3).join(" "):e}},MS={...$o,transform:Math.round},s3={rotate:lr,rotateX:lr,rotateY:lr,rotateZ:lr,scale:Bh,scaleX:Bh,scaleY:Bh,scaleZ:Bh,skew:lr,skewX:lr,skewY:lr,distance:Tt,translateX:Tt,translateY:Tt,translateZ:Tt,x:Tt,y:Tt,z:Tt,perspective:Tt,transformPerspective:Tt,opacity:Pu,originX:_S,originY:_S,originZ:Tt},Zy={borderWidth:Tt,borderTopWidth:Tt,borderRightWidth:Tt,borderBottomWidth:Tt,borderLeftWidth:Tt,borderRadius:Tt,radius:Tt,borderTopLeftRadius:Tt,borderTopRightRadius:Tt,borderBottomRightRadius:Tt,borderBottomLeftRadius:Tt,width:Tt,maxWidth:Tt,height:Tt,maxHeight:Tt,top:Tt,right:Tt,bottom:Tt,left:Tt,padding:Tt,paddingTop:Tt,paddingRight:Tt,paddingBottom:Tt,paddingLeft:Tt,margin:Tt,marginTop:Tt,marginRight:Tt,marginBottom:Tt,marginLeft:Tt,backgroundPositionX:Tt,backgroundPositionY:Tt,...s3,zIndex:MS,fillOpacity:Pu,strokeOpacity:Pu,numOctaves:MS},r3={...Zy,color:Me,backgroundColor:Me,outlineColor:Me,fill:Me,stroke:Me,borderColor:Me,borderTopColor:Me,borderRightColor:Me,borderBottomColor:Me,borderLeftColor:Me,filter:Eg,WebkitFilter:Eg},tR=e=>r3[e];function eR(e,t){let n=tR(e);return n!==Eg&&(n=wr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const a3=new Set(["auto","none","0"]);function o3(e,t,n){let s=0,o;for(;s<e.length&&!o;){const l=e[s];typeof l=="string"&&!a3.has(l)&&Lu(l).values.length&&(o=e[s]),s++}if(o&&n)for(const l of t)e[l]=eR(n,o)}class l3 extends $y{constructor(t,n,s,o,l){super(t,n,s,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),Fy(g))){const y=$w(g,n.current);y!==void 0&&(t[p]=y),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!Ww.has(s)||t.length!==2)return;const[o,l]=t,c=VS(o),d=VS(l);if(c!==d)if(CS(c)&&CS(d))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else da[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let o=0;o<t.length;o++)(t[o]===null||t3(t[o]))&&s.push(o);s.length&&o3(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=da[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(s,o).jump(o,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=da[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,p])=>{t.getValue(d).set(p)}),this.resolveNoneKeyframes()}}function u3(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const o=n?.[e]??s.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const nR=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function iR(e){return _w(e)&&"offsetHeight"in e}const NS=30,c3=e=>!isNaN(parseFloat(e));class h3{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const o=Tn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Tn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=c3(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Uy);const s=this.events[t].add(n);return t==="change"?()=>{s(),le.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Tn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>NS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,NS);return Ew(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Bo(e,t){return new h3(e,t)}const{schedule:Jy}=Mw(queueMicrotask,!1),ci={x:!1,y:!1};function sR(){return ci.x||ci.y}function f3(e){return e==="x"||e==="y"?ci[e]?null:(ci[e]=!0,()=>{ci[e]=!1}):ci.x||ci.y?null:(ci.x=ci.y=!0,()=>{ci.x=ci.y=!1})}function rR(e,t){const n=u3(e),s=new AbortController,o={passive:!0,...t,signal:s.signal};return[n,o,()=>s.abort()]}function OS(e){return!(e.pointerType==="touch"||sR())}function d3(e,t,n={}){const[s,o,l]=rR(e,n),c=d=>{if(!OS(d))return;const{target:p}=d,g=t(p,d);if(typeof g!="function"||!p)return;const y=_=>{OS(_)&&(g(_),p.removeEventListener("pointerleave",y))};p.addEventListener("pointerleave",y,o)};return s.forEach(d=>{d.addEventListener("pointerenter",c,o)}),l}const aR=(e,t)=>t?e===t?!0:aR(e,t.parentElement):!1,tv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,m3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function p3(e){return m3.has(e.tagName)||e.tabIndex!==-1}const nf=new WeakSet;function PS(e){return t=>{t.key==="Enter"&&e(t)}}function Rp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const g3=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=PS(()=>{if(nf.has(n))return;Rp(n,"down");const o=PS(()=>{Rp(n,"up")}),l=()=>Rp(n,"cancel");n.addEventListener("keyup",o,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function LS(e){return tv(e)&&!sR()}function y3(e,t,n={}){const[s,o,l]=rR(e,n),c=d=>{const p=d.currentTarget;if(!LS(d))return;nf.add(p);const g=t(p,d),y=(R,M)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",S),nf.has(p)&&nf.delete(p),LS(R)&&typeof g=="function"&&g(R,{success:M})},_=R=>{y(R,p===window||p===document||n.useGlobalTarget||aR(p,R.target))},S=R=>{y(R,!1)};window.addEventListener("pointerup",_,o),window.addEventListener("pointercancel",S,o)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,o),iR(d)&&(d.addEventListener("focus",g=>g3(g,o)),!p3(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function oR(e){return _w(e)&&"ownerSVGElement"in e}function v3(e){return oR(e)&&e.tagName==="svg"}const an=e=>!!(e&&e.getVelocity),_3=[...Jw,Me,wr],T3=e=>_3.find(Zw(e)),ev=V.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function kS(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function E3(...e){return t=>{let n=!1;const s=e.map(o=>{const l=kS(o,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let o=0;o<s.length;o++){const l=s[o];typeof l=="function"?l():kS(e[o],null)}}}}function S3(...e){return V.useCallback(E3(...e),e)}class A3 extends V.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,o=iR(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=o-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function b3({children:e,isPresent:t,anchorX:n,root:s}){const o=V.useId(),l=V.useRef(null),c=V.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=V.useContext(ev),p=S3(l,e?.ref);return V.useInsertionEffect(()=>{const{width:g,height:y,top:_,left:S,right:R}=c.current;if(t||!l.current||!g||!y)return;const M=n==="left"?`left: ${S}`:`right: ${R}`;l.current.dataset.motionPopId=o;const U=document.createElement("style");d&&(U.nonce=d);const k=s??document.head;return k.appendChild(U),U.sheet&&U.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${y}px !important;
            ${M}px !important;
            top: ${_}px !important;
          }
        `),()=>{k.contains(U)&&k.removeChild(U)}},[t]),Z.jsx(A3,{isPresent:t,childRef:l,sizeRef:c,children:V.cloneElement(e,{ref:p})})}const w3=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:o,presenceAffectsLayout:l,mode:c,anchorX:d,root:p})=>{const g=My(R3),y=V.useId();let _=!0,S=V.useMemo(()=>(_=!1,{id:y,initial:t,isPresent:n,custom:o,onExitComplete:R=>{g.set(R,!0);for(const M of g.values())if(!M)return;s&&s()},register:R=>(g.set(R,!1),()=>g.delete(R))}),[n,g,s]);return l&&_&&(S={...S}),V.useMemo(()=>{g.forEach((R,M)=>g.set(M,!1))},[n]),V.useEffect(()=>{!n&&!g.size&&s&&s()},[n]),c==="popLayout"&&(e=Z.jsx(b3,{isPresent:n,anchorX:d,root:p,children:e})),Z.jsx(Wf.Provider,{value:S,children:e})};function R3(){return new Map}function lR(e=!0){const t=V.useContext(Wf);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=t,l=V.useId();V.useEffect(()=>{if(e)return o(l)},[e]);const c=V.useCallback(()=>e&&s&&s(l),[l,s,e]);return!n&&s?[!1,c]:[!0]}const jh=e=>e.key||"";function US(e){const t=[];return V.Children.forEach(e,n=>{V.isValidElement(n)&&t.push(n)}),t}const uR=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",root:p})=>{const[g,y]=lR(c),_=V.useMemo(()=>US(e),[e]),S=c&&!g?[]:_.map(jh),R=V.useRef(!0),M=V.useRef(_),U=My(()=>new Map),[k,j]=V.useState(_),[G,Y]=V.useState(_);yw(()=>{R.current=!1,M.current=_;for(let at=0;at<G.length;at++){const C=jh(G[at]);S.includes(C)?U.delete(C):U.get(C)!==!0&&U.set(C,!1)}},[G,S.length,S.join("-")]);const rt=[];if(_!==k){let at=[..._];for(let C=0;C<G.length;C++){const w=G[C],I=jh(w);S.includes(I)||(at.splice(C,0,w),rt.push(w))}return l==="wait"&&rt.length&&(at=rt),Y(US(at)),j(_),null}const{forceRender:tt}=V.useContext(Vy);return Z.jsx(Z.Fragment,{children:G.map(at=>{const C=jh(at),w=c&&!g?!1:_===G||S.includes(C),I=()=>{if(U.has(C))U.set(C,!0);else return;let O=!0;U.forEach(N=>{N||(O=!1)}),O&&(tt?.(),Y(M.current),c&&y?.(),s&&s())};return Z.jsx(w3,{isPresent:w,initial:!R.current||n?void 0:!1,custom:t,presenceAffectsLayout:o,mode:l,root:p,onExitComplete:w?void 0:I,anchorX:d,children:at},C)})})},cR=V.createContext({strict:!1}),zS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},jo={};for(const e in zS)jo[e]={isEnabled:t=>zS[e].some(n=>!!t[n])};function C3(e){for(const t in e)jo[t]={...jo[t],...e[t]}}const I3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Df(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||I3.has(e)}let hR=e=>!Df(e);function x3(e){typeof e=="function"&&(hR=t=>t.startsWith("on")?!Df(t):e(t))}try{x3(require("@emotion/is-prop-valid").default)}catch{}function D3(e,t,n){const s={};for(const o in e)o==="values"&&typeof e.values=="object"||(hR(o)||n===!0&&Df(o)||!t&&!Df(o)||e.draggable&&o.startsWith("onDrag"))&&(s[o]=e[o]);return s}const Zf=V.createContext({});function Jf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function ku(e){return typeof e=="string"||Array.isArray(e)}const nv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],iv=["initial",...nv];function td(e){return Jf(e.animate)||iv.some(t=>ku(e[t]))}function fR(e){return!!(td(e)||e.variants)}function V3(e,t){if(td(e)){const{initial:n,animate:s}=e;return{initial:n===!1||ku(n)?n:void 0,animate:ku(s)?s:void 0}}return e.inherit!==!1?t:{}}function M3(e){const{initial:t,animate:n}=V3(e,V.useContext(Zf));return V.useMemo(()=>({initial:t,animate:n}),[BS(t),BS(n)])}function BS(e){return Array.isArray(e)?e.join(" "):e}const Uu={};function N3(e){for(const t in e)Uu[t]=e[t],jy(t)&&(Uu[t].isCSSVariable=!0)}function dR(e,{layout:t,layoutId:n}){return Zo.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Uu[e]||e==="opacity")}const O3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},P3=Wo.length;function L3(e,t,n){let s="",o=!0;for(let l=0;l<P3;l++){const c=Wo[l],d=e[c];if(d===void 0)continue;let p=!0;if(typeof d=="number"?p=d===(c.startsWith("scale")?1:0):p=parseFloat(d)===0,!p||n){const g=nR(d,Zy[c]);if(!p){o=!1;const y=O3[c]||c;s+=`${y}(${g}) `}n&&(t[c]=g)}}return s=s.trim(),n?s=n(t,o?"":s):o&&(s="none"),s}function sv(e,t,n){const{style:s,vars:o,transformOrigin:l}=e;let c=!1,d=!1;for(const p in t){const g=t[p];if(Zo.has(p)){c=!0;continue}else if(jy(p)){o[p]=g;continue}else{const y=nR(g,Zy[p]);p.startsWith("origin")?(d=!0,l[p]=y):s[p]=y}}if(t.transform||(c||n?s.transform=L3(t,e.transform,n):s.transform&&(s.transform="none")),d){const{originX:p="50%",originY:g="50%",originZ:y=0}=l;s.transformOrigin=`${p} ${g} ${y}`}}const rv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function mR(e,t,n){for(const s in t)!an(t[s])&&!dR(s,n)&&(e[s]=t[s])}function k3({transformTemplate:e},t){return V.useMemo(()=>{const n=rv();return sv(n,t,e),Object.assign({},n.vars,n.style)},[t])}function U3(e,t){const n=e.style||{},s={};return mR(s,n,e),Object.assign(s,k3(e,t)),s}function z3(e,t){const n={},s=U3(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const B3={offset:"stroke-dashoffset",array:"stroke-dasharray"},j3={offset:"strokeDashoffset",array:"strokeDasharray"};function F3(e,t,n=1,s=0,o=!0){e.pathLength=1;const l=o?B3:j3;e[l.offset]=Tt.transform(-s);const c=Tt.transform(t),d=Tt.transform(n);e[l.array]=`${c} ${d}`}function pR(e,{attrX:t,attrY:n,attrScale:s,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},p,g,y){if(sv(e,d,g),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:_,style:S}=e;_.transform&&(S.transform=_.transform,delete _.transform),(S.transform||_.transformOrigin)&&(S.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),S.transform&&(S.transformBox=y?.transformBox??"fill-box",delete _.transformBox),t!==void 0&&(_.x=t),n!==void 0&&(_.y=n),s!==void 0&&(_.scale=s),o!==void 0&&F3(_,o,l,c,!1)}const gR=()=>({...rv(),attrs:{}}),yR=e=>typeof e=="string"&&e.toLowerCase()==="svg";function H3(e,t,n,s){const o=V.useMemo(()=>{const l=gR();return pR(l,t,yR(s),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};mR(l,e.style,e),o.style={...l,...o.style}}return o}const q3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function av(e){return typeof e!="string"||e.includes("-")?!1:!!(q3.indexOf(e)>-1||/[A-Z]/u.test(e))}function G3(e,t,n,{latestValues:s},o,l=!1){const d=(av(e)?H3:z3)(t,s,o,e),p=D3(t,typeof e=="string",l),g=e!==V.Fragment?{...p,...d,ref:n}:{},{children:y}=t,_=V.useMemo(()=>an(y)?y.get():y,[y]);return V.createElement(e,{...g,children:_})}function jS(e){const t=[{},{}];return e?.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function ov(e,t,n,s){if(typeof t=="function"){const[o,l]=jS(s);t=t(n!==void 0?n:e.custom,o,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,l]=jS(s);t=t(n!==void 0?n:e.custom,o,l)}return t}function sf(e){return an(e)?e.get():e}function K3({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,o){return{latestValues:Y3(n,s,o,e),renderState:t()}}function Y3(e,t,n,s){const o={},l=s(e,{});for(const S in l)o[S]=sf(l[S]);let{initial:c,animate:d}=e;const p=td(e),g=fR(e);t&&g&&!p&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?d:c;if(_&&typeof _!="boolean"&&!Jf(_)){const S=Array.isArray(_)?_:[_];for(let R=0;R<S.length;R++){const M=ov(e,S[R]);if(M){const{transitionEnd:U,transition:k,...j}=M;for(const G in j){let Y=j[G];if(Array.isArray(Y)){const rt=y?Y.length-1:0;Y=Y[rt]}Y!==null&&(o[G]=Y)}for(const G in U)o[G]=U[G]}}}return o}const vR=e=>(t,n)=>{const s=V.useContext(Zf),o=V.useContext(Wf),l=()=>K3(e,t,s,o);return n?l():My(l)};function lv(e,t,n){const{style:s}=e,o={};for(const l in s)(an(s[l])||t.style&&an(t.style[l])||dR(l,e)||n?.getValue(l)?.liveStyle!==void 0)&&(o[l]=s[l]);return o}const Q3=vR({scrapeMotionValuesFromProps:lv,createRenderState:rv});function _R(e,t,n){const s=lv(e,t,n);for(const o in e)if(an(e[o])||an(t[o])){const l=Wo.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[l]=e[o]}return s}const X3=vR({scrapeMotionValuesFromProps:_R,createRenderState:gR}),$3=Symbol.for("motionComponentSymbol");function Ao(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function W3(e,t,n){return V.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):Ao(n)&&(n.current=s))},[t])}const uv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Z3="framerAppearId",TR="data-"+uv(Z3),ER=V.createContext({});function J3(e,t,n,s,o){const{visualElement:l}=V.useContext(Zf),c=V.useContext(cR),d=V.useContext(Wf),p=V.useContext(ev).reducedMotion,g=V.useRef(null);s=s||c.renderer,!g.current&&s&&(g.current=s(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p}));const y=g.current,_=V.useContext(ER);y&&!y.projection&&o&&(y.type==="html"||y.type==="svg")&&tk(g.current,n,o,_);const S=V.useRef(!1);V.useInsertionEffect(()=>{y&&S.current&&y.update(n,d)});const R=n[TR],M=V.useRef(!!R&&!window.MotionHandoffIsComplete?.(R)&&window.MotionHasOptimisedAnimation?.(R));return yw(()=>{y&&(S.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),M.current&&y.animationState&&y.animationState.animateChanges())}),V.useEffect(()=>{y&&(!M.current&&y.animationState&&y.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(R)}),M.current=!1),y.enteringChildren=void 0)}),y}function tk(e,t,n,s){const{layoutId:o,layout:l,drag:c,dragConstraints:d,layoutScroll:p,layoutRoot:g,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:SR(e.parent)),e.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!c||d&&Ao(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:p,layoutRoot:g})}function SR(e){if(e)return e.options.allowProjection!==!1?e.projection:SR(e.parent)}function Cp(e,{forwardMotionProps:t=!1}={},n,s){n&&C3(n);const o=av(e)?X3:Q3;function l(d,p){let g;const y={...V.useContext(ev),...d,layoutId:ek(d)},{isStatic:_}=y,S=M3(d),R=o(d,_);if(!_&&Ny){nk();const M=ik(y);g=M.MeasureLayout,S.visualElement=J3(e,R,y,s,M.ProjectionNode)}return Z.jsxs(Zf.Provider,{value:S,children:[g&&S.visualElement?Z.jsx(g,{visualElement:S.visualElement,...y}):null,G3(e,d,W3(R,S.visualElement,p),R,_,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=V.forwardRef(l);return c[$3]=e,c}function ek({layoutId:e}){const t=V.useContext(Vy).id;return t&&e!==void 0?t+"-"+e:e}function nk(e,t){V.useContext(cR).strict}function ik(e){const{drag:t,layout:n}=jo;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function sk(e,t){if(typeof Proxy>"u")return Cp;const n=new Map,s=(l,c)=>Cp(l,c,e,t),o=(l,c)=>s(l,c);return new Proxy(o,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,Cp(c,void 0,e,t)),n.get(c))})}function AR({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function rk({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function ak(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Ip(e){return e===void 0||e===1}function Sg({scale:e,scaleX:t,scaleY:n}){return!Ip(e)||!Ip(t)||!Ip(n)}function aa(e){return Sg(e)||bR(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function bR(e){return FS(e.x)||FS(e.y)}function FS(e){return e&&e!=="0%"}function Vf(e,t,n){const s=e-n,o=t*s;return n+o}function HS(e,t,n,s,o){return o!==void 0&&(e=Vf(e,o,s)),Vf(e,n,s)+t}function Ag(e,t=0,n=1,s,o){e.min=HS(e.min,t,n,s,o),e.max=HS(e.max,t,n,s,o)}function wR(e,{x:t,y:n}){Ag(e.x,t.translate,t.scale,t.originPoint),Ag(e.y,n.translate,n.scale,n.originPoint)}const qS=.999999999999,GS=1.0000000000001;function ok(e,t,n,s=!1){const o=n.length;if(!o)return;t.x=t.y=1;let l,c;for(let d=0;d<o;d++){l=n[d],c=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&wo(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,wR(e,c)),s&&aa(l.latestValues)&&wo(e,l.latestValues))}t.x<GS&&t.x>qS&&(t.x=1),t.y<GS&&t.y>qS&&(t.y=1)}function bo(e,t){e.min=e.min+t,e.max=e.max+t}function KS(e,t,n,s,o=.5){const l=ce(e.min,e.max,o);Ag(e,t,n,l,s)}function wo(e,t){KS(e.x,t.x,t.scaleX,t.scale,t.originX),KS(e.y,t.y,t.scaleY,t.scale,t.originY)}function RR(e,t){return AR(ak(e.getBoundingClientRect(),t))}function lk(e,t,n){const s=RR(e,n),{scroll:o}=t;return o&&(bo(s.x,o.offset.x),bo(s.y,o.offset.y)),s}const YS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ro=()=>({x:YS(),y:YS()}),QS=()=>({min:0,max:0}),ke=()=>({x:QS(),y:QS()}),bg={current:null},CR={current:!1};function uk(){if(CR.current=!0,!!Ny)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>bg.current=e.matches;e.addEventListener("change",t),t()}else bg.current=!1}const ck=new WeakMap;function hk(e,t,n){for(const s in t){const o=t[s],l=n[s];if(an(o))e.addValue(s,o);else if(an(l))e.addValue(s,Bo(o,{owner:e}));else if(l!==o)if(e.hasValue(s)){const c=e.getValue(s);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=e.getStaticValue(s);e.addValue(s,Bo(c!==void 0?c:o,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const XS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class fk{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=$y,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=Tn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,le.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=td(n),this.isVariantNode=fR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in _){const R=_[S];p[S]!==void 0&&an(R)&&R.set(p[S])}}mount(t){this.current=t,ck.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),CR.current||uk(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:bg.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),br(this.notifyUpdate),br(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Zo.has(t);s&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&le.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in jo){const n=jo[t];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[t]&&o&&s(this.props)&&(this.features[t]=new o(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ke()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<XS.length;s++){const o=XS[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,c=t[l];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=hk(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Bo(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(vw(s)||Tw(s))?s=parseFloat(s):!T3(s)&&wr.test(n)&&(s=eR(t,n)),this.setBaseTarget(t,an(s)?s.get():s)),an(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=ov(this.props,n,this.presenceContext?.custom);l&&(s=l[t])}if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!an(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Uy),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Jy.render(this.render)}}class IR extends fk{constructor(){super(...arguments),this.KeyframeResolver=l3}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;an(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function xR(e,{style:t,vars:n},s,o){const l=e.style;let c;for(c in t)l[c]=t[c];o?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function dk(e){return window.getComputedStyle(e)}class mk extends IR{constructor(){super(...arguments),this.type="html",this.renderInstance=xR}readValueFromInstance(t,n){if(Zo.has(n))return this.projection?.isProjecting?pg(n):CL(t,n);{const s=dk(t),o=(jy(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return RR(t,n)}build(t,n,s){sv(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return lv(t,n,s)}}const DR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function pk(e,t,n,s){xR(e,t,void 0,s);for(const o in t.attrs)e.setAttribute(DR.has(o)?o:uv(o),t.attrs[o])}class gk extends IR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ke}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Zo.has(n)){const s=tR(n);return s&&s.default||0}return n=DR.has(n)?n:uv(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return _R(t,n,s)}build(t,n,s){pR(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,o){pk(t,n,s,o)}mount(t){this.isSVGTag=yR(t.tagName),super.mount(t)}}const yk=(e,t)=>av(e)?new gk(t):new mk(t,{allowProjection:e!==V.Fragment});function Vo(e,t,n){const s=e.getProps();return ov(s,t,n!==void 0?n:s.custom,e)}const wg=e=>Array.isArray(e);function vk(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Bo(n))}function _k(e){return wg(e)?e[e.length-1]||0:e}function Tk(e,t){const n=Vo(e,t);let{transitionEnd:s={},transition:o={},...l}=n||{};l={...l,...s};for(const c in l){const d=_k(l[c]);vk(e,c,d)}}function Ek(e){return!!(an(e)&&e.add)}function Rg(e,t){const n=e.getValue("willChange");if(Ek(n))return n.add(t);if(!n&&bs.WillChange){const s=new bs.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function VR(e){return e.props[TR]}const Sk=e=>e!==null;function Ak(e,{repeat:t,repeatType:n="loop"},s){const o=e.filter(Sk),l=t&&n!=="loop"&&t%2===1?0:o.length-1;return o[l]}const bk={type:"spring",stiffness:500,damping:25,restSpeed:10},wk=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Rk={type:"keyframes",duration:.8},Ck={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ik=(e,{keyframes:t})=>t.length>2?Rk:Zo.has(e)?e.startsWith("scale")?wk(t[1]):bk:Ck;function xk({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:d,from:p,elapsed:g,...y}){return!!Object.keys(y).length}const cv=(e,t,n,s={},o,l)=>c=>{const d=Wy(s,e)||{},p=d.delay||s.delay||0;let{elapsed:g=0}=s;g=g-Hi(p);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:S=>{t.set(S),d.onUpdate&&d.onUpdate(S)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:o};xk(d)||Object.assign(y,Ik(e,y)),y.duration&&(y.duration=Hi(y.duration)),y.repeatDelay&&(y.repeatDelay=Hi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Tg(y),y.delay===0&&(_=!0)),(bs.instantAnimations||bs.skipAnimations)&&(_=!0,Tg(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,_&&!l&&t.get()!==void 0){const S=Ak(y.keyframes,d);if(S!==void 0){le.update(()=>{y.onUpdate(S),y.onComplete()});return}}return d.isSync?new Xy(y):new $L(y)};function Dk({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function MR(e,t,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...d}=t;s&&(l=s);const p=[],g=o&&e.animationState&&e.animationState.getState()[o];for(const y in d){const _=e.getValue(y,e.latestValues[y]??null),S=d[y];if(S===void 0||g&&Dk(g,y))continue;const R={delay:n,...Wy(l||{},y)},M=_.get();if(M!==void 0&&!_.isAnimating&&!Array.isArray(S)&&S===M&&!R.velocity)continue;let U=!1;if(window.MotionHandoffAnimation){const j=VR(e);if(j){const G=window.MotionHandoffAnimation(j,y,le);G!==null&&(R.startTime=G,U=!0)}}Rg(e,y),_.start(cv(y,_,S,e.shouldReduceMotion&&Ww.has(y)?{type:!1}:R,e,U));const k=_.animation;k&&p.push(k)}return c&&Promise.all(p).then(()=>{le.update(()=>{c&&Tk(e,c)})}),p}function NR(e,t,n,s=0,o=1){const l=Array.from(e).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),c=e.size,d=(c-1)*s;return typeof n=="function"?n(l,c):o===1?l*s:d-l*s}function Cg(e,t,n={}){const s=Vo(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const l=s?()=>Promise.all(MR(e,s,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:_}=o;return Vk(e,t,p,g,y,_,n)}:()=>Promise.resolve(),{when:d}=o;if(d){const[p,g]=d==="beforeChildren"?[l,c]:[c,l];return p().then(()=>g())}else return Promise.all([l(),c(n.delay)])}function Vk(e,t,n=0,s=0,o=0,l=1,c){const d=[];for(const p of e.variantChildren)p.notify("AnimationStart",t),d.push(Cg(p,t,{...c,delay:n+(typeof s=="function"?0:s)+NR(e.variantChildren,p,s,o,l)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(d)}function Mk(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const o=t.map(l=>Cg(e,l,n));s=Promise.all(o)}else if(typeof t=="string")s=Cg(e,t,n);else{const o=typeof t=="function"?Vo(e,t,n.custom):t;s=Promise.all(MR(e,o,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function OR(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const Nk=iv.length;function PR(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?PR(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Nk;n++){const s=iv[n],o=e.props[s];(ku(o)||o===!1)&&(t[s]=o)}return t}const Ok=[...nv].reverse(),Pk=nv.length;function Lk(e){return t=>Promise.all(t.map(({animation:n,options:s})=>Mk(e,n,s)))}function kk(e){let t=Lk(e),n=$S(),s=!0;const o=p=>(g,y)=>{const _=Vo(e,y,p==="exit"?e.presenceContext?.custom:void 0);if(_){const{transition:S,transitionEnd:R,...M}=_;g={...g,...M,...R}}return g};function l(p){t=p(e)}function c(p){const{props:g}=e,y=PR(e.parent)||{},_=[],S=new Set;let R={},M=1/0;for(let k=0;k<Pk;k++){const j=Ok[k],G=n[j],Y=g[j]!==void 0?g[j]:y[j],rt=ku(Y),tt=j===p?G.isActive:null;tt===!1&&(M=k);let at=Y===y[j]&&Y!==g[j]&&rt;if(at&&s&&e.manuallyAnimateOnMount&&(at=!1),G.protectedKeys={...R},!G.isActive&&tt===null||!Y&&!G.prevProp||Jf(Y)||typeof Y=="boolean")continue;const C=Uk(G.prevProp,Y);let w=C||j===p&&G.isActive&&!at&&rt||k>M&&rt,I=!1;const O=Array.isArray(Y)?Y:[Y];let N=O.reduce(o(j),{});tt===!1&&(N={});const{prevResolvedValues:B={}}=G,x={...B,...N},te=ot=>{w=!0,S.has(ot)&&(I=!0,S.delete(ot)),G.needsAnimating[ot]=!0;const ft=e.getValue(ot);ft&&(ft.liveStyle=!1)};for(const ot in x){const ft=N[ot],It=B[ot];if(R.hasOwnProperty(ot))continue;let Nt=!1;wg(ft)&&wg(It)?Nt=!OR(ft,It):Nt=ft!==It,Nt?ft!=null?te(ot):S.add(ot):ft!==void 0&&S.has(ot)?te(ot):G.protectedKeys[ot]=!0}G.prevProp=Y,G.prevResolvedValues=N,G.isActive&&(R={...R,...N}),s&&e.blockInitialAnimation&&(w=!1);const de=at&&C;w&&(!de||I)&&_.push(...O.map(ot=>{const ft={type:j};if(typeof ot=="string"&&s&&!de&&e.manuallyAnimateOnMount&&e.parent){const{parent:It}=e,Nt=Vo(It,ot);if(It.enteringChildren&&Nt){const{delayChildren:L}=Nt.transition||{};ft.delay=NR(It.enteringChildren,e,L)}}return{animation:ot,options:ft}}))}if(S.size){const k={};if(typeof g.initial!="boolean"){const j=Vo(e,Array.isArray(g.initial)?g.initial[0]:g.initial);j&&j.transition&&(k.transition=j.transition)}S.forEach(j=>{const G=e.getBaseTarget(j),Y=e.getValue(j);Y&&(Y.liveStyle=!0),k[j]=G??null}),_.push({animation:k})}let U=!!_.length;return s&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(U=!1),s=!1,U?t(_):Promise.resolve()}function d(p,g){if(n[p].isActive===g)return Promise.resolve();e.variantChildren?.forEach(_=>_.animationState?.setActive(p,g)),n[p].isActive=g;const y=c(p);for(const _ in n)n[_].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=$S()}}}function Uk(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!OR(t,e):!1}function sa(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function $S(){return{animate:sa(!0),whileInView:sa(),whileHover:sa(),whileTap:sa(),whileDrag:sa(),whileFocus:sa(),exit:sa()}}class Rr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class zk extends Rr{constructor(t){super(t),t.animationState||(t.animationState=kk(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Jf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Bk=0;class jk extends Rr{constructor(){super(...arguments),this.id=Bk++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Fk={animation:{Feature:zk},exit:{Feature:jk}};function zu(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function nc(e){return{point:{x:e.pageX,y:e.pageY}}}const Hk=e=>t=>tv(t)&&e(t,nc(t));function Eu(e,t,n,s){return zu(e,t,Hk(n),s)}const LR=1e-4,qk=1-LR,Gk=1+LR,kR=.01,Kk=0-kR,Yk=0+kR;function hn(e){return e.max-e.min}function Qk(e,t,n){return Math.abs(e-t)<=n}function WS(e,t,n,s=.5){e.origin=s,e.originPoint=ce(t.min,t.max,e.origin),e.scale=hn(n)/hn(t),e.translate=ce(n.min,n.max,e.origin)-e.originPoint,(e.scale>=qk&&e.scale<=Gk||isNaN(e.scale))&&(e.scale=1),(e.translate>=Kk&&e.translate<=Yk||isNaN(e.translate))&&(e.translate=0)}function Su(e,t,n,s){WS(e.x,t.x,n.x,s?s.originX:void 0),WS(e.y,t.y,n.y,s?s.originY:void 0)}function ZS(e,t,n){e.min=n.min+t.min,e.max=e.min+hn(t)}function Xk(e,t,n){ZS(e.x,t.x,n.x),ZS(e.y,t.y,n.y)}function JS(e,t,n){e.min=t.min-n.min,e.max=e.min+hn(t)}function Mf(e,t,n){JS(e.x,t.x,n.x),JS(e.y,t.y,n.y)}function Hn(e){return[e("x"),e("y")]}const UR=({current:e})=>e?e.ownerDocument.defaultView:null,tA=(e,t)=>Math.abs(e-t);function $k(e,t){const n=tA(e.x,t.x),s=tA(e.y,t.y);return Math.sqrt(n**2+s**2)}class zR{constructor(t,n,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Dp(this.lastMoveEventInfo,this.history),R=this.startEvent!==null,M=$k(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!R&&!M)return;const{point:U}=S,{timestamp:k}=We;this.history.push({...U,timestamp:k});const{onStart:j,onMove:G}=this.handlers;R||(j&&j(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),G&&G(this.lastMoveEvent,S)},this.handlePointerMove=(S,R)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=xp(R,this.transformPagePoint),le.update(this.updatePoint,!0)},this.handlePointerUp=(S,R)=>{this.end();const{onEnd:M,onSessionEnd:U,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=Dp(S.type==="pointercancel"?this.lastMoveEventInfo:xp(R,this.transformPagePoint),this.history);this.startEvent&&M&&M(S,j),U&&U(S,j)},!tv(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=o||window;const d=nc(t),p=xp(d,this.transformPagePoint),{point:g}=p,{timestamp:y}=We;this.history=[{...g,timestamp:y}];const{onSessionStart:_}=n;_&&_(t,Dp(p,this.history)),this.removeListeners=Ju(Eu(this.contextWindow,"pointermove",this.handlePointerMove),Eu(this.contextWindow,"pointerup",this.handlePointerUp),Eu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),br(this.updatePoint)}}function xp(e,t){return t?{point:t(e.point)}:e}function eA(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Dp({point:e},t){return{point:e,delta:eA(e,BR(t)),offset:eA(e,Wk(t)),velocity:Zk(t,.1)}}function Wk(e){return e[0]}function BR(e){return e[e.length-1]}function Zk(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const o=BR(e);for(;n>=0&&(s=e[n],!(o.timestamp-s.timestamp>Hi(t)));)n--;if(!s)return{x:0,y:0};const l=Kn(o.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-s.x)/l,y:(o.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Jk(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?ce(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?ce(n,e,s.max):Math.min(e,n)),e}function nA(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function t6(e,{top:t,left:n,bottom:s,right:o}){return{x:nA(e.x,n,o),y:nA(e.y,t,s)}}function iA(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function e6(e,t){return{x:iA(e.x,t.x),y:iA(e.y,t.y)}}function n6(e,t){let n=.5;const s=hn(e),o=hn(t);return o>s?n=Ou(t.min,t.max-s,e.min):s>o&&(n=Ou(e.min,e.max-o,t.min)),As(0,1,n)}function i6(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Ig=.35;function s6(e=Ig){return e===!1?e=0:e===!0&&(e=Ig),{x:sA(e,"left","right"),y:sA(e,"top","bottom")}}function sA(e,t,n){return{min:rA(e,t),max:rA(e,n)}}function rA(e,t){return typeof e=="number"?e:e[t]||0}const r6=new WeakMap;class a6{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ke(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const l=_=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(nc(_).point)},c=(_,S)=>{const{drag:R,dragPropagation:M,onDragStart:U}=this.getProps();if(R&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=f3(R),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hn(j=>{let G=this.getAxisMotionValue(j).get()||0;if(qi.test(G)){const{projection:Y}=this.visualElement;if(Y&&Y.layout){const rt=Y.layout.layoutBox[j];rt&&(G=hn(rt)*(parseFloat(G)/100))}}this.originPoint[j]=G}),U&&le.postRender(()=>U(_,S)),Rg(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},d=(_,S)=>{this.latestPointerEvent=_,this.latestPanInfo=S;const{dragPropagation:R,dragDirectionLock:M,onDirectionLock:U,onDrag:k}=this.getProps();if(!R&&!this.openDragLock)return;const{offset:j}=S;if(M&&this.currentDirection===null){this.currentDirection=o6(j),this.currentDirection!==null&&U&&U(this.currentDirection);return}this.updateAxis("x",S.point,j),this.updateAxis("y",S.point,j),this.visualElement.render(),k&&k(_,S)},p=(_,S)=>{this.latestPointerEvent=_,this.latestPanInfo=S,this.stop(_,S),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Hn(_=>this.getAnimationState(_)==="paused"&&this.getAxisMotionValue(_).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new zR(t,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:UR(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,o=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!o||!s)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&le.postRender(()=>d(s,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:o}=this.getProps();if(!s||!Fh(t,o,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=Jk(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&Ao(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=t6(s.layoutBox,t):this.constraints=!1,this.elastic=s6(n),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Hn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=i6(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ao(t))return!1;const s=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=lk(s,o.root,this.visualElement.getTransformPagePoint());let c=e6(o.layout.layoutBox,l);if(n){const d=n(rk(c));this.hasMutatedConstraints=!!d,d&&(c=AR(d))}return c}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),p=this.constraints||{},g=Hn(y=>{if(!Fh(y,n,this.currentDirection))return;let _=p&&p[y]||{};c&&(_={min:0,max:0});const S=o?200:1e6,R=o?40:1e7,M={type:"inertia",velocity:s?t[y]:0,bounceStiffness:S,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,M)});return Promise.all(g).then(d)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Rg(this.visualElement,t),s.start(cv(t,s,0,n,this.visualElement,!1))}stopAnimation(){Hn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Hn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Hn(n=>{const{drag:s}=this.getProps();if(!Fh(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:d}=o.layout.layoutBox[n];l.set(t[n]-ce(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Ao(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Hn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const p=d.get();o[c]=n6({min:p,max:p},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Hn(c=>{if(!Fh(c,t,null))return;const d=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];d.set(ce(p,g,o[c]))})}addListeners(){if(!this.visualElement.current)return;r6.set(this.visualElement,this);const t=this.visualElement.current,n=Eu(t,"pointerdown",p=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(p)}),s=()=>{const{dragConstraints:p}=this.getProps();Ao(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),le.read(s);const c=zu(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Hn(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=p[y].translate,_.set(_.get()+p[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=Ig,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Fh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function o6(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class l6 extends Rr{constructor(t){super(t),this.removeGroupControls=Yn,this.removeListeners=Yn,this.controls=new a6(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Yn}unmount(){this.removeGroupControls(),this.removeListeners()}}const aA=e=>(t,n)=>{e&&le.postRender(()=>e(t,n))};class u6 extends Rr{constructor(){super(...arguments),this.removePointerDownListener=Yn}onPointerDown(t){this.session=new zR(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:UR(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:aA(t),onStart:aA(n),onMove:s,onEnd:(l,c)=>{delete this.session,o&&le.postRender(()=>o(l,c))}}}mount(){this.removePointerDownListener=Eu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const rf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function oA(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const au={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Tt.test(e))e=parseFloat(e);else return e;const n=oA(e,t.target.x),s=oA(e,t.target.y);return`${n}% ${s}%`}},c6={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,o=wr.parse(e);if(o.length>5)return s;const l=wr.createTransformer(e),c=typeof o[0]!="number"?1:0,d=n.x.scale*t.x,p=n.y.scale*t.y;o[0+c]/=d,o[1+c]/=p;const g=ce(d,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),l(o)}};let Vp=!1;class h6 extends V.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:l}=t;N3(f6),l&&(n.group&&n.group.add(l),s&&s.register&&o&&s.register(l),Vp&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),rf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:o,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,Vp=!0,o||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||le.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Jy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=t;Vp=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function jR(e){const[t,n]=lR(),s=V.useContext(Vy);return Z.jsx(h6,{...e,layoutGroup:s,switchLayoutGroup:V.useContext(ER),isPresent:t,safeToRemove:n})}const f6={borderRadius:{...au,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:au,borderTopRightRadius:au,borderBottomLeftRadius:au,borderBottomRightRadius:au,boxShadow:c6};function d6(e,t,n){const s=an(e)?e:Bo(e);return s.start(cv("",s,t,n)),s.animation}const m6=(e,t)=>e.depth-t.depth;class p6{constructor(){this.children=[],this.isDirty=!1}add(t){Oy(this.children,t),this.isDirty=!0}remove(t){Py(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(m6),this.isDirty=!1,this.children.forEach(t)}}function g6(e,t){const n=Tn.now(),s=({timestamp:o})=>{const l=o-n;l>=t&&(br(s),e(l-t))};return le.setup(s,!0),()=>br(s)}const FR=["TopLeft","TopRight","BottomLeft","BottomRight"],y6=FR.length,lA=e=>typeof e=="string"?parseFloat(e):e,uA=e=>typeof e=="number"||Tt.test(e);function v6(e,t,n,s,o,l){o?(e.opacity=ce(0,n.opacity??1,_6(s)),e.opacityExit=ce(t.opacity??1,0,T6(s))):l&&(e.opacity=ce(t.opacity??1,n.opacity??1,s));for(let c=0;c<y6;c++){const d=`border${FR[c]}Radius`;let p=cA(t,d),g=cA(n,d);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||uA(p)===uA(g)?(e[d]=Math.max(ce(lA(p),lA(g),s),0),(qi.test(g)||qi.test(p))&&(e[d]+="%")):e[d]=g}(t.rotate||n.rotate)&&(e.rotate=ce(t.rotate||0,n.rotate||0,s))}function cA(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const _6=HR(0,.5,Iw),T6=HR(.5,.95,Yn);function HR(e,t,n){return s=>s<e?0:s>t?1:n(Ou(e,t,s))}function hA(e,t){e.min=t.min,e.max=t.max}function ui(e,t){hA(e.x,t.x),hA(e.y,t.y)}function fA(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function dA(e,t,n,s,o){return e-=t,e=Vf(e,1/n,s),o!==void 0&&(e=Vf(e,1/o,s)),e}function E6(e,t=0,n=1,s=.5,o,l=e,c=e){if(qi.test(t)&&(t=parseFloat(t),t=ce(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=ce(l.min,l.max,s);e===l&&(d-=t),e.min=dA(e.min,t,n,d,o),e.max=dA(e.max,t,n,d,o)}function mA(e,t,[n,s,o],l,c){E6(e,t[n],t[s],t[o],t.scale,l,c)}const S6=["x","scaleX","originX"],A6=["y","scaleY","originY"];function pA(e,t,n,s){mA(e.x,t,S6,n?n.x:void 0,s?s.x:void 0),mA(e.y,t,A6,n?n.y:void 0,s?s.y:void 0)}function gA(e){return e.translate===0&&e.scale===1}function qR(e){return gA(e.x)&&gA(e.y)}function yA(e,t){return e.min===t.min&&e.max===t.max}function b6(e,t){return yA(e.x,t.x)&&yA(e.y,t.y)}function vA(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function GR(e,t){return vA(e.x,t.x)&&vA(e.y,t.y)}function _A(e){return hn(e.x)/hn(e.y)}function TA(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class w6{constructor(){this.members=[]}add(t){Oy(this.members,t),t.scheduleRender()}remove(t){if(Py(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function R6(e,t,n){let s="";const o=e.x.translate/t.x,l=e.y.translate/t.y,c=n?.z||0;if((o||l||c)&&(s=`translate3d(${o}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:g,rotate:y,rotateX:_,rotateY:S,skewX:R,skewY:M}=n;g&&(s=`perspective(${g}px) ${s}`),y&&(s+=`rotate(${y}deg) `),_&&(s+=`rotateX(${_}deg) `),S&&(s+=`rotateY(${S}deg) `),R&&(s+=`skewX(${R}deg) `),M&&(s+=`skewY(${M}deg) `)}const d=e.x.scale*t.x,p=e.y.scale*t.y;return(d!==1||p!==1)&&(s+=`scale(${d}, ${p})`),s||"none"}const Mp=["","X","Y","Z"],C6=1e3;let I6=0;function Np(e,t,n,s){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),s&&(s[e]=0))}function KR(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=VR(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",le,!(o||l))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&KR(s)}function YR({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(c={},d=t?.()){this.id=I6++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(V6),this.nodes.forEach(P6),this.nodes.forEach(L6),this.nodes.forEach(M6)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new p6)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Uy),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const p=this.eventHandlers.get(c);p&&p.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=oR(c)&&!v3(c),this.instance=c;const{layoutId:d,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||d)&&(this.isLayoutDirty=!0),e){let y,_=0;const S=()=>this.root.updateBlockedByResize=!1;le.read(()=>{_=window.innerWidth}),e(c,()=>{const R=window.innerWidth;R!==_&&(_=R,this.root.updateBlockedByResize=!0,y&&y(),y=g6(S,250),rf.hasAnimatedSinceResize&&(rf.hasAnimatedSinceResize=!1,this.nodes.forEach(AA)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:S,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||g.getDefaultTransition()||j6,{onLayoutAnimationStart:U,onLayoutAnimationComplete:k}=g.getProps(),j=!this.targetLayout||!GR(this.targetLayout,R),G=!_&&S;if(this.options.layoutRoot||this.resumeFrom||G||_&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Y={...Wy(M,"layout"),onPlay:U,onComplete:k};(g.shouldReduceMotion||this.options.layoutRoot)&&(Y.delay=0,Y.type=!1),this.startAnimation(Y),this.setAnimationOrigin(y,G)}else _||AA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),br(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(k6),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&KR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:d,layout:p}=this.options;if(d===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(EA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(SA);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(O6),this.nodes.forEach(x6),this.nodes.forEach(D6)):this.nodes.forEach(SA),this.clearAllSnapshots();const d=Tn.now();We.delta=As(0,1e3/60,d-We.timestamp),We.timestamp=d,We.isProcessing=!0,Ep.update.process(We),Ep.preRender.process(We),Ep.render.process(We),We.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Jy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(N6),this.sharedNodes.forEach(U6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,le.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){le.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hn(this.snapshot.measuredBox.x)&&!hn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ke(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const p=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!qR(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;c&&this.instance&&(d||aa(this.latestValues)||y)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let p=this.removeElementScroll(d);return c&&(p=this.removeTransform(p)),F6(p),{animationId:this.root.animationId,measuredBox:d,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return ke();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(H6))){const{scroll:g}=this.root;g&&(bo(d.x,g.offset.x),bo(d.y,g.offset.y))}return d}removeElementScroll(c){const d=ke();if(ui(d,c),this.scroll?.wasRoot)return d;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:y,options:_}=g;g!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&ui(d,c),bo(d.x,y.offset.x),bo(d.y,y.offset.y))}return d}applyTransform(c,d=!1){const p=ke();ui(p,c);for(let g=0;g<this.path.length;g++){const y=this.path[g];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&wo(p,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),aa(y.latestValues)&&wo(p,y.latestValues)}return aa(this.latestValues)&&wo(p,this.latestValues),p}removeTransform(c){const d=ke();ui(d,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!aa(g.latestValues))continue;Sg(g.latestValues)&&g.updateSnapshot();const y=ke(),_=g.measurePageBox();ui(y,_),pA(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return aa(this.latestValues)&&pA(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==We.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!this.layout||!(y||_))return;this.resolvedRelativeTargetAt=We.timestamp;const S=this.getClosestProjectingParent();S&&this.linkedParentVersion!==S.layoutVersion&&!S.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(S&&S.layout?this.createRelativeTarget(S,this.layout.layoutBox,S.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ke(),this.targetWithTransforms=ke()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Xk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ui(this.target,this.layout.layoutBox),wR(this.target,this.targetDelta)):ui(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?this.createRelativeTarget(S,this.target,S.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Sg(this.parent.latestValues)||bR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,p){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ke(),this.relativeTargetOrigin=ke(),Mf(this.relativeTargetOrigin,d,p),ui(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===We.timestamp&&(p=!1),p)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;ui(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,S=this.treeScale.y;ok(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ke());const{target:R}=c;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(fA(this.prevProjectionDelta.x,this.projectionDelta.x),fA(this.prevProjectionDelta.y,this.projectionDelta.y)),Su(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==S||!TA(this.projectionDelta.x,this.prevProjectionDelta.x)||!TA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ro(),this.projectionDelta=Ro(),this.projectionDeltaWithTransform=Ro()}setAnimationOrigin(c,d=!1){const p=this.snapshot,g=p?p.latestValues:{},y={...this.latestValues},_=Ro();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const S=ke(),R=p?p.source:void 0,M=this.layout?this.layout.source:void 0,U=R!==M,k=this.getStack(),j=!k||k.members.length<=1,G=!!(U&&!j&&this.options.crossfade===!0&&!this.path.some(B6));this.animationProgress=0;let Y;this.mixTargetDelta=rt=>{const tt=rt/1e3;bA(_.x,c.x,tt),bA(_.y,c.y,tt),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Mf(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),z6(this.relativeTarget,this.relativeTargetOrigin,S,tt),Y&&b6(this.relativeTarget,Y)&&(this.isProjectionDirty=!1),Y||(Y=ke()),ui(Y,this.relativeTarget)),U&&(this.animationValues=y,v6(y,g,this.latestValues,tt,G,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=tt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(br(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=le.update(()=>{rf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Bo(0)),this.currentAnimation=d6(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(C6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:p,layout:g,latestValues:y}=c;if(!(!d||!p||!g)){if(this!==c&&this.layout&&g&&QR(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||ke();const _=hn(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+_;const S=hn(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+S}ui(d,p),wo(d,y),Su(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new w6),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(d=!0),!d)return;const g={};p.z&&Np("z",c,g,this.animationValues);for(let y=0;y<Mp.length;y++)Np(`rotate${Mp[y]}`,c,g,this.animationValues),Np(`skew${Mp[y]}`,c,g,this.animationValues);c.render();for(const y in g)c.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=sf(d?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=sf(d?.pointerEvents)||""),this.hasProjected&&!aa(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let _=R6(this.projectionDeltaWithTransform,this.treeScale,y);p&&(_=p(y,_)),c.transform=_;const{x:S,y:R}=this.projectionDelta;c.transformOrigin=`${S.origin*100}% ${R.origin*100}% 0`,g.animationValues?c.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const M in Uu){if(y[M]===void 0)continue;const{correct:U,applyTo:k,isCSSVariable:j}=Uu[M],G=_==="none"?y[M]:U(y[M],g);if(k){const Y=k.length;for(let rt=0;rt<Y;rt++)c[k[rt]]=G}else j?this.options.visualElement.renderState.vars[M]=G:c[M]=G}this.options.layoutId&&(c.pointerEvents=g===this?sf(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(EA),this.root.sharedNodes.clear()}}}function x6(e){e.updateLayout()}function D6(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:o}=e.options,l=t.source!==e.layout.source;o==="size"?Hn(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],S=hn(_);_.min=n[y].min,_.max=_.min+S}):QR(o,t.layoutBox,n)&&Hn(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],S=hn(n[y]);_.max=_.min+S,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+S)});const c=Ro();Su(c,n,t.layoutBox);const d=Ro();l?Su(d,e.applyTransform(s,!0),t.measuredBox):Su(d,n,t.layoutBox);const p=!qR(c);let g=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:S}=y;if(_&&S){const R=ke();Mf(R,t.layoutBox,_.layoutBox);const M=ke();Mf(M,n,S.layoutBox),GR(R,M)||(g=!0),y.options.layoutRoot&&(e.relativeTarget=M,e.relativeTargetOrigin=R,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function V6(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function M6(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function N6(e){e.clearSnapshot()}function EA(e){e.clearMeasurements()}function SA(e){e.isLayoutDirty=!1}function O6(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function AA(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function P6(e){e.resolveTargetDelta()}function L6(e){e.calcProjection()}function k6(e){e.resetSkewAndRotation()}function U6(e){e.removeLeadSnapshot()}function bA(e,t,n){e.translate=ce(t.translate,0,n),e.scale=ce(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function wA(e,t,n,s){e.min=ce(t.min,n.min,s),e.max=ce(t.max,n.max,s)}function z6(e,t,n,s){wA(e.x,t.x,n.x,s),wA(e.y,t.y,n.y,s)}function B6(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const j6={duration:.45,ease:[.4,0,.1,1]},RA=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),CA=RA("applewebkit/")&&!RA("chrome/")?Math.round:Yn;function IA(e){e.min=CA(e.min),e.max=CA(e.max)}function F6(e){IA(e.x),IA(e.y)}function QR(e,t,n){return e==="position"||e==="preserve-aspect"&&!Qk(_A(t),_A(n),.2)}function H6(e){return e!==e.root&&e.scroll?.wasRoot}const q6=YR({attachResizeListener:(e,t)=>zu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Op={current:void 0},XR=YR({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Op.current){const e=new q6({});e.mount(window),e.setOptions({layoutScroll:!0}),Op.current=e}return Op.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),G6={pan:{Feature:u6},drag:{Feature:l6,ProjectionNode:XR,MeasureLayout:jR}};function xA(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=s[o];l&&le.postRender(()=>l(t,nc(t)))}class K6 extends Rr{mount(){const{current:t}=this.node;t&&(this.unmount=d3(t,(n,s)=>(xA(this.node,s,"Start"),o=>xA(this.node,o,"End"))))}unmount(){}}class Y6 extends Rr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ju(zu(this.node.current,"focus",()=>this.onFocus()),zu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function DA(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=s[o];l&&le.postRender(()=>l(t,nc(t)))}class Q6 extends Rr{mount(){const{current:t}=this.node;t&&(this.unmount=y3(t,(n,s)=>(DA(this.node,s,"Start"),(o,{success:l})=>DA(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const xg=new WeakMap,Pp=new WeakMap,X6=e=>{const t=xg.get(e.target);t&&t(e)},$6=e=>{e.forEach(X6)};function W6({root:e,...t}){const n=e||document;Pp.has(n)||Pp.set(n,{});const s=Pp.get(n),o=JSON.stringify(t);return s[o]||(s[o]=new IntersectionObserver($6,{root:e,...t})),s[o]}function Z6(e,t,n){const s=W6(t);return xg.set(e,n),s.observe(e),()=>{xg.delete(e),s.unobserve(e)}}const J6={some:0,all:1};class tU extends Rr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:J6[o]},d=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),S=g?y:_;S&&S(p)};return Z6(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(eU(t,n))&&this.startObserver()}unmount(){}}function eU({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const nU={inView:{Feature:tU},tap:{Feature:Q6},focus:{Feature:Y6},hover:{Feature:K6}},iU={layout:{ProjectionNode:XR,MeasureLayout:jR}},sU={...Fk,...nU,...G6,...iU},ws=sk(sU,yk);function rU(){const{loginWithGoogle:e}=Dy(),[t,n]=V.useState(""),[s,o]=V.useState(!1),l=Og();async function c(){try{n(""),o(!0),await e(),l("/")}catch(d){console.error(d),n("Failed to log in with Google")}o(!1)}return Z.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900",children:Z.jsxs("div",{className:"w-full max-w-md p-8 bg-white dark:bg-gray-800 rounded-lg shadow-md text-center",children:[Z.jsx("h2",{className:"text-2xl font-bold mb-6 dark:text-white",children:"Welcome Back"}),t&&Z.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",role:"alert",children:t}),Z.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"Sign in to access the simulator."}),Z.jsxs(ws.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:c,disabled:s,className:"w-full bg-white text-gray-700 border border-gray-300 font-bold py-3 px-4 rounded-lg flex items-center justify-center gap-2 hover:bg-gray-50 focus:outline-none focus:shadow-outline disabled:opacity-50 transition-colors",children:[Z.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[Z.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),Z.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),Z.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),Z.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Sign in with Google"]})]})})}const aU=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oU=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),VA=e=>{const t=oU(e);return t.charAt(0).toUpperCase()+t.slice(1)},$R=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),lU=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var uU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const cU=V.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:c,...d},p)=>V.createElement("svg",{ref:p,...uU,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:$R("lucide",o),...!l&&!lU(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,y])=>V.createElement(g,y)),...Array.isArray(l)?l:[l]]));const Ra=(e,t)=>{const n=V.forwardRef(({className:s,...o},l)=>V.createElement(cU,{ref:l,iconNode:t,className:$R(`lucide-${aU(VA(e))}`,`lucide-${e}`,s),...o}));return n.displayName=VA(e),n};const hU=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],fU=Ra("briefcase",hU);const dU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],mU=Ra("circle",dU);const pU=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Dg=Ra("clock",pU);const gU=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],WR=Ra("log-out",gU);const yU=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],vU=Ra("rotate-ccw",yU);const _U=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],ZR=Ra("trophy",_U);const TU=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],EU=Ra("user",TU),SU=({onClockIn:e})=>{const{currentUser:t,logout:n}=Dy(),s=Og(),[o,l]=V.useState(t?.displayName?.split(" ")[0]||""),[c,d]=V.useState(""),[p,g]=V.useState(30),[y,_]=V.useState("");Mg.useEffect(()=>{t?t.displayName&&l(t.displayName.split(" ")[0]):s("/login")},[t,s]);const S=M=>{M.preventDefault(),o&&c&&p>0&&e({name:o,goal:c,duration:p})},R=async()=>{_("");try{await n()}catch{_("Failed to log out")}};return Z.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white p-4",children:Z.jsxs(ws.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md bg-white/10 backdrop-blur-lg rounded-2xl p-8 shadow-2xl border border-white/20",children:[Z.jsxs("div",{className:"flex justify-between items-center mb-8",children:[Z.jsx("div",{className:"flex items-center justify-center",children:Z.jsx("div",{className:"p-3 bg-blue-500/20 rounded-full",children:Z.jsx(Dg,{className:"w-8 h-8 text-blue-400"})})}),Z.jsx("div",{children:t?Z.jsxs("div",{className:"flex items-center gap-4",children:[Z.jsxs("span",{className:"text-sm text-gray-300",children:["Welcome ",t.displayName.split(" ")[0],"!"]}),Z.jsxs("button",{onClick:R,className:"text-sm text-red-400 hover:text-red-300 flex items-center gap-1",children:[Z.jsx(WR,{size:16})," Logout"]})]}):Z.jsx("div",{className:"flex items-center gap-4",children:Z.jsx(zg,{to:"/login",className:"text-sm text-blue-400 hover:text-blue-300",children:"Login"})})})]}),Z.jsx("h1",{className:"text-3xl font-bold text-center mb-2",children:"Employment Simulator"}),Z.jsx("p",{className:"text-gray-400 text-center mb-8",children:"Clock in to start your shift."}),y&&Z.jsx("div",{className:"bg-red-500/20 border border-red-500 text-red-100 px-4 py-2 rounded mb-4 text-center text-sm",children:y}),Z.jsxs("form",{onSubmit:S,className:"space-y-6",children:[Z.jsxs("div",{className:"space-y-2",children:[Z.jsxs("label",{className:"text-sm font-medium text-gray-300 flex items-center gap-2",children:[Z.jsx(EU,{size:16})," Employee Name"]}),Z.jsx("input",{type:"text",value:o,onChange:M=>l(M.target.value),className:"w-full bg-black/20 border border-white/10 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all text-white placeholder-gray-500",placeholder:"John Doe",required:!0})]}),Z.jsxs("div",{className:"space-y-2",children:[Z.jsxs("label",{className:"text-sm font-medium text-gray-300 flex items-center gap-2",children:[Z.jsx(fU,{size:16})," Work Goal"]}),Z.jsx("input",{type:"text",value:c,onChange:M=>d(M.target.value),className:"w-full bg-black/20 border border-white/10 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all text-white placeholder-gray-500",placeholder:"Complete the project report",required:!0})]}),Z.jsxs("div",{className:"space-y-2",children:[Z.jsxs("label",{className:"text-sm font-medium text-gray-300 flex items-center gap-2",children:[Z.jsx(Dg,{size:16})," Shift Duration (Minutes)"]}),Z.jsx("input",{type:"number",value:p,onChange:M=>g(parseInt(M.target.value)),min:"1",max:"480",className:"w-full bg-black/20 border border-white/10 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all text-white placeholder-gray-500",required:!0})]}),Z.jsx(ws.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400 text-white font-bold py-3 rounded-lg shadow-lg shadow-blue-500/20 transition-all",children:"Clock In"})]})]})})},AU=[],bU=e=>{const[t,n]=V.useState(e.duration*60),[s,o]=V.useState(0),[l,c]=V.useState(AU),[d,p]=V.useState([{text:"Welcome to the team! Let's hit that goal: "+e.goal,sender:"Manager",id:0}]),[g,y]=V.useState(!0),[_,S]=V.useState(null),R=V.useRef(!1),M=V.useRef({score:s,timeLeft:t,goal:e.goal}),{currentUser:U}=Dy();V.useEffect(()=>{(async()=>{if(U)try{const tt=dS(yS,"users",U.uid),at=await v4(tt);at.exists()&&o(at.data().score||0)}catch(tt){console.error("Error loading score:",tt)}})()},[U]),V.useEffect(()=>{if(!U)return;const rt=setTimeout(async()=>{try{const tt=dS(yS,"users",U.uid);await T4(tt,{score:s},{merge:!0})}catch(tt){console.error("Error saving score:",tt)}},1e3);return()=>clearTimeout(rt)},[s,U]),V.useEffect(()=>{M.current={score:s,timeLeft:t,goal:e.goal}},[s,t,e.goal]),V.useEffect(()=>{if(!g||t<=0)return;const rt=setInterval(()=>{n(tt=>tt-1)},1e3);return()=>clearInterval(rt)},[g,t]),V.useEffect(()=>{if(!g)return;const rt=setInterval(async()=>{if(Math.random()>.6&&!R.current){R.current=!0;try{const{goal:tt}=M.current,at=`
                        You are a manager in a workplace simulation.
                        The user's goal is: "${tt}".
                        Current tasks are: ${l.map(O=>O.text).join(", ")}.

                        Generate a short, 1-sentence message to the employee. 
                        Address the employee as ${e.name}.
                        It can be encouraging, pressuring, or just a random check-in.
                        Do not include quotes.
                    `,I=(await(await fetch("https://desktop-f2niegj.tail23801d.ts.net/api/llm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"user",content:at}]})})).json()).message.content;k(I),console.log("Manager message:",I)}catch(tt){console.error("Error generating message:",tt),S(tt.message||"Unknown error generating message")}finally{R.current=!1}}},3e4);return()=>clearInterval(rt)},[g,l]);const k=rt=>{p(tt=>[...tt,{text:rt,sender:"Manager",id:Date.now()}])},j=async()=>{if(!R.current){R.current=!0;try{const rt=`
                You are a manager. The user's goal is: "${e.goal}".
                Generate a single, realistic work task that works toward this goal, 
                builds on top of previous tasks, and is different from the user's previous tasks.
                The user's previous tasks were: ${l.map(I=>I.text).join(", ").slice(-2)}.
                Return ONLY the task text. NO numbering, NO quotes.
                Keep it short.
            `,C=(await(await fetch("https://desktop-f2niegj.tail23801d.ts.net/api/llm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"user",content:rt}]})})).json()).message.content,w=Date.now();c(I=>[...I,{id:w,text:C,completed:!1,difficulty:Math.floor(Math.random()*3)+1}])}catch(rt){console.error("Error generating task:",rt),S(rt.message||"Unknown error generating task");const tt=Date.now();c(at=>[...at,{id:tt,text:"Re",completed:!1,difficulty:1}])}finally{R.current=!1}}};V.useEffect(()=>{(async()=>{await j(),await j()})()},[]);const G=V.useCallback(rt=>{c(at=>at.map(C=>C.id===rt?{...C,completed:!0}:C));const tt=l.find(at=>at.id===rt);tt&&!tt.completed&&(o(at=>at+tt.difficulty*100),setTimeout(()=>{j()},3e4)),l.length>=2&&c(at=>at.filter(C=>C.id!==rt))},[l]);return{timeLeft:t,score:s,tasks:l,messages:d,completeTask:G,formatTime:rt=>{const tt=Math.floor(rt/60),at=rt%60;return`${tt}:${at.toString().padStart(2,"0")}`},isActive:g,setIsActive:y,error:_}},wU=({messages:e})=>{const t=V.useRef(null);return V.useEffect(()=>{t.current&&(t.current.scrollTop=t.current.scrollHeight)},[e]),Z.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-4 h-[300px] flex flex-col",children:[Z.jsx("div",{className:"flex items-center gap-2 mb-4 border-b border-white/10 pb-2",children:Z.jsx("h2",{className:"text-lg font-semibold text-white",children:"Manager"})}),Z.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 pr-2 custom-scrollbar",ref:t,children:Z.jsx(uR,{children:e.map(n=>Z.jsxs(ws.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-3 text-sm text-gray-200",children:[Z.jsx("span",{className:"font-bold text-blue-400 text-xs block mb-1",children:n.sender}),n.text]},n.id))})})]})},RU=({tasks:e,onComplete:t})=>{const n=e.filter(s=>!s.completed);return Z.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-4 h-[300px] flex flex-col",children:[Z.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b border-white/10 pb-2",children:[Z.jsx("h2",{className:"text-lg font-semibold text-white",children:"Current Tasks"}),Z.jsx("span",{className:"bg-blue-500 text-xs px-2 py-0.5 rounded-full text-white",children:n.length})]}),Z.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 pr-2 custom-scrollbar",children:Z.jsx(uR,{children:n.length===0?Z.jsx("p",{className:"text-gray-500 text-center mt-10",children:"No active tasks. Good job!"}):n.map(s=>Z.jsxs(ws.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,x:20},className:"group flex items-center gap-3 bg-white/5 hover:bg-white/10 border border-white/5 rounded-xl p-3 cursor-pointer transition-all",onClick:()=>t(s.id),children:[Z.jsx("div",{className:"text-gray-400 group-hover:text-green-400 transition-colors",children:Z.jsx(mU,{size:20})}),Z.jsxs("div",{className:"flex-1",children:[Z.jsx("p",{className:"text-gray-200 text-sm",children:s.text}),Z.jsx("div",{className:"flex gap-1 mt-1",children:[...Array(s.difficulty)].map((o,l)=>Z.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-yellow-500/50"},l))})]})]},s.id))})})]})},CU=({sessionData:e,onEndSession:t})=>{const{timeLeft:n,score:s,tasks:o,messages:l,completeTask:c,formatTime:d,isActive:p,setIsActive:g,error:y}=bU(e);Mg.useEffect(()=>{n<=0&&p&&(g(!1),t({score:s,tasksCompleted:o.filter(S=>S.completed).length}))},[n,p,t,s,o,g]);const _=()=>{g(!1),t({score:s,tasksCompleted:o.filter(S=>S.completed).length})};return Z.jsxs("div",{className:"min-h-screen bg-gray-900 text-white p-6 flex flex-col",children:[Z.jsxs("header",{className:"flex justify-between items-center mb-8 bg-white/5 p-4 rounded-xl border border-white/10",children:[Z.jsx("div",{className:"flex items-center gap-4",children:Z.jsxs("div",{className:"text-left",children:[Z.jsx("h1",{className:"text-xl font-bold text-white",children:e.name}),Z.jsxs("p",{className:"text-xs text-gray-400",children:["Goal: ",e.goal]})]})}),Z.jsxs("div",{className:"flex items-center gap-8",children:[Z.jsxs("div",{className:"flex flex-col items-center",children:[Z.jsx("span",{className:"text-xs text-gray-400 uppercase tracking-wider",children:"Time Remaining"}),Z.jsxs("div",{className:`text-2xl font-mono font-bold flex items-center gap-2 ${n<60?"text-red-400 animate-pulse":"text-blue-400"}`,children:[Z.jsx(Dg,{size:20}),d(n)]})]}),Z.jsxs("div",{className:"flex flex-col items-center",children:[Z.jsx("span",{className:"text-xs text-gray-400 uppercase tracking-wider",children:"Score"}),Z.jsxs("div",{className:"text-2xl font-mono font-bold text-yellow-400 flex items-center gap-2",children:[Z.jsx(ZR,{size:20}),s.toLocaleString()]})]})]}),Z.jsxs("button",{onClick:_,className:"bg-red-500/10 hover:bg-red-500/20 text-red-400 px-4 py-2 rounded-lg border border-red-500/20 flex items-center gap-2 transition-colors",children:[Z.jsx(WR,{size:18}),"Clock Out"]})]}),y&&Z.jsxs("div",{className:"bg-red-500/20 border border-red-500 text-red-200 p-4 rounded-xl mb-6",children:["Error: ",y]}),Z.jsxs("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Z.jsx(ws.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:Z.jsx(wU,{messages:l})}),Z.jsx(ws.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:Z.jsx(RU,{tasks:o,onComplete:c})})]})]})},IU=({results:e,onRestart:t})=>Z.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-900 text-white p-4",children:Z.jsxs(ws.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"w-full max-w-md bg-white/10 backdrop-blur-lg rounded-2xl p-8 shadow-2xl border border-white/20 text-center",children:[Z.jsx("div",{className:"flex justify-center mb-6",children:Z.jsx("div",{className:"p-4 bg-yellow-500/20 rounded-full",children:Z.jsx(ZR,{className:"w-12 h-12 text-yellow-400"})})}),Z.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Shift Complete!"}),Z.jsx("p",{className:"text-gray-400 mb-8",children:"Here is how you performed today."}),Z.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[Z.jsxs("div",{className:"bg-black/20 p-4 rounded-xl border border-white/5",children:[Z.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Total Score"}),Z.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:e.score.toLocaleString()})]}),Z.jsxs("div",{className:"bg-black/20 p-4 rounded-xl border border-white/5",children:[Z.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Tasks Done"}),Z.jsx("p",{className:"text-2xl font-bold text-blue-400",children:e.tasksCompleted})]})]}),Z.jsxs(ws.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"w-full bg-white text-gray-900 font-bold py-3 rounded-lg shadow-lg hover:bg-gray-100 transition-all flex items-center justify-center gap-2",children:[Z.jsx(vU,{size:18}),"Start New Shift"]})]})});function xU(){const[e,t]=V.useState("CLOCK_IN"),[n,s]=V.useState(null),[o,l]=V.useState(null),c=g=>{s(g),t("WORK")},d=g=>{l(g),t("SUMMARY")},p=()=>{s(null),l(null),t("CLOCK_IN")};return Z.jsxs("div",{className:"bg-black min-h-screen font-sans",children:[e==="CLOCK_IN"&&Z.jsx(SU,{onClockIn:c}),e==="WORK"&&Z.jsx(CU,{sessionData:n,onEndSession:d}),e==="SUMMARY"&&Z.jsx(IU,{results:o,onRestart:p})]})}function DU(){return Z.jsx(ax,{children:Z.jsx(b4,{children:Z.jsxs(LI,{children:[Z.jsx(kp,{path:"/login",element:Z.jsx(rU,{})}),Z.jsx(kp,{path:"/",element:Z.jsx(xU,{})})]})})})}z2.createRoot(document.getElementById("root")).render(Z.jsx(V.StrictMode,{children:Z.jsx(DU,{})}));
