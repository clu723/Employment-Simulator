(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function D2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tp={exports:{}},bt={};var xE;function x2(){if(xE)return bt;xE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),S=Symbol.iterator;function R(L){return L===null||typeof L!="object"?null:(L=S&&L[S]||L["@@iterator"],typeof L=="function"?L:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,k={};function j(L,nt,ut){this.props=L,this.context=nt,this.refs=k,this.updater=ut||P}j.prototype.isReactComponent={},j.prototype.setState=function(L,nt){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,nt,"setState")},j.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function G(){}G.prototype=j.prototype;function Y(L,nt,ut){this.props=L,this.context=nt,this.refs=k,this.updater=ut||P}var rt=Y.prototype=new G;rt.constructor=Y,U(rt,j.prototype),rt.isPureReactComponent=!0;var J=Array.isArray;function at(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(L,nt,ut){var ht=ut.ref;return{$$typeof:e,type:L,key:nt,ref:ht!==void 0?ht:null,props:ut}}function N(L,nt){return I(L.type,nt,L.props)}function M(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function B(L){var nt={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ut){return nt[ut]})}var D=/\/+/g;function te(L,nt){return typeof L=="object"&&L!==null&&L.key!=null?B(""+L.key):nt.toString(36)}function de(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(at,at):(L.status="pending",L.then(function(nt){L.status==="pending"&&(L.status="fulfilled",L.value=nt)},function(nt){L.status==="pending"&&(L.status="rejected",L.reason=nt)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function W(L,nt,ut,ht,St){var Dt=typeof L;(Dt==="undefined"||Dt==="boolean")&&(L=null);var Bt=!1;if(L===null)Bt=!0;else switch(Dt){case"bigint":case"string":case"number":Bt=!0;break;case"object":switch(L.$$typeof){case e:case t:Bt=!0;break;case y:return Bt=L._init,W(Bt(L._payload),nt,ut,ht,St)}}if(Bt)return St=St(L),Bt=ht===""?"."+te(L,0):ht,J(St)?(ut="",Bt!=null&&(ut=Bt.replace(D,"$&/")+"/"),W(St,nt,ut,"",function(Ir){return Ir})):St!=null&&(M(St)&&(St=N(St,ut+(St.key==null||L&&L.key===St.key?"":(""+St.key).replace(D,"$&/")+"/")+Bt)),nt.push(St)),1;Bt=0;var Oe=ht===""?".":ht+":";if(J(L))for(var re=0;re<L.length;re++)ht=L[re],Dt=Oe+te(ht,re),Bt+=W(ht,nt,ut,Dt,St);else if(re=R(L),typeof re=="function")for(L=re.call(L),re=0;!(ht=L.next()).done;)ht=ht.value,Dt=Oe+te(ht,re++),Bt+=W(ht,nt,ut,Dt,St);else if(Dt==="object"){if(typeof L.then=="function")return W(de(L),nt,ut,ht,St);throw nt=String(L),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return Bt}function ot(L,nt,ut){if(L==null)return L;var ht=[],St=0;return W(L,ht,"","",function(Dt){return nt.call(ut,Dt,St++)}),ht}function ft(L){if(L._status===-1){var nt=L._result;nt=nt(),nt.then(function(ut){(L._status===0||L._status===-1)&&(L._status=1,L._result=ut)},function(ut){(L._status===0||L._status===-1)&&(L._status=2,L._result=ut)}),L._status===-1&&(L._status=0,L._result=nt)}if(L._status===1)return L._result.default;throw L._result}var It=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Nt={map:ot,forEach:function(L,nt,ut){ot(L,function(){nt.apply(this,arguments)},ut)},count:function(L){var nt=0;return ot(L,function(){nt++}),nt},toArray:function(L){return ot(L,function(nt){return nt})||[]},only:function(L){if(!M(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return bt.Activity=_,bt.Children=Nt,bt.Component=j,bt.Fragment=n,bt.Profiler=o,bt.PureComponent=Y,bt.StrictMode=s,bt.Suspense=p,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,bt.__COMPILER_RUNTIME={__proto__:null,c:function(L){return C.H.useMemoCache(L)}},bt.cache=function(L){return function(){return L.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(L,nt,ut){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ht=U({},L.props),St=L.key;if(nt!=null)for(Dt in nt.key!==void 0&&(St=""+nt.key),nt)!w.call(nt,Dt)||Dt==="key"||Dt==="__self"||Dt==="__source"||Dt==="ref"&&nt.ref===void 0||(ht[Dt]=nt[Dt]);var Dt=arguments.length-2;if(Dt===1)ht.children=ut;else if(1<Dt){for(var Bt=Array(Dt),Oe=0;Oe<Dt;Oe++)Bt[Oe]=arguments[Oe+2];ht.children=Bt}return I(L.type,St,ht)},bt.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},bt.createElement=function(L,nt,ut){var ht,St={},Dt=null;if(nt!=null)for(ht in nt.key!==void 0&&(Dt=""+nt.key),nt)w.call(nt,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(St[ht]=nt[ht]);var Bt=arguments.length-2;if(Bt===1)St.children=ut;else if(1<Bt){for(var Oe=Array(Bt),re=0;re<Bt;re++)Oe[re]=arguments[re+2];St.children=Oe}if(L&&L.defaultProps)for(ht in Bt=L.defaultProps,Bt)St[ht]===void 0&&(St[ht]=Bt[ht]);return I(L,Dt,St)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(L){return{$$typeof:d,render:L}},bt.isValidElement=M,bt.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:ft}},bt.memo=function(L,nt){return{$$typeof:g,type:L,compare:nt===void 0?null:nt}},bt.startTransition=function(L){var nt=C.T,ut={};C.T=ut;try{var ht=L(),St=C.S;St!==null&&St(ut,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(at,It)}catch(Dt){It(Dt)}finally{nt!==null&&ut.types!==null&&(nt.types=ut.types),C.T=nt}},bt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},bt.use=function(L){return C.H.use(L)},bt.useActionState=function(L,nt,ut){return C.H.useActionState(L,nt,ut)},bt.useCallback=function(L,nt){return C.H.useCallback(L,nt)},bt.useContext=function(L){return C.H.useContext(L)},bt.useDebugValue=function(){},bt.useDeferredValue=function(L,nt){return C.H.useDeferredValue(L,nt)},bt.useEffect=function(L,nt){return C.H.useEffect(L,nt)},bt.useEffectEvent=function(L){return C.H.useEffectEvent(L)},bt.useId=function(){return C.H.useId()},bt.useImperativeHandle=function(L,nt,ut){return C.H.useImperativeHandle(L,nt,ut)},bt.useInsertionEffect=function(L,nt){return C.H.useInsertionEffect(L,nt)},bt.useLayoutEffect=function(L,nt){return C.H.useLayoutEffect(L,nt)},bt.useMemo=function(L,nt){return C.H.useMemo(L,nt)},bt.useOptimistic=function(L,nt){return C.H.useOptimistic(L,nt)},bt.useReducer=function(L,nt,ut){return C.H.useReducer(L,nt,ut)},bt.useRef=function(L){return C.H.useRef(L)},bt.useState=function(L){return C.H.useState(L)},bt.useSyncExternalStore=function(L,nt,ut){return C.H.useSyncExternalStore(L,nt,ut)},bt.useTransition=function(){return C.H.useTransition()},bt.version="19.2.1",bt}var VE;function Mg(){return VE||(VE=1,tp.exports=x2()),tp.exports}var V=Mg();const et=D2(V);var ep={exports:{}},su={},np={exports:{}},ip={};var ME;function V2(){return ME||(ME=1,(function(e){function t(W,ot){var ft=W.length;W.push(ot);t:for(;0<ft;){var It=ft-1>>>1,Nt=W[It];if(0<o(Nt,ot))W[It]=ot,W[ft]=Nt,ft=It;else break t}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var ot=W[0],ft=W.pop();if(ft!==ot){W[0]=ft;t:for(var It=0,Nt=W.length,L=Nt>>>1;It<L;){var nt=2*(It+1)-1,ut=W[nt],ht=nt+1,St=W[ht];if(0>o(ut,ft))ht<Nt&&0>o(St,ut)?(W[It]=St,W[ht]=ft,It=ht):(W[It]=ut,W[nt]=ft,It=nt);else if(ht<Nt&&0>o(St,ft))W[It]=St,W[ht]=ft,It=ht;else break t}}return ot}function o(W,ot){var ft=W.sortIndex-ot.sortIndex;return ft!==0?ft:W.id-ot.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var p=[],g=[],y=1,_=null,S=3,R=!1,P=!1,U=!1,k=!1,j=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function rt(W){for(var ot=n(g);ot!==null;){if(ot.callback===null)s(g);else if(ot.startTime<=W)s(g),ot.sortIndex=ot.expirationTime,t(p,ot);else break;ot=n(g)}}function J(W){if(U=!1,rt(W),!P)if(n(p)!==null)P=!0,at||(at=!0,B());else{var ot=n(g);ot!==null&&de(J,ot.startTime-W)}}var at=!1,C=-1,w=5,I=-1;function N(){return k?!0:!(e.unstable_now()-I<w)}function M(){if(k=!1,at){var W=e.unstable_now();I=W;var ot=!0;try{t:{P=!1,U&&(U=!1,G(C),C=-1),R=!0;var ft=S;try{e:{for(rt(W),_=n(p);_!==null&&!(_.expirationTime>W&&N());){var It=_.callback;if(typeof It=="function"){_.callback=null,S=_.priorityLevel;var Nt=It(_.expirationTime<=W);if(W=e.unstable_now(),typeof Nt=="function"){_.callback=Nt,rt(W),ot=!0;break e}_===n(p)&&s(p),rt(W)}else s(p);_=n(p)}if(_!==null)ot=!0;else{var L=n(g);L!==null&&de(J,L.startTime-W),ot=!1}}break t}finally{_=null,S=ft,R=!1}ot=void 0}}finally{ot?B():at=!1}}}var B;if(typeof Y=="function")B=function(){Y(M)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,te=D.port2;D.port1.onmessage=M,B=function(){te.postMessage(null)}}else B=function(){j(M,0)};function de(W,ot){C=j(function(){W(e.unstable_now())},ot)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_next=function(W){switch(S){case 1:case 2:case 3:var ot=3;break;default:ot=S}var ft=S;S=ot;try{return W()}finally{S=ft}},e.unstable_requestPaint=function(){k=!0},e.unstable_runWithPriority=function(W,ot){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ft=S;S=W;try{return ot()}finally{S=ft}},e.unstable_scheduleCallback=function(W,ot,ft){var It=e.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?It+ft:It):ft=It,W){case 1:var Nt=-1;break;case 2:Nt=250;break;case 5:Nt=1073741823;break;case 4:Nt=1e4;break;default:Nt=5e3}return Nt=ft+Nt,W={id:y++,callback:ot,priorityLevel:W,startTime:ft,expirationTime:Nt,sortIndex:-1},ft>It?(W.sortIndex=ft,t(g,W),n(p)===null&&W===n(g)&&(U?(G(C),C=-1):U=!0,de(J,ft-It))):(W.sortIndex=Nt,t(p,W),P||R||(P=!0,at||(at=!0,B()))),W},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(W){var ot=S;return function(){var ft=S;S=ot;try{return W.apply(this,arguments)}finally{S=ft}}}})(ip)),ip}var NE;function M2(){return NE||(NE=1,np.exports=V2()),np.exports}var sp={exports:{}},en={};var OE;function N2(){if(OE)return en;OE=1;var e=Mg();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,g,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:p,containerInfo:g,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,en.createPortal=function(p,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return l(p,g,null,y)},en.flushSync=function(p){var g=c.T,y=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=y,s.d.f()}},en.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},en.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},en.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var y=g.as,_=d(y,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:R}):y==="script"&&s.d.X(p,{crossOrigin:_,integrity:S,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},en.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},en.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,_=d(y,g.crossOrigin);s.d.L(p,y,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},en.preloadModule=function(p,g){if(typeof p=="string")if(g){var y=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},en.requestFormReset=function(p){s.d.r(p)},en.unstable_batchedUpdates=function(p,g){return p(g)},en.useFormState=function(p,g,y){return c.H.useFormState(p,g,y)},en.useFormStatus=function(){return c.H.useHostTransitionStatus()},en.version="19.2.1",en}var PE;function O2(){if(PE)return sp.exports;PE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),sp.exports=N2(),sp.exports}var LE;function P2(){if(LE)return su;LE=1;var e=M2(),t=Mg(),n=O2();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,a=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(a=r.return),i=r.return;while(i)}return r.tag===3?a:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function p(i){if(l(i)!==i)throw Error(s(188))}function g(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var a=i,u=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return p(f),i;if(m===u)return p(f),r;m=m.sibling}throw Error(s(188))}if(a.return!==u.return)a=f,u=m;else{for(var E=!1,A=f.child;A;){if(A===a){E=!0,a=f,u=m;break}if(A===u){E=!0,u=f,a=m;break}A=A.sibling}if(!E){for(A=m.child;A;){if(A===a){E=!0,a=m,u=f;break}if(A===u){E=!0,u=m,a=f;break}A=A.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=M&&i[M]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function te(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case U:return"Fragment";case j:return"Profiler";case k:return"StrictMode";case J:return"Suspense";case at:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case P:return"Portal";case Y:return i.displayName||"Context";case G:return(i._context.displayName||"Context")+".Consumer";case rt:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return r=i.displayName||null,r!==null?r:te(i.type)||"Memo";case w:r=i._payload,i=i._init;try{return te(i(r))}catch{}}return null}var de=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},It=[],Nt=-1;function L(i){return{current:i}}function nt(i){0>Nt||(i.current=It[Nt],It[Nt]=null,Nt--)}function ut(i,r){Nt++,It[Nt]=i.current,i.current=r}var ht=L(null),St=L(null),Dt=L(null),Bt=L(null);function Oe(i,r){switch(ut(Dt,r),ut(St,i),ut(ht,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?J0(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=J0(r),i=tE(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}nt(ht),ut(ht,i)}function re(){nt(ht),nt(St),nt(Dt)}function Ir(i){i.memoizedState!==null&&ut(Bt,i);var r=ht.current,a=tE(r,i.type);r!==a&&(ut(St,i),ut(ht,a))}function Ia(i){St.current===i&&(nt(ht),nt(St)),Bt.current===i&&(nt(Bt),tu._currentValue=ft)}var Da,xa;function pi(i){if(Da===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Da=r&&r[1]||"",xa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Da+i+xa}var tl=!1;function Dr(i,r){if(!i||tl)return"";tl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(X){var K=X}Reflect.construct(i,[],tt)}else{try{tt.call()}catch(X){K=X}i.call(tt.prototype)}}else{try{throw Error()}catch(X){K=X}(tt=i())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(X){if(X&&K&&typeof X.stack=="string")return[X.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),E=m[0],A=m[1];if(E&&A){var x=E.split(`
`),q=A.split(`
`);for(f=u=0;u<x.length&&!x[u].includes("DetermineComponentFrameRoot");)u++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(u===x.length||f===q.length)for(u=x.length-1,f=q.length-1;1<=u&&0<=f&&x[u]!==q[f];)f--;for(;1<=u&&0<=f;u--,f--)if(x[u]!==q[f]){if(u!==1||f!==1)do if(u--,f--,0>f||x[u]!==q[f]){var $=`
`+x[u].replace(" at new "," at ");return i.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",i.displayName)),$}while(1<=u&&0<=f);break}}}finally{tl=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?pi(a):""}function el(i,r){switch(i.tag){case 26:case 27:case 5:return pi(i.type);case 16:return pi("Lazy");case 13:return i.child!==r&&r!==null?pi("Suspense Fallback"):pi("Suspense");case 19:return pi("SuspenseList");case 0:case 15:return Dr(i.type,!1);case 11:return Dr(i.type.render,!1);case 1:return Dr(i.type,!0);case 31:return pi("Activity");default:return""}}function nl(i){try{var r="",a=null;do r+=el(i,a),a=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Se=Object.prototype.hasOwnProperty,Pe=e.unstable_scheduleCallback,Ds=e.unstable_cancelCallback,nd=e.unstable_shouldYield,sc=e.unstable_requestPaint,ln=e.unstable_now,xr=e.unstable_getCurrentPriorityLevel,il=e.unstable_ImmediatePriority,sl=e.unstable_UserBlockingPriority,xs=e.unstable_NormalPriority,id=e.unstable_LowPriority,rc=e.unstable_IdlePriority,ac=e.log,oc=e.unstable_setDisableYieldValue,Wn=null,Ge=null;function xn(i){if(typeof ac=="function"&&oc(i),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(Wn,i)}catch{}}var ye=Math.clz32?Math.clz32:uc,lc=Math.log,Va=Math.LN2;function uc(i){return i>>>=0,i===0?32:31-(lc(i)/Va|0)|0}var gi=256,Vr=262144,Ae=4194304;function yi(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function vi(i,r,a){var u=i.pendingLanes;if(u===0)return 0;var f=0,m=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var A=u&134217727;return A!==0?(u=A&~m,u!==0?f=yi(u):(E&=A,E!==0?f=yi(E):a||(a=A&~i,a!==0&&(f=yi(a))))):(A=u&~m,A!==0?f=yi(A):E!==0?f=yi(E):a||(a=u&~i,a!==0&&(f=yi(a)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,a=r&-r,m>=a||m===32&&(a&4194048)!==0)?r:f}function Zn(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function sd(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cc(){var i=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),i}function _i(i){for(var r=[],a=0;31>a;a++)r.push(i);return r}function Mr(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function rd(i,r,a,u,f,m){var E=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var A=i.entanglements,x=i.expirationTimes,q=i.hiddenUpdates;for(a=E&~a;0<a;){var $=31-ye(a),tt=1<<$;A[$]=0,x[$]=-1;var K=q[$];if(K!==null)for(q[$]=null,$=0;$<K.length;$++){var X=K[$];X!==null&&(X.lane&=-536870913)}a&=~tt}u!==0&&Nr(i,u,0),m!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=m&~(E&~r))}function Nr(i,r,a){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-ye(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|a&261930}function rl(i,r){var a=i.entangledLanes|=r;for(i=i.entanglements;a;){var u=31-ye(a),f=1<<u;f&r|i[u]&r&&(i[u]|=r),a&=~f}}function al(i,r){var a=r&-r;return a=(a&42)!==0?1:Or(a),(a&(i.suspendedLanes|r))!==0?0:a}function Or(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Qi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function hc(){var i=ot.p;return i!==0?i:(i=window.event,i===void 0?32:AE(i.type))}function Jn(i,r){var a=ot.p;try{return ot.p=i,r()}finally{ot.p=a}}var ti=Math.random().toString(36).slice(2),be="__reactFiber$"+ti,Be="__reactProps$"+ti,Ei="__reactContainer$"+ti,Ma="__reactEvents$"+ti,ad="__reactListeners$"+ti,fc="__reactHandles$"+ti,dc="__reactResources$"+ti,Ti="__reactMarker$"+ti;function Na(i){delete i[be],delete i[Be],delete i[Ma],delete i[ad],delete i[fc]}function Si(i){var r=i[be];if(r)return r;for(var a=i.parentNode;a;){if(r=a[Ei]||a[be]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(i=oE(i);i!==null;){if(a=i[be])return a;i=oE(i)}return r}i=a,a=i.parentNode}return null}function Vn(i){if(i=i[be]||i[Ei]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Tn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Ai(i){var r=i[dc];return r||(r=i[dc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function we(i){i[Ti]=!0}var ol=new Set,ll={};function bi(i,r){wi(i,r),wi(i+"Capture",r)}function wi(i,r){for(ll[i]=r,i=0;i<r.length;i++)ol.add(r[i])}var ul=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cl={},hl={};function mc(i){return Se.call(hl,i)?!0:Se.call(cl,i)?!1:ul.test(i)?hl[i]=!0:(cl[i]=!0,!1)}function Oa(i,r,a){if(mc(r))if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+a)}}function Sn(i,r,a){if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+a)}}function Re(i,r,a,u){if(u===null)i.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(r,a,""+u)}}function je(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Vs(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function fl(i,r,a){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,m=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){a=""+E,m.call(this,E)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return a},setValue:function(E){a=""+E},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Yt(i){if(!i._valueTracker){var r=Vs(i)?"checked":"value";i._valueTracker=fl(i,r,""+i[r])}}function Pr(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return i&&(u=Vs(i)?i.checked?"true":"false":i.value),i=u,i!==a?(r.setValue(i),!0):!1}function Ri(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Lr=/[\n"\\]/g;function fn(i){return i.replace(Lr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Pa(i,r,a,u,f,m,E,A){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),r!=null?E==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+je(r)):i.value!==""+je(r)&&(i.value=""+je(r)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),r!=null?dl(i,E,je(r)):a!=null?dl(i,E,je(a)):u!=null&&i.removeAttribute("value"),f==null&&m!=null&&(i.defaultChecked=!!m),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+je(A):i.removeAttribute("name")}function pc(i,r,a,u,f,m,E,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){Yt(i);return}a=a!=null?""+je(a):"",r=r!=null?""+je(r):a,A||r===i.value||(i.value=r),i.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=A?i.checked:!!u,i.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E),Yt(i)}function dl(i,r,a){r==="number"&&Ri(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function Ms(i,r,a,u){if(i=i.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<i.length;a++)f=r.hasOwnProperty("$"+i[a].value),i[a].selected!==f&&(i[a].selected=f),f&&u&&(i[a].defaultSelected=!0)}else{for(a=""+je(a),r=null,f=0;f<i.length;f++){if(i[f].value===a){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function gc(i,r,a){if(r!=null&&(r=""+je(r),r!==i.value&&(i.value=r),a==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=a!=null?""+je(a):""}function Ns(i,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error(s(92));if(de(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),r=a}a=je(r),i.defaultValue=a,u=i.textContent,u===a&&u!==""&&u!==null&&(i.value=u),Yt(i)}function dn(i,r){if(r){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=r;return}}i.textContent=r}var yc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ml(i,r,a){var u=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,a):typeof a!="number"||a===0||yc.has(r)?r==="float"?i.cssFloat=a:i[r]=(""+a).trim():i[r]=a+"px"}function pl(i,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&a[f]!==u&&ml(i,f,u)}else for(var m in r)r.hasOwnProperty(m)&&ml(i,m,r[m])}function La(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Os=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ka(i){return Os.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ei(){}var gl=null;function Mn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ps=null,Ci=null;function kr(i){var r=Vn(i);if(r&&(i=r.stateNode)){var a=i[Be]||null;t:switch(i=r.stateNode,r.type){case"input":if(Pa(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+fn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==i&&u.form===i.form){var f=u[Be]||null;if(!f)throw Error(s(90));Pa(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===i.form&&Pr(u)}break t;case"textarea":gc(i,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&Ms(i,!!a.multiple,r,!1)}}}var Ua=!1;function Ls(i,r,a){if(Ua)return i(r,a);Ua=!0;try{var u=i(r);return u}finally{if(Ua=!1,(Ps!==null||Ci!==null)&&(hh(),Ps&&(r=Ps,i=Ci,Ci=Ps=null,kr(r),i)))for(r=0;r<i.length;r++)kr(i[r])}}function ni(i,r){var a=i.stateNode;if(a===null)return null;var u=a[Be]||null;if(u===null)return null;a=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ur=!1;if(Nn)try{var $t={};Object.defineProperty($t,"passive",{get:function(){Ur=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{Ur=!1}var Ii=null,yl=null,zr=null;function vl(){if(zr)return zr;var i,r=yl,a=r.length,u,f="value"in Ii?Ii.value:Ii.textContent,m=f.length;for(i=0;i<a&&r[i]===f[i];i++);var E=a-i;for(u=1;u<=E&&r[a-u]===f[m-u];u++);return zr=f.slice(i,1<u?1-u:void 0)}function Br(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Xi(){return!0}function ii(){return!1}function Ke(i){function r(a,u,f,m,E){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(a=i[A],this[A]=a?a(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Xi:ii,this.isPropagationStopped=ii,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),r}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Di=Ke($i),ks=_({},$i,{view:0,detail:0}),_l=Ke(ks),Us,za,xi,Ba=_({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==xi&&(xi&&i.type==="mousemove"?(Us=i.screenX-xi.screenX,za=i.screenY-xi.screenY):za=Us=0,xi=i),Us)},movementY:function(i){return"movementY"in i?i.movementY:za}}),El=Ke(Ba),jr=_({},Ba,{dataTransfer:0}),_c=Ke(jr),Ec=_({},ks,{relatedTarget:0}),Fr=Ke(Ec),Tl=_({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),Tc=Ke(Tl),ja=_({},$i,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Sc=Ke(ja),Ac=_({},$i,{data:0}),Vi=Ke(Ac),bc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cc(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Rc[i])?!!r[i]:!1}function zs(){return Cc}var un=_({},ks,{key:function(i){if(i.key){var r=bc[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Br(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?wc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zs,charCode:function(i){return i.type==="keypress"?Br(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Br(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ic=Ke(un),Dc=_({},Ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wi=Ke(Dc),h=_({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zs}),v=Ke(h),T=_({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Ke(T),F=_({},Ba,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Ke(F),lt=_({},$i,{newState:0,oldState:0}),Rt=Ke(lt),ve=[9,13,27,32],qt=Nn&&"CompositionEvent"in window,ae=null;Nn&&"documentMode"in document&&(ae=document.documentMode);var On=Nn&&"TextEvent"in window&&!ae,Mi=Nn&&(!qt||ae&&8<ae&&11>=ae),si=" ",ri=!1;function Hr(i,r){switch(i){case"keyup":return ve.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fa(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ha=!1;function JR(i,r){switch(i){case"compositionend":return Fa(r);case"keypress":return r.which!==32?null:(ri=!0,si);case"textInput":return i=r.data,i===si&&ri?null:i;default:return null}}function tC(i,r){if(Ha)return i==="compositionend"||!qt&&Hr(i,r)?(i=vl(),zr=yl=Ii=null,Ha=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Mi&&r.locale!=="ko"?null:r.data;default:return null}}var eC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cv(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!eC[i.type]:r==="textarea"}function hv(i,r,a,u){Ps?Ci?Ci.push(u):Ci=[u]:Ps=u,r=vh(r,"onChange"),0<r.length&&(a=new Di("onChange","change",null,a,u),i.push({event:a,listeners:r}))}var Sl=null,Al=null;function nC(i){Y0(i,0)}function xc(i){var r=Tn(i);if(Pr(r))return i}function fv(i,r){if(i==="change")return r}var dv=!1;if(Nn){var od;if(Nn){var ld="oninput"in document;if(!ld){var mv=document.createElement("div");mv.setAttribute("oninput","return;"),ld=typeof mv.oninput=="function"}od=ld}else od=!1;dv=od&&(!document.documentMode||9<document.documentMode)}function pv(){Sl&&(Sl.detachEvent("onpropertychange",gv),Al=Sl=null)}function gv(i){if(i.propertyName==="value"&&xc(Al)){var r=[];hv(r,Al,i,Mn(i)),Ls(nC,r)}}function iC(i,r,a){i==="focusin"?(pv(),Sl=r,Al=a,Sl.attachEvent("onpropertychange",gv)):i==="focusout"&&pv()}function sC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return xc(Al)}function rC(i,r){if(i==="click")return xc(r)}function aC(i,r){if(i==="input"||i==="change")return xc(r)}function oC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var An=typeof Object.is=="function"?Object.is:oC;function bl(i,r){if(An(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var a=Object.keys(i),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!Se.call(r,f)||!An(i[f],r[f]))return!1}return!0}function yv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function vv(i,r){var a=yv(i);i=0;for(var u;a;){if(a.nodeType===3){if(u=i+a.textContent.length,i<=r&&u>=r)return{node:a,offset:r-i};i=u}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=yv(a)}}function _v(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?_v(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Ev(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Ri(i.document);r instanceof i.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)i=r.contentWindow;else break;r=Ri(i.document)}return r}function ud(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var lC=Nn&&"documentMode"in document&&11>=document.documentMode,qa=null,cd=null,wl=null,hd=!1;function Tv(i,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;hd||qa==null||qa!==Ri(u)||(u=qa,"selectionStart"in u&&ud(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),wl&&bl(wl,u)||(wl=u,u=vh(cd,"onSelect"),0<u.length&&(r=new Di("onSelect","select",null,r,a),i.push({event:r,listeners:u}),r.target=qa)))}function qr(i,r){var a={};return a[i.toLowerCase()]=r.toLowerCase(),a["Webkit"+i]="webkit"+r,a["Moz"+i]="moz"+r,a}var Ga={animationend:qr("Animation","AnimationEnd"),animationiteration:qr("Animation","AnimationIteration"),animationstart:qr("Animation","AnimationStart"),transitionrun:qr("Transition","TransitionRun"),transitionstart:qr("Transition","TransitionStart"),transitioncancel:qr("Transition","TransitionCancel"),transitionend:qr("Transition","TransitionEnd")},fd={},Sv={};Nn&&(Sv=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function Gr(i){if(fd[i])return fd[i];if(!Ga[i])return i;var r=Ga[i],a;for(a in r)if(r.hasOwnProperty(a)&&a in Sv)return fd[i]=r[a];return i}var Av=Gr("animationend"),bv=Gr("animationiteration"),wv=Gr("animationstart"),uC=Gr("transitionrun"),cC=Gr("transitionstart"),hC=Gr("transitioncancel"),Rv=Gr("transitionend"),Cv=new Map,dd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dd.push("scrollEnd");function ai(i,r){Cv.set(i,r),bi(r,[i])}var Vc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Pn=[],Ka=0,md=0;function Mc(){for(var i=Ka,r=md=Ka=0;r<i;){var a=Pn[r];Pn[r++]=null;var u=Pn[r];Pn[r++]=null;var f=Pn[r];Pn[r++]=null;var m=Pn[r];if(Pn[r++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}m!==0&&Iv(a,f,m)}}function Nc(i,r,a,u){Pn[Ka++]=i,Pn[Ka++]=r,Pn[Ka++]=a,Pn[Ka++]=u,md|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function pd(i,r,a,u){return Nc(i,r,a,u),Oc(i)}function Kr(i,r){return Nc(i,null,null,r),Oc(i)}function Iv(i,r,a){i.lanes|=a;var u=i.alternate;u!==null&&(u.lanes|=a);for(var f=!1,m=i.return;m!==null;)m.childLanes|=a,u=m.alternate,u!==null&&(u.childLanes|=a),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(f=!0)),i=m,m=m.return;return i.tag===3?(m=i.stateNode,f&&r!==null&&(f=31-ye(a),i=m.hiddenUpdates,u=i[f],u===null?i[f]=[r]:u.push(r),r.lane=a|536870912),m):null}function Oc(i){if(50<Yl)throw Yl=0,bm=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Ya={};function fC(i,r,a,u){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(i,r,a,u){return new fC(i,r,a,u)}function gd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Zi(i,r){var a=i.alternate;return a===null?(a=bn(i.tag,r,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=r,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,r=i.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function Dv(i,r){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,r=a.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Pc(i,r,a,u,f,m){var E=0;if(u=i,typeof i=="function")gd(i)&&(E=1);else if(typeof i=="string")E=y2(i,a,ht.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case I:return i=bn(31,a,r,f),i.elementType=I,i.lanes=m,i;case U:return Yr(a.children,f,m,r);case k:E=8,f|=24;break;case j:return i=bn(12,a,r,f|2),i.elementType=j,i.lanes=m,i;case J:return i=bn(13,a,r,f),i.elementType=J,i.lanes=m,i;case at:return i=bn(19,a,r,f),i.elementType=at,i.lanes=m,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Y:E=10;break t;case G:E=9;break t;case rt:E=11;break t;case C:E=14;break t;case w:E=16,u=null;break t}E=29,a=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=bn(E,a,r,f),r.elementType=i,r.type=u,r.lanes=m,r}function Yr(i,r,a,u){return i=bn(7,i,u,r),i.lanes=a,i}function yd(i,r,a){return i=bn(6,i,null,r),i.lanes=a,i}function xv(i){var r=bn(18,null,null,0);return r.stateNode=i,r}function vd(i,r,a){return r=bn(4,i.children!==null?i.children:[],i.key,r),r.lanes=a,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Vv=new WeakMap;function Ln(i,r){if(typeof i=="object"&&i!==null){var a=Vv.get(i);return a!==void 0?a:(r={value:i,source:r,stack:nl(r)},Vv.set(i,r),r)}return{value:i,source:r,stack:nl(r)}}var Qa=[],Xa=0,Lc=null,Rl=0,kn=[],Un=0,Bs=null,Ni=1,Oi="";function Ji(i,r){Qa[Xa++]=Rl,Qa[Xa++]=Lc,Lc=i,Rl=r}function Mv(i,r,a){kn[Un++]=Ni,kn[Un++]=Oi,kn[Un++]=Bs,Bs=i;var u=Ni;i=Oi;var f=32-ye(u)-1;u&=~(1<<f),a+=1;var m=32-ye(r)+f;if(30<m){var E=f-f%5;m=(u&(1<<E)-1).toString(32),u>>=E,f-=E,Ni=1<<32-ye(r)+f|a<<f|u,Oi=m+i}else Ni=1<<m|a<<f|u,Oi=i}function _d(i){i.return!==null&&(Ji(i,1),Mv(i,1,0))}function Ed(i){for(;i===Lc;)Lc=Qa[--Xa],Qa[Xa]=null,Rl=Qa[--Xa],Qa[Xa]=null;for(;i===Bs;)Bs=kn[--Un],kn[Un]=null,Oi=kn[--Un],kn[Un]=null,Ni=kn[--Un],kn[Un]=null}function Nv(i,r){kn[Un++]=Ni,kn[Un++]=Oi,kn[Un++]=Bs,Ni=r.id,Oi=r.overflow,Bs=i}var Ye=null,ne=null,zt=!1,js=null,zn=!1,Td=Error(s(519));function Fs(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cl(Ln(r,i)),Td}function Ov(i){var r=i.stateNode,a=i.type,u=i.memoizedProps;switch(r[be]=i,r[Be]=u,a){case"dialog":Mt("cancel",r),Mt("close",r);break;case"iframe":case"object":case"embed":Mt("load",r);break;case"video":case"audio":for(a=0;a<Xl.length;a++)Mt(Xl[a],r);break;case"source":Mt("error",r);break;case"img":case"image":case"link":Mt("error",r),Mt("load",r);break;case"details":Mt("toggle",r);break;case"input":Mt("invalid",r),pc(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Mt("invalid",r);break;case"textarea":Mt("invalid",r),Ns(r,u.value,u.defaultValue,u.children)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||W0(r.textContent,a)?(u.popover!=null&&(Mt("beforetoggle",r),Mt("toggle",r)),u.onScroll!=null&&Mt("scroll",r),u.onScrollEnd!=null&&Mt("scrollend",r),u.onClick!=null&&(r.onclick=ei),r=!0):r=!1,r||Fs(i,!0)}function Pv(i){for(Ye=i.return;Ye;)switch(Ye.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Ye=Ye.return}}function $a(i){if(i!==Ye)return!1;if(!zt)return Pv(i),zt=!0,!1;var r=i.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||zm(i.type,i.memoizedProps)),a=!a),a&&ne&&Fs(i),Pv(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ne=aE(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ne=aE(i)}else r===27?(r=ne,nr(i.type)?(i=qm,qm=null,ne=i):ne=r):ne=Ye?jn(i.stateNode.nextSibling):null;return!0}function Qr(){ne=Ye=null,zt=!1}function Sd(){var i=js;return i!==null&&(yn===null?yn=i:yn.push.apply(yn,i),js=null),i}function Cl(i){js===null?js=[i]:js.push(i)}var Ad=L(null),Xr=null,ts=null;function Hs(i,r,a){ut(Ad,r._currentValue),r._currentValue=a}function es(i){i._currentValue=Ad.current,nt(Ad)}function bd(i,r,a){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===a)break;i=i.return}}function wd(i,r,a,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var m=f.dependencies;if(m!==null){var E=f.child;m=m.firstContext;t:for(;m!==null;){var A=m;m=f;for(var x=0;x<r.length;x++)if(A.context===r[x]){m.lanes|=a,A=m.alternate,A!==null&&(A.lanes|=a),bd(m.return,a,i),u||(E=null);break t}m=A.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,m=E.alternate,m!==null&&(m.lanes|=a),bd(E,a,i),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===i){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Wa(i,r,a,u){i=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var A=f.type;An(f.pendingProps.value,E.value)||(i!==null?i.push(A):i=[A])}}else if(f===Bt.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(tu):i=[tu])}f=f.return}i!==null&&wd(r,i,a,u),r.flags|=262144}function kc(i){for(i=i.firstContext;i!==null;){if(!An(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function $r(i){Xr=i,ts=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Qe(i){return Lv(Xr,i)}function Uc(i,r){return Xr===null&&$r(i),Lv(i,r)}function Lv(i,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ts===null){if(i===null)throw Error(s(308));ts=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else ts=ts.next=r;return a}var dC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(a,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(a){return a()})}},mC=e.unstable_scheduleCallback,pC=e.unstable_NormalPriority,Ce={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rd(){return{controller:new dC,data:new Map,refCount:0}}function Il(i){i.refCount--,i.refCount===0&&mC(pC,function(){i.controller.abort()})}var Dl=null,Cd=0,Za=0,Ja=null;function gC(i,r){if(Dl===null){var a=Dl=[];Cd=0,Za=xm(),Ja={status:"pending",value:void 0,then:function(u){a.push(u)}}}return Cd++,r.then(kv,kv),r}function kv(){if(--Cd===0&&Dl!==null){Ja!==null&&(Ja.status="fulfilled");var i=Dl;Dl=null,Za=0,Ja=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function yC(i,r){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var Uv=W.S;W.S=function(i,r){T0=ln(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&gC(i,r),Uv!==null&&Uv(i,r)};var Wr=L(null);function Id(){var i=Wr.current;return i!==null?i:ee.pooledCache}function zc(i,r){r===null?ut(Wr,Wr.current):ut(Wr,r.pool)}function zv(){var i=Id();return i===null?null:{parent:Ce._currentValue,pool:i}}var to=Error(s(460)),Dd=Error(s(474)),Bc=Error(s(542)),jc={then:function(){}};function Bv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function jv(i,r,a){switch(a=i[a],a===void 0?i.push(r):a!==r&&(r.then(ei,ei),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Hv(i),i;default:if(typeof r.status=="string")r.then(ei,ei);else{if(i=ee,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Hv(i),i}throw Jr=r,to}}function Zr(i){try{var r=i._init;return r(i._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Jr=a,to):a}}var Jr=null;function Fv(){if(Jr===null)throw Error(s(459));var i=Jr;return Jr=null,i}function Hv(i){if(i===to||i===Bc)throw Error(s(483))}var eo=null,xl=0;function Fc(i){var r=xl;return xl+=1,eo===null&&(eo=[]),jv(eo,i,r)}function Vl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Hc(i,r){throw r.$$typeof===S?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function qv(i){function r(z,O){if(i){var H=z.deletions;H===null?(z.deletions=[O],z.flags|=16):H.push(O)}}function a(z,O){if(!i)return null;for(;O!==null;)r(z,O),O=O.sibling;return null}function u(z){for(var O=new Map;z!==null;)z.key!==null?O.set(z.key,z):O.set(z.index,z),z=z.sibling;return O}function f(z,O){return z=Zi(z,O),z.index=0,z.sibling=null,z}function m(z,O,H){return z.index=H,i?(H=z.alternate,H!==null?(H=H.index,H<O?(z.flags|=67108866,O):H):(z.flags|=67108866,O)):(z.flags|=1048576,O)}function E(z){return i&&z.alternate===null&&(z.flags|=67108866),z}function A(z,O,H,Z){return O===null||O.tag!==6?(O=yd(H,z.mode,Z),O.return=z,O):(O=f(O,H),O.return=z,O)}function x(z,O,H,Z){var gt=H.type;return gt===U?$(z,O,H.props.children,Z,H.key):O!==null&&(O.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===w&&Zr(gt)===O.type)?(O=f(O,H.props),Vl(O,H),O.return=z,O):(O=Pc(H.type,H.key,H.props,null,z.mode,Z),Vl(O,H),O.return=z,O)}function q(z,O,H,Z){return O===null||O.tag!==4||O.stateNode.containerInfo!==H.containerInfo||O.stateNode.implementation!==H.implementation?(O=vd(H,z.mode,Z),O.return=z,O):(O=f(O,H.children||[]),O.return=z,O)}function $(z,O,H,Z,gt){return O===null||O.tag!==7?(O=Yr(H,z.mode,Z,gt),O.return=z,O):(O=f(O,H),O.return=z,O)}function tt(z,O,H){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=yd(""+O,z.mode,H),O.return=z,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case R:return H=Pc(O.type,O.key,O.props,null,z.mode,H),Vl(H,O),H.return=z,H;case P:return O=vd(O,z.mode,H),O.return=z,O;case w:return O=Zr(O),tt(z,O,H)}if(de(O)||B(O))return O=Yr(O,z.mode,H,null),O.return=z,O;if(typeof O.then=="function")return tt(z,Fc(O),H);if(O.$$typeof===Y)return tt(z,Uc(z,O),H);Hc(z,O)}return null}function K(z,O,H,Z){var gt=O!==null?O.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return gt!==null?null:A(z,O,""+H,Z);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case R:return H.key===gt?x(z,O,H,Z):null;case P:return H.key===gt?q(z,O,H,Z):null;case w:return H=Zr(H),K(z,O,H,Z)}if(de(H)||B(H))return gt!==null?null:$(z,O,H,Z,null);if(typeof H.then=="function")return K(z,O,Fc(H),Z);if(H.$$typeof===Y)return K(z,O,Uc(z,H),Z);Hc(z,H)}return null}function X(z,O,H,Z,gt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return z=z.get(H)||null,A(O,z,""+Z,gt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case R:return z=z.get(Z.key===null?H:Z.key)||null,x(O,z,Z,gt);case P:return z=z.get(Z.key===null?H:Z.key)||null,q(O,z,Z,gt);case w:return Z=Zr(Z),X(z,O,H,Z,gt)}if(de(Z)||B(Z))return z=z.get(H)||null,$(O,z,Z,gt,null);if(typeof Z.then=="function")return X(z,O,H,Fc(Z),gt);if(Z.$$typeof===Y)return X(z,O,H,Uc(O,Z),gt);Hc(O,Z)}return null}function dt(z,O,H,Z){for(var gt=null,Ft=null,mt=O,xt=O=0,Pt=null;mt!==null&&xt<H.length;xt++){mt.index>xt?(Pt=mt,mt=null):Pt=mt.sibling;var Ht=K(z,mt,H[xt],Z);if(Ht===null){mt===null&&(mt=Pt);break}i&&mt&&Ht.alternate===null&&r(z,mt),O=m(Ht,O,xt),Ft===null?gt=Ht:Ft.sibling=Ht,Ft=Ht,mt=Pt}if(xt===H.length)return a(z,mt),zt&&Ji(z,xt),gt;if(mt===null){for(;xt<H.length;xt++)mt=tt(z,H[xt],Z),mt!==null&&(O=m(mt,O,xt),Ft===null?gt=mt:Ft.sibling=mt,Ft=mt);return zt&&Ji(z,xt),gt}for(mt=u(mt);xt<H.length;xt++)Pt=X(mt,z,xt,H[xt],Z),Pt!==null&&(i&&Pt.alternate!==null&&mt.delete(Pt.key===null?xt:Pt.key),O=m(Pt,O,xt),Ft===null?gt=Pt:Ft.sibling=Pt,Ft=Pt);return i&&mt.forEach(function(or){return r(z,or)}),zt&&Ji(z,xt),gt}function vt(z,O,H,Z){if(H==null)throw Error(s(151));for(var gt=null,Ft=null,mt=O,xt=O=0,Pt=null,Ht=H.next();mt!==null&&!Ht.done;xt++,Ht=H.next()){mt.index>xt?(Pt=mt,mt=null):Pt=mt.sibling;var or=K(z,mt,Ht.value,Z);if(or===null){mt===null&&(mt=Pt);break}i&&mt&&or.alternate===null&&r(z,mt),O=m(or,O,xt),Ft===null?gt=or:Ft.sibling=or,Ft=or,mt=Pt}if(Ht.done)return a(z,mt),zt&&Ji(z,xt),gt;if(mt===null){for(;!Ht.done;xt++,Ht=H.next())Ht=tt(z,Ht.value,Z),Ht!==null&&(O=m(Ht,O,xt),Ft===null?gt=Ht:Ft.sibling=Ht,Ft=Ht);return zt&&Ji(z,xt),gt}for(mt=u(mt);!Ht.done;xt++,Ht=H.next())Ht=X(mt,z,xt,Ht.value,Z),Ht!==null&&(i&&Ht.alternate!==null&&mt.delete(Ht.key===null?xt:Ht.key),O=m(Ht,O,xt),Ft===null?gt=Ht:Ft.sibling=Ht,Ft=Ht);return i&&mt.forEach(function(I2){return r(z,I2)}),zt&&Ji(z,xt),gt}function Jt(z,O,H,Z){if(typeof H=="object"&&H!==null&&H.type===U&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case R:t:{for(var gt=H.key;O!==null;){if(O.key===gt){if(gt=H.type,gt===U){if(O.tag===7){a(z,O.sibling),Z=f(O,H.props.children),Z.return=z,z=Z;break t}}else if(O.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===w&&Zr(gt)===O.type){a(z,O.sibling),Z=f(O,H.props),Vl(Z,H),Z.return=z,z=Z;break t}a(z,O);break}else r(z,O);O=O.sibling}H.type===U?(Z=Yr(H.props.children,z.mode,Z,H.key),Z.return=z,z=Z):(Z=Pc(H.type,H.key,H.props,null,z.mode,Z),Vl(Z,H),Z.return=z,z=Z)}return E(z);case P:t:{for(gt=H.key;O!==null;){if(O.key===gt)if(O.tag===4&&O.stateNode.containerInfo===H.containerInfo&&O.stateNode.implementation===H.implementation){a(z,O.sibling),Z=f(O,H.children||[]),Z.return=z,z=Z;break t}else{a(z,O);break}else r(z,O);O=O.sibling}Z=vd(H,z.mode,Z),Z.return=z,z=Z}return E(z);case w:return H=Zr(H),Jt(z,O,H,Z)}if(de(H))return dt(z,O,H,Z);if(B(H)){if(gt=B(H),typeof gt!="function")throw Error(s(150));return H=gt.call(H),vt(z,O,H,Z)}if(typeof H.then=="function")return Jt(z,O,Fc(H),Z);if(H.$$typeof===Y)return Jt(z,O,Uc(z,H),Z);Hc(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,O!==null&&O.tag===6?(a(z,O.sibling),Z=f(O,H),Z.return=z,z=Z):(a(z,O),Z=yd(H,z.mode,Z),Z.return=z,z=Z),E(z)):a(z,O)}return function(z,O,H,Z){try{xl=0;var gt=Jt(z,O,H,Z);return eo=null,gt}catch(mt){if(mt===to||mt===Bc)throw mt;var Ft=bn(29,mt,null,z.mode);return Ft.lanes=Z,Ft.return=z,Ft}finally{}}}var ta=qv(!0),Gv=qv(!1),qs=!1;function xd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vd(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Gs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ks(i,r,a){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Gt&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=Oc(i),Iv(i,null,a),r}return Nc(i,u,r,a),Oc(i)}function Ml(i,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,a|=u,r.lanes=a,rl(i,a)}}function Md(i,r){var a=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=E:m=m.next=E,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=r:i.next=r,a.lastBaseUpdate=r}var Nd=!1;function Nl(){if(Nd){var i=Ja;if(i!==null)throw i}}function Ol(i,r,a,u){Nd=!1;var f=i.updateQueue;qs=!1;var m=f.firstBaseUpdate,E=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var x=A,q=x.next;x.next=null,E===null?m=q:E.next=q,E=x;var $=i.alternate;$!==null&&($=$.updateQueue,A=$.lastBaseUpdate,A!==E&&(A===null?$.firstBaseUpdate=q:A.next=q,$.lastBaseUpdate=x))}if(m!==null){var tt=f.baseState;E=0,$=q=x=null,A=m;do{var K=A.lane&-536870913,X=K!==A.lane;if(X?(Ot&K)===K:(u&K)===K){K!==0&&K===Za&&(Nd=!0),$!==null&&($=$.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var dt=i,vt=A;K=r;var Jt=a;switch(vt.tag){case 1:if(dt=vt.payload,typeof dt=="function"){tt=dt.call(Jt,tt,K);break t}tt=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=vt.payload,K=typeof dt=="function"?dt.call(Jt,tt,K):dt,K==null)break t;tt=_({},tt,K);break t;case 2:qs=!0}}K=A.callback,K!==null&&(i.flags|=64,X&&(i.flags|=8192),X=f.callbacks,X===null?f.callbacks=[K]:X.push(K))}else X={lane:K,tag:A.tag,payload:A.payload,callback:A.callback,next:null},$===null?(q=$=X,x=tt):$=$.next=X,E|=K;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;X=A,A=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);$===null&&(x=tt),f.baseState=x,f.firstBaseUpdate=q,f.lastBaseUpdate=$,m===null&&(f.shared.lanes=0),Ws|=E,i.lanes=E,i.memoizedState=tt}}function Kv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Yv(i,r){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)Kv(a[i],r)}var no=L(null),qc=L(0);function Qv(i,r){i=cs,ut(qc,i),ut(no,r),cs=i|r.baseLanes}function Od(){ut(qc,cs),ut(no,no.current)}function Pd(){cs=qc.current,nt(no),nt(qc)}var wn=L(null),Bn=null;function Ys(i){var r=i.alternate;ut(_e,_e.current&1),ut(wn,i),Bn===null&&(r===null||no.current!==null||r.memoizedState!==null)&&(Bn=i)}function Ld(i){ut(_e,_e.current),ut(wn,i),Bn===null&&(Bn=i)}function Xv(i){i.tag===22?(ut(_e,_e.current),ut(wn,i),Bn===null&&(Bn=i)):Qs()}function Qs(){ut(_e,_e.current),ut(wn,wn.current)}function Rn(i){nt(wn),Bn===i&&(Bn=null),nt(_e)}var _e=L(0);function Gc(i){for(var r=i;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Fm(a)||Hm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ns=0,Ct=null,Wt=null,Ie=null,Kc=!1,io=!1,ea=!1,Yc=0,Pl=0,so=null,vC=0;function me(){throw Error(s(321))}function kd(i,r){if(r===null)return!1;for(var a=0;a<r.length&&a<i.length;a++)if(!An(i[a],r[a]))return!1;return!0}function Ud(i,r,a,u,f,m){return ns=m,Ct=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=i===null||i.memoizedState===null?M_:Jd,ea=!1,m=a(u,f),ea=!1,io&&(m=Wv(r,a,u,f)),$v(i),m}function $v(i){W.H=Ul;var r=Wt!==null&&Wt.next!==null;if(ns=0,Ie=Wt=Ct=null,Kc=!1,Pl=0,so=null,r)throw Error(s(300));i===null||De||(i=i.dependencies,i!==null&&kc(i)&&(De=!0))}function Wv(i,r,a,u){Ct=i;var f=0;do{if(io&&(so=null),Pl=0,io=!1,25<=f)throw Error(s(301));if(f+=1,Ie=Wt=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}W.H=N_,m=r(a,u)}while(io);return m}function _C(){var i=W.H,r=i.useState()[0];return r=typeof r.then=="function"?Ll(r):r,i=i.useState()[0],(Wt!==null?Wt.memoizedState:null)!==i&&(Ct.flags|=1024),r}function zd(){var i=Yc!==0;return Yc=0,i}function Bd(i,r,a){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~a}function jd(i){if(Kc){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Kc=!1}ns=0,Ie=Wt=Ct=null,io=!1,Pl=Yc=0,so=null}function cn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?Ct.memoizedState=Ie=i:Ie=Ie.next=i,Ie}function Ee(){if(Wt===null){var i=Ct.alternate;i=i!==null?i.memoizedState:null}else i=Wt.next;var r=Ie===null?Ct.memoizedState:Ie.next;if(r!==null)Ie=r,Wt=i;else{if(i===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Wt=i,i={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Ie===null?Ct.memoizedState=Ie=i:Ie=Ie.next=i}return Ie}function Qc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ll(i){var r=Pl;return Pl+=1,so===null&&(so=[]),i=jv(so,i,r),r=Ct,(Ie===null?r.memoizedState:Ie.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?M_:Jd),i}function Xc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ll(i);if(i.$$typeof===Y)return Qe(i)}throw Error(s(438,String(i)))}function Fd(i){var r=null,a=Ct.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=Ct.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Qc(),Ct.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(i),u=0;u<i;u++)a[u]=N;return r.index++,a}function is(i,r){return typeof r=="function"?r(i):r}function $c(i){var r=Ee();return Hd(r,Wt,i)}function Hd(i,r,a){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var f=i.baseQueue,m=u.pending;if(m!==null){if(f!==null){var E=f.next;f.next=m.next,m.next=E}r.baseQueue=f=m,u.pending=null}if(m=i.baseState,f===null)i.memoizedState=m;else{r=f.next;var A=E=null,x=null,q=r,$=!1;do{var tt=q.lane&-536870913;if(tt!==q.lane?(Ot&tt)===tt:(ns&tt)===tt){var K=q.revertLane;if(K===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),tt===Za&&($=!0);else if((ns&K)===K){q=q.next,K===Za&&($=!0);continue}else tt={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},x===null?(A=x=tt,E=m):x=x.next=tt,Ct.lanes|=K,Ws|=K;tt=q.action,ea&&a(m,tt),m=q.hasEagerState?q.eagerState:a(m,tt)}else K={lane:tt,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},x===null?(A=x=K,E=m):x=x.next=K,Ct.lanes|=tt,Ws|=tt;q=q.next}while(q!==null&&q!==r);if(x===null?E=m:x.next=A,!An(m,i.memoizedState)&&(De=!0,$&&(a=Ja,a!==null)))throw a;i.memoizedState=m,i.baseState=E,i.baseQueue=x,u.lastRenderedState=m}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function qd(i){var r=Ee(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=i;var u=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do m=i(m,E.action),E=E.next;while(E!==f);An(m,r.memoizedState)||(De=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,u]}function Zv(i,r,a){var u=Ct,f=Ee(),m=zt;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!An((Wt||f).memoizedState,a);if(E&&(f.memoizedState=a,De=!0),f=f.queue,Yd(e_.bind(null,u,f,i),[i]),f.getSnapshot!==r||E||Ie!==null&&Ie.memoizedState.tag&1){if(u.flags|=2048,ro(9,{destroy:void 0},t_.bind(null,u,f,a,r),null),ee===null)throw Error(s(349));m||(ns&127)!==0||Jv(u,r,a)}return a}function Jv(i,r,a){i.flags|=16384,i={getSnapshot:r,value:a},r=Ct.updateQueue,r===null?(r=Qc(),Ct.updateQueue=r,r.stores=[i]):(a=r.stores,a===null?r.stores=[i]:a.push(i))}function t_(i,r,a,u){r.value=a,r.getSnapshot=u,n_(r)&&i_(i)}function e_(i,r,a){return a(function(){n_(r)&&i_(i)})}function n_(i){var r=i.getSnapshot;i=i.value;try{var a=r();return!An(i,a)}catch{return!0}}function i_(i){var r=Kr(i,2);r!==null&&vn(r,i,2)}function Gd(i){var r=cn();if(typeof i=="function"){var a=i;if(i=a(),ea){xn(!0);try{a()}finally{xn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:i},r}function s_(i,r,a,u){return i.baseState=a,Hd(i,Wt,typeof u=="function"?u:is)}function EC(i,r,a,u,f){if(Jc(i))throw Error(s(485));if(i=r.action,i!==null){var m={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};W.T!==null?a(!0):m.isTransition=!1,u(m),a=r.pending,a===null?(m.next=r.pending=m,r_(r,m)):(m.next=a.next,r.pending=a.next=m)}}function r_(i,r){var a=r.action,u=r.payload,f=i.state;if(r.isTransition){var m=W.T,E={};W.T=E;try{var A=a(f,u),x=W.S;x!==null&&x(E,A),a_(i,r,A)}catch(q){Kd(i,r,q)}finally{m!==null&&E.types!==null&&(m.types=E.types),W.T=m}}else try{m=a(f,u),a_(i,r,m)}catch(q){Kd(i,r,q)}}function a_(i,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){o_(i,r,u)},function(u){return Kd(i,r,u)}):o_(i,r,a)}function o_(i,r,a){r.status="fulfilled",r.value=a,l_(r),i.state=a,r=i.pending,r!==null&&(a=r.next,a===r?i.pending=null:(a=a.next,r.next=a,r_(i,a)))}function Kd(i,r,a){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,l_(r),r=r.next;while(r!==u)}i.action=null}function l_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function u_(i,r){return r}function c_(i,r){if(zt){var a=ee.formState;if(a!==null){t:{var u=Ct;if(zt){if(ne){e:{for(var f=ne,m=zn;f.nodeType!==8;){if(!m){f=null;break e}if(f=jn(f.nextSibling),f===null){f=null;break e}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){ne=jn(f.nextSibling),u=f.data==="F!";break t}}Fs(u)}u=!1}u&&(r=a[0])}}return a=cn(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u_,lastRenderedState:r},a.queue=u,a=D_.bind(null,Ct,u),u.dispatch=a,u=Gd(!1),m=Zd.bind(null,Ct,!1,u.queue),u=cn(),f={state:r,dispatch:null,action:i,pending:null},u.queue=f,a=EC.bind(null,Ct,f,m,a),f.dispatch=a,u.memoizedState=i,[r,a,!1]}function h_(i){var r=Ee();return f_(r,Wt,i)}function f_(i,r,a){if(r=Hd(i,r,u_)[0],i=$c(is)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Ll(r)}catch(E){throw E===to?Bc:E}else u=r;r=Ee();var f=r.queue,m=f.dispatch;return a!==r.memoizedState&&(Ct.flags|=2048,ro(9,{destroy:void 0},TC.bind(null,f,a),null)),[u,m,i]}function TC(i,r){i.action=r}function d_(i){var r=Ee(),a=Wt;if(a!==null)return f_(r,a,i);Ee(),r=r.memoizedState,a=Ee();var u=a.queue.dispatch;return a.memoizedState=i,[r,u,!1]}function ro(i,r,a,u){return i={tag:i,create:a,deps:u,inst:r,next:null},r=Ct.updateQueue,r===null&&(r=Qc(),Ct.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=i.next=i:(u=a.next,a.next=i,i.next=u,r.lastEffect=i),i}function m_(){return Ee().memoizedState}function Wc(i,r,a,u){var f=cn();Ct.flags|=i,f.memoizedState=ro(1|r,{destroy:void 0},a,u===void 0?null:u)}function Zc(i,r,a,u){var f=Ee();u=u===void 0?null:u;var m=f.memoizedState.inst;Wt!==null&&u!==null&&kd(u,Wt.memoizedState.deps)?f.memoizedState=ro(r,m,a,u):(Ct.flags|=i,f.memoizedState=ro(1|r,m,a,u))}function p_(i,r){Wc(8390656,8,i,r)}function Yd(i,r){Zc(2048,8,i,r)}function SC(i){Ct.flags|=4;var r=Ct.updateQueue;if(r===null)r=Qc(),Ct.updateQueue=r,r.events=[i];else{var a=r.events;a===null?r.events=[i]:a.push(i)}}function g_(i){var r=Ee().memoizedState;return SC({ref:r,nextImpl:i}),function(){if((Gt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function y_(i,r){return Zc(4,2,i,r)}function v_(i,r){return Zc(4,4,i,r)}function __(i,r){if(typeof r=="function"){i=i();var a=r(i);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function E_(i,r,a){a=a!=null?a.concat([i]):null,Zc(4,4,__.bind(null,r,i),a)}function Qd(){}function T_(i,r){var a=Ee();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&kd(r,u[1])?u[0]:(a.memoizedState=[i,r],i)}function S_(i,r){var a=Ee();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&kd(r,u[1]))return u[0];if(u=i(),ea){xn(!0);try{i()}finally{xn(!1)}}return a.memoizedState=[u,r],u}function Xd(i,r,a){return a===void 0||(ns&1073741824)!==0&&(Ot&261930)===0?i.memoizedState=r:(i.memoizedState=a,i=A0(),Ct.lanes|=i,Ws|=i,a)}function A_(i,r,a,u){return An(a,r)?a:no.current!==null?(i=Xd(i,a,u),An(i,r)||(De=!0),i):(ns&42)===0||(ns&1073741824)!==0&&(Ot&261930)===0?(De=!0,i.memoizedState=a):(i=A0(),Ct.lanes|=i,Ws|=i,r)}function b_(i,r,a,u,f){var m=ot.p;ot.p=m!==0&&8>m?m:8;var E=W.T,A={};W.T=A,Zd(i,!1,r,a);try{var x=f(),q=W.S;if(q!==null&&q(A,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var $=yC(x,u);kl(i,r,$,Dn(i))}else kl(i,r,u,Dn(i))}catch(tt){kl(i,r,{then:function(){},status:"rejected",reason:tt},Dn())}finally{ot.p=m,E!==null&&A.types!==null&&(E.types=A.types),W.T=E}}function AC(){}function $d(i,r,a,u){if(i.tag!==5)throw Error(s(476));var f=w_(i).queue;b_(i,f,r,ft,a===null?AC:function(){return R_(i),a(u)})}function w_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:ft},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:a},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function R_(i){var r=w_(i);r.next===null&&(r=i.alternate.memoizedState),kl(i,r.next.queue,{},Dn())}function Wd(){return Qe(tu)}function C_(){return Ee().memoizedState}function I_(){return Ee().memoizedState}function bC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var a=Dn();i=Gs(a);var u=Ks(r,i,a);u!==null&&(vn(u,r,a),Ml(u,r,a)),r={cache:Rd()},i.payload=r;return}r=r.return}}function wC(i,r,a){var u=Dn();a={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Jc(i)?x_(r,a):(a=pd(i,r,a,u),a!==null&&(vn(a,i,u),V_(a,r,u)))}function D_(i,r,a){var u=Dn();kl(i,r,a,u)}function kl(i,r,a,u){var f={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Jc(i))x_(r,f);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var E=r.lastRenderedState,A=m(E,a);if(f.hasEagerState=!0,f.eagerState=A,An(A,E))return Nc(i,r,f,0),ee===null&&Mc(),!1}catch{}finally{}if(a=pd(i,r,f,u),a!==null)return vn(a,i,u),V_(a,r,u),!0}return!1}function Zd(i,r,a,u){if(u={lane:2,revertLane:xm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Jc(i)){if(r)throw Error(s(479))}else r=pd(i,a,u,2),r!==null&&vn(r,i,2)}function Jc(i){var r=i.alternate;return i===Ct||r!==null&&r===Ct}function x_(i,r){io=Kc=!0;var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}function V_(i,r,a){if((a&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,a|=u,r.lanes=a,rl(i,a)}}var Ul={readContext:Qe,use:Xc,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me,useHostTransitionStatus:me,useFormState:me,useActionState:me,useOptimistic:me,useMemoCache:me,useCacheRefresh:me};Ul.useEffectEvent=me;var M_={readContext:Qe,use:Xc,useCallback:function(i,r){return cn().memoizedState=[i,r===void 0?null:r],i},useContext:Qe,useEffect:p_,useImperativeHandle:function(i,r,a){a=a!=null?a.concat([i]):null,Wc(4194308,4,__.bind(null,r,i),a)},useLayoutEffect:function(i,r){return Wc(4194308,4,i,r)},useInsertionEffect:function(i,r){Wc(4,2,i,r)},useMemo:function(i,r){var a=cn();r=r===void 0?null:r;var u=i();if(ea){xn(!0);try{i()}finally{xn(!1)}}return a.memoizedState=[u,r],u},useReducer:function(i,r,a){var u=cn();if(a!==void 0){var f=a(r);if(ea){xn(!0);try{a(r)}finally{xn(!1)}}}else f=r;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=wC.bind(null,Ct,i),[u.memoizedState,i]},useRef:function(i){var r=cn();return i={current:i},r.memoizedState=i},useState:function(i){i=Gd(i);var r=i.queue,a=D_.bind(null,Ct,r);return r.dispatch=a,[i.memoizedState,a]},useDebugValue:Qd,useDeferredValue:function(i,r){var a=cn();return Xd(a,i,r)},useTransition:function(){var i=Gd(!1);return i=b_.bind(null,Ct,i.queue,!0,!1),cn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,a){var u=Ct,f=cn();if(zt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ee===null)throw Error(s(349));(Ot&127)!==0||Jv(u,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,p_(e_.bind(null,u,m,i),[i]),u.flags|=2048,ro(9,{destroy:void 0},t_.bind(null,u,m,a,r),null),a},useId:function(){var i=cn(),r=ee.identifierPrefix;if(zt){var a=Oi,u=Ni;a=(u&~(1<<32-ye(u)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Yc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=vC++,r="_"+r+"r_"+a.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Wd,useFormState:c_,useActionState:c_,useOptimistic:function(i){var r=cn();r.memoizedState=r.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Zd.bind(null,Ct,!0,a),a.dispatch=r,[i,r]},useMemoCache:Fd,useCacheRefresh:function(){return cn().memoizedState=bC.bind(null,Ct)},useEffectEvent:function(i){var r=cn(),a={impl:i};return r.memoizedState=a,function(){if((Gt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Jd={readContext:Qe,use:Xc,useCallback:T_,useContext:Qe,useEffect:Yd,useImperativeHandle:E_,useInsertionEffect:y_,useLayoutEffect:v_,useMemo:S_,useReducer:$c,useRef:m_,useState:function(){return $c(is)},useDebugValue:Qd,useDeferredValue:function(i,r){var a=Ee();return A_(a,Wt.memoizedState,i,r)},useTransition:function(){var i=$c(is)[0],r=Ee().memoizedState;return[typeof i=="boolean"?i:Ll(i),r]},useSyncExternalStore:Zv,useId:C_,useHostTransitionStatus:Wd,useFormState:h_,useActionState:h_,useOptimistic:function(i,r){var a=Ee();return s_(a,Wt,i,r)},useMemoCache:Fd,useCacheRefresh:I_};Jd.useEffectEvent=g_;var N_={readContext:Qe,use:Xc,useCallback:T_,useContext:Qe,useEffect:Yd,useImperativeHandle:E_,useInsertionEffect:y_,useLayoutEffect:v_,useMemo:S_,useReducer:qd,useRef:m_,useState:function(){return qd(is)},useDebugValue:Qd,useDeferredValue:function(i,r){var a=Ee();return Wt===null?Xd(a,i,r):A_(a,Wt.memoizedState,i,r)},useTransition:function(){var i=qd(is)[0],r=Ee().memoizedState;return[typeof i=="boolean"?i:Ll(i),r]},useSyncExternalStore:Zv,useId:C_,useHostTransitionStatus:Wd,useFormState:d_,useActionState:d_,useOptimistic:function(i,r){var a=Ee();return Wt!==null?s_(a,Wt,i,r):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:Fd,useCacheRefresh:I_};N_.useEffectEvent=g_;function tm(i,r,a,u){r=i.memoizedState,a=a(u,r),a=a==null?r:_({},r,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var em={enqueueSetState:function(i,r,a){i=i._reactInternals;var u=Dn(),f=Gs(u);f.payload=r,a!=null&&(f.callback=a),r=Ks(i,f,u),r!==null&&(vn(r,i,u),Ml(r,i,u))},enqueueReplaceState:function(i,r,a){i=i._reactInternals;var u=Dn(),f=Gs(u);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Ks(i,f,u),r!==null&&(vn(r,i,u),Ml(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var a=Dn(),u=Gs(a);u.tag=2,r!=null&&(u.callback=r),r=Ks(i,u,a),r!==null&&(vn(r,i,a),Ml(r,i,a))}};function O_(i,r,a,u,f,m,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,m,E):r.prototype&&r.prototype.isPureReactComponent?!bl(a,u)||!bl(f,m):!0}function P_(i,r,a,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==i&&em.enqueueReplaceState(r,r.state,null)}function na(i,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(i=i.defaultProps){a===r&&(a=_({},a));for(var f in i)a[f]===void 0&&(a[f]=i[f])}return a}function L_(i){Vc(i)}function k_(i){console.error(i)}function U_(i){Vc(i)}function th(i,r){try{var a=i.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function z_(i,r,a){try{var u=i.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function nm(i,r,a){return a=Gs(a),a.tag=3,a.payload={element:null},a.callback=function(){th(i,r)},a}function B_(i){return i=Gs(i),i.tag=3,i}function j_(i,r,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;i.payload=function(){return f(m)},i.callback=function(){z_(r,a,u)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){z_(r,a,u),typeof f!="function"&&(Zs===null?Zs=new Set([this]):Zs.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function RC(i,r,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&Wa(r,a,f,!0),a=wn.current,a!==null){switch(a.tag){case 31:case 13:return Bn===null?fh():a.alternate===null&&pe===0&&(pe=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===jc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),Cm(i,u,f)),!1;case 22:return a.flags|=65536,u===jc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),Cm(i,u,f)),!1}throw Error(s(435,a.tag))}return Cm(i,u,f),fh(),!1}if(zt)return r=wn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==Td&&(i=Error(s(422),{cause:u}),Cl(Ln(i,a)))):(u!==Td&&(r=Error(s(423),{cause:u}),Cl(Ln(r,a))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=Ln(u,a),f=nm(i.stateNode,u,f),Md(i,f),pe!==4&&(pe=2)),!1;var m=Error(s(520),{cause:u});if(m=Ln(m,a),Kl===null?Kl=[m]:Kl.push(m),pe!==4&&(pe=2),r===null)return!0;u=Ln(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,i=f&-f,a.lanes|=i,i=nm(a.stateNode,u,i),Md(a,i),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Zs===null||!Zs.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=B_(f),j_(f,i,a,u),Md(a,f),!1}a=a.return}while(a!==null);return!1}var im=Error(s(461)),De=!1;function Xe(i,r,a,u){r.child=i===null?Gv(r,null,a,u):ta(r,i.child,a,u)}function F_(i,r,a,u,f){a=a.render;var m=r.ref;if("ref"in u){var E={};for(var A in u)A!=="ref"&&(E[A]=u[A])}else E=u;return $r(r),u=Ud(i,r,a,E,m,f),A=zd(),i!==null&&!De?(Bd(i,r,f),ss(i,r,f)):(zt&&A&&_d(r),r.flags|=1,Xe(i,r,u,f),r.child)}function H_(i,r,a,u,f){if(i===null){var m=a.type;return typeof m=="function"&&!gd(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,q_(i,r,m,u,f)):(i=Pc(a.type,null,u,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(m=i.child,!hm(i,f)){var E=m.memoizedProps;if(a=a.compare,a=a!==null?a:bl,a(E,u)&&i.ref===r.ref)return ss(i,r,f)}return r.flags|=1,i=Zi(m,u),i.ref=r.ref,i.return=r,r.child=i}function q_(i,r,a,u,f){if(i!==null){var m=i.memoizedProps;if(bl(m,u)&&i.ref===r.ref)if(De=!1,r.pendingProps=u=m,hm(i,f))(i.flags&131072)!==0&&(De=!0);else return r.lanes=i.lanes,ss(i,r,f)}return sm(i,r,a,u,f)}function G_(i,r,a,u){var f=u.children,m=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,i!==null){for(u=r.child=i.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~m}else u=0,r.child=null;return K_(i,r,m,a,u)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&zc(r,m!==null?m.cachePool:null),m!==null?Qv(r,m):Od(),Xv(r);else return u=r.lanes=536870912,K_(i,r,m!==null?m.baseLanes|a:a,a,u)}else m!==null?(zc(r,m.cachePool),Qv(r,m),Qs(),r.memoizedState=null):(i!==null&&zc(r,null),Od(),Qs());return Xe(i,r,f,a),r.child}function zl(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function K_(i,r,a,u,f){var m=Id();return m=m===null?null:{parent:Ce._currentValue,pool:m},r.memoizedState={baseLanes:a,cachePool:m},i!==null&&zc(r,null),Od(),Xv(r),i!==null&&Wa(i,r,u,!0),r.childLanes=f,null}function eh(i,r){return r=ih({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function Y_(i,r,a){return ta(r,i.child,null,a),i=eh(r,r.pendingProps),i.flags|=2,Rn(r),r.memoizedState=null,i}function CC(i,r,a){var u=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(zt){if(u.mode==="hidden")return i=eh(r,u),r.lanes=536870912,zl(null,i);if(Ld(r),(i=ne)?(i=rE(i,zn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Bs!==null?{id:Ni,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},a=xv(i),a.return=r,r.child=a,Ye=r,ne=null)):i=null,i===null)throw Fs(r);return r.lanes=536870912,null}return eh(r,u)}var m=i.memoizedState;if(m!==null){var E=m.dehydrated;if(Ld(r),f)if(r.flags&256)r.flags&=-257,r=Y_(i,r,a);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(De||Wa(i,r,a,!1),f=(a&i.childLanes)!==0,De||f){if(u=ee,u!==null&&(E=al(u,a),E!==0&&E!==m.retryLane))throw m.retryLane=E,Kr(i,E),vn(u,i,E),im;fh(),r=Y_(i,r,a)}else i=m.treeContext,ne=jn(E.nextSibling),Ye=r,zt=!0,js=null,zn=!1,i!==null&&Nv(r,i),r=eh(r,u),r.flags|=4096;return r}return i=Zi(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function nh(i,r){var a=r.ref;if(a===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(i===null||i.ref!==a)&&(r.flags|=4194816)}}function sm(i,r,a,u,f){return $r(r),a=Ud(i,r,a,u,void 0,f),u=zd(),i!==null&&!De?(Bd(i,r,f),ss(i,r,f)):(zt&&u&&_d(r),r.flags|=1,Xe(i,r,a,f),r.child)}function Q_(i,r,a,u,f,m){return $r(r),r.updateQueue=null,a=Wv(r,u,a,f),$v(i),u=zd(),i!==null&&!De?(Bd(i,r,m),ss(i,r,m)):(zt&&u&&_d(r),r.flags|=1,Xe(i,r,a,m),r.child)}function X_(i,r,a,u,f){if($r(r),r.stateNode===null){var m=Ya,E=a.contextType;typeof E=="object"&&E!==null&&(m=Qe(E)),m=new a(u,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=em,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=u,m.state=r.memoizedState,m.refs={},xd(r),E=a.contextType,m.context=typeof E=="object"&&E!==null?Qe(E):Ya,m.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(tm(r,a,E,u),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&em.enqueueReplaceState(m,m.state,null),Ol(r,u,m,f),Nl(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){m=r.stateNode;var A=r.memoizedProps,x=na(a,A);m.props=x;var q=m.context,$=a.contextType;E=Ya,typeof $=="object"&&$!==null&&(E=Qe($));var tt=a.getDerivedStateFromProps;$=typeof tt=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,$||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||q!==E)&&P_(r,m,u,E),qs=!1;var K=r.memoizedState;m.state=K,Ol(r,u,m,f),Nl(),q=r.memoizedState,A||K!==q||qs?(typeof tt=="function"&&(tm(r,a,tt,u),q=r.memoizedState),(x=qs||O_(r,a,x,u,K,q,E))?($||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=q),m.props=u,m.state=q,m.context=E,u=x):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{m=r.stateNode,Vd(i,r),E=r.memoizedProps,$=na(a,E),m.props=$,tt=r.pendingProps,K=m.context,q=a.contextType,x=Ya,typeof q=="object"&&q!==null&&(x=Qe(q)),A=a.getDerivedStateFromProps,(q=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==tt||K!==x)&&P_(r,m,u,x),qs=!1,K=r.memoizedState,m.state=K,Ol(r,u,m,f),Nl();var X=r.memoizedState;E!==tt||K!==X||qs||i!==null&&i.dependencies!==null&&kc(i.dependencies)?(typeof A=="function"&&(tm(r,a,A,u),X=r.memoizedState),($=qs||O_(r,a,$,u,K,X,x)||i!==null&&i.dependencies!==null&&kc(i.dependencies))?(q||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,X,x),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,X,x)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===i.memoizedProps&&K===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&K===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=X),m.props=u,m.state=X,m.context=x,u=$):(typeof m.componentDidUpdate!="function"||E===i.memoizedProps&&K===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&K===i.memoizedState||(r.flags|=1024),u=!1)}return m=u,nh(i,r),u=(r.flags&128)!==0,m||u?(m=r.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,i!==null&&u?(r.child=ta(r,i.child,null,f),r.child=ta(r,null,a,f)):Xe(i,r,a,f),r.memoizedState=m.state,i=r.child):i=ss(i,r,f),i}function $_(i,r,a,u){return Qr(),r.flags|=256,Xe(i,r,a,u),r.child}var rm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function am(i){return{baseLanes:i,cachePool:zv()}}function om(i,r,a){return i=i!==null?i.childLanes&~a:0,r&&(i|=In),i}function W_(i,r,a){var u=r.pendingProps,f=!1,m=(r.flags&128)!==0,E;if((E=m)||(E=i!==null&&i.memoizedState===null?!1:(_e.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,i===null){if(zt){if(f?Ys(r):Qs(),(i=ne)?(i=rE(i,zn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Bs!==null?{id:Ni,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},a=xv(i),a.return=r,r.child=a,Ye=r,ne=null)):i=null,i===null)throw Fs(r);return Hm(i)?r.lanes=32:r.lanes=536870912,null}var A=u.children;return u=u.fallback,f?(Qs(),f=r.mode,A=ih({mode:"hidden",children:A},f),u=Yr(u,f,a,null),A.return=r,u.return=r,A.sibling=u,r.child=A,u=r.child,u.memoizedState=am(a),u.childLanes=om(i,E,a),r.memoizedState=rm,zl(null,u)):(Ys(r),lm(r,A))}var x=i.memoizedState;if(x!==null&&(A=x.dehydrated,A!==null)){if(m)r.flags&256?(Ys(r),r.flags&=-257,r=um(i,r,a)):r.memoizedState!==null?(Qs(),r.child=i.child,r.flags|=128,r=null):(Qs(),A=u.fallback,f=r.mode,u=ih({mode:"visible",children:u.children},f),A=Yr(A,f,a,null),A.flags|=2,u.return=r,A.return=r,u.sibling=A,r.child=u,ta(r,i.child,null,a),u=r.child,u.memoizedState=am(a),u.childLanes=om(i,E,a),r.memoizedState=rm,r=zl(null,u));else if(Ys(r),Hm(A)){if(E=A.nextSibling&&A.nextSibling.dataset,E)var q=E.dgst;E=q,u=Error(s(419)),u.stack="",u.digest=E,Cl({value:u,source:null,stack:null}),r=um(i,r,a)}else if(De||Wa(i,r,a,!1),E=(a&i.childLanes)!==0,De||E){if(E=ee,E!==null&&(u=al(E,a),u!==0&&u!==x.retryLane))throw x.retryLane=u,Kr(i,u),vn(E,i,u),im;Fm(A)||fh(),r=um(i,r,a)}else Fm(A)?(r.flags|=192,r.child=i.child,r=null):(i=x.treeContext,ne=jn(A.nextSibling),Ye=r,zt=!0,js=null,zn=!1,i!==null&&Nv(r,i),r=lm(r,u.children),r.flags|=4096);return r}return f?(Qs(),A=u.fallback,f=r.mode,x=i.child,q=x.sibling,u=Zi(x,{mode:"hidden",children:u.children}),u.subtreeFlags=x.subtreeFlags&65011712,q!==null?A=Zi(q,A):(A=Yr(A,f,a,null),A.flags|=2),A.return=r,u.return=r,u.sibling=A,r.child=u,zl(null,u),u=r.child,A=i.child.memoizedState,A===null?A=am(a):(f=A.cachePool,f!==null?(x=Ce._currentValue,f=f.parent!==x?{parent:x,pool:x}:f):f=zv(),A={baseLanes:A.baseLanes|a,cachePool:f}),u.memoizedState=A,u.childLanes=om(i,E,a),r.memoizedState=rm,zl(i.child,u)):(Ys(r),a=i.child,i=a.sibling,a=Zi(a,{mode:"visible",children:u.children}),a.return=r,a.sibling=null,i!==null&&(E=r.deletions,E===null?(r.deletions=[i],r.flags|=16):E.push(i)),r.child=a,r.memoizedState=null,a)}function lm(i,r){return r=ih({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function ih(i,r){return i=bn(22,i,null,r),i.lanes=0,i}function um(i,r,a){return ta(r,i.child,null,a),i=lm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function Z_(i,r,a){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),bd(i.return,r,a)}function cm(i,r,a,u,f,m){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f,treeForkCount:m}:(E.isBackwards=r,E.rendering=null,E.renderingStartTime=0,E.last=u,E.tail=a,E.tailMode=f,E.treeForkCount=m)}function J_(i,r,a){var u=r.pendingProps,f=u.revealOrder,m=u.tail;u=u.children;var E=_e.current,A=(E&2)!==0;if(A?(E=E&1|2,r.flags|=128):E&=1,ut(_e,E),Xe(i,r,u,a),u=zt?Rl:0,!A&&i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Z_(i,a,r);else if(i.tag===19)Z_(i,a,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)i=a.alternate,i!==null&&Gc(i)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),cm(r,!1,f,a,m,u);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&Gc(i)===null){r.child=f;break}i=f.sibling,f.sibling=a,a=f,f=i}cm(r,!0,a,null,m,u);break;case"together":cm(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function ss(i,r,a){if(i!==null&&(r.dependencies=i.dependencies),Ws|=r.lanes,(a&r.childLanes)===0)if(i!==null){if(Wa(i,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,a=Zi(i,i.pendingProps),r.child=a,a.return=r;i.sibling!==null;)i=i.sibling,a=a.sibling=Zi(i,i.pendingProps),a.return=r;a.sibling=null}return r.child}function hm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&kc(i)))}function IC(i,r,a){switch(r.tag){case 3:Oe(r,r.stateNode.containerInfo),Hs(r,Ce,i.memoizedState.cache),Qr();break;case 27:case 5:Ir(r);break;case 4:Oe(r,r.stateNode.containerInfo);break;case 10:Hs(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Ld(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Ys(r),r.flags|=128,null):(a&r.child.childLanes)!==0?W_(i,r,a):(Ys(r),i=ss(i,r,a),i!==null?i.sibling:null);Ys(r);break;case 19:var f=(i.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||(Wa(i,r,a,!1),u=(a&r.childLanes)!==0),f){if(u)return J_(i,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ut(_e,_e.current),u)break;return null;case 22:return r.lanes=0,G_(i,r,a,r.pendingProps);case 24:Hs(r,Ce,i.memoizedState.cache)}return ss(i,r,a)}function t0(i,r,a){if(i!==null)if(i.memoizedProps!==r.pendingProps)De=!0;else{if(!hm(i,a)&&(r.flags&128)===0)return De=!1,IC(i,r,a);De=(i.flags&131072)!==0}else De=!1,zt&&(r.flags&1048576)!==0&&Mv(r,Rl,r.index);switch(r.lanes=0,r.tag){case 16:t:{var u=r.pendingProps;if(i=Zr(r.elementType),r.type=i,typeof i=="function")gd(i)?(u=na(i,u),r.tag=1,r=X_(null,r,i,u,a)):(r.tag=0,r=sm(null,r,i,u,a));else{if(i!=null){var f=i.$$typeof;if(f===rt){r.tag=11,r=F_(null,r,i,u,a);break t}else if(f===C){r.tag=14,r=H_(null,r,i,u,a);break t}}throw r=te(i)||i,Error(s(306,r,""))}}return r;case 0:return sm(i,r,r.type,r.pendingProps,a);case 1:return u=r.type,f=na(u,r.pendingProps),X_(i,r,u,f,a);case 3:t:{if(Oe(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var m=r.memoizedState;f=m.element,Vd(i,r),Ol(r,u,null,a);var E=r.memoizedState;if(u=E.cache,Hs(r,Ce,u),u!==m.cache&&wd(r,[Ce],a,!0),Nl(),u=E.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=$_(i,r,u,a);break t}else if(u!==f){f=Ln(Error(s(424)),r),Cl(f),r=$_(i,r,u,a);break t}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ne=jn(i.firstChild),Ye=r,zt=!0,js=null,zn=!0,a=Gv(r,null,u,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Qr(),u===f){r=ss(i,r,a);break t}Xe(i,r,u,a)}r=r.child}return r;case 26:return nh(i,r),i===null?(a=hE(r.type,null,r.pendingProps,null))?r.memoizedState=a:zt||(a=r.type,i=r.pendingProps,u=_h(Dt.current).createElement(a),u[be]=r,u[Be]=i,$e(u,a,i),we(u),r.stateNode=u):r.memoizedState=hE(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Ir(r),i===null&&zt&&(u=r.stateNode=lE(r.type,r.pendingProps,Dt.current),Ye=r,zn=!0,f=ne,nr(r.type)?(qm=f,ne=jn(u.firstChild)):ne=f),Xe(i,r,r.pendingProps.children,a),nh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&zt&&((f=u=ne)&&(u=s2(u,r.type,r.pendingProps,zn),u!==null?(r.stateNode=u,Ye=r,ne=jn(u.firstChild),zn=!1,f=!0):f=!1),f||Fs(r)),Ir(r),f=r.type,m=r.pendingProps,E=i!==null?i.memoizedProps:null,u=m.children,zm(f,m)?u=null:E!==null&&zm(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=Ud(i,r,_C,null,null,a),tu._currentValue=f),nh(i,r),Xe(i,r,u,a),r.child;case 6:return i===null&&zt&&((i=a=ne)&&(a=r2(a,r.pendingProps,zn),a!==null?(r.stateNode=a,Ye=r,ne=null,i=!0):i=!1),i||Fs(r)),null;case 13:return W_(i,r,a);case 4:return Oe(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=ta(r,null,u,a):Xe(i,r,u,a),r.child;case 11:return F_(i,r,r.type,r.pendingProps,a);case 7:return Xe(i,r,r.pendingProps,a),r.child;case 8:return Xe(i,r,r.pendingProps.children,a),r.child;case 12:return Xe(i,r,r.pendingProps.children,a),r.child;case 10:return u=r.pendingProps,Hs(r,r.type,u.value),Xe(i,r,u.children,a),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,$r(r),f=Qe(f),u=u(f),r.flags|=1,Xe(i,r,u,a),r.child;case 14:return H_(i,r,r.type,r.pendingProps,a);case 15:return q_(i,r,r.type,r.pendingProps,a);case 19:return J_(i,r,a);case 31:return CC(i,r,a);case 22:return G_(i,r,a,r.pendingProps);case 24:return $r(r),u=Qe(Ce),i===null?(f=Id(),f===null&&(f=ee,m=Rd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),r.memoizedState={parent:u,cache:f},xd(r),Hs(r,Ce,f)):((i.lanes&a)!==0&&(Vd(i,r),Ol(r,null,null,a),Nl()),f=i.memoizedState,m=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Hs(r,Ce,u)):(u=m.cache,Hs(r,Ce,u),u!==f.cache&&wd(r,[Ce],a,!0))),Xe(i,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function rs(i){i.flags|=4}function fm(i,r,a,u,f){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(C0())i.flags|=8192;else throw Jr=jc,Dd}else i.flags&=-16777217}function e0(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!gE(r))if(C0())i.flags|=8192;else throw Jr=jc,Dd}function sh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?cc():536870912,i.lanes|=r,uo|=r)}function Bl(i,r){if(!zt)switch(i.tailMode){case"hidden":r=i.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function ie(i){var r=i.alternate!==null&&i.alternate.child===i.child,a=0,u=0;if(r)for(var f=i.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=a,r}function DC(i,r,a){var u=r.pendingProps;switch(Ed(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(r),null;case 1:return ie(r),null;case 3:return a=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),es(Ce),re(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&($a(r)?rs(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Sd())),ie(r),null;case 26:var f=r.type,m=r.memoizedState;return i===null?(rs(r),m!==null?(ie(r),e0(r,m)):(ie(r),fm(r,f,null,u,a))):m?m!==i.memoizedState?(rs(r),ie(r),e0(r,m)):(ie(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&rs(r),ie(r),fm(r,f,i,u,a)),null;case 27:if(Ia(r),a=Dt.current,f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&rs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ie(r),null}i=ht.current,$a(r)?Ov(r):(i=lE(f,u,a),r.stateNode=i,rs(r))}return ie(r),null;case 5:if(Ia(r),f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&rs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ie(r),null}if(m=ht.current,$a(r))Ov(r);else{var E=_h(Dt.current);switch(m){case 1:m=E.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=E.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=E.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof u.is=="string"?E.createElement("select",{is:u.is}):E.createElement("select"),u.multiple?m.multiple=!0:u.size&&(m.size=u.size);break;default:m=typeof u.is=="string"?E.createElement(f,{is:u.is}):E.createElement(f)}}m[be]=r,m[Be]=u;t:for(E=r.child;E!==null;){if(E.tag===5||E.tag===6)m.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===r)break t;for(;E.sibling===null;){if(E.return===null||E.return===r)break t;E=E.return}E.sibling.return=E.return,E=E.sibling}r.stateNode=m;t:switch($e(m,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&rs(r)}}return ie(r),fm(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,a),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&rs(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=Dt.current,$a(r)){if(i=r.stateNode,a=r.memoizedProps,u=null,f=Ye,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[be]=r,i=!!(i.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||W0(i.nodeValue,a)),i||Fs(r,!0)}else i=_h(i).createTextNode(u),i[be]=r,r.stateNode=i}return ie(r),null;case 31:if(a=r.memoizedState,i===null||i.memoizedState!==null){if(u=$a(r),a!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[be]=r}else Qr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ie(r),i=!1}else a=Sd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=a),i=!0;if(!i)return r.flags&256?(Rn(r),r):(Rn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ie(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=$a(r),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[be]=r}else Qr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ie(r),f=!1}else f=Sd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Rn(r),r):(Rn(r),null)}return Rn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=u!==null,i=i!==null&&i.memoizedState!==null,a&&(u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)),a!==i&&a&&(r.child.flags|=8192),sh(r,r.updateQueue),ie(r),null);case 4:return re(),i===null&&Om(r.stateNode.containerInfo),ie(r),null;case 10:return es(r.type),ie(r),null;case 19:if(nt(_e),u=r.memoizedState,u===null)return ie(r),null;if(f=(r.flags&128)!==0,m=u.rendering,m===null)if(f)Bl(u,!1);else{if(pe!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(m=Gc(i),m!==null){for(r.flags|=128,Bl(u,!1),i=m.updateQueue,r.updateQueue=i,sh(r,i),r.subtreeFlags=0,i=a,a=r.child;a!==null;)Dv(a,i),a=a.sibling;return ut(_e,_e.current&1|2),zt&&Ji(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&ln()>uh&&(r.flags|=128,f=!0,Bl(u,!1),r.lanes=4194304)}else{if(!f)if(i=Gc(m),i!==null){if(r.flags|=128,f=!0,i=i.updateQueue,r.updateQueue=i,sh(r,i),Bl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!zt)return ie(r),null}else 2*ln()-u.renderingStartTime>uh&&a!==536870912&&(r.flags|=128,f=!0,Bl(u,!1),r.lanes=4194304);u.isBackwards?(m.sibling=r.child,r.child=m):(i=u.last,i!==null?i.sibling=m:r.child=m,u.last=m)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=ln(),i.sibling=null,a=_e.current,ut(_e,f?a&1|2:a&1),zt&&Ji(r,u.treeForkCount),i):(ie(r),null);case 22:case 23:return Rn(r),Pd(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(a&536870912)!==0&&(r.flags&128)===0&&(ie(r),r.subtreeFlags&6&&(r.flags|=8192)):ie(r),a=r.updateQueue,a!==null&&sh(r,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),i!==null&&nt(Wr),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),es(Ce),ie(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function xC(i,r){switch(Ed(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return es(Ce),re(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Ia(r),null;case 31:if(r.memoizedState!==null){if(Rn(r),r.alternate===null)throw Error(s(340));Qr()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Rn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Qr()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return nt(_e),null;case 4:return re(),null;case 10:return es(r.type),null;case 22:case 23:return Rn(r),Pd(),i!==null&&nt(Wr),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return es(Ce),null;case 25:return null;default:return null}}function n0(i,r){switch(Ed(r),r.tag){case 3:es(Ce),re();break;case 26:case 27:case 5:Ia(r);break;case 4:re();break;case 31:r.memoizedState!==null&&Rn(r);break;case 13:Rn(r);break;case 19:nt(_e);break;case 10:es(r.type);break;case 22:case 23:Rn(r),Pd(),i!==null&&nt(Wr);break;case 24:es(Ce)}}function jl(i,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&i)===i){u=void 0;var m=a.create,E=a.inst;u=m(),E.destroy=u}a=a.next}while(a!==f)}}catch(A){Xt(r,r.return,A)}}function Xs(i,r,a){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&i)===i){var E=u.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,f=r;var x=a,q=A;try{q()}catch($){Xt(f,x,$)}}}u=u.next}while(u!==m)}}catch($){Xt(r,r.return,$)}}function i0(i){var r=i.updateQueue;if(r!==null){var a=i.stateNode;try{Yv(r,a)}catch(u){Xt(i,i.return,u)}}}function s0(i,r,a){a.props=na(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(u){Xt(i,r,u)}}function Fl(i,r){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof a=="function"?i.refCleanup=a(u):a.current=u}}catch(f){Xt(i,r,f)}}function Pi(i,r){var a=i.ref,u=i.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){Xt(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Xt(i,r,f)}else a.current=null}function r0(i){var r=i.type,a=i.memoizedProps,u=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break t;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){Xt(i,i.return,f)}}function dm(i,r,a){try{var u=i.stateNode;ZC(u,i.type,a,r),u[Be]=r}catch(f){Xt(i,i.return,f)}}function a0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&nr(i.type)||i.tag===4}function mm(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||a0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&nr(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function pm(i,r,a){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(i),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ei));else if(u!==4&&(u===27&&nr(i.type)&&(a=i.stateNode,r=null),i=i.child,i!==null))for(pm(i,r,a),i=i.sibling;i!==null;)pm(i,r,a),i=i.sibling}function rh(i,r,a){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?a.insertBefore(i,r):a.appendChild(i);else if(u!==4&&(u===27&&nr(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(rh(i,r,a),i=i.sibling;i!==null;)rh(i,r,a),i=i.sibling}function o0(i){var r=i.stateNode,a=i.memoizedProps;try{for(var u=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);$e(r,u,a),r[be]=i,r[Be]=a}catch(m){Xt(i,i.return,m)}}var as=!1,xe=!1,gm=!1,l0=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function VC(i,r){if(i=i.containerInfo,km=Rh,i=Ev(i),ud(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else t:{a=(a=i.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break t}var E=0,A=-1,x=-1,q=0,$=0,tt=i,K=null;e:for(;;){for(var X;tt!==a||f!==0&&tt.nodeType!==3||(A=E+f),tt!==m||u!==0&&tt.nodeType!==3||(x=E+u),tt.nodeType===3&&(E+=tt.nodeValue.length),(X=tt.firstChild)!==null;)K=tt,tt=X;for(;;){if(tt===i)break e;if(K===a&&++q===f&&(A=E),K===m&&++$===u&&(x=E),(X=tt.nextSibling)!==null)break;tt=K,K=tt.parentNode}tt=X}a=A===-1||x===-1?null:{start:A,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(Um={focusedElem:i,selectionRange:a},Rh=!1,Fe=r;Fe!==null;)if(r=Fe,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Fe=i;else for(;Fe!==null;){switch(r=Fe,m=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(a=0;a<i.length;a++)f=i[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,a=r,f=m.memoizedProps,m=m.memoizedState,u=a.stateNode;try{var dt=na(a.type,f);i=u.getSnapshotBeforeUpdate(dt,m),u.__reactInternalSnapshotBeforeUpdate=i}catch(vt){Xt(a,a.return,vt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,a=i.nodeType,a===9)jm(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":jm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Fe=i;break}Fe=r.return}}function u0(i,r,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:ls(i,a),u&4&&jl(5,a);break;case 1:if(ls(i,a),u&4)if(i=a.stateNode,r===null)try{i.componentDidMount()}catch(E){Xt(a,a.return,E)}else{var f=na(a.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(E){Xt(a,a.return,E)}}u&64&&i0(a),u&512&&Fl(a,a.return);break;case 3:if(ls(i,a),u&64&&(i=a.updateQueue,i!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Yv(i,r)}catch(E){Xt(a,a.return,E)}}break;case 27:r===null&&u&4&&o0(a);case 26:case 5:ls(i,a),r===null&&u&4&&r0(a),u&512&&Fl(a,a.return);break;case 12:ls(i,a);break;case 31:ls(i,a),u&4&&f0(i,a);break;case 13:ls(i,a),u&4&&d0(i,a),u&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=BC.bind(null,a),a2(i,a))));break;case 22:if(u=a.memoizedState!==null||as,!u){r=r!==null&&r.memoizedState!==null||xe,f=as;var m=xe;as=u,(xe=r)&&!m?us(i,a,(a.subtreeFlags&8772)!==0):ls(i,a),as=f,xe=m}break;case 30:break;default:ls(i,a)}}function c0(i){var r=i.alternate;r!==null&&(i.alternate=null,c0(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Na(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var oe=null,mn=!1;function os(i,r,a){for(a=a.child;a!==null;)h0(i,r,a),a=a.sibling}function h0(i,r,a){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(Wn,a)}catch{}switch(a.tag){case 26:xe||Pi(a,r),os(i,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:xe||Pi(a,r);var u=oe,f=mn;nr(a.type)&&(oe=a.stateNode,mn=!1),os(i,r,a),Wl(a.stateNode),oe=u,mn=f;break;case 5:xe||Pi(a,r);case 6:if(u=oe,f=mn,oe=null,os(i,r,a),oe=u,mn=f,oe!==null)if(mn)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(m){Xt(a,r,m)}else try{oe.removeChild(a.stateNode)}catch(m){Xt(a,r,m)}break;case 18:oe!==null&&(mn?(i=oe,iE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),vo(i)):iE(oe,a.stateNode));break;case 4:u=oe,f=mn,oe=a.stateNode.containerInfo,mn=!0,os(i,r,a),oe=u,mn=f;break;case 0:case 11:case 14:case 15:Xs(2,a,r),xe||Xs(4,a,r),os(i,r,a);break;case 1:xe||(Pi(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"&&s0(a,r,u)),os(i,r,a);break;case 21:os(i,r,a);break;case 22:xe=(u=xe)||a.memoizedState!==null,os(i,r,a),xe=u;break;default:os(i,r,a)}}function f0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{vo(i)}catch(a){Xt(r,r.return,a)}}}function d0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{vo(i)}catch(a){Xt(r,r.return,a)}}function MC(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new l0),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new l0),r;default:throw Error(s(435,i.tag))}}function ah(i,r){var a=MC(i);r.forEach(function(u){if(!a.has(u)){a.add(u);var f=jC.bind(null,i,u);u.then(f,f)}})}function pn(i,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],m=i,E=r,A=E;t:for(;A!==null;){switch(A.tag){case 27:if(nr(A.type)){oe=A.stateNode,mn=!1;break t}break;case 5:oe=A.stateNode,mn=!1;break t;case 3:case 4:oe=A.stateNode.containerInfo,mn=!0;break t}A=A.return}if(oe===null)throw Error(s(160));h0(m,E,f),oe=null,mn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)m0(r,i),r=r.sibling}var oi=null;function m0(i,r){var a=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:pn(r,i),gn(i),u&4&&(Xs(3,i,i.return),jl(3,i),Xs(5,i,i.return));break;case 1:pn(r,i),gn(i),u&512&&(xe||a===null||Pi(a,a.return)),u&64&&as&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=oi;if(pn(r,i),gn(i),u&512&&(xe||a===null||Pi(a,a.return)),u&4){var m=a!==null?a.memoizedState:null;if(u=i.memoizedState,a===null)if(u===null)if(i.stateNode===null){t:{u=i.type,a=i.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ti]||m[be]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),$e(m,u,a),m[be]=i,we(m),u=m;break t;case"link":var E=mE("link","href",f).get(u+(a.href||""));if(E){for(var A=0;A<E.length;A++)if(m=E[A],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(A,1);break e}}m=f.createElement(u),$e(m,u,a),f.head.appendChild(m);break;case"meta":if(E=mE("meta","content",f).get(u+(a.content||""))){for(A=0;A<E.length;A++)if(m=E[A],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(A,1);break e}}m=f.createElement(u),$e(m,u,a),f.head.appendChild(m);break;default:throw Error(s(468,u))}m[be]=i,we(m),u=m}i.stateNode=u}else pE(f,i.type,i.stateNode);else i.stateNode=dE(f,u,i.memoizedProps);else m!==u?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,u===null?pE(f,i.type,i.stateNode):dE(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&dm(i,i.memoizedProps,a.memoizedProps)}break;case 27:pn(r,i),gn(i),u&512&&(xe||a===null||Pi(a,a.return)),a!==null&&u&4&&dm(i,i.memoizedProps,a.memoizedProps);break;case 5:if(pn(r,i),gn(i),u&512&&(xe||a===null||Pi(a,a.return)),i.flags&32){f=i.stateNode;try{dn(f,"")}catch(dt){Xt(i,i.return,dt)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,dm(i,f,a!==null?a.memoizedProps:f)),u&1024&&(gm=!0);break;case 6:if(pn(r,i),gn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,a=i.stateNode;try{a.nodeValue=u}catch(dt){Xt(i,i.return,dt)}}break;case 3:if(Sh=null,f=oi,oi=Eh(r.containerInfo),pn(r,i),oi=f,gn(i),u&4&&a!==null&&a.memoizedState.isDehydrated)try{vo(r.containerInfo)}catch(dt){Xt(i,i.return,dt)}gm&&(gm=!1,p0(i));break;case 4:u=oi,oi=Eh(i.stateNode.containerInfo),pn(r,i),gn(i),oi=u;break;case 12:pn(r,i),gn(i);break;case 31:pn(r,i),gn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,ah(i,u)));break;case 13:pn(r,i),gn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(lh=ln()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,ah(i,u)));break;case 22:f=i.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,q=as,$=xe;if(as=q||f,xe=$||x,pn(r,i),xe=$,as=q,gn(i),u&8192)t:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||x||as||xe||ia(i)),a=null,r=i;;){if(r.tag===5||r.tag===26){if(a===null){x=a=r;try{if(m=x.stateNode,f)E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{A=x.stateNode;var tt=x.memoizedProps.style,K=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;A.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(dt){Xt(x,x.return,dt)}}}else if(r.tag===6){if(a===null){x=r;try{x.stateNode.nodeValue=f?"":x.memoizedProps}catch(dt){Xt(x,x.return,dt)}}}else if(r.tag===18){if(a===null){x=r;try{var X=x.stateNode;f?sE(X,!0):sE(x.stateNode,!1)}catch(dt){Xt(x,x.return,dt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,ah(i,a))));break;case 19:pn(r,i),gn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,ah(i,u)));break;case 30:break;case 21:break;default:pn(r,i),gn(i)}}function gn(i){var r=i.flags;if(r&2){try{for(var a,u=i.return;u!==null;){if(a0(u)){a=u;break}u=u.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,m=mm(i);rh(i,m,f);break;case 5:var E=a.stateNode;a.flags&32&&(dn(E,""),a.flags&=-33);var A=mm(i);rh(i,A,E);break;case 3:case 4:var x=a.stateNode.containerInfo,q=mm(i);pm(i,q,x);break;default:throw Error(s(161))}}catch($){Xt(i,i.return,$)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function p0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;p0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function ls(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)u0(i,r.alternate,r),r=r.sibling}function ia(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Xs(4,r,r.return),ia(r);break;case 1:Pi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&s0(r,r.return,a),ia(r);break;case 27:Wl(r.stateNode);case 26:case 5:Pi(r,r.return),ia(r);break;case 22:r.memoizedState===null&&ia(r);break;case 30:ia(r);break;default:ia(r)}i=i.sibling}}function us(i,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=i,m=r,E=m.flags;switch(m.tag){case 0:case 11:case 15:us(f,m,a),jl(4,m);break;case 1:if(us(f,m,a),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){Xt(u,u.return,q)}if(u=m,f=u.updateQueue,f!==null){var A=u.stateNode;try{var x=f.shared.hiddenCallbacks;if(x!==null)for(f.shared.hiddenCallbacks=null,f=0;f<x.length;f++)Kv(x[f],A)}catch(q){Xt(u,u.return,q)}}a&&E&64&&i0(m),Fl(m,m.return);break;case 27:o0(m);case 26:case 5:us(f,m,a),a&&u===null&&E&4&&r0(m),Fl(m,m.return);break;case 12:us(f,m,a);break;case 31:us(f,m,a),a&&E&4&&f0(f,m);break;case 13:us(f,m,a),a&&E&4&&d0(f,m);break;case 22:m.memoizedState===null&&us(f,m,a),Fl(m,m.return);break;case 30:break;default:us(f,m,a)}r=r.sibling}}function ym(i,r){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Il(a))}function vm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Il(i))}function li(i,r,a,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)g0(i,r,a,u),r=r.sibling}function g0(i,r,a,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:li(i,r,a,u),f&2048&&jl(9,r);break;case 1:li(i,r,a,u);break;case 3:li(i,r,a,u),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Il(i)));break;case 12:if(f&2048){li(i,r,a,u),i=r.stateNode;try{var m=r.memoizedProps,E=m.id,A=m.onPostCommit;typeof A=="function"&&A(E,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(x){Xt(r,r.return,x)}}else li(i,r,a,u);break;case 31:li(i,r,a,u);break;case 13:li(i,r,a,u);break;case 23:break;case 22:m=r.stateNode,E=r.alternate,r.memoizedState!==null?m._visibility&2?li(i,r,a,u):Hl(i,r):m._visibility&2?li(i,r,a,u):(m._visibility|=2,ao(i,r,a,u,(r.subtreeFlags&10256)!==0||!1)),f&2048&&ym(E,r);break;case 24:li(i,r,a,u),f&2048&&vm(r.alternate,r);break;default:li(i,r,a,u)}}function ao(i,r,a,u,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=i,E=r,A=a,x=u,q=E.flags;switch(E.tag){case 0:case 11:case 15:ao(m,E,A,x,f),jl(8,E);break;case 23:break;case 22:var $=E.stateNode;E.memoizedState!==null?$._visibility&2?ao(m,E,A,x,f):Hl(m,E):($._visibility|=2,ao(m,E,A,x,f)),f&&q&2048&&ym(E.alternate,E);break;case 24:ao(m,E,A,x,f),f&&q&2048&&vm(E.alternate,E);break;default:ao(m,E,A,x,f)}r=r.sibling}}function Hl(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=i,u=r,f=u.flags;switch(u.tag){case 22:Hl(a,u),f&2048&&ym(u.alternate,u);break;case 24:Hl(a,u),f&2048&&vm(u.alternate,u);break;default:Hl(a,u)}r=r.sibling}}var ql=8192;function oo(i,r,a){if(i.subtreeFlags&ql)for(i=i.child;i!==null;)y0(i,r,a),i=i.sibling}function y0(i,r,a){switch(i.tag){case 26:oo(i,r,a),i.flags&ql&&i.memoizedState!==null&&v2(a,oi,i.memoizedState,i.memoizedProps);break;case 5:oo(i,r,a);break;case 3:case 4:var u=oi;oi=Eh(i.stateNode.containerInfo),oo(i,r,a),oi=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=ql,ql=16777216,oo(i,r,a),ql=u):oo(i,r,a));break;default:oo(i,r,a)}}function v0(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Gl(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Fe=u,E0(u,i)}v0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)_0(i),i=i.sibling}function _0(i){switch(i.tag){case 0:case 11:case 15:Gl(i),i.flags&2048&&Xs(9,i,i.return);break;case 3:Gl(i);break;case 12:Gl(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,oh(i)):Gl(i);break;default:Gl(i)}}function oh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Fe=u,E0(u,i)}v0(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Xs(8,r,r.return),oh(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,oh(r));break;default:oh(r)}i=i.sibling}}function E0(i,r){for(;Fe!==null;){var a=Fe;switch(a.tag){case 0:case 11:case 15:Xs(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Il(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Fe=u;else t:for(a=i;Fe!==null;){u=Fe;var f=u.sibling,m=u.return;if(c0(u),u===a){Fe=null;break t}if(f!==null){f.return=m,Fe=f;break t}Fe=m}}}var NC={getCacheForType:function(i){var r=Qe(Ce),a=r.data.get(i);return a===void 0&&(a=i(),r.data.set(i,a)),a},cacheSignal:function(){return Qe(Ce).controller.signal}},OC=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ee=null,Vt=null,Ot=0,Qt=0,Cn=null,$s=!1,lo=!1,_m=!1,cs=0,pe=0,Ws=0,sa=0,Em=0,In=0,uo=0,Kl=null,yn=null,Tm=!1,lh=0,T0=0,uh=1/0,ch=null,Zs=null,Le=0,Js=null,co=null,hs=0,Sm=0,Am=null,S0=null,Yl=0,bm=null;function Dn(){return(Gt&2)!==0&&Ot!==0?Ot&-Ot:W.T!==null?xm():hc()}function A0(){if(In===0)if((Ot&536870912)===0||zt){var i=Vr;Vr<<=1,(Vr&3932160)===0&&(Vr=262144),In=i}else In=536870912;return i=wn.current,i!==null&&(i.flags|=32),In}function vn(i,r,a){(i===ee&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)&&(ho(i,0),tr(i,Ot,In,!1)),Mr(i,a),((Gt&2)===0||i!==ee)&&(i===ee&&((Gt&2)===0&&(sa|=a),pe===4&&tr(i,Ot,In,!1)),Li(i))}function b0(i,r,a){if((Gt&6)!==0)throw Error(s(327));var u=!a&&(r&127)===0&&(r&i.expiredLanes)===0||Zn(i,r),f=u?kC(i,r):Rm(i,r,!0),m=u;do{if(f===0){lo&&!u&&tr(i,r,0,!1);break}else{if(a=i.current.alternate,m&&!PC(a)){f=Rm(i,r,!1),m=!1;continue}if(f===2){if(m=r,i.errorRecoveryDisabledLanes&m)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;t:{var A=i;f=Kl;var x=A.current.memoizedState.isDehydrated;if(x&&(ho(A,E).flags|=256),E=Rm(A,E,!1),E!==2){if(_m&&!x){A.errorRecoveryDisabledLanes|=m,sa|=m,f=4;break t}m=yn,yn=f,m!==null&&(yn===null?yn=m:yn.push.apply(yn,m))}f=E}if(m=!1,f!==2)continue}}if(f===1){ho(i,0),tr(i,r,0,!0);break}t:{switch(u=i,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:tr(u,r,In,!$s);break t;case 2:yn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=lh+300-ln(),10<f)){if(tr(u,r,In,!$s),vi(u,0,!0)!==0)break t;hs=r,u.timeoutHandle=eE(w0.bind(null,u,a,yn,ch,Tm,r,In,sa,uo,$s,m,"Throttled",-0,0),f);break t}w0(u,a,yn,ch,Tm,r,In,sa,uo,$s,m,null,-0,0)}}break}while(!0);Li(i)}function w0(i,r,a,u,f,m,E,A,x,q,$,tt,K,X){if(i.timeoutHandle=-1,tt=r.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ei},y0(r,m,tt);var dt=(m&62914560)===m?lh-ln():(m&4194048)===m?T0-ln():0;if(dt=_2(tt,dt),dt!==null){hs=m,i.cancelPendingCommit=dt(N0.bind(null,i,r,m,a,u,f,E,A,x,$,tt,null,K,X)),tr(i,m,E,!q);return}}N0(i,r,m,a,u,f,E,A,x)}function PC(i){for(var r=i;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],m=f.getSnapshot;f=f.value;try{if(!An(m(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function tr(i,r,a,u){r&=~Em,r&=~sa,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var f=r;0<f;){var m=31-ye(f),E=1<<m;u[m]=-1,f&=~E}a!==0&&Nr(i,a,r)}function hh(){return(Gt&6)===0?(Ql(0),!1):!0}function wm(){if(Vt!==null){if(Qt===0)var i=Vt.return;else i=Vt,ts=Xr=null,jd(i),eo=null,xl=0,i=Vt;for(;i!==null;)n0(i.alternate,i),i=i.return;Vt=null}}function ho(i,r){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,e2(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),hs=0,wm(),ee=i,Vt=a=Zi(i.current,null),Ot=r,Qt=0,Cn=null,$s=!1,lo=Zn(i,r),_m=!1,uo=In=Em=sa=Ws=pe=0,yn=Kl=null,Tm=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var f=31-ye(u),m=1<<f;r|=i[f],u&=~m}return cs=r,Mc(),a}function R0(i,r){Ct=null,W.H=Ul,r===to||r===Bc?(r=Fv(),Qt=3):r===Dd?(r=Fv(),Qt=4):Qt=r===im?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Cn=r,Vt===null&&(pe=1,th(i,Ln(r,i.current)))}function C0(){var i=wn.current;return i===null?!0:(Ot&4194048)===Ot?Bn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?i===Bn:!1}function I0(){var i=W.H;return W.H=Ul,i===null?Ul:i}function D0(){var i=W.A;return W.A=NC,i}function fh(){pe=4,$s||(Ot&4194048)!==Ot&&wn.current!==null||(lo=!0),(Ws&134217727)===0&&(sa&134217727)===0||ee===null||tr(ee,Ot,In,!1)}function Rm(i,r,a){var u=Gt;Gt|=2;var f=I0(),m=D0();(ee!==i||Ot!==r)&&(ch=null,ho(i,r)),r=!1;var E=pe;t:do try{if(Qt!==0&&Vt!==null){var A=Vt,x=Cn;switch(Qt){case 8:wm(),E=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(r=!0);var q=Qt;if(Qt=0,Cn=null,fo(i,A,x,q),a&&lo){E=0;break t}break;default:q=Qt,Qt=0,Cn=null,fo(i,A,x,q)}}LC(),E=pe;break}catch($){R0(i,$)}while(!0);return r&&i.shellSuspendCounter++,ts=Xr=null,Gt=u,W.H=f,W.A=m,Vt===null&&(ee=null,Ot=0,Mc()),E}function LC(){for(;Vt!==null;)x0(Vt)}function kC(i,r){var a=Gt;Gt|=2;var u=I0(),f=D0();ee!==i||Ot!==r?(ch=null,uh=ln()+500,ho(i,r)):lo=Zn(i,r);t:do try{if(Qt!==0&&Vt!==null){r=Vt;var m=Cn;e:switch(Qt){case 1:Qt=0,Cn=null,fo(i,r,m,1);break;case 2:case 9:if(Bv(m)){Qt=0,Cn=null,V0(r);break}r=function(){Qt!==2&&Qt!==9||ee!==i||(Qt=7),Li(i)},m.then(r,r);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Bv(m)?(Qt=0,Cn=null,V0(r)):(Qt=0,Cn=null,fo(i,r,m,7));break;case 5:var E=null;switch(Vt.tag){case 26:E=Vt.memoizedState;case 5:case 27:var A=Vt;if(E?gE(E):A.stateNode.complete){Qt=0,Cn=null;var x=A.sibling;if(x!==null)Vt=x;else{var q=A.return;q!==null?(Vt=q,dh(q)):Vt=null}break e}}Qt=0,Cn=null,fo(i,r,m,5);break;case 6:Qt=0,Cn=null,fo(i,r,m,6);break;case 8:wm(),pe=6;break t;default:throw Error(s(462))}}UC();break}catch($){R0(i,$)}while(!0);return ts=Xr=null,W.H=u,W.A=f,Gt=a,Vt!==null?0:(ee=null,Ot=0,Mc(),pe)}function UC(){for(;Vt!==null&&!nd();)x0(Vt)}function x0(i){var r=t0(i.alternate,i,cs);i.memoizedProps=i.pendingProps,r===null?dh(i):Vt=r}function V0(i){var r=i,a=r.alternate;switch(r.tag){case 15:case 0:r=Q_(a,r,r.pendingProps,r.type,void 0,Ot);break;case 11:r=Q_(a,r,r.pendingProps,r.type.render,r.ref,Ot);break;case 5:jd(r);default:n0(a,r),r=Vt=Dv(r,cs),r=t0(a,r,cs)}i.memoizedProps=i.pendingProps,r===null?dh(i):Vt=r}function fo(i,r,a,u){ts=Xr=null,jd(r),eo=null,xl=0;var f=r.return;try{if(RC(i,f,r,a,Ot)){pe=1,th(i,Ln(a,i.current)),Vt=null;return}}catch(m){if(f!==null)throw Vt=f,m;pe=1,th(i,Ln(a,i.current)),Vt=null;return}r.flags&32768?(zt||u===1?i=!0:lo||(Ot&536870912)!==0?i=!1:($s=i=!0,(u===2||u===9||u===3||u===6)&&(u=wn.current,u!==null&&u.tag===13&&(u.flags|=16384))),M0(r,i)):dh(r)}function dh(i){var r=i;do{if((r.flags&32768)!==0){M0(r,$s);return}i=r.return;var a=DC(r.alternate,r,cs);if(a!==null){Vt=a;return}if(r=r.sibling,r!==null){Vt=r;return}Vt=r=i}while(r!==null);pe===0&&(pe=5)}function M0(i,r){do{var a=xC(i.alternate,i);if(a!==null){a.flags&=32767,Vt=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(i=i.sibling,i!==null)){Vt=i;return}Vt=i=a}while(i!==null);pe=6,Vt=null}function N0(i,r,a,u,f,m,E,A,x){i.cancelPendingCommit=null;do mh();while(Le!==0);if((Gt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=md,rd(i,a,m,E,A,x),i===ee&&(Vt=ee=null,Ot=0),co=r,Js=i,hs=a,Sm=m,Am=f,S0=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,FC(xs,function(){return U0(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,f=ot.p,ot.p=2,E=Gt,Gt|=4;try{VC(i,r,a)}finally{Gt=E,ot.p=f,W.T=u}}Le=1,O0(),P0(),L0()}}function O0(){if(Le===1){Le=0;var i=Js,r=co,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var u=ot.p;ot.p=2;var f=Gt;Gt|=4;try{m0(r,i);var m=Um,E=Ev(i.containerInfo),A=m.focusedElem,x=m.selectionRange;if(E!==A&&A&&A.ownerDocument&&_v(A.ownerDocument.documentElement,A)){if(x!==null&&ud(A)){var q=x.start,$=x.end;if($===void 0&&($=q),"selectionStart"in A)A.selectionStart=q,A.selectionEnd=Math.min($,A.value.length);else{var tt=A.ownerDocument||document,K=tt&&tt.defaultView||window;if(K.getSelection){var X=K.getSelection(),dt=A.textContent.length,vt=Math.min(x.start,dt),Jt=x.end===void 0?vt:Math.min(x.end,dt);!X.extend&&vt>Jt&&(E=Jt,Jt=vt,vt=E);var z=vv(A,vt),O=vv(A,Jt);if(z&&O&&(X.rangeCount!==1||X.anchorNode!==z.node||X.anchorOffset!==z.offset||X.focusNode!==O.node||X.focusOffset!==O.offset)){var H=tt.createRange();H.setStart(z.node,z.offset),X.removeAllRanges(),vt>Jt?(X.addRange(H),X.extend(O.node,O.offset)):(H.setEnd(O.node,O.offset),X.addRange(H))}}}}for(tt=[],X=A;X=X.parentNode;)X.nodeType===1&&tt.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<tt.length;A++){var Z=tt[A];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Rh=!!km,Um=km=null}finally{Gt=f,ot.p=u,W.T=a}}i.current=r,Le=2}}function P0(){if(Le===2){Le=0;var i=Js,r=co,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var u=ot.p;ot.p=2;var f=Gt;Gt|=4;try{u0(i,r.alternate,r)}finally{Gt=f,ot.p=u,W.T=a}}Le=3}}function L0(){if(Le===4||Le===3){Le=0,sc();var i=Js,r=co,a=hs,u=S0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Le=5:(Le=0,co=Js=null,k0(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Zs=null),Qi(a),r=r.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(Wn,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=W.T,f=ot.p,ot.p=2,W.T=null;try{for(var m=i.onRecoverableError,E=0;E<u.length;E++){var A=u[E];m(A.value,{componentStack:A.stack})}}finally{W.T=r,ot.p=f}}(hs&3)!==0&&mh(),Li(i),f=i.pendingLanes,(a&261930)!==0&&(f&42)!==0?i===bm?Yl++:(Yl=0,bm=i):Yl=0,Ql(0)}}function k0(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Il(r)))}function mh(){return O0(),P0(),L0(),U0()}function U0(){if(Le!==5)return!1;var i=Js,r=Sm;Sm=0;var a=Qi(hs),u=W.T,f=ot.p;try{ot.p=32>a?32:a,W.T=null,a=Am,Am=null;var m=Js,E=hs;if(Le=0,co=Js=null,hs=0,(Gt&6)!==0)throw Error(s(331));var A=Gt;if(Gt|=4,_0(m.current),g0(m,m.current,E,a),Gt=A,Ql(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(Wn,m)}catch{}return!0}finally{ot.p=f,W.T=u,k0(i,r)}}function z0(i,r,a){r=Ln(a,r),r=nm(i.stateNode,r,2),i=Ks(i,r,2),i!==null&&(Mr(i,2),Li(i))}function Xt(i,r,a){if(i.tag===3)z0(i,i,a);else for(;r!==null;){if(r.tag===3){z0(r,i,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Zs===null||!Zs.has(u))){i=Ln(a,i),a=B_(2),u=Ks(r,a,2),u!==null&&(j_(a,u,r,i),Mr(u,2),Li(u));break}}r=r.return}}function Cm(i,r,a){var u=i.pingCache;if(u===null){u=i.pingCache=new OC;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(a)||(_m=!0,f.add(a),i=zC.bind(null,i,r,a),r.then(i,i))}function zC(i,r,a){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,ee===i&&(Ot&a)===a&&(pe===4||pe===3&&(Ot&62914560)===Ot&&300>ln()-lh?(Gt&2)===0&&ho(i,0):Em|=a,uo===Ot&&(uo=0)),Li(i)}function B0(i,r){r===0&&(r=cc()),i=Kr(i,r),i!==null&&(Mr(i,r),Li(i))}function BC(i){var r=i.memoizedState,a=0;r!==null&&(a=r.retryLane),B0(i,a)}function jC(i,r){var a=0;switch(i.tag){case 31:case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),B0(i,a)}function FC(i,r){return Pe(i,r)}var ph=null,mo=null,Im=!1,gh=!1,Dm=!1,er=0;function Li(i){i!==mo&&i.next===null&&(mo===null?ph=mo=i:mo=mo.next=i),gh=!0,Im||(Im=!0,qC())}function Ql(i,r){if(!Dm&&gh){Dm=!0;do for(var a=!1,u=ph;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var E=u.suspendedLanes,A=u.pingedLanes;m=(1<<31-ye(42|i)+1)-1,m&=f&~(E&~A),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,q0(u,m))}else m=Ot,m=vi(u,u===ee?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||Zn(u,m)||(a=!0,q0(u,m));u=u.next}while(a);Dm=!1}}function HC(){j0()}function j0(){gh=Im=!1;var i=0;er!==0&&t2()&&(i=er);for(var r=ln(),a=null,u=ph;u!==null;){var f=u.next,m=F0(u,r);m===0?(u.next=null,a===null?ph=f:a.next=f,f===null&&(mo=a)):(a=u,(i!==0||(m&3)!==0)&&(gh=!0)),u=f}Le!==0&&Le!==5||Ql(i),er!==0&&(er=0)}function F0(i,r){for(var a=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var E=31-ye(m),A=1<<E,x=f[E];x===-1?((A&a)===0||(A&u)!==0)&&(f[E]=sd(A,r)):x<=r&&(i.expiredLanes|=A),m&=~A}if(r=ee,a=Ot,a=vi(i,i===r?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,a===0||i===r&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Ds(u),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||Zn(i,a)){if(r=a&-a,r===i.callbackPriority)return r;switch(u!==null&&Ds(u),Qi(a)){case 2:case 8:a=sl;break;case 32:a=xs;break;case 268435456:a=rc;break;default:a=xs}return u=H0.bind(null,i),a=Pe(a,u),i.callbackPriority=r,i.callbackNode=a,r}return u!==null&&u!==null&&Ds(u),i.callbackPriority=2,i.callbackNode=null,2}function H0(i,r){if(Le!==0&&Le!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(mh()&&i.callbackNode!==a)return null;var u=Ot;return u=vi(i,i===ee?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(b0(i,u,r),F0(i,ln()),i.callbackNode!=null&&i.callbackNode===a?H0.bind(null,i):null)}function q0(i,r){if(mh())return null;b0(i,r,!0)}function qC(){n2(function(){(Gt&6)!==0?Pe(il,HC):j0()})}function xm(){if(er===0){var i=Za;i===0&&(i=gi,gi<<=1,(gi&261888)===0&&(gi=256)),er=i}return er}function G0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ka(""+i)}function K0(i,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,i.id&&a.setAttribute("form",i.id),r.parentNode.insertBefore(a,r),i=new FormData(i),a.parentNode.removeChild(a),i}function GC(i,r,a,u,f){if(r==="submit"&&a&&a.stateNode===f){var m=G0((f[Be]||null).action),E=u.submitter;E&&(r=(r=E[Be]||null)?G0(r.formAction):E.getAttribute("formAction"),r!==null&&(m=r,E=null));var A=new Di("action","action",null,u,f);i.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(er!==0){var x=E?K0(f,E):new FormData(f);$d(a,{pending:!0,data:x,method:f.method,action:m},null,x)}}else typeof m=="function"&&(A.preventDefault(),x=E?K0(f,E):new FormData(f),$d(a,{pending:!0,data:x,method:f.method,action:m},m,x))},currentTarget:f}]})}}for(var Vm=0;Vm<dd.length;Vm++){var Mm=dd[Vm],KC=Mm.toLowerCase(),YC=Mm[0].toUpperCase()+Mm.slice(1);ai(KC,"on"+YC)}ai(Av,"onAnimationEnd"),ai(bv,"onAnimationIteration"),ai(wv,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(uC,"onTransitionRun"),ai(cC,"onTransitionStart"),ai(hC,"onTransitionCancel"),ai(Rv,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xl));function Y0(i,r){r=(r&4)!==0;for(var a=0;a<i.length;a++){var u=i[a],f=u.event;u=u.listeners;t:{var m=void 0;if(r)for(var E=u.length-1;0<=E;E--){var A=u[E],x=A.instance,q=A.currentTarget;if(A=A.listener,x!==m&&f.isPropagationStopped())break t;m=A,f.currentTarget=q;try{m(f)}catch($){Vc($)}f.currentTarget=null,m=x}else for(E=0;E<u.length;E++){if(A=u[E],x=A.instance,q=A.currentTarget,A=A.listener,x!==m&&f.isPropagationStopped())break t;m=A,f.currentTarget=q;try{m(f)}catch($){Vc($)}f.currentTarget=null,m=x}}}}function Mt(i,r){var a=r[Ma];a===void 0&&(a=r[Ma]=new Set);var u=i+"__bubble";a.has(u)||(Q0(r,i,2,!1),a.add(u))}function Nm(i,r,a){var u=0;r&&(u|=4),Q0(a,i,u,r)}var yh="_reactListening"+Math.random().toString(36).slice(2);function Om(i){if(!i[yh]){i[yh]=!0,ol.forEach(function(a){a!=="selectionchange"&&(QC.has(a)||Nm(a,!1,i),Nm(a,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[yh]||(r[yh]=!0,Nm("selectionchange",!1,r))}}function Q0(i,r,a,u){switch(AE(r)){case 2:var f=S2;break;case 8:f=A2;break;default:f=Xm}a=f.bind(null,r,a,i),f=void 0,!Ur||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(r,a,{capture:!0,passive:f}):i.addEventListener(r,a,!0):f!==void 0?i.addEventListener(r,a,{passive:f}):i.addEventListener(r,a,!1)}function Pm(i,r,a,u,f){var m=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var A=u.stateNode.containerInfo;if(A===f)break;if(E===4)for(E=u.return;E!==null;){var x=E.tag;if((x===3||x===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;A!==null;){if(E=Si(A),E===null)return;if(x=E.tag,x===5||x===6||x===26||x===27){u=m=E;continue t}A=A.parentNode}}u=u.return}Ls(function(){var q=m,$=Mn(a),tt=[];t:{var K=Cv.get(i);if(K!==void 0){var X=Di,dt=i;switch(i){case"keypress":if(Br(a)===0)break t;case"keydown":case"keyup":X=Ic;break;case"focusin":dt="focus",X=Fr;break;case"focusout":dt="blur",X=Fr;break;case"beforeblur":case"afterblur":X=Fr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=El;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=_c;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=v;break;case Av:case bv:case wv:X=Tc;break;case Rv:X=b;break;case"scroll":case"scrollend":X=_l;break;case"wheel":X=Q;break;case"copy":case"cut":case"paste":X=Sc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Wi;break;case"toggle":case"beforetoggle":X=Rt}var vt=(r&4)!==0,Jt=!vt&&(i==="scroll"||i==="scrollend"),z=vt?K!==null?K+"Capture":null:K;vt=[];for(var O=q,H;O!==null;){var Z=O;if(H=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||H===null||z===null||(Z=ni(O,z),Z!=null&&vt.push($l(O,Z,H))),Jt)break;O=O.return}0<vt.length&&(K=new X(K,dt,null,a,$),tt.push({event:K,listeners:vt}))}}if((r&7)===0){t:{if(K=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",K&&a!==gl&&(dt=a.relatedTarget||a.fromElement)&&(Si(dt)||dt[Ei]))break t;if((X||K)&&(K=$.window===$?$:(K=$.ownerDocument)?K.defaultView||K.parentWindow:window,X?(dt=a.relatedTarget||a.toElement,X=q,dt=dt?Si(dt):null,dt!==null&&(Jt=l(dt),vt=dt.tag,dt!==Jt||vt!==5&&vt!==27&&vt!==6)&&(dt=null)):(X=null,dt=q),X!==dt)){if(vt=El,Z="onMouseLeave",z="onMouseEnter",O="mouse",(i==="pointerout"||i==="pointerover")&&(vt=Wi,Z="onPointerLeave",z="onPointerEnter",O="pointer"),Jt=X==null?K:Tn(X),H=dt==null?K:Tn(dt),K=new vt(Z,O+"leave",X,a,$),K.target=Jt,K.relatedTarget=H,Z=null,Si($)===q&&(vt=new vt(z,O+"enter",dt,a,$),vt.target=H,vt.relatedTarget=Jt,Z=vt),Jt=Z,X&&dt)e:{for(vt=XC,z=X,O=dt,H=0,Z=z;Z;Z=vt(Z))H++;Z=0;for(var gt=O;gt;gt=vt(gt))Z++;for(;0<H-Z;)z=vt(z),H--;for(;0<Z-H;)O=vt(O),Z--;for(;H--;){if(z===O||O!==null&&z===O.alternate){vt=z;break e}z=vt(z),O=vt(O)}vt=null}else vt=null;X!==null&&X0(tt,K,X,vt,!1),dt!==null&&Jt!==null&&X0(tt,Jt,dt,vt,!0)}}t:{if(K=q?Tn(q):window,X=K.nodeName&&K.nodeName.toLowerCase(),X==="select"||X==="input"&&K.type==="file")var Ft=fv;else if(cv(K))if(dv)Ft=aC;else{Ft=sC;var mt=iC}else X=K.nodeName,!X||X.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?q&&La(q.elementType)&&(Ft=fv):Ft=rC;if(Ft&&(Ft=Ft(i,q))){hv(tt,Ft,a,$);break t}mt&&mt(i,K,q),i==="focusout"&&q&&K.type==="number"&&q.memoizedProps.value!=null&&dl(K,"number",K.value)}switch(mt=q?Tn(q):window,i){case"focusin":(cv(mt)||mt.contentEditable==="true")&&(qa=mt,cd=q,wl=null);break;case"focusout":wl=cd=qa=null;break;case"mousedown":hd=!0;break;case"contextmenu":case"mouseup":case"dragend":hd=!1,Tv(tt,a,$);break;case"selectionchange":if(lC)break;case"keydown":case"keyup":Tv(tt,a,$)}var xt;if(qt)t:{switch(i){case"compositionstart":var Pt="onCompositionStart";break t;case"compositionend":Pt="onCompositionEnd";break t;case"compositionupdate":Pt="onCompositionUpdate";break t}Pt=void 0}else Ha?Hr(i,a)&&(Pt="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(Pt="onCompositionStart");Pt&&(Mi&&a.locale!=="ko"&&(Ha||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&Ha&&(xt=vl()):(Ii=$,yl="value"in Ii?Ii.value:Ii.textContent,Ha=!0)),mt=vh(q,Pt),0<mt.length&&(Pt=new Vi(Pt,i,null,a,$),tt.push({event:Pt,listeners:mt}),xt?Pt.data=xt:(xt=Fa(a),xt!==null&&(Pt.data=xt)))),(xt=On?JR(i,a):tC(i,a))&&(Pt=vh(q,"onBeforeInput"),0<Pt.length&&(mt=new Vi("onBeforeInput","beforeinput",null,a,$),tt.push({event:mt,listeners:Pt}),mt.data=xt)),GC(tt,i,q,a,$)}Y0(tt,r)})}function $l(i,r,a){return{instance:i,listener:r,currentTarget:a}}function vh(i,r){for(var a=r+"Capture",u=[];i!==null;){var f=i,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=ni(i,a),f!=null&&u.unshift($l(i,f,m)),f=ni(i,r),f!=null&&u.push($l(i,f,m))),i.tag===3)return u;i=i.return}return[]}function XC(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function X0(i,r,a,u,f){for(var m=r._reactName,E=[];a!==null&&a!==u;){var A=a,x=A.alternate,q=A.stateNode;if(A=A.tag,x!==null&&x===u)break;A!==5&&A!==26&&A!==27||q===null||(x=q,f?(q=ni(a,m),q!=null&&E.unshift($l(a,q,x))):f||(q=ni(a,m),q!=null&&E.push($l(a,q,x)))),a=a.return}E.length!==0&&i.push({event:r,listeners:E})}var $C=/\r\n?/g,WC=/\u0000|\uFFFD/g;function $0(i){return(typeof i=="string"?i:""+i).replace($C,`
`).replace(WC,"")}function W0(i,r){return r=$0(r),$0(i)===r}function Zt(i,r,a,u,f,m){switch(a){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||dn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&dn(i,""+u);break;case"className":Sn(i,"class",u);break;case"tabIndex":Sn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(i,a,u);break;case"style":pl(i,u,m);break;case"data":if(r!=="object"){Sn(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){i.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(a);break}u=ka(""+u),i.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&Zt(i,r,"name",f.name,f,null),Zt(i,r,"formEncType",f.formEncType,f,null),Zt(i,r,"formMethod",f.formMethod,f,null),Zt(i,r,"formTarget",f.formTarget,f,null)):(Zt(i,r,"encType",f.encType,f,null),Zt(i,r,"method",f.method,f,null),Zt(i,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(a);break}u=ka(""+u),i.setAttribute(a,u);break;case"onClick":u!=null&&(i.onclick=ei);break;case"onScroll":u!=null&&Mt("scroll",i);break;case"onScrollEnd":u!=null&&Mt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}a=ka(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,""+u):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":u===!0?i.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,u):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(a,u):i.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(a):i.setAttribute(a,u);break;case"popover":Mt("beforetoggle",i),Mt("toggle",i),Oa(i,"popover",u);break;case"xlinkActuate":Re(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Re(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Re(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Re(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Re(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Re(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Re(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Re(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Re(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Oa(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=vc.get(a)||a,Oa(i,a,u))}}function Lm(i,r,a,u,f,m){switch(a){case"style":pl(i,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"children":typeof u=="string"?dn(i,u):(typeof u=="number"||typeof u=="bigint")&&dn(i,""+u);break;case"onScroll":u!=null&&Mt("scroll",i);break;case"onScrollEnd":u!=null&&Mt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ll.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),m=i[Be]||null,m=m!=null?m[a]:null,typeof m=="function"&&i.removeEventListener(r,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(r,u,f);break t}a in i?i[a]=u:u===!0?i.setAttribute(a,""):Oa(i,a,u)}}}function $e(i,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",i),Mt("load",i);var u=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var E=a[m];if(E!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Zt(i,r,m,E,a,null)}}f&&Zt(i,r,"srcSet",a.srcSet,a,null),u&&Zt(i,r,"src",a.src,a,null);return;case"input":Mt("invalid",i);var A=m=E=f=null,x=null,q=null;for(u in a)if(a.hasOwnProperty(u)){var $=a[u];if($!=null)switch(u){case"name":f=$;break;case"type":E=$;break;case"checked":x=$;break;case"defaultChecked":q=$;break;case"value":m=$;break;case"defaultValue":A=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:Zt(i,r,u,$,a,null)}}pc(i,m,A,x,q,E,f,!1);return;case"select":Mt("invalid",i),u=E=m=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":m=A;break;case"defaultValue":E=A;break;case"multiple":u=A;default:Zt(i,r,f,A,a,null)}r=m,a=E,i.multiple=!!u,r!=null?Ms(i,!!u,r,!1):a!=null&&Ms(i,!!u,a,!0);return;case"textarea":Mt("invalid",i),m=f=u=null;for(E in a)if(a.hasOwnProperty(E)&&(A=a[E],A!=null))switch(E){case"value":u=A;break;case"defaultValue":f=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:Zt(i,r,E,A,a,null)}Ns(i,u,f,m);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(u=a[x],u!=null))switch(x){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Zt(i,r,x,u,a,null)}return;case"dialog":Mt("beforetoggle",i),Mt("toggle",i),Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":Mt("load",i);break;case"video":case"audio":for(u=0;u<Xl.length;u++)Mt(Xl[u],i);break;case"image":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"embed":case"source":case"link":Mt("error",i),Mt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(u=a[q],u!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Zt(i,r,q,u,a,null)}return;default:if(La(r)){for($ in a)a.hasOwnProperty($)&&(u=a[$],u!==void 0&&Lm(i,r,$,u,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(u=a[A],u!=null&&Zt(i,r,A,u,a,null))}function ZC(i,r,a,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,E=null,A=null,x=null,q=null,$=null;for(X in a){var tt=a[X];if(a.hasOwnProperty(X)&&tt!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":x=tt;default:u.hasOwnProperty(X)||Zt(i,r,X,null,u,tt)}}for(var K in u){var X=u[K];if(tt=a[K],u.hasOwnProperty(K)&&(X!=null||tt!=null))switch(K){case"type":m=X;break;case"name":f=X;break;case"checked":q=X;break;case"defaultChecked":$=X;break;case"value":E=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==tt&&Zt(i,r,K,X,u,tt)}}Pa(i,E,A,x,q,$,m,f);return;case"select":X=E=A=K=null;for(m in a)if(x=a[m],a.hasOwnProperty(m)&&x!=null)switch(m){case"value":break;case"multiple":X=x;default:u.hasOwnProperty(m)||Zt(i,r,m,null,u,x)}for(f in u)if(m=u[f],x=a[f],u.hasOwnProperty(f)&&(m!=null||x!=null))switch(f){case"value":K=m;break;case"defaultValue":A=m;break;case"multiple":E=m;default:m!==x&&Zt(i,r,f,m,u,x)}r=A,a=E,u=X,K!=null?Ms(i,!!a,K,!1):!!u!=!!a&&(r!=null?Ms(i,!!a,r,!0):Ms(i,!!a,a?[]:"",!1));return;case"textarea":X=K=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Zt(i,r,A,null,u,f)}for(E in u)if(f=u[E],m=a[E],u.hasOwnProperty(E)&&(f!=null||m!=null))switch(E){case"value":K=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&Zt(i,r,E,f,u,m)}gc(i,K,X);return;case"option":for(var dt in a)if(K=a[dt],a.hasOwnProperty(dt)&&K!=null&&!u.hasOwnProperty(dt))switch(dt){case"selected":i.selected=!1;break;default:Zt(i,r,dt,null,u,K)}for(x in u)if(K=u[x],X=a[x],u.hasOwnProperty(x)&&K!==X&&(K!=null||X!=null))switch(x){case"selected":i.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Zt(i,r,x,K,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in a)K=a[vt],a.hasOwnProperty(vt)&&K!=null&&!u.hasOwnProperty(vt)&&Zt(i,r,vt,null,u,K);for(q in u)if(K=u[q],X=a[q],u.hasOwnProperty(q)&&K!==X&&(K!=null||X!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:Zt(i,r,q,K,u,X)}return;default:if(La(r)){for(var Jt in a)K=a[Jt],a.hasOwnProperty(Jt)&&K!==void 0&&!u.hasOwnProperty(Jt)&&Lm(i,r,Jt,void 0,u,K);for($ in u)K=u[$],X=a[$],!u.hasOwnProperty($)||K===X||K===void 0&&X===void 0||Lm(i,r,$,K,u,X);return}}for(var z in a)K=a[z],a.hasOwnProperty(z)&&K!=null&&!u.hasOwnProperty(z)&&Zt(i,r,z,null,u,K);for(tt in u)K=u[tt],X=a[tt],!u.hasOwnProperty(tt)||K===X||K==null&&X==null||Zt(i,r,tt,K,u,X)}function Z0(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function JC(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,a=performance.getEntriesByType("resource"),u=0;u<a.length;u++){var f=a[u],m=f.transferSize,E=f.initiatorType,A=f.duration;if(m&&A&&Z0(E)){for(E=0,A=f.responseEnd,u+=1;u<a.length;u++){var x=a[u],q=x.startTime;if(q>A)break;var $=x.transferSize,tt=x.initiatorType;$&&Z0(tt)&&(x=x.responseEnd,E+=$*(x<A?1:(A-q)/(x-q)))}if(--u,r+=8*(m+E)/(f.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var km=null,Um=null;function _h(i){return i.nodeType===9?i:i.ownerDocument}function J0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tE(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function zm(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Bm=null;function t2(){var i=window.event;return i&&i.type==="popstate"?i===Bm?!1:(Bm=i,!0):(Bm=null,!1)}var eE=typeof setTimeout=="function"?setTimeout:void 0,e2=typeof clearTimeout=="function"?clearTimeout:void 0,nE=typeof Promise=="function"?Promise:void 0,n2=typeof queueMicrotask=="function"?queueMicrotask:typeof nE<"u"?function(i){return nE.resolve(null).then(i).catch(i2)}:eE;function i2(i){setTimeout(function(){throw i})}function nr(i){return i==="head"}function iE(i,r){var a=r,u=0;do{var f=a.nextSibling;if(i.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(u===0){i.removeChild(f),vo(r);return}u--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")u++;else if(a==="html")Wl(i.ownerDocument.documentElement);else if(a==="head"){a=i.ownerDocument.head,Wl(a);for(var m=a.firstChild;m;){var E=m.nextSibling,A=m.nodeName;m[Ti]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=E}}else a==="body"&&Wl(i.ownerDocument.body);a=f}while(a);vo(r)}function sE(i,r){var a=i;i=0;do{var u=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(i===0)break;i--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||i++;a=u}while(a)}function jm(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":jm(a),Na(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function s2(i,r,a,u){for(;i.nodeType===1;){var f=a;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ti])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=jn(i.nextSibling),i===null)break}return null}function r2(i,r,a){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=jn(i.nextSibling),i===null))return null;return i}function rE(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=jn(i.nextSibling),i===null))return null;return i}function Fm(i){return i.data==="$?"||i.data==="$~"}function Hm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function a2(i,r){var a=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||a.readyState!=="loading")r();else{var u=function(){r(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function jn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var qm=null;function aE(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="/$"||a==="/&"){if(r===0)return jn(i.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}i=i.nextSibling}return null}function oE(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return i;r--}else a!=="/$"&&a!=="/&"||r++}i=i.previousSibling}return null}function lE(i,r,a){switch(r=_h(a),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Wl(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Na(i)}var Fn=new Map,uE=new Set;function Eh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var fs=ot.d;ot.d={f:o2,r:l2,D:u2,C:c2,L:h2,m:f2,X:m2,S:d2,M:p2};function o2(){var i=fs.f(),r=hh();return i||r}function l2(i){var r=Vn(i);r!==null&&r.tag===5&&r.type==="form"?R_(r):fs.r(i)}var po=typeof document>"u"?null:document;function cE(i,r,a){var u=po;if(u&&typeof r=="string"&&r){var f=fn(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),uE.has(f)||(uE.add(f),i={rel:i,crossOrigin:a,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),$e(r,"link",i),we(r),u.head.appendChild(r)))}}function u2(i){fs.D(i),cE("dns-prefetch",i,null)}function c2(i,r){fs.C(i,r),cE("preconnect",i,r)}function h2(i,r,a){fs.L(i,r,a);var u=po;if(u&&i&&r){var f='link[rel="preload"][as="'+fn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+fn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+fn(a.imageSizes)+'"]')):f+='[href="'+fn(i)+'"]';var m=f;switch(r){case"style":m=go(i);break;case"script":m=yo(i)}Fn.has(m)||(i=_({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:i,as:r},a),Fn.set(m,i),u.querySelector(f)!==null||r==="style"&&u.querySelector(Zl(m))||r==="script"&&u.querySelector(Jl(m))||(r=u.createElement("link"),$e(r,"link",i),we(r),u.head.appendChild(r)))}}function f2(i,r){fs.m(i,r);var a=po;if(a&&i){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+fn(u)+'"][href="'+fn(i)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=yo(i)}if(!Fn.has(m)&&(i=_({rel:"modulepreload",href:i},r),Fn.set(m,i),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Jl(m)))return}u=a.createElement("link"),$e(u,"link",i),we(u),a.head.appendChild(u)}}}function d2(i,r,a){fs.S(i,r,a);var u=po;if(u&&i){var f=Ai(u).hoistableStyles,m=go(i);r=r||"default";var E=f.get(m);if(!E){var A={loading:0,preload:null};if(E=u.querySelector(Zl(m)))A.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":r},a),(a=Fn.get(m))&&Gm(i,a);var x=E=u.createElement("link");we(x),$e(x,"link",i),x._p=new Promise(function(q,$){x.onload=q,x.onerror=$}),x.addEventListener("load",function(){A.loading|=1}),x.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Th(E,r,u)}E={type:"stylesheet",instance:E,count:1,state:A},f.set(m,E)}}}function m2(i,r){fs.X(i,r);var a=po;if(a&&i){var u=Ai(a).hoistableScripts,f=yo(i),m=u.get(f);m||(m=a.querySelector(Jl(f)),m||(i=_({src:i,async:!0},r),(r=Fn.get(f))&&Km(i,r),m=a.createElement("script"),we(m),$e(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function p2(i,r){fs.M(i,r);var a=po;if(a&&i){var u=Ai(a).hoistableScripts,f=yo(i),m=u.get(f);m||(m=a.querySelector(Jl(f)),m||(i=_({src:i,async:!0,type:"module"},r),(r=Fn.get(f))&&Km(i,r),m=a.createElement("script"),we(m),$e(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function hE(i,r,a,u){var f=(f=Dt.current)?Eh(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=go(a.href),a=Ai(f).hoistableStyles,u=a.get(r),u||(u={type:"style",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=go(a.href);var m=Ai(f).hoistableStyles,E=m.get(i);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,E),(m=f.querySelector(Zl(i)))&&!m._p&&(E.instance=m,E.state.loading=5),Fn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Fn.set(i,a),m||g2(f,i,a,E.state))),r&&u===null)throw Error(s(528,""));return E}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=yo(a),a=Ai(f).hoistableScripts,u=a.get(r),u||(u={type:"script",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function go(i){return'href="'+fn(i)+'"'}function Zl(i){return'link[rel="stylesheet"]['+i+"]"}function fE(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function g2(i,r,a,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),$e(r,"link",a),we(r),i.head.appendChild(r))}function yo(i){return'[src="'+fn(i)+'"]'}function Jl(i){return"script[async]"+i}function dE(i,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+fn(a.href)+'"]');if(u)return r.instance=u,we(u),u;var f=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),we(u),$e(u,"style",f),Th(u,a.precedence,i),r.instance=u;case"stylesheet":f=go(a.href);var m=i.querySelector(Zl(f));if(m)return r.state.loading|=4,r.instance=m,we(m),m;u=fE(a),(f=Fn.get(f))&&Gm(u,f),m=(i.ownerDocument||i).createElement("link"),we(m);var E=m;return E._p=new Promise(function(A,x){E.onload=A,E.onerror=x}),$e(m,"link",u),r.state.loading|=4,Th(m,a.precedence,i),r.instance=m;case"script":return m=yo(a.src),(f=i.querySelector(Jl(m)))?(r.instance=f,we(f),f):(u=a,(f=Fn.get(m))&&(u=_({},a),Km(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),we(f),$e(f,"link",u),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Th(u,a.precedence,i));return r.instance}function Th(i,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,E=0;E<u.length;E++){var A=u[E];if(A.dataset.precedence===r)m=A;else if(m!==f)break}m?m.parentNode.insertBefore(i,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(i,r.firstChild))}function Gm(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Km(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Sh=null;function mE(i,r,a){if(Sh===null){var u=new Map,f=Sh=new Map;f.set(a,u)}else f=Sh,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(i))return u;for(u.set(i,null),a=a.getElementsByTagName(i),f=0;f<a.length;f++){var m=a[f];if(!(m[Ti]||m[be]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(r)||"";E=i+E;var A=u.get(E);A?A.push(m):u.set(E,[m])}}return u}function pE(i,r,a){i=i.ownerDocument||i,i.head.insertBefore(a,r==="title"?i.querySelector("head > title"):null)}function y2(i,r,a){if(a===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function gE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function v2(i,r,a,u){if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=go(u.href),m=r.querySelector(Zl(f));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Ah.bind(i),r.then(i,i)),a.state.loading|=4,a.instance=m,we(m);return}m=r.ownerDocument||r,u=fE(u),(f=Fn.get(f))&&Gm(u,f),m=m.createElement("link"),we(m);var E=m;E._p=new Promise(function(A,x){E.onload=A,E.onerror=x}),$e(m,"link",u),a.instance=m}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(i.count++,a=Ah.bind(i),r.addEventListener("load",a),r.addEventListener("error",a))}}var Ym=0;function _2(i,r){return i.stylesheets&&i.count===0&&wh(i,i.stylesheets),0<i.count||0<i.imgCount?function(a){var u=setTimeout(function(){if(i.stylesheets&&wh(i,i.stylesheets),i.unsuspend){var m=i.unsuspend;i.unsuspend=null,m()}},6e4+r);0<i.imgBytes&&Ym===0&&(Ym=62500*JC());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&wh(i,i.stylesheets),i.unsuspend)){var m=i.unsuspend;i.unsuspend=null,m()}},(i.imgBytes>Ym?50:800)+r);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function Ah(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var bh=null;function wh(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,bh=new Map,r.forEach(E2,i),bh=null,Ah.call(i))}function E2(i,r){if(!(r.state.loading&4)){var a=bh.get(i);if(a)var u=a.get(null);else{a=new Map,bh.set(i,a);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var E=f[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),u=E)}u&&a.set(null,u)}f=r.instance,E=f.getAttribute("data-precedence"),m=a.get(E)||u,m===u&&a.set(null,f),a.set(E,f),this.count++,u=Ah.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var tu={$$typeof:Y,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function T2(i,r,a,u,f,m,E,A,x){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function yE(i,r,a,u,f,m,E,A,x,q,$,tt){return i=new T2(i,r,a,E,x,q,$,tt,A),r=1,m===!0&&(r|=24),m=bn(3,null,null,r),i.current=m,m.stateNode=i,r=Rd(),r.refCount++,i.pooledCache=r,r.refCount++,m.memoizedState={element:u,isDehydrated:a,cache:r},xd(m),i}function vE(i){return i?(i=Ya,i):Ya}function _E(i,r,a,u,f,m){f=vE(f),u.context===null?u.context=f:u.pendingContext=f,u=Gs(r),u.payload={element:a},m=m===void 0?null:m,m!==null&&(u.callback=m),a=Ks(i,u,r),a!==null&&(vn(a,i,r),Ml(a,i,r))}function EE(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<r?a:r}}function Qm(i,r){EE(i,r),(i=i.alternate)&&EE(i,r)}function TE(i){if(i.tag===13||i.tag===31){var r=Kr(i,67108864);r!==null&&vn(r,i,67108864),Qm(i,67108864)}}function SE(i){if(i.tag===13||i.tag===31){var r=Dn();r=Or(r);var a=Kr(i,r);a!==null&&vn(a,i,r),Qm(i,r)}}var Rh=!0;function S2(i,r,a,u){var f=W.T;W.T=null;var m=ot.p;try{ot.p=2,Xm(i,r,a,u)}finally{ot.p=m,W.T=f}}function A2(i,r,a,u){var f=W.T;W.T=null;var m=ot.p;try{ot.p=8,Xm(i,r,a,u)}finally{ot.p=m,W.T=f}}function Xm(i,r,a,u){if(Rh){var f=$m(u);if(f===null)Pm(i,r,u,Ch,a),bE(i,u);else if(w2(f,i,r,a,u))u.stopPropagation();else if(bE(i,u),r&4&&-1<b2.indexOf(i)){for(;f!==null;){var m=Vn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=yi(m.pendingLanes);if(E!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var x=1<<31-ye(E);A.entanglements[1]|=x,E&=~x}Li(m),(Gt&6)===0&&(uh=ln()+500,Ql(0))}}break;case 31:case 13:A=Kr(m,2),A!==null&&vn(A,m,2),hh(),Qm(m,2)}if(m=$m(u),m===null&&Pm(i,r,u,Ch,a),m===f)break;f=m}f!==null&&u.stopPropagation()}else Pm(i,r,u,null,a)}}function $m(i){return i=Mn(i),Wm(i)}var Ch=null;function Wm(i){if(Ch=null,i=Si(i),i!==null){var r=l(i);if(r===null)i=null;else{var a=r.tag;if(a===13){if(i=c(r),i!==null)return i;i=null}else if(a===31){if(i=d(r),i!==null)return i;i=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Ch=i,null}function AE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xr()){case il:return 2;case sl:return 8;case xs:case id:return 32;case rc:return 268435456;default:return 32}default:return 32}}var Zm=!1,ir=null,sr=null,rr=null,eu=new Map,nu=new Map,ar=[],b2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bE(i,r){switch(i){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":eu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":nu.delete(r.pointerId)}}function iu(i,r,a,u,f,m){return i===null||i.nativeEvent!==m?(i={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},r!==null&&(r=Vn(r),r!==null&&TE(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function w2(i,r,a,u,f){switch(r){case"focusin":return ir=iu(ir,i,r,a,u,f),!0;case"dragenter":return sr=iu(sr,i,r,a,u,f),!0;case"mouseover":return rr=iu(rr,i,r,a,u,f),!0;case"pointerover":var m=f.pointerId;return eu.set(m,iu(eu.get(m)||null,i,r,a,u,f)),!0;case"gotpointercapture":return m=f.pointerId,nu.set(m,iu(nu.get(m)||null,i,r,a,u,f)),!0}return!1}function wE(i){var r=Si(i.target);if(r!==null){var a=l(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){i.blockedOn=r,Jn(i.priority,function(){SE(a)});return}}else if(r===31){if(r=d(a),r!==null){i.blockedOn=r,Jn(i.priority,function(){SE(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ih(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var a=$m(i.nativeEvent);if(a===null){a=i.nativeEvent;var u=new a.constructor(a.type,a);gl=u,a.target.dispatchEvent(u),gl=null}else return r=Vn(a),r!==null&&TE(r),i.blockedOn=a,!1;r.shift()}return!0}function RE(i,r,a){Ih(i)&&a.delete(r)}function R2(){Zm=!1,ir!==null&&Ih(ir)&&(ir=null),sr!==null&&Ih(sr)&&(sr=null),rr!==null&&Ih(rr)&&(rr=null),eu.forEach(RE),nu.forEach(RE)}function Dh(i,r){i.blockedOn===r&&(i.blockedOn=null,Zm||(Zm=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,R2)))}var xh=null;function CE(i){xh!==i&&(xh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){xh===i&&(xh=null);for(var r=0;r<i.length;r+=3){var a=i[r],u=i[r+1],f=i[r+2];if(typeof u!="function"){if(Wm(u||a)===null)continue;break}var m=Vn(a);m!==null&&(i.splice(r,3),r-=3,$d(m,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function vo(i){function r(x){return Dh(x,i)}ir!==null&&Dh(ir,i),sr!==null&&Dh(sr,i),rr!==null&&Dh(rr,i),eu.forEach(r),nu.forEach(r);for(var a=0;a<ar.length;a++){var u=ar[a];u.blockedOn===i&&(u.blockedOn=null)}for(;0<ar.length&&(a=ar[0],a.blockedOn===null);)wE(a),a.blockedOn===null&&ar.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],m=a[u+1],E=f[Be]||null;if(typeof m=="function")E||CE(a);else if(E){var A=null;if(m&&m.hasAttribute("formAction")){if(f=m,E=m[Be]||null)A=E.formAction;else if(Wm(f)!==null)continue}else A=E.action;typeof A=="function"?a[u+1]=A:(a.splice(u,3),u-=3),CE(a)}}}function IE(){function i(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(E){return f=E})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),u||setTimeout(a,20)}function a(){if(!u&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Jm(i){this._internalRoot=i}Vh.prototype.render=Jm.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,u=Dn();_E(a,u,i,r,null,null)},Vh.prototype.unmount=Jm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;_E(i.current,2,null,i,null,null),hh(),r[Ei]=null}};function Vh(i){this._internalRoot=i}Vh.prototype.unstable_scheduleHydration=function(i){if(i){var r=hc();i={blockedOn:null,target:i,priority:r};for(var a=0;a<ar.length&&r!==0&&r<ar[a].priority;a++);ar.splice(a,0,i),a===0&&wE(i)}};var DE=t.version;if(DE!=="19.2.1")throw Error(s(527,DE,"19.2.1"));ot.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=g(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var C2={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mh.isDisabled&&Mh.supportsFiber)try{Wn=Mh.inject(C2),Ge=Mh}catch{}}return su.createRoot=function(i,r){if(!o(i))throw Error(s(299));var a=!1,u="",f=L_,m=k_,E=U_;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError)),r=yE(i,1,!1,null,null,a,u,null,f,m,E,IE),i[Ei]=r.current,Om(i),new Jm(r)},su.hydrateRoot=function(i,r,a){if(!o(i))throw Error(s(299));var u=!1,f="",m=L_,E=k_,A=U_,x=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),r=yE(i,1,!0,r,a??null,u,f,x,m,E,A,IE),r.context=vE(null),a=r.current,u=Dn(),u=Or(u),f=Gs(u),f.callback=null,Ks(a,f,u),a=u,r.current.lanes=a,Mr(r,a),Li(r),i[Ei]=r.current,Om(i),new Vh(r)},su.version="19.2.1",su}var kE;function L2(){if(kE)return ep.exports;kE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ep.exports=P2(),ep.exports}var k2=L2();var UE="popstate";function U2(e={}){function t(o,l){let{pathname:c="/",search:d="",hash:p=""}=Ta(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),kp("",{pathname:c,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(o,l){let c=o.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");d=g===-1?p:p.slice(0,g)}return d+"#"+(typeof l=="string"?l:bu(l))}function s(o,l){Qn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return B2(t,n,s,e)}function he(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Qn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function z2(){return Math.random().toString(36).substring(2,10)}function zE(e,t){return{usr:e.state,key:e.key,idx:t}}function kp(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ta(t):t,state:n,key:t&&t.key||s||z2()}}function bu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ta(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function B2(e,t,n,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,d="POP",p=null,g=y();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function y(){return(c.state||{idx:null}).idx}function _(){d="POP";let k=y(),j=k==null?null:k-g;g=k,p&&p({action:d,location:U.location,delta:j})}function S(k,j){d="PUSH";let G=kp(U.location,k,j);n&&n(G,k),g=y()+1;let Y=zE(G,g),rt=U.createHref(G);try{c.pushState(Y,"",rt)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;o.location.assign(rt)}l&&p&&p({action:d,location:U.location,delta:1})}function R(k,j){d="REPLACE";let G=kp(U.location,k,j);n&&n(G,k),g=y();let Y=zE(G,g),rt=U.createHref(G);c.replaceState(Y,"",rt),l&&p&&p({action:d,location:U.location,delta:0})}function P(k){return j2(k)}let U={get action(){return d},get location(){return e(o,c)},listen(k){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(UE,_),p=k,()=>{o.removeEventListener(UE,_),p=null}},createHref(k){return t(o,k)},createURL:P,encodeLocation(k){let j=P(k);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:S,replace:R,go(k){return c.go(k)}};return U}function j2(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),he(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:bu(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function VA(e,t,n="/"){return F2(e,t,n,!1)}function F2(e,t,n,s){let o=typeof t=="string"?Ta(t):t,l=_s(o.pathname||"/",n);if(l==null)return null;let c=MA(e);H2(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=tI(l);d=Z2(c[p],g,s)}return d}function MA(e,t=[],n=[],s="",o=!1){let l=(c,d,p=o,g)=>{let y={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&p)return;he(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let _=gs([s,y.relativePath]),S=n.concat(y);c.children&&c.children.length>0&&(he(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),MA(c.children,t,S,_,p)),!(c.path==null&&!c.index)&&t.push({path:_,score:$2(_,c.index),routesMeta:S})};return e.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let p of NA(c.path))l(c,d,!0,p)}),t}function NA(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=NA(s.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...c),d.map(p=>e.startsWith("/")&&p===""?"/":p)}function H2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:W2(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var q2=/^:[\w-]+$/,G2=3,K2=2,Y2=1,Q2=10,X2=-2,BE=e=>e==="*";function $2(e,t){let n=e.split("/"),s=n.length;return n.some(BE)&&(s+=X2),t&&(s+=K2),n.filter(o=>!BE(o)).reduce((o,l)=>o+(q2.test(l)?G2:l===""?Y2:Q2),s)}function W2(e,t){return e.length===t.length&&e.slice(0,-1).every((s,o)=>s===t[o])?e[e.length-1]-t[t.length-1]:0}function Z2(e,t,n=!1){let{routesMeta:s}=e,o={},l="/",c=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,y=l==="/"?t:t.slice(l.length)||"/",_=of({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},y),S=p.route;if(!_&&g&&n&&!s[s.length-1].route.index&&(_=of({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!_)return null;Object.assign(o,_.params),c.push({params:o,pathname:gs([l,_.pathname]),pathnameBase:sI(gs([l,_.pathnameBase])),route:S}),_.pathnameBase!=="/"&&(l=gs([l,_.pathnameBase]))}return c}function of(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=J2(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:y,isOptional:_},S)=>{if(y==="*"){let P=d[S]||"";c=l.slice(0,l.length-P.length).replace(/(.)\/+$/,"$1")}const R=d[S];return _&&!R?g[y]=void 0:g[y]=(R||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:e}}function J2(e,t=!1,n=!0){Qn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function tI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Qn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function _s(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}var OA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eI=e=>OA.test(e);function nI(e,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof e=="string"?Ta(e):e,l;if(n)if(eI(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),Qn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=jE(n.substring(1),"/"):l=jE(n,t)}else l=t;return{pathname:l,search:rI(s),hash:aI(o)}}function jE(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function rp(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iI(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function PA(e){let t=iI(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function LA(e,t,n,s=!1){let o;typeof e=="string"?o=Ta(e):(o={...e},he(!o.pathname||!o.pathname.includes("?"),rp("?","pathname","search",o)),he(!o.pathname||!o.pathname.includes("#"),rp("#","pathname","hash",o)),he(!o.search||!o.search.includes("#"),rp("#","search","hash",o)));let l=e===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=n;else{let _=t.length-1;if(!s&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),_-=1;o.pathname=S.join("/")}d=_>=0?t[_]:"/"}let p=nI(o,d),g=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||y)&&(p.pathname+="/"),p}var gs=e=>e.join("/").replace(/\/\/+/g,"/"),sI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),rI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,aI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,oI=class{constructor(e,t,n,s=!1){this.status=e,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function lI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function uI(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var kA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function UA(e,t){let n=e;if(typeof n!="string"||!OA.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(kA)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=_s(c.pathname,t);c.origin===l.origin&&d!=null?n=d+c.search+c.hash:o=!0}catch{Qn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var zA=["POST","PUT","PATCH","DELETE"];new Set(zA);var cI=["GET",...zA];new Set(cI);var Ho=V.createContext(null);Ho.displayName="DataRouter";var Of=V.createContext(null);Of.displayName="DataRouterState";var hI=V.createContext(!1),BA=V.createContext({isTransitioning:!1});BA.displayName="ViewTransition";var fI=V.createContext(new Map);fI.displayName="Fetchers";var dI=V.createContext(null);dI.displayName="Await";var $n=V.createContext(null);$n.displayName="Navigation";var ju=V.createContext(null);ju.displayName="Location";var Cs=V.createContext({outlet:null,matches:[],isDataRoute:!1});Cs.displayName="Route";var Ng=V.createContext(null);Ng.displayName="RouteError";var jA="REACT_ROUTER_ERROR",mI="REDIRECT",pI="ROUTE_ERROR_RESPONSE";function gI(e){if(e.startsWith(`${jA}:${mI}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function yI(e){if(e.startsWith(`${jA}:${pI}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new oI(t.status,t.statusText,t.data)}catch{}}function vI(e,{relative:t}={}){he(Fu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=V.useContext($n),{hash:o,pathname:l,search:c}=Hu(e,{relative:t}),d=l;return n!=="/"&&(d=l==="/"?n:gs([n,l])),s.createHref({pathname:d,search:c,hash:o})}function Fu(){return V.useContext(ju)!=null}function Sa(){return he(Fu(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(ju).location}var FA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function HA(e){V.useContext($n).static||V.useLayoutEffect(e)}function qA(){let{isDataRoute:e}=V.useContext(Cs);return e?VI():_I()}function _I(){he(Fu(),"useNavigate() may be used only in the context of a <Router> component.");let e=V.useContext(Ho),{basename:t,navigator:n}=V.useContext($n),{matches:s}=V.useContext(Cs),{pathname:o}=Sa(),l=JSON.stringify(PA(s)),c=V.useRef(!1);return HA(()=>{c.current=!0}),V.useCallback((p,g={})=>{if(Qn(c.current,FA),!c.current)return;if(typeof p=="number"){n.go(p);return}let y=LA(p,JSON.parse(l),o,g.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:gs([t,y.pathname])),(g.replace?n.replace:n.push)(y,g.state,g)},[t,n,l,o,e])}V.createContext(null);function Hu(e,{relative:t}={}){let{matches:n}=V.useContext(Cs),{pathname:s}=Sa(),o=JSON.stringify(PA(n));return V.useMemo(()=>LA(e,JSON.parse(o),s,t==="path"),[e,o,s,t])}function EI(e,t){return GA(e,t)}function GA(e,t,n,s,o){he(Fu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=V.useContext($n),{matches:c}=V.useContext(Cs),d=c[c.length-1],p=d?d.params:{},g=d?d.pathname:"/",y=d?d.pathnameBase:"/",_=d&&d.route;{let G=_&&_.path||"";YA(g,!_||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let S=Sa(),R;if(t){let G=typeof t=="string"?Ta(t):t;he(y==="/"||G.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${G.pathname}" was given in the \`location\` prop.`),R=G}else R=S;let P=R.pathname||"/",U=P;if(y!=="/"){let G=y.replace(/^\//,"").split("/");U="/"+P.replace(/^\//,"").split("/").slice(G.length).join("/")}let k=VA(e,{pathname:U});Qn(_||k!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Qn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=wI(k&&k.map(G=>Object.assign({},G,{params:Object.assign({},p,G.params),pathname:gs([y,l.encodeLocation?l.encodeLocation(G.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?y:gs([y,l.encodeLocation?l.encodeLocation(G.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathnameBase])})),c,n,s,o);return t&&j?V.createElement(ju.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},j):j}function TI(){let e=xI(),t=lI(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:l},"ErrorBoundary")," or"," ",V.createElement("code",{style:l},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},t),n?V.createElement("pre",{style:o},n):null,c)}var SI=V.createElement(TI,null),KA=class extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=yI(e.digest);n&&(e=n)}let t=e!==void 0?V.createElement(Cs.Provider,{value:this.props.routeContext},V.createElement(Ng.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?V.createElement(AI,{error:e},t):t}};KA.contextType=hI;var ap=new WeakMap;function AI({children:e,error:t}){let{basename:n}=V.useContext($n);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=gI(t.digest);if(s){let o=ap.get(t);if(o)throw o;let l=UA(s.location,n);if(kA&&!ap.get(t))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw ap.set(t,c),c}return V.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return e}function bI({routeContext:e,match:t,children:n}){let s=V.useContext(Ho);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),V.createElement(Cs.Provider,{value:e},n)}function wI(e,t=[],n=null,s=null,o=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=n?.errors;if(c!=null){let y=l.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);he(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let d=!1,p=-1;if(n)for(let y=0;y<l.length;y++){let _=l[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=y),_.route.id){let{loaderData:S,errors:R}=n,P=_.route.loader&&!S.hasOwnProperty(_.route.id)&&(!R||R[_.route.id]===void 0);if(_.route.lazy||P){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let g=n&&s?(y,_)=>{s(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:uI(n.matches),errorInfo:_})}:void 0;return l.reduceRight((y,_,S)=>{let R,P=!1,U=null,k=null;n&&(R=c&&_.route.id?c[_.route.id]:void 0,U=_.route.errorElement||SI,d&&(p<0&&S===0?(YA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,k=null):p===S&&(P=!0,k=_.route.hydrateFallbackElement||null)));let j=t.concat(l.slice(0,S+1)),G=()=>{let Y;return R?Y=U:P?Y=k:_.route.Component?Y=V.createElement(_.route.Component,null):_.route.element?Y=_.route.element:Y=y,V.createElement(bI,{match:_,routeContext:{outlet:y,matches:j,isDataRoute:n!=null},children:Y})};return n&&(_.route.ErrorBoundary||_.route.errorElement||S===0)?V.createElement(KA,{location:n.location,revalidation:n.revalidation,component:U,error:R,children:G(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:g}):G()},null)}function Og(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RI(e){let t=V.useContext(Ho);return he(t,Og(e)),t}function CI(e){let t=V.useContext(Of);return he(t,Og(e)),t}function II(e){let t=V.useContext(Cs);return he(t,Og(e)),t}function Pg(e){let t=II(e),n=t.matches[t.matches.length-1];return he(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function DI(){return Pg("useRouteId")}function xI(){let e=V.useContext(Ng),t=CI("useRouteError"),n=Pg("useRouteError");return e!==void 0?e:t.errors?.[n]}function VI(){let{router:e}=RI("useNavigate"),t=Pg("useNavigate"),n=V.useRef(!1);return HA(()=>{n.current=!0}),V.useCallback(async(o,l={})=>{Qn(n.current,FA),n.current&&(typeof o=="number"?await e.navigate(o):await e.navigate(o,{fromRouteId:t,...l}))},[e,t])}var FE={};function YA(e,t,n){!t&&!FE[e]&&(FE[e]=!0,Qn(!1,n))}V.memo(MI);function MI({routes:e,future:t,state:n,onError:s}){return GA(e,void 0,n,s,t)}function Up(e){he(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function NI({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:l=!1,unstable_useTransitions:c}){he(!Fu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),p=V.useMemo(()=>({basename:d,navigator:o,static:l,unstable_useTransitions:c,future:{}}),[d,o,l,c]);typeof n=="string"&&(n=Ta(n));let{pathname:g="/",search:y="",hash:_="",state:S=null,key:R="default"}=n,P=V.useMemo(()=>{let U=_s(g,d);return U==null?null:{location:{pathname:U,search:y,hash:_,state:S,key:R},navigationType:s}},[d,g,y,_,S,R,s]);return Qn(P!=null,`<Router basename="${d}"> is not able to match the URL "${g}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:V.createElement($n.Provider,{value:p},V.createElement(ju.Provider,{children:t,value:P}))}function OI({children:e,location:t}){return EI(zp(e),t)}function zp(e,t=[]){let n=[];return V.Children.forEach(e,(s,o)=>{if(!V.isValidElement(s))return;let l=[...t,o];if(s.type===V.Fragment){n.push.apply(n,zp(s.props.children,l));return}he(s.type===Up,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),he(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=zp(s.props.children,l)),n.push(c)}),n}var qh="get",Gh="application/x-www-form-urlencoded";function Pf(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function PI(e){return Pf(e)&&e.tagName.toLowerCase()==="button"}function LI(e){return Pf(e)&&e.tagName.toLowerCase()==="form"}function kI(e){return Pf(e)&&e.tagName.toLowerCase()==="input"}function UI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function zI(e,t){return e.button===0&&(!t||t==="_self")&&!UI(e)}var Nh=null;function BI(){if(Nh===null)try{new FormData(document.createElement("form"),0),Nh=!1}catch{Nh=!0}return Nh}var jI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function op(e){return e!=null&&!jI.has(e)?(Qn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gh}"`),null):e}function FI(e,t){let n,s,o,l,c;if(LI(e)){let d=e.getAttribute("action");s=d?_s(d,t):null,n=e.getAttribute("method")||qh,o=op(e.getAttribute("enctype"))||Gh,l=new FormData(e)}else if(PI(e)||kI(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=e.getAttribute("formaction")||d.getAttribute("action");if(s=p?_s(p,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||qh,o=op(e.getAttribute("formenctype"))||op(d.getAttribute("enctype"))||Gh,l=new FormData(d,e),!BI()){let{name:g,type:y,value:_}=e;if(y==="image"){let S=g?`${g}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else g&&l.append(g,_)}}else{if(Pf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=qh,s=null,o=Gh,c=e}return l&&o==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Lg(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function HI(e,t,n){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&_s(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function qI(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function GI(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function KI(e,t,n){let s=await Promise.all(e.map(async o=>{let l=t.routes[o.route.id];if(l){let c=await qI(l,n);return c.links?c.links():[]}return[]}));return $I(s.flat(1).filter(GI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function HE(e,t,n,s,o,l){let c=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,d=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return l==="assets"?t.filter((p,g)=>c(p,g)||d(p,g)):l==="data"?t.filter((p,g)=>{let y=s.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let _=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function YI(e,t,{includeHydrateFallback:n}={}){return QI(e.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function QI(e){return[...new Set(e)]}function XI(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function $I(e,t){let n=new Set;return new Set(t),e.reduce((s,o)=>{let l=JSON.stringify(XI(o));return n.has(l)||(n.add(l),s.push({key:l,link:o})),s},[])}function QA(){let e=V.useContext(Ho);return Lg(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function WI(){let e=V.useContext(Of);return Lg(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var kg=V.createContext(void 0);kg.displayName="FrameworkContext";function XA(){let e=V.useContext(kg);return Lg(e,"You must render this element inside a <HydratedRouter> element"),e}function ZI(e,t){let n=V.useContext(kg),[s,o]=V.useState(!1),[l,c]=V.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:y,onTouchStart:_}=t,S=V.useRef(null);V.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let U=j=>{j.forEach(G=>{c(G.isIntersecting)})},k=new IntersectionObserver(U,{threshold:.5});return S.current&&k.observe(S.current),()=>{k.disconnect()}}},[e]),V.useEffect(()=>{if(s){let U=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(U)}}},[s]);let R=()=>{o(!0)},P=()=>{o(!1),c(!1)};return n?e!=="intent"?[l,S,{}]:[l,S,{onFocus:ru(d,R),onBlur:ru(p,P),onMouseEnter:ru(g,R),onMouseLeave:ru(y,P),onTouchStart:ru(_,R)}]:[!1,S,{}]}function ru(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function JI({page:e,...t}){let{router:n}=QA(),s=V.useMemo(()=>VA(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?V.createElement(eD,{page:e,matches:s,...t}):null}function tD(e){let{manifest:t,routeModules:n}=XA(),[s,o]=V.useState([]);return V.useEffect(()=>{let l=!1;return KI(e,t,n).then(c=>{l||o(c)}),()=>{l=!0}},[e,t,n]),s}function eD({page:e,matches:t,...n}){let s=Sa(),{manifest:o,routeModules:l}=XA(),{basename:c}=QA(),{loaderData:d,matches:p}=WI(),g=V.useMemo(()=>HE(e,t,p,o,s,"data"),[e,t,p,o,s]),y=V.useMemo(()=>HE(e,t,p,o,s,"assets"),[e,t,p,o,s]),_=V.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let P=new Set,U=!1;if(t.forEach(j=>{let G=o.routes[j.route.id];!G||!G.hasLoader||(!g.some(Y=>Y.route.id===j.route.id)&&j.route.id in d&&l[j.route.id]?.shouldRevalidate||G.hasClientLoader?U=!0:P.add(j.route.id))}),P.size===0)return[];let k=HI(e,c,"data");return U&&P.size>0&&k.searchParams.set("_routes",t.filter(j=>P.has(j.route.id)).map(j=>j.route.id).join(",")),[k.pathname+k.search]},[c,d,s,o,g,t,e,l]),S=V.useMemo(()=>YI(y,o),[y,o]),R=tD(y);return V.createElement(V.Fragment,null,_.map(P=>V.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),S.map(P=>V.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),R.map(({key:P,link:U})=>V.createElement("link",{key:P,nonce:n.nonce,...U})))}function nD(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var iD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{iD&&(window.__reactRouterVersion="7.11.0")}catch{}function sD({basename:e,children:t,unstable_useTransitions:n,window:s}){let o=V.useRef();o.current==null&&(o.current=U2({window:s,v5Compat:!0}));let l=o.current,[c,d]=V.useState({action:l.action,location:l.location}),p=V.useCallback(g=>{n===!1?d(g):V.startTransition(()=>d(g))},[n]);return V.useLayoutEffect(()=>l.listen(p),[l,p]),V.createElement(NI,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var $A=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ug=V.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:l,replace:c,state:d,target:p,to:g,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:S,...R},P){let{basename:U,unstable_useTransitions:k}=V.useContext($n),j=typeof g=="string"&&$A.test(g),G=UA(g,U);g=G.to;let Y=vI(g,{relative:o}),[rt,J,at]=ZI(s,R),C=lD(g,{replace:c,state:d,target:p,preventScrollReset:y,relative:o,viewTransition:_,unstable_defaultShouldRevalidate:S,unstable_useTransitions:k});function w(N){t&&t(N),N.defaultPrevented||C(N)}let I=V.createElement("a",{...R,...at,href:G.absoluteURL||Y,onClick:G.isExternal||l?t:w,ref:nD(P,J),target:p,"data-discover":!j&&n==="render"?"true":void 0});return rt&&!j?V.createElement(V.Fragment,null,I,V.createElement(JI,{page:Y})):I});Ug.displayName="Link";var rD=V.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:d,children:p,...g},y){let _=Hu(c,{relative:g.relative}),S=Sa(),R=V.useContext(Of),{navigator:P,basename:U}=V.useContext($n),k=R!=null&&dD(_)&&d===!0,j=P.encodeLocation?P.encodeLocation(_).pathname:_.pathname,G=S.pathname,Y=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(G=G.toLowerCase(),Y=Y?Y.toLowerCase():null,j=j.toLowerCase()),Y&&U&&(Y=_s(Y,U)||Y);const rt=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let J=G===j||!o&&G.startsWith(j)&&G.charAt(rt)==="/",at=Y!=null&&(Y===j||!o&&Y.startsWith(j)&&Y.charAt(j.length)==="/"),C={isActive:J,isPending:at,isTransitioning:k},w=J?t:void 0,I;typeof s=="function"?I=s(C):I=[s,J?"active":null,at?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let N=typeof l=="function"?l(C):l;return V.createElement(Ug,{...g,"aria-current":w,className:I,ref:y,style:N,to:c,viewTransition:d},typeof p=="function"?p(C):p)});rD.displayName="NavLink";var aD=V.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:l,method:c=qh,action:d,onSubmit:p,relative:g,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:S,...R},P)=>{let{unstable_useTransitions:U}=V.useContext($n),k=hD(),j=fD(d,{relative:g}),G=c.toLowerCase()==="get"?"get":"post",Y=typeof d=="string"&&$A.test(d),rt=J=>{if(p&&p(J),J.defaultPrevented)return;J.preventDefault();let at=J.nativeEvent.submitter,C=at?.getAttribute("formmethod")||c,w=()=>k(at||J.currentTarget,{fetcherKey:t,method:C,navigate:n,replace:o,state:l,relative:g,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:S});U&&n!==!1?V.startTransition(()=>w()):w()};return V.createElement("form",{ref:P,method:G,action:j,onSubmit:s?p:rt,...R,"data-discover":!Y&&e==="render"?"true":void 0})});aD.displayName="Form";function oD(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WA(e){let t=V.useContext(Ho);return he(t,oD(e)),t}function lD(e,{target:t,replace:n,state:s,preventScrollReset:o,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:p}={}){let g=qA(),y=Sa(),_=Hu(e,{relative:l});return V.useCallback(S=>{if(zI(S,t)){S.preventDefault();let R=n!==void 0?n:bu(y)===bu(_),P=()=>g(e,{replace:R,state:s,preventScrollReset:o,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});p?V.startTransition(()=>P()):P()}},[y,g,_,n,s,t,e,o,l,c,d,p])}var uD=0,cD=()=>`__${String(++uD)}__`;function hD(){let{router:e}=WA("useSubmit"),{basename:t}=V.useContext($n),n=DI(),s=e.fetch,o=e.navigate;return V.useCallback(async(l,c={})=>{let{action:d,method:p,encType:g,formData:y,body:_}=FI(l,t);if(c.navigate===!1){let S=c.fetcherKey||cD();await s(S,n,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||p,formEncType:c.encType||g,flushSync:c.flushSync})}else await o(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||p,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,o,t,n])}function fD(e,{relative:t}={}){let{basename:n}=V.useContext($n),s=V.useContext(Cs);he(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...Hu(e||".",{relative:t})},c=Sa();if(e==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(y=>y==="")){d.delete("index"),p.filter(_=>_).forEach(_=>d.append("index",_));let y=d.toString();l.search=y?`?${y}`:""}}return(!e||e===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:gs([n,l.pathname])),bu(l)}function dD(e,{relative:t}={}){let n=V.useContext(BA);he(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=WA("useViewTransitionState"),o=Hu(e,{relative:t});if(!n.isTransitioning)return!1;let l=_s(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=_s(n.nextLocation.pathname,s)||n.nextLocation.pathname;return of(o.pathname,c)!=null||of(o.pathname,l)!=null}const mD=()=>{};var qE={};const ZA=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let o=e.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},pD=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const o=e[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=e[n++];t[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=e[n++],c=e[n++],d=e[n++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const l=e[n++],c=e[n++];t[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return t.join("")},JA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<e.length;o+=3){const l=e[o],c=o+1<e.length,d=c?e[o+1]:0,p=o+2<e.length,g=p?e[o+2]:0,y=l>>2,_=(l&3)<<4|d>>4;let S=(d&15)<<2|g>>6,R=g&63;p||(R=64,c||(S=64)),s.push(n[y],n[_],n[S],n[R])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ZA(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):pD(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<e.length;){const l=n[e.charAt(o++)],d=o<e.length?n[e.charAt(o)]:0;++o;const g=o<e.length?n[e.charAt(o)]:64;++o;const _=o<e.length?n[e.charAt(o)]:64;if(++o,l==null||d==null||g==null||_==null)throw new gD;const S=l<<2|d>>4;if(s.push(S),g!==64){const R=d<<4&240|g>>2;if(s.push(R),_!==64){const P=g<<6&192|_;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class gD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yD=function(e){const t=ZA(e);return JA.encodeByteArray(t,!0)},lf=function(e){return yD(e).replace(/\./g,"")},tb=function(e){try{return JA.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function vD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const _D=()=>vD().__FIREBASE_DEFAULTS__,ED=()=>{if(typeof process>"u"||typeof qE>"u")return;const e=qE.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},TD=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&tb(e[1]);return t&&JSON.parse(t)},Lf=()=>{try{return mD()||_D()||ED()||TD()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},eb=e=>Lf()?.emulatorHosts?.[e],SD=e=>{const t=eb(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},nb=()=>Lf()?.config,ib=e=>Lf()?.[`_${e}`];class AD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function qo(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sb(e){return(await fetch(e,{credentials:"include"})).ok}function bD(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...e};return[lf(JSON.stringify(n)),lf(JSON.stringify(c)),""].join(".")}const du={};function wD(){const e={prod:[],emulator:[]};for(const t of Object.keys(du))du[t]?e.emulator.push(t):e.prod.push(t);return e}function RD(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let GE=!1;function rb(e,t){if(typeof window>"u"||typeof document>"u"||!qo(window.location.host)||du[e]===t||du[e]||GE)return;du[e]=t;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",l=wD().prod.length>0;function c(){const S=document.getElementById(s);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,R){S.setAttribute("width","24"),S.setAttribute("id",R),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{GE=!0,c()},S}function y(S,R){S.setAttribute("id",R),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function _(){const S=RD(s),R=n("text"),P=document.getElementById(R)||document.createElement("span"),U=n("learnmore"),k=document.getElementById(U)||document.createElement("a"),j=n("preprendIcon"),G=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const Y=S.element;d(Y),y(k,U);const rt=g();p(G,j),Y.append(G,P,k,rt),document.body.appendChild(Y)}l?(P.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function ID(){const e=Lf()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xD(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function VD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MD(){const e=on();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ND(){return!ID()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OD(){try{return typeof indexedDB=="object"}catch{return!1}}function PD(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}const LD="FirebaseError";class Is extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=LD,Object.setPrototypeOf(this,Is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qu.prototype.create)}}class qu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,l=this.errors[t],c=l?kD(l,s):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Is(o,d,s)}}function kD(e,t){return e.replace(UD,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const UD=/\{\$([^}]+)}/g;function zD(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ga(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const l=e[o],c=t[o];if(KE(l)&&KE(c)){if(!ga(l,c))return!1}else if(l!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function KE(e){return e!==null&&typeof e=="object"}function Gu(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function BD(e,t){const n=new jD(e,t);return n.subscribe.bind(n)}class jD{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");FD(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=lp),o.error===void 0&&(o.error=lp),o.complete===void 0&&(o.complete=lp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FD(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function lp(){}function Xn(e){return e&&e._delegate?e._delegate:e}class ya{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const aa="[DEFAULT]";class HD{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new AD;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(GD(t))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(t=aa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=aa){return this.instances.has(t)}getOptions(t=aa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&t(l,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:qD(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=aa){return this.component?this.component.multipleInstances?t:aa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qD(e){return e===aa?void 0:e}function GD(e){return e.instantiationMode==="EAGER"}class KD{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new HD(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Lt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Lt||(Lt={}));const YD={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},QD=Lt.INFO,XD={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},$D=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),o=XD[t];if(o)console[o](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class zg{constructor(t){this.name=t,this._logLevel=QD,this._logHandler=$D,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?YD[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const WD=(e,t)=>t.some(n=>e instanceof n);let YE,QE;function ZD(){return YE||(YE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JD(){return QE||(QE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ab=new WeakMap,Bp=new WeakMap,ob=new WeakMap,up=new WeakMap,Bg=new WeakMap;function tx(e){const t=new Promise((n,s)=>{const o=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(mr(e.result)),o()},c=()=>{s(e.error),o()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&ab.set(n,e)}).catch(()=>{}),Bg.set(t,e),t}function ex(e){if(Bp.has(e))return;const t=new Promise((n,s)=>{const o=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),o()},c=()=>{s(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});Bp.set(e,t)}let jp={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Bp.get(e);if(t==="objectStoreNames")return e.objectStoreNames||ob.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function nx(e){jp=e(jp)}function ix(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(cp(this),t,...n);return ob.set(s,t.sort?t.sort():[t]),mr(s)}:JD().includes(e)?function(...t){return e.apply(cp(this),t),mr(ab.get(this))}:function(...t){return mr(e.apply(cp(this),t))}}function sx(e){return typeof e=="function"?ix(e):(e instanceof IDBTransaction&&ex(e),WD(e,ZD())?new Proxy(e,jp):e)}function mr(e){if(e instanceof IDBRequest)return tx(e);if(up.has(e))return up.get(e);const t=sx(e);return t!==e&&(up.set(e,t),Bg.set(t,e)),t}const cp=e=>Bg.get(e);function rx(e,t,{blocked:n,upgrade:s,blocking:o,terminated:l}={}){const c=indexedDB.open(e,t),d=mr(c);return s&&c.addEventListener("upgradeneeded",p=>{s(mr(c.result),p.oldVersion,p.newVersion,mr(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const ax=["get","getKey","getAll","getAllKeys","count"],ox=["put","add","delete","clear"],hp=new Map;function XE(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(hp.get(t))return hp.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=ox.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||ax.includes(n)))return;const l=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),o&&p.done]))[0]};return hp.set(t,l),l}nx(e=>({...e,get:(t,n,s)=>XE(t,n)||e.get(t,n,s),has:(t,n)=>!!XE(t,n)||e.has(t,n)}));class lx{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ux(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function ux(e){return e.getComponent()?.type==="VERSION"}const Fp="@firebase/app",$E="0.14.6";const Es=new zg("@firebase/app"),cx="@firebase/app-compat",hx="@firebase/analytics-compat",fx="@firebase/analytics",dx="@firebase/app-check-compat",mx="@firebase/app-check",px="@firebase/auth",gx="@firebase/auth-compat",yx="@firebase/database",vx="@firebase/data-connect",_x="@firebase/database-compat",Ex="@firebase/functions",Tx="@firebase/functions-compat",Sx="@firebase/installations",Ax="@firebase/installations-compat",bx="@firebase/messaging",wx="@firebase/messaging-compat",Rx="@firebase/performance",Cx="@firebase/performance-compat",Ix="@firebase/remote-config",Dx="@firebase/remote-config-compat",xx="@firebase/storage",Vx="@firebase/storage-compat",Mx="@firebase/firestore",Nx="@firebase/ai",Ox="@firebase/firestore-compat",Px="firebase",Lx="12.6.0";const Hp="[DEFAULT]",kx={[Fp]:"fire-core",[cx]:"fire-core-compat",[fx]:"fire-analytics",[hx]:"fire-analytics-compat",[mx]:"fire-app-check",[dx]:"fire-app-check-compat",[px]:"fire-auth",[gx]:"fire-auth-compat",[yx]:"fire-rtdb",[vx]:"fire-data-connect",[_x]:"fire-rtdb-compat",[Ex]:"fire-fn",[Tx]:"fire-fn-compat",[Sx]:"fire-iid",[Ax]:"fire-iid-compat",[bx]:"fire-fcm",[wx]:"fire-fcm-compat",[Rx]:"fire-perf",[Cx]:"fire-perf-compat",[Ix]:"fire-rc",[Dx]:"fire-rc-compat",[xx]:"fire-gcs",[Vx]:"fire-gcs-compat",[Mx]:"fire-fst",[Ox]:"fire-fst-compat",[Nx]:"fire-vertex","fire-js":"fire-js",[Px]:"fire-js-all"};const uf=new Map,Ux=new Map,qp=new Map;function WE(e,t){try{e.container.addComponent(t)}catch(n){Es.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function No(e){const t=e.name;if(qp.has(t))return Es.debug(`There were multiple attempts to register component ${t}.`),!1;qp.set(t,e);for(const n of uf.values())WE(n,e);for(const n of Ux.values())WE(n,e);return!0}function jg(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function hi(e){return e==null?!1:e.settings!==void 0}const zx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pr=new qu("app","Firebase",zx);class Bx{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ya("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}}const Go=Lx;function lb(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s={name:Hp,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw pr.create("bad-app-name",{appName:String(o)});if(n||(n=nb()),!n)throw pr.create("no-options");const l=uf.get(o);if(l){if(ga(n,l.options)&&ga(s,l.config))return l;throw pr.create("duplicate-app",{appName:o})}const c=new KD(o);for(const p of qp.values())c.addComponent(p);const d=new Bx(n,s,c);return uf.set(o,d),d}function ub(e=Hp){const t=uf.get(e);if(!t&&e===Hp&&nb())return lb();if(!t)throw pr.create("no-app",{appName:e});return t}function gr(e,t,n){let s=kx[e]??e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),l=t.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${t}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Es.warn(c.join(" "));return}No(new ya(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const jx="firebase-heartbeat-database",Fx=1,wu="firebase-heartbeat-store";let fp=null;function cb(){return fp||(fp=rx(jx,Fx,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(wu)}catch(n){console.warn(n)}}}}).catch(e=>{throw pr.create("idb-open",{originalErrorMessage:e.message})})),fp}async function Hx(e){try{const n=(await cb()).transaction(wu),s=await n.objectStore(wu).get(hb(e));return await n.done,s}catch(t){if(t instanceof Is)Es.warn(t.message);else{const n=pr.create("idb-get",{originalErrorMessage:t?.message});Es.warn(n.message)}}}async function ZE(e,t){try{const s=(await cb()).transaction(wu,"readwrite");await s.objectStore(wu).put(t,hb(e)),await s.done}catch(n){if(n instanceof Is)Es.warn(n.message);else{const s=pr.create("idb-set",{originalErrorMessage:n?.message});Es.warn(s.message)}}}function hb(e){return`${e.name}!${e.options.appId}`}const qx=1024,Gx=30;class Kx{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Qx(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=JE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>Gx){const o=Xx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Es.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=JE(),{heartbeatsToSend:n,unsentEntries:s}=Yx(this._heartbeatsCache.heartbeats),o=lf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Es.warn(t),""}}}function JE(){return new Date().toISOString().substring(0,10)}function Yx(e,t=qx){const n=[];let s=e.slice();for(const o of e){const l=n.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),tT(n)>t){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),tT(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Qx{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OD()?PD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Hx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return ZE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return ZE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function tT(e){return lf(JSON.stringify({version:2,heartbeats:e})).length}function Xx(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}function $x(e){No(new ya("platform-logger",t=>new lx(t),"PRIVATE")),No(new ya("heartbeat",t=>new Kx(t),"PRIVATE")),gr(Fp,$E,e),gr(Fp,$E,"esm2020"),gr("fire-js","")}$x("");var Wx="firebase",Zx="12.7.0";gr(Wx,Zx,"app");function fb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Jx=fb,db=new qu("auth","Firebase",fb());const cf=new zg("@firebase/auth");function tV(e,...t){cf.logLevel<=Lt.WARN&&cf.warn(`Auth (${Go}): ${e}`,...t)}function Kh(e,...t){cf.logLevel<=Lt.ERROR&&cf.error(`Auth (${Go}): ${e}`,...t)}function Gi(e,...t){throw Hg(e,...t)}function mi(e,...t){return Hg(e,...t)}function Fg(e,t,n){const s={...Jx(),[t]:n};return new qu("auth","Firebase",s).create(t,{appName:e.name})}function fa(e){return Fg(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eV(e,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&Gi(e,"argument-error"),Fg(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Hg(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return db.create(e,...t)}function Tt(e,t,...n){if(!e)throw Hg(t,...n)}function ms(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Kh(t),new Error(t)}function Ts(e,t){e||ms(t)}function Gp(){return typeof self<"u"&&self.location?.href||""}function nV(){return eT()==="http:"||eT()==="https:"}function eT(){return typeof self<"u"&&self.location?.protocol||null}function iV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nV()||xD()||"connection"in navigator)?navigator.onLine:!0}function sV(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}class Ku{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ts(n>t,"Short delay should be less than long delay!"),this.isMobile=CD()||VD()}get(){return iV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function qg(e,t){Ts(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class mb{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const aV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oV=new Ku(3e4,6e4);function Gg(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Ko(e,t,n,s,o={}){return pb(e,o,async()=>{let l={},c={};s&&(t==="GET"?c=s:l={body:JSON.stringify(s)});const d=Gu({key:e.config.apiKey,...c}).slice(1),p=await e._getAdditionalHeaders();p["Content-Type"]="application/json",e.languageCode&&(p["X-Firebase-Locale"]=e.languageCode);const g={method:t,headers:p,...l};return DD()||(g.referrerPolicy="no-referrer"),e.emulatorConfig&&qo(e.emulatorConfig.host)&&(g.credentials="include"),mb.fetch()(await gb(e,e.config.apiHost,n,d),g)})}async function pb(e,t,n){e._canInitEmulator=!1;const s={...rV,...t};try{const o=new uV(e),l=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Oh(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oh(e,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Oh(e,"email-already-in-use",c);if(p==="USER_DISABLED")throw Oh(e,"user-disabled",c);const y=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Fg(e,y,g);Gi(e,y)}}catch(o){if(o instanceof Is)throw o;Gi(e,"network-request-failed",{message:String(o)})}}async function lV(e,t,n,s,o={}){const l=await Ko(e,t,n,s,o);return"mfaPendingCredential"in l&&Gi(e,"multi-factor-auth-required",{_serverResponse:l}),l}async function gb(e,t,n,s){const o=`${t}${n}?${s}`,l=e,c=l.config.emulator?qg(e.config,o):`${e.config.apiScheme}://${o}`;return aV.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class uV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(mi(this.auth,"network-request-failed")),oV.get())})}}function Oh(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=mi(e,t,s);return o.customData._tokenResponse=n,o}async function cV(e,t){return Ko(e,"POST","/v1/accounts:delete",t)}async function hf(e,t){return Ko(e,"POST","/v1/accounts:lookup",t)}function mu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function hV(e,t=!1){const n=Xn(e),s=await n.getIdToken(t),o=Kg(s);Tt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l?.sign_in_provider;return{claims:o,token:s,authTime:mu(dp(o.auth_time)),issuedAtTime:mu(dp(o.iat)),expirationTime:mu(dp(o.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function dp(e){return Number(e)*1e3}function Kg(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return Kh("JWT malformed, contained fewer than 3 sections"),null;try{const o=tb(n);return o?JSON.parse(o):(Kh("Failed to decode base64 JWT payload"),null)}catch(o){return Kh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function nT(e){const t=Kg(e);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ru(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Is&&fV(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function fV({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}class dV{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Kp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mu(this.lastLoginAt),this.creationTime=mu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ff(e){const t=e.auth,n=await e.getIdToken(),s=await Ru(e,hf(t,{idToken:n}));Tt(s?.users.length,t,"internal-error");const o=s.users[0];e._notifyReloadListener(o);const l=o.providerUserInfo?.length?yb(o.providerUserInfo):[],c=pV(e.providerData,l),d=e.isAnonymous,p=!(e.email&&o.passwordHash)&&!c?.length,g=d?p:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Kp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(e,y)}async function mV(e){const t=Xn(e);await ff(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function pV(e,t){return[...e.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function yb(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function gV(e,t){const n=await pb(e,{},async()=>{const s=Gu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:l}=e.config,c=await gb(e,o,"/v1/token",`key=${l}`),d=await e._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return e.emulatorConfig&&qo(e.emulatorConfig.host)&&(p.credentials="include"),mb.fetch()(c,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function yV(e,t){return Ko(e,"POST","/v2/accounts:revokeToken",Gg(e,t))}class Io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):nT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const n=nT(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:l}=await gV(t,n);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:l}=n,c=new Io;return s&&(Tt(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),o&&(Tt(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),l&&(Tt(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Io,this.toJSON())}_performRefresh(){return ms("not implemented")}}function lr(e,t){Tt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class fi{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new dV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Kp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Ru(this,this.stsTokenManager.getToken(this.auth,t));return Tt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return hV(this,t)}reload(){return mV(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new fi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await ff(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hi(this.auth.app))return Promise.reject(fa(this.auth));const t=await this.getIdToken();return await Ru(this,cV(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:_,emailVerified:S,isAnonymous:R,providerData:P,stsTokenManager:U}=n;Tt(_&&U,t,"internal-error");const k=Io.fromJSON(this.name,U);Tt(typeof _=="string",t,"internal-error"),lr(s,t.name),lr(o,t.name),Tt(typeof S=="boolean",t,"internal-error"),Tt(typeof R=="boolean",t,"internal-error"),lr(l,t.name),lr(c,t.name),lr(d,t.name),lr(p,t.name),lr(g,t.name),lr(y,t.name);const j=new fi({uid:_,auth:t,email:o,emailVerified:S,displayName:s,isAnonymous:R,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:k,createdAt:g,lastLoginAt:y});return P&&Array.isArray(P)&&(j.providerData=P.map(G=>({...G}))),p&&(j._redirectEventId=p),j}static async _fromIdTokenResponse(t,n,s=!1){const o=new Io;o.updateFromServerResponse(n);const l=new fi({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await ff(l),l}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];Tt(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?yb(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!l?.length,d=new Io;d.updateFromIdToken(s);const p=new fi({uid:o.localId,auth:t,stsTokenManager:d,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Kp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(p,g),p}}const iT=new Map;function ps(e){Ts(e instanceof Function,"Expected a class definition");let t=iT.get(e);return t?(Ts(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,iT.set(e,t),t)}class vb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}vb.type="NONE";const sT=vb;function Yh(e,t,n){return`firebase:${e}:${t}:${n}`}class Do{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=Yh(this.userKey,o.apiKey,l),this.fullPersistenceKey=Yh("persistence",o.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await hf(this.auth,{idToken:t}).catch(()=>{});return n?fi._fromGetAccountInfoResponse(this.auth,n,t):null}return fi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Do(ps(sT),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||ps(sT);const c=Yh(s,t.config.apiKey,t.name);let d=null;for(const g of n)try{const y=await g._get(c);if(y){let _;if(typeof y=="string"){const S=await hf(t,{idToken:y}).catch(()=>{});if(!S)break;_=await fi._fromGetAccountInfoResponse(t,S,y)}else _=fi._fromJSON(t,y);g!==l&&(d=_),l=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Do(l,t,s):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Do(l,t,s))}}function rT(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Sb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_b(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(bb(t))return"Blackberry";if(wb(t))return"Webos";if(Eb(t))return"Safari";if((t.includes("chrome/")||Tb(t))&&!t.includes("edge/"))return"Chrome";if(Ab(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if(s?.length===2)return s[1]}return"Other"}function _b(e=on()){return/firefox\//i.test(e)}function Eb(e=on()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Tb(e=on()){return/crios\//i.test(e)}function Sb(e=on()){return/iemobile/i.test(e)}function Ab(e=on()){return/android/i.test(e)}function bb(e=on()){return/blackberry/i.test(e)}function wb(e=on()){return/webos/i.test(e)}function Yg(e=on()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function vV(e=on()){return Yg(e)&&!!window.navigator?.standalone}function _V(){return MD()&&document.documentMode===10}function Rb(e=on()){return Yg(e)||Ab(e)||wb(e)||bb(e)||/windows phone/i.test(e)||Sb(e)}function Cb(e,t=[]){let n;switch(e){case"Browser":n=rT(on());break;case"Worker":n=`${rT(on())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Go}/${s}`}class EV{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=l=>new Promise((c,d)=>{try{const p=t(l);c(p)}catch(p){d(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function TV(e,t={}){return Ko(e,"GET","/v2/passwordPolicy",Gg(e,t))}const SV=6;class AV{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??SV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}class bV{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aT(this),this.idTokenSubscription=new aT(this),this.beforeStateQueue=new EV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=db,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ps(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Do.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await hf(this,{idToken:t}),s=await fi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(hi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(t);(!l||l===c)&&d?.user&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await ff(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=sV()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(hi(this.app))return Promise.reject(fa(this));const n=t?Xn(t):null;return n&&Tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return hi(this.app)?Promise.reject(fa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return hi(this.app)?Promise.reject(fa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ps(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await TV(this),n=new AV(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new qu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await yV(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ps(t)||this._popupRedirectResolver;Tt(n,this,"argument-error"),this.redirectPersistenceManager=await Do.create(this,[ps(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{c=!0,p()}}else{const p=t.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Cb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(hi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&tV(`Error while retrieving App Check token: ${t.error}`),t?.token}}function kf(e){return Xn(e)}class aT{constructor(t){this.auth=t,this.observer=null,this.addObserver=BD(n=>this.observer=n)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Qg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wV(e){Qg=e}function RV(e){return Qg.loadJS(e)}function CV(){return Qg.gapiScript}function IV(e){return`__${e}${Math.floor(Math.random()*1e6)}`}function DV(e,t){const n=jg(e,"auth");if(n.isInitialized()){const o=n.getImmediate(),l=n.getOptions();if(ga(l,t??{}))return o;Gi(o,"already-initialized")}return n.initialize({options:t})}function xV(e,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ps);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t?.popupRedirectResolver)}function VV(e,t,n){const s=kf(e);Tt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,l=Ib(t),{host:c,port:d}=MV(t),p=d===null?"":`:${d}`,g={url:`${l}//${c}${p}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Tt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Tt(ga(g,s.config.emulator)&&ga(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,qo(c)?(sb(`${l}//${c}${p}`),rb("Auth",!0)):NV()}function Ib(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function MV(e){const t=Ib(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:oT(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:oT(c)}}}function oT(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function NV(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}class Db{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ms("not implemented")}_getIdTokenResponse(t){return ms("not implemented")}_linkToIdToken(t,n){return ms("not implemented")}_getReauthenticationResolver(t){return ms("not implemented")}}async function xo(e,t){return lV(e,"POST","/v1/accounts:signInWithIdp",Gg(e,t))}const OV="http://localhost";class va extends Db{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new va(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Gi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...l}=n;if(!s||!o)return null;const c=new va(s,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return xo(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,xo(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,xo(t,n)}buildRequest(){const t={requestUri:OV,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Gu(n)}return t}}class Xg{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Yu extends Xg{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class cr extends Yu{constructor(){super("facebook.com")}static credential(t){return va._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return cr.credentialFromTaggedObject(t)}static credentialFromError(t){return cr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return cr.credential(t.oauthAccessToken)}catch{return null}}}cr.FACEBOOK_SIGN_IN_METHOD="facebook.com";cr.PROVIDER_ID="facebook.com";class ds extends Yu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return va._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ds.credentialFromTaggedObject(t)}static credentialFromError(t){return ds.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return ds.credential(n,s)}catch{return null}}}ds.GOOGLE_SIGN_IN_METHOD="google.com";ds.PROVIDER_ID="google.com";class hr extends Yu{constructor(){super("github.com")}static credential(t){return va._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return hr.credentialFromTaggedObject(t)}static credentialFromError(t){return hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return hr.credential(t.oauthAccessToken)}catch{return null}}}hr.GITHUB_SIGN_IN_METHOD="github.com";hr.PROVIDER_ID="github.com";class fr extends Yu{constructor(){super("twitter.com")}static credential(t,n){return va._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return fr.credentialFromTaggedObject(t)}static credentialFromError(t){return fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return fr.credential(n,s)}catch{return null}}}fr.TWITTER_SIGN_IN_METHOD="twitter.com";fr.PROVIDER_ID="twitter.com";class Oo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const l=await fi._fromIdTokenResponse(t,s,o),c=lT(s);return new Oo({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=lT(s);return new Oo({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function lT(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class df extends Is{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,df.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new df(t,n,s,o)}}function xb(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?df._fromErrorAndOperation(e,l,t,s):l})}async function PV(e,t,n=!1){const s=await Ru(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Oo._forOperation(e,"link",s)}async function LV(e,t,n=!1){const{auth:s}=e;if(hi(s.app))return Promise.reject(fa(s));const o="reauthenticate";try{const l=await Ru(e,xb(s,o,t,e),n);Tt(l.idToken,s,"internal-error");const c=Kg(l.idToken);Tt(c,s,"internal-error");const{sub:d}=c;return Tt(e.uid===d,s,"user-mismatch"),Oo._forOperation(e,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&Gi(s,"user-mismatch"),l}}async function kV(e,t,n=!1){if(hi(e.app))return Promise.reject(fa(e));const s="signIn",o=await xb(e,s,t),l=await Oo._fromIdTokenResponse(e,s,o);return n||await e._updateCurrentUser(l.user),l}function UV(e,t,n,s){return Xn(e).onIdTokenChanged(t,n,s)}function zV(e,t,n){return Xn(e).beforeAuthStateChanged(t,n)}function BV(e,t,n,s){return Xn(e).onAuthStateChanged(t,n,s)}function jV(e){return Xn(e).signOut()}const mf="__sak";class Vb{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mf,"1"),this.storage.removeItem(mf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const FV=1e3,HV=10;class Mb extends Vb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Rb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);_V()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,HV):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},FV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Mb.type="LOCAL";const qV=Mb;class Nb extends Vb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Nb.type="SESSION";const Ob=Nb;function GV(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Uf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Uf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:l}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(c).map(async g=>g(n.origin,l)),p=await GV(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uf.receivers=[];function $g(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}class KV{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const g=$g("",20);o.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(_){const S=_;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(S.data.response);break;default:clearTimeout(y),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Ui(){return window}function YV(e){Ui().location.href=e}function Pb(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function QV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XV(){return navigator?.serviceWorker?.controller||null}function $V(){return Pb()?self:null}const Lb="firebaseLocalStorageDb",WV=1,pf="firebaseLocalStorage",kb="fbase_key";class Qu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zf(e,t){return e.transaction([pf],t?"readwrite":"readonly").objectStore(pf)}function ZV(){const e=indexedDB.deleteDatabase(Lb);return new Qu(e).toPromise()}function Yp(){const e=indexedDB.open(Lb,WV);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(pf,{keyPath:kb})}catch(o){n(o)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(pf)?t(s):(s.close(),await ZV(),t(await Yp()))})})}async function uT(e,t,n){const s=zf(e,!0).put({[kb]:t,value:n});return new Qu(s).toPromise()}async function JV(e,t){const n=zf(e,!1).get(t),s=await new Qu(n).toPromise();return s===void 0?null:s.value}function cT(e,t){const n=zf(e,!0).delete(t);return new Qu(n).toPromise()}const tM=800,eM=3;class Ub{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>eM)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Pb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uf._getInstance($V()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await QV(),!this.activeServiceWorker)return;this.sender=new KV(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||XV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Yp();return await uT(t,mf,"1"),await cT(t,mf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>uT(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>JV(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>cT(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const l=zf(o,!1).getAll();return new Qu(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:l}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ub.type="LOCAL";const nM=Ub;new Ku(3e4,6e4);function zb(e,t){return t?ps(t):(Tt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class Wg extends Db{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return xo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return xo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return xo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function iM(e){return kV(e.auth,new Wg(e),e.bypassAuthState)}function sM(e){const{auth:t,user:n}=e;return Tt(n,t,"internal-error"),LV(n,new Wg(e),e.bypassAuthState)}async function rM(e){const{auth:t,user:n}=e;return Tt(n,t,"internal-error"),PV(n,new Wg(e),e.bypassAuthState)}class Bb{constructor(t,n,s,o,l=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:l,error:c,type:d}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return iM;case"linkViaPopup":case"linkViaRedirect":return rM;case"reauthViaPopup":case"reauthViaRedirect":return sM;default:Gi(this.auth,"internal-error")}}resolve(t){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const aM=new Ku(2e3,1e4);async function oM(e,t,n){if(hi(e.app))return Promise.reject(mi(e,"operation-not-supported-in-this-environment"));const s=kf(e);eV(e,t,Xg);const o=zb(s,n);return new la(s,"signInViaPopup",t,o).executeNotNull()}class la extends Bb{constructor(t,n,s,o,l){super(t,n,o,l),this.provider=s,this.authWindow=null,this.pollId=null,la.currentPopupAction&&la.currentPopupAction.cancel(),la.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){Ts(this.filter.length===1,"Popup operations only handle one event");const t=$g();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,la.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,aM.get())};t()}}la.currentPopupAction=null;const lM="pendingRedirect",Qh=new Map;class uM extends Bb{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Qh.get(this.auth._key());if(!t){try{const s=await cM(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Qh.set(this.auth._key(),t)}return this.bypassAuthState||Qh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cM(e,t){const n=dM(t),s=fM(e);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function hM(e,t){Qh.set(e._key(),t)}function fM(e){return ps(e._redirectPersistence)}function dM(e){return Yh(lM,e.config.apiKey,e.name)}async function mM(e,t,n=!1){if(hi(e.app))return Promise.reject(fa(e));const s=kf(e),o=zb(s,t),c=await new uM(s,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}const pM=600*1e3;class gM{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!yM(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!jb(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(mi(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=pM&&this.cachedEventUids.clear(),this.cachedEventUids.has(hT(t))}saveEventToCache(t){this.cachedEventUids.add(hT(t)),this.lastProcessedEventTime=Date.now()}}function hT(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function jb({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function yM(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jb(e);default:return!1}}async function vM(e,t={}){return Ko(e,"GET","/v1/projects",t)}const _M=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EM=/^https?/;async function TM(e){if(e.config.emulator)return;const{authorizedDomains:t}=await vM(e);for(const n of t)try{if(SM(n))return}catch{}Gi(e,"unauthorized-domain")}function SM(e){const t=Gp(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!EM.test(n))return!1;if(_M.test(e))return s===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const AM=new Ku(3e4,6e4);function fT(){const e=Ui().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function bM(e){return new Promise((t,n)=>{function s(){fT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{fT(),n(mi(e,"network-request-failed"))},timeout:AM.get()})}if(Ui().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ui().gapi?.load)s();else{const o=IV("iframefcb");return Ui()[o]=()=>{gapi.load?s():n(mi(e,"network-request-failed"))},RV(`${CV()}?onload=${o}`).catch(l=>n(l))}}).catch(t=>{throw Xh=null,t})}let Xh=null;function wM(e){return Xh=Xh||bM(e),Xh}const RM=new Ku(5e3,15e3),CM="__/auth/iframe",IM="emulator/auth/iframe",DM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VM(e){const t=e.config;Tt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?qg(t,IM):`https://${e.config.authDomain}/${CM}`,s={apiKey:t.apiKey,appName:e.name,v:Go},o=xM.get(e.config.apiHost);o&&(s.eid=o);const l=e._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Gu(s).slice(1)}`}async function MM(e){const t=await wM(e),n=Ui().gapi;return Tt(n,e,"internal-error"),t.open({where:document.body,url:VM(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DM,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const c=mi(e,"network-request-failed"),d=Ui().setTimeout(()=>{l(c)},RM.get());function p(){Ui().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{l(c)})}))}const NM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OM=500,PM=600,LM="_blank",kM="http://localhost";class dT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UM(e,t,n,s=OM,o=PM){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p={...NM,width:s.toString(),height:o.toString(),top:l,left:c},g=on().toLowerCase();n&&(d=Tb(g)?LM:n),_b(g)&&(t=t||kM,p.scrollbars="yes");const y=Object.entries(p).reduce((S,[R,P])=>`${S}${R}=${P},`,"");if(vV(g)&&d!=="_self")return zM(t||"",d),new dT(null);const _=window.open(t||"",d,y);Tt(_,e,"popup-blocked");try{_.focus()}catch{}return new dT(_)}function zM(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const BM="__/auth/handler",jM="emulator/auth/handler",FM=encodeURIComponent("fac");async function mT(e,t,n,s,o,l){Tt(e.config.authDomain,e,"auth-domain-config-required"),Tt(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:Go,eventId:o};if(t instanceof Xg){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",zD(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(t instanceof Yu){const y=t.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}e.tenantId&&(c.tid=e.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const p=await e._getAppCheckToken(),g=p?`#${FM}=${encodeURIComponent(p)}`:"";return`${HM(e)}?${Gu(d).slice(1)}${g}`}function HM({config:e}){return e.emulator?qg(e,jM):`https://${e.authDomain}/${BM}`}const mp="webStorageSupport";class qM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ob,this._completeRedirectFn=mM,this._overrideRedirectResult=hM}async _openPopup(t,n,s,o){Ts(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await mT(t,n,s,Gp(),o);return UM(t,l,$g())}async _openRedirect(t,n,s,o){await this._originValidation(t);const l=await mT(t,n,s,Gp(),o);return YV(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:l}=this.eventManagers[n];return o?Promise.resolve(o):(Ts(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await MM(t),s=new gM(t);return n.register("authEvent",o=>(Tt(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(mp,{type:mp},o=>{const l=o?.[0]?.[mp];l!==void 0&&n(!!l),Gi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=TM(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Rb()||Eb()||Yg()}}const GM=qM;var pT="@firebase/auth",gT="1.12.0";class KM{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function YM(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QM(e){No(new ya("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;Tt(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:d,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cb(e)},g=new bV(s,o,l,p);return xV(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),No(new ya("auth-internal",t=>{const n=kf(t.getProvider("auth").getImmediate());return(s=>new KM(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gr(pT,gT,YM(e)),gr(pT,gT,"esm2020")}const XM=300,$M=ib("authIdTokenMaxAge")||XM;let yT=null;const WM=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>$M)return;const o=n?.token;yT!==o&&(yT=o,await fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ZM(e=ub()){const t=jg(e,"auth");if(t.isInitialized())return t.getImmediate();const n=DV(e,{popupRedirectResolver:GM,persistence:[nM,qV,Ob]}),s=ib("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=WM(l.toString());zV(n,c,()=>c(n.currentUser)),UV(n,d=>c(d))}}const o=eb("auth");return o&&VV(n,`http://${o}`),n}function JM(){return document.getElementsByTagName("head")?.[0]??document}wV({loadJS(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=o=>{const l=mi("internal-error");l.customData=o,n(l)},s.type="text/javascript",s.charset="UTF-8",JM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QM("Browser");var vT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var yr,Fb;(function(){var e;function t(C,w){function I(){}I.prototype=w.prototype,C.F=w.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(N,M,B){for(var D=Array(arguments.length-2),te=2;te<arguments.length;te++)D[te-2]=arguments[te];return w.prototype[M].apply(N,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,w,I){I||(I=0);const N=Array(16);if(typeof w=="string")for(var M=0;M<16;++M)N[M]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(M=0;M<16;++M)N[M]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=C.g[0],I=C.g[1],M=C.g[2];let B=C.g[3],D;D=w+(B^I&(M^B))+N[0]+3614090360&4294967295,w=I+(D<<7&4294967295|D>>>25),D=B+(M^w&(I^M))+N[1]+3905402710&4294967295,B=w+(D<<12&4294967295|D>>>20),D=M+(I^B&(w^I))+N[2]+606105819&4294967295,M=B+(D<<17&4294967295|D>>>15),D=I+(w^M&(B^w))+N[3]+3250441966&4294967295,I=M+(D<<22&4294967295|D>>>10),D=w+(B^I&(M^B))+N[4]+4118548399&4294967295,w=I+(D<<7&4294967295|D>>>25),D=B+(M^w&(I^M))+N[5]+1200080426&4294967295,B=w+(D<<12&4294967295|D>>>20),D=M+(I^B&(w^I))+N[6]+2821735955&4294967295,M=B+(D<<17&4294967295|D>>>15),D=I+(w^M&(B^w))+N[7]+4249261313&4294967295,I=M+(D<<22&4294967295|D>>>10),D=w+(B^I&(M^B))+N[8]+1770035416&4294967295,w=I+(D<<7&4294967295|D>>>25),D=B+(M^w&(I^M))+N[9]+2336552879&4294967295,B=w+(D<<12&4294967295|D>>>20),D=M+(I^B&(w^I))+N[10]+4294925233&4294967295,M=B+(D<<17&4294967295|D>>>15),D=I+(w^M&(B^w))+N[11]+2304563134&4294967295,I=M+(D<<22&4294967295|D>>>10),D=w+(B^I&(M^B))+N[12]+1804603682&4294967295,w=I+(D<<7&4294967295|D>>>25),D=B+(M^w&(I^M))+N[13]+4254626195&4294967295,B=w+(D<<12&4294967295|D>>>20),D=M+(I^B&(w^I))+N[14]+2792965006&4294967295,M=B+(D<<17&4294967295|D>>>15),D=I+(w^M&(B^w))+N[15]+1236535329&4294967295,I=M+(D<<22&4294967295|D>>>10),D=w+(M^B&(I^M))+N[1]+4129170786&4294967295,w=I+(D<<5&4294967295|D>>>27),D=B+(I^M&(w^I))+N[6]+3225465664&4294967295,B=w+(D<<9&4294967295|D>>>23),D=M+(w^I&(B^w))+N[11]+643717713&4294967295,M=B+(D<<14&4294967295|D>>>18),D=I+(B^w&(M^B))+N[0]+3921069994&4294967295,I=M+(D<<20&4294967295|D>>>12),D=w+(M^B&(I^M))+N[5]+3593408605&4294967295,w=I+(D<<5&4294967295|D>>>27),D=B+(I^M&(w^I))+N[10]+38016083&4294967295,B=w+(D<<9&4294967295|D>>>23),D=M+(w^I&(B^w))+N[15]+3634488961&4294967295,M=B+(D<<14&4294967295|D>>>18),D=I+(B^w&(M^B))+N[4]+3889429448&4294967295,I=M+(D<<20&4294967295|D>>>12),D=w+(M^B&(I^M))+N[9]+568446438&4294967295,w=I+(D<<5&4294967295|D>>>27),D=B+(I^M&(w^I))+N[14]+3275163606&4294967295,B=w+(D<<9&4294967295|D>>>23),D=M+(w^I&(B^w))+N[3]+4107603335&4294967295,M=B+(D<<14&4294967295|D>>>18),D=I+(B^w&(M^B))+N[8]+1163531501&4294967295,I=M+(D<<20&4294967295|D>>>12),D=w+(M^B&(I^M))+N[13]+2850285829&4294967295,w=I+(D<<5&4294967295|D>>>27),D=B+(I^M&(w^I))+N[2]+4243563512&4294967295,B=w+(D<<9&4294967295|D>>>23),D=M+(w^I&(B^w))+N[7]+1735328473&4294967295,M=B+(D<<14&4294967295|D>>>18),D=I+(B^w&(M^B))+N[12]+2368359562&4294967295,I=M+(D<<20&4294967295|D>>>12),D=w+(I^M^B)+N[5]+4294588738&4294967295,w=I+(D<<4&4294967295|D>>>28),D=B+(w^I^M)+N[8]+2272392833&4294967295,B=w+(D<<11&4294967295|D>>>21),D=M+(B^w^I)+N[11]+1839030562&4294967295,M=B+(D<<16&4294967295|D>>>16),D=I+(M^B^w)+N[14]+4259657740&4294967295,I=M+(D<<23&4294967295|D>>>9),D=w+(I^M^B)+N[1]+2763975236&4294967295,w=I+(D<<4&4294967295|D>>>28),D=B+(w^I^M)+N[4]+1272893353&4294967295,B=w+(D<<11&4294967295|D>>>21),D=M+(B^w^I)+N[7]+4139469664&4294967295,M=B+(D<<16&4294967295|D>>>16),D=I+(M^B^w)+N[10]+3200236656&4294967295,I=M+(D<<23&4294967295|D>>>9),D=w+(I^M^B)+N[13]+681279174&4294967295,w=I+(D<<4&4294967295|D>>>28),D=B+(w^I^M)+N[0]+3936430074&4294967295,B=w+(D<<11&4294967295|D>>>21),D=M+(B^w^I)+N[3]+3572445317&4294967295,M=B+(D<<16&4294967295|D>>>16),D=I+(M^B^w)+N[6]+76029189&4294967295,I=M+(D<<23&4294967295|D>>>9),D=w+(I^M^B)+N[9]+3654602809&4294967295,w=I+(D<<4&4294967295|D>>>28),D=B+(w^I^M)+N[12]+3873151461&4294967295,B=w+(D<<11&4294967295|D>>>21),D=M+(B^w^I)+N[15]+530742520&4294967295,M=B+(D<<16&4294967295|D>>>16),D=I+(M^B^w)+N[2]+3299628645&4294967295,I=M+(D<<23&4294967295|D>>>9),D=w+(M^(I|~B))+N[0]+4096336452&4294967295,w=I+(D<<6&4294967295|D>>>26),D=B+(I^(w|~M))+N[7]+1126891415&4294967295,B=w+(D<<10&4294967295|D>>>22),D=M+(w^(B|~I))+N[14]+2878612391&4294967295,M=B+(D<<15&4294967295|D>>>17),D=I+(B^(M|~w))+N[5]+4237533241&4294967295,I=M+(D<<21&4294967295|D>>>11),D=w+(M^(I|~B))+N[12]+1700485571&4294967295,w=I+(D<<6&4294967295|D>>>26),D=B+(I^(w|~M))+N[3]+2399980690&4294967295,B=w+(D<<10&4294967295|D>>>22),D=M+(w^(B|~I))+N[10]+4293915773&4294967295,M=B+(D<<15&4294967295|D>>>17),D=I+(B^(M|~w))+N[1]+2240044497&4294967295,I=M+(D<<21&4294967295|D>>>11),D=w+(M^(I|~B))+N[8]+1873313359&4294967295,w=I+(D<<6&4294967295|D>>>26),D=B+(I^(w|~M))+N[15]+4264355552&4294967295,B=w+(D<<10&4294967295|D>>>22),D=M+(w^(B|~I))+N[6]+2734768916&4294967295,M=B+(D<<15&4294967295|D>>>17),D=I+(B^(M|~w))+N[13]+1309151649&4294967295,I=M+(D<<21&4294967295|D>>>11),D=w+(M^(I|~B))+N[4]+4149444226&4294967295,w=I+(D<<6&4294967295|D>>>26),D=B+(I^(w|~M))+N[11]+3174756917&4294967295,B=w+(D<<10&4294967295|D>>>22),D=M+(w^(B|~I))+N[2]+718787259&4294967295,M=B+(D<<15&4294967295|D>>>17),D=I+(B^(M|~w))+N[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+B&4294967295}s.prototype.v=function(C,w){w===void 0&&(w=C.length);const I=w-this.blockSize,N=this.C;let M=this.h,B=0;for(;B<w;){if(M==0)for(;B<=I;)o(this,C,B),B+=this.blockSize;if(typeof C=="string"){for(;B<w;)if(N[M++]=C.charCodeAt(B++),M==this.blockSize){o(this,N),M=0;break}}else for(;B<w;)if(N[M++]=C[B++],M==this.blockSize){o(this,N),M=0;break}}this.h=M,this.o+=w},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,I=0;I<4;++I)for(let N=0;N<32;N+=8)C[w++]=this.g[I]>>>N&255;return C};function l(C,w){var I=d;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=w(C)}function c(C,w){this.h=w;const I=[];let N=!0;for(let M=C.length-1;M>=0;M--){const B=C[M]|0;N&&B==w||(I[M]=B,N=!1)}this.g=I}var d={};function p(C){return-128<=C&&C<128?l(C,function(w){return new c([w|0],w<0?-1:0)}):new c([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return _;if(C<0)return k(g(-C));const w=[];let I=1;for(let N=0;C>=I;N++)w[N]=C/I|0,I*=4294967296;return new c(w,0)}function y(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return k(y(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(w,8));let N=_;for(let B=0;B<C.length;B+=8){var M=Math.min(8,C.length-B);const D=parseInt(C.substring(B,B+M),w);M<8?(M=g(Math.pow(w,M)),N=N.j(M).add(g(D))):(N=N.j(I),N=N.add(g(D)))}return N}var _=p(0),S=p(1),R=p(16777216);e=c.prototype,e.m=function(){if(U(this))return-k(this).m();let C=0,w=1;for(let I=0;I<this.g.length;I++){const N=this.i(I);C+=(N>=0?N:4294967296+N)*w,w*=4294967296}return C},e.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(P(this))return"0";if(U(this))return"-"+k(this).toString(C);const w=g(Math.pow(C,6));var I=this;let N="";for(;;){const M=rt(I,w).g;I=j(I,M.j(w));let B=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=M,P(I))return B+N;for(;B.length<6;)B="0"+B;N=B+N}},e.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function P(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function U(C){return C.h==-1}e.l=function(C){return C=j(this,C),U(C)?-1:P(C)?0:1};function k(C){const w=C.g.length,I=[];for(let N=0;N<w;N++)I[N]=~C.g[N];return new c(I,~C.h).add(S)}e.abs=function(){return U(this)?k(this):this},e.add=function(C){const w=Math.max(this.g.length,C.g.length),I=[];let N=0;for(let M=0;M<=w;M++){let B=N+(this.i(M)&65535)+(C.i(M)&65535),D=(B>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);N=D>>>16,B&=65535,D&=65535,I[M]=D<<16|B}return new c(I,I[I.length-1]&-2147483648?-1:0)};function j(C,w){return C.add(k(w))}e.j=function(C){if(P(this)||P(C))return _;if(U(this))return U(C)?k(this).j(k(C)):k(k(this).j(C));if(U(C))return k(this.j(k(C)));if(this.l(R)<0&&C.l(R)<0)return g(this.m()*C.m());const w=this.g.length+C.g.length,I=[];for(var N=0;N<2*w;N++)I[N]=0;for(N=0;N<this.g.length;N++)for(let M=0;M<C.g.length;M++){const B=this.i(N)>>>16,D=this.i(N)&65535,te=C.i(M)>>>16,de=C.i(M)&65535;I[2*N+2*M]+=D*de,G(I,2*N+2*M),I[2*N+2*M+1]+=B*de,G(I,2*N+2*M+1),I[2*N+2*M+1]+=D*te,G(I,2*N+2*M+1),I[2*N+2*M+2]+=B*te,G(I,2*N+2*M+2)}for(C=0;C<w;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=w;C<2*w;C++)I[C]=0;return new c(I,0)};function G(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function Y(C,w){this.g=C,this.h=w}function rt(C,w){if(P(w))throw Error("division by zero");if(P(C))return new Y(_,_);if(U(C))return w=rt(k(C),w),new Y(k(w.g),k(w.h));if(U(w))return w=rt(C,k(w)),new Y(k(w.g),w.h);if(C.g.length>30){if(U(C)||U(w))throw Error("slowDivide_ only works with positive integers.");for(var I=S,N=w;N.l(C)<=0;)I=J(I),N=J(N);var M=at(I,1),B=at(N,1);for(N=at(N,2),I=at(I,2);!P(N);){var D=B.add(N);D.l(C)<=0&&(M=M.add(I),B=D),N=at(N,1),I=at(I,1)}return w=j(C,M.j(w)),new Y(M,w)}for(M=_;C.l(w)>=0;){for(I=Math.max(1,Math.floor(C.m()/w.m())),N=Math.ceil(Math.log(I)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),B=g(I),D=B.j(w);U(D)||D.l(C)>0;)I-=N,B=g(I),D=B.j(w);P(B)&&(B=S),M=M.add(B),C=j(C,D)}return new Y(M,C)}e.B=function(C){return rt(this,C).h},e.and=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let N=0;N<w;N++)I[N]=this.i(N)&C.i(N);return new c(I,this.h&C.h)},e.or=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let N=0;N<w;N++)I[N]=this.i(N)|C.i(N);return new c(I,this.h|C.h)},e.xor=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let N=0;N<w;N++)I[N]=this.i(N)^C.i(N);return new c(I,this.h^C.h)};function J(C){const w=C.g.length+1,I=[];for(let N=0;N<w;N++)I[N]=C.i(N)<<1|C.i(N-1)>>>31;return new c(I,C.h)}function at(C,w){const I=w>>5;w%=32;const N=C.g.length-I,M=[];for(let B=0;B<N;B++)M[B]=w>0?C.i(B+I)>>>w|C.i(B+I+1)<<32-w:C.i(B+I);return new c(M,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Fb=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,yr=c}).apply(typeof vT<"u"?vT:typeof self<"u"?self:typeof window<"u"?window:{});var Ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Hb,lu,qb,$h,Qp,Gb,Kb,Yb;(function(){var e,t=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ph=="object"&&Ph];for(var v=0;v<h.length;++v){var T=h[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=n(this);function o(h,v){if(v)t:{var T=s;h=h.split(".");for(var b=0;b<h.length-1;b++){var F=h[b];if(!(F in T))break t;T=T[F]}h=h[h.length-1],b=T[h],v=v(b),v!=b&&v!=null&&t(T,h,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(v){var T=[],b;for(b in v)Object.prototype.hasOwnProperty.call(v,b)&&T.push([b,v[b]]);return T}});var l=l||{},c=this||self;function d(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function p(h,v,T){return h.call.apply(h.bind,arguments)}function g(h,v,T){return g=p,g.apply(null,arguments)}function y(h,v){var T=Array.prototype.slice.call(arguments,1);return function(){var b=T.slice();return b.push.apply(b,arguments),h.apply(this,b)}}function _(h,v){function T(){}T.prototype=v.prototype,h.Z=v.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(b,F,Q){for(var lt=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)lt[Rt-2]=arguments[Rt];return v.prototype[F].apply(b,lt)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function R(h){const v=h.length;if(v>0){const T=Array(v);for(let b=0;b<v;b++)T[b]=h[b];return T}return[]}function P(h,v){for(let b=1;b<arguments.length;b++){const F=arguments[b];var T=typeof F;if(T=T!="object"?T:F?Array.isArray(F)?"array":T:"null",T=="array"||T=="object"&&typeof F.length=="number"){T=h.length||0;const Q=F.length||0;h.length=T+Q;for(let lt=0;lt<Q;lt++)h[T+lt]=F[lt]}else h.push(F)}}class U{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function k(h){c.setTimeout(()=>{throw h},0)}function j(){var h=C;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class G{constructor(){this.h=this.g=null}add(v,T){const b=Y.get();b.set(v,T),this.h?this.h.next=b:this.g=b,this.h=b}}var Y=new U(()=>new rt,h=>h.reset());class rt{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let J,at=!1,C=new G,w=()=>{const h=Promise.resolve(void 0);J=()=>{h.then(I)}};function I(){for(var h;h=j();){try{h.h.call(h.g)}catch(T){k(T)}var v=Y;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}at=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,v),c.removeEventListener("test",T,v)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function te(h,v){M.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}_(te,M),te.prototype.init=function(h,v){const T=this.type=h.type,b=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(T=="mouseover"?v=h.fromElement:T=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&te.Z.h.call(this)},te.prototype.h=function(){te.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),W=0;function ot(h,v,T,b,F){this.listener=h,this.proxy=null,this.src=v,this.type=T,this.capture=!!b,this.ha=F,this.key=++W,this.da=this.fa=!1}function ft(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function It(h,v,T){for(const b in h)v.call(T,h[b],b,h)}function Nt(h,v){for(const T in h)v.call(void 0,h[T],T,h)}function L(h){const v={};for(const T in h)v[T]=h[T];return v}const nt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(h,v){let T,b;for(let F=1;F<arguments.length;F++){b=arguments[F];for(T in b)h[T]=b[T];for(let Q=0;Q<nt.length;Q++)T=nt[Q],Object.prototype.hasOwnProperty.call(b,T)&&(h[T]=b[T])}}function ht(h){this.src=h,this.g={},this.h=0}ht.prototype.add=function(h,v,T,b,F){const Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);const lt=Dt(h,v,b,F);return lt>-1?(v=h[lt],T||(v.fa=!1)):(v=new ot(v,this.src,Q,!!b,F),v.fa=T,h.push(v)),v};function St(h,v){const T=v.type;if(T in h.g){var b=h.g[T],F=Array.prototype.indexOf.call(b,v,void 0),Q;(Q=F>=0)&&Array.prototype.splice.call(b,F,1),Q&&(ft(v),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Dt(h,v,T,b){for(let F=0;F<h.length;++F){const Q=h[F];if(!Q.da&&Q.listener==v&&Q.capture==!!T&&Q.ha==b)return F}return-1}var Bt="closure_lm_"+(Math.random()*1e6|0),Oe={};function re(h,v,T,b,F){if(Array.isArray(v)){for(let Q=0;Q<v.length;Q++)re(h,v[Q],T,b,F);return null}return T=nl(T),h&&h[de]?h.J(v,T,d(b)?!!b.capture:!1,F):Ir(h,v,T,!1,b,F)}function Ir(h,v,T,b,F,Q){if(!v)throw Error("Invalid event type");const lt=d(F)?!!F.capture:!!F;let Rt=Dr(h);if(Rt||(h[Bt]=Rt=new ht(h)),T=Rt.add(v,T,b,lt,Q),T.proxy)return T;if(b=Ia(),T.proxy=b,b.src=h,b.listener=T,h.addEventListener)B||(F=lt),F===void 0&&(F=!1),h.addEventListener(v.toString(),b,F);else if(h.attachEvent)h.attachEvent(pi(v.toString()),b);else if(h.addListener&&h.removeListener)h.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ia(){function h(T){return v.call(h.src,h.listener,T)}const v=tl;return h}function Da(h,v,T,b,F){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)Da(h,v[Q],T,b,F);else b=d(b)?!!b.capture:!!b,T=nl(T),h&&h[de]?(h=h.i,Q=String(v).toString(),Q in h.g&&(v=h.g[Q],T=Dt(v,T,b,F),T>-1&&(ft(v[T]),Array.prototype.splice.call(v,T,1),v.length==0&&(delete h.g[Q],h.h--)))):h&&(h=Dr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Dt(v,T,b,F)),(T=h>-1?v[h]:null)&&xa(T))}function xa(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[de])St(v.i,h);else{var T=h.type,b=h.proxy;v.removeEventListener?v.removeEventListener(T,b,h.capture):v.detachEvent?v.detachEvent(pi(T),b):v.addListener&&v.removeListener&&v.removeListener(b),(T=Dr(v))?(St(T,h),T.h==0&&(T.src=null,v[Bt]=null)):ft(h)}}}function pi(h){return h in Oe?Oe[h]:Oe[h]="on"+h}function tl(h,v){if(h.da)h=!0;else{v=new te(v,this);const T=h.listener,b=h.ha||h.src;h.fa&&xa(h),h=T.call(b,v)}return h}function Dr(h){return h=h[Bt],h instanceof ht?h:null}var el="__closure_events_fn_"+(Math.random()*1e9>>>0);function nl(h){return typeof h=="function"?h:(h[el]||(h[el]=function(v){return h.handleEvent(v)}),h[el])}function Se(){N.call(this),this.i=new ht(this),this.M=this,this.G=null}_(Se,N),Se.prototype[de]=!0,Se.prototype.removeEventListener=function(h,v,T,b){Da(this,h,v,T,b)};function Pe(h,v){var T,b=h.G;if(b)for(T=[];b;b=b.G)T.push(b);if(h=h.M,b=v.type||v,typeof v=="string")v=new M(v,h);else if(v instanceof M)v.target=v.target||h;else{var F=v;v=new M(b,h),ut(v,F)}F=!0;let Q,lt;if(T)for(lt=T.length-1;lt>=0;lt--)Q=v.g=T[lt],F=Ds(Q,b,!0,v)&&F;if(Q=v.g=h,F=Ds(Q,b,!0,v)&&F,F=Ds(Q,b,!1,v)&&F,T)for(lt=0;lt<T.length;lt++)Q=v.g=T[lt],F=Ds(Q,b,!1,v)&&F}Se.prototype.N=function(){if(Se.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const T=h.g[v];for(let b=0;b<T.length;b++)ft(T[b]);delete h.g[v],h.h--}}this.G=null},Se.prototype.J=function(h,v,T,b){return this.i.add(String(h),v,!1,T,b)},Se.prototype.K=function(h,v,T,b){return this.i.add(String(h),v,!0,T,b)};function Ds(h,v,T,b){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let F=!0;for(let Q=0;Q<v.length;++Q){const lt=v[Q];if(lt&&!lt.da&&lt.capture==T){const Rt=lt.listener,ve=lt.ha||lt.src;lt.fa&&St(h.i,lt),F=Rt.call(ve,b)!==!1&&F}}return F&&!b.defaultPrevented}function nd(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(h,v||0)}function sc(h){h.g=nd(()=>{h.g=null,h.i&&(h.i=!1,sc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class ln extends N{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:sc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xr(h){N.call(this),this.h=h,this.g={}}_(xr,N);var il=[];function sl(h){It(h.g,function(v,T){this.g.hasOwnProperty(T)&&xa(v)},h),h.g={}}xr.prototype.N=function(){xr.Z.N.call(this),sl(this)},xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xs=c.JSON.stringify,id=c.JSON.parse,rc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function ac(){}function oc(){}var Wn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ge(){M.call(this,"d")}_(Ge,M);function xn(){M.call(this,"c")}_(xn,M);var ye={},lc=null;function Va(){return lc=lc||new Se}ye.Ia="serverreachability";function uc(h){M.call(this,ye.Ia,h)}_(uc,M);function gi(h){const v=Va();Pe(v,new uc(v))}ye.STAT_EVENT="statevent";function Vr(h,v){M.call(this,ye.STAT_EVENT,h),this.stat=v}_(Vr,M);function Ae(h){const v=Va();Pe(v,new Vr(v,h))}ye.Ja="timingevent";function yi(h,v){M.call(this,ye.Ja,h),this.size=v}_(yi,M);function vi(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function Zn(){this.g=!0}Zn.prototype.ua=function(){this.g=!1};function sd(h,v,T,b,F,Q){h.info(function(){if(h.g)if(Q){var lt="",Rt=Q.split("&");for(let qt=0;qt<Rt.length;qt++){var ve=Rt[qt].split("=");if(ve.length>1){const ae=ve[0];ve=ve[1];const On=ae.split("_");lt=On.length>=2&&On[1]=="type"?lt+(ae+"="+ve+"&"):lt+(ae+"=redacted&")}}}else lt=null;else lt=Q;return"XMLHTTP REQ ("+b+") [attempt "+F+"]: "+v+`
`+T+`
`+lt})}function cc(h,v,T,b,F,Q,lt){h.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+F+"]: "+v+`
`+T+`
`+Q+" "+lt})}function _i(h,v,T,b){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+rd(h,T)+(b?" "+b:"")})}function Mr(h,v){h.info(function(){return"TIMEOUT: "+v})}Zn.prototype.info=function(){};function rd(h,v){if(!h.g)return v;if(!v)return null;try{const Q=JSON.parse(v);if(Q){for(h=0;h<Q.length;h++)if(Array.isArray(Q[h])){var T=Q[h];if(!(T.length<2)){var b=T[1];if(Array.isArray(b)&&!(b.length<1)){var F=b[0];if(F!="noop"&&F!="stop"&&F!="close")for(let lt=1;lt<b.length;lt++)b[lt]=""}}}}return xs(Q)}catch{return v}}var Nr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},rl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},al;function Or(){}_(Or,ac),Or.prototype.g=function(){return new XMLHttpRequest},al=new Or;function Qi(h){return encodeURIComponent(String(h))}function hc(h){var v=1;h=h.split(":");const T=[];for(;v>0&&h.length;)T.push(h.shift()),v--;return h.length&&T.push(h.join(":")),T}function Jn(h,v,T,b){this.j=h,this.i=v,this.l=T,this.S=b||1,this.V=new xr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ti}function ti(){this.i=null,this.g="",this.h=!1}var be={},Be={};function Ei(h,v,T){h.M=1,h.A=Pr(Re(v)),h.u=T,h.R=!0,Ma(h,null)}function Ma(h,v){h.F=Date.now(),Ti(h),h.B=Re(h.A);var T=h.B,b=h.S;Array.isArray(b)||(b=[String(b)]),La(T.i,"t",b),h.C=0,T=h.j.L,h.h=new ti,h.g=Rc(h.j,T?v:null,!h.u),h.P>0&&(h.O=new ln(g(h.Y,h,h.g),h.P)),v=h.V,T=h.g,b=h.ba;var F="readystatechange";Array.isArray(F)||(F&&(il[0]=F.toString()),F=il);for(let Q=0;Q<F.length;Q++){const lt=re(T,F[Q],b||v.handleEvent,!1,v.h||v);if(!lt)break;v.g[lt.key]=lt}v=h.J?L(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),gi(),sd(h.i,h.v,h.B,h.l,h.S,h.u)}Jn.prototype.ba=function(h){h=h.target;const v=this.O;v&&ii(h)==3?v.j():this.Y(h)},Jn.prototype.Y=function(h){try{if(h==this.g)t:{const Rt=ii(this.g),ve=this.g.ya(),qt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Ke(this.g)))){this.K||Rt!=4||ve==7||(ve==8||qt<=0?gi(3):gi(2)),Si(this);var v=this.g.ca();this.X=v;var T=ad(this);if(this.o=v==200,cc(this.i,this.v,this.B,this.l,this.S,Rt,v),this.o){if(this.U&&!this.L){e:{if(this.g){var b,F=this.g;if((b=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(b)){var Q=b;break e}}Q=null}if(h=Q)_i(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ai(this,h);else{this.o=!1,this.m=3,Ae(12),Tn(this),Vn(this);break t}}if(this.R){h=!0;let ae;for(;!this.K&&this.C<T.length;)if(ae=dc(this,T),ae==Be){Rt==4&&(this.m=4,Ae(14),h=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==be){this.m=4,Ae(15),_i(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else _i(this.i,this.l,ae,null),Ai(this,ae);if(fc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||T.length!=0||this.h.h||(this.m=1,Ae(16),h=!1),this.o=this.o&&h,!h)_i(this.i,this.l,T,"[Invalid Chunked Response]"),Tn(this),Vn(this);else if(T.length>0&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.aa&&!lt.P&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Tl(lt),lt.P=!0,Ae(11))}}else _i(this.i,this.l,T,null),Ai(this,T);Rt==4&&Tn(this),this.o&&!this.K&&(Rt==4?Sc(this.j,this):(this.o=!1,Ti(this)))}else $i(this.g),v==400&&T.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),Tn(this),Vn(this)}}}catch{}finally{}};function ad(h){if(!fc(h))return h.g.la();const v=Ke(h.g);if(v==="")return"";let T="";const b=v.length,F=ii(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Tn(h),Vn(h),"";h.h.i=new c.TextDecoder}for(let Q=0;Q<b;Q++)h.h.h=!0,T+=h.h.i.decode(v[Q],{stream:!(F&&Q==b-1)});return v.length=0,h.h.g+=T,h.C=0,h.h.g}function fc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function dc(h,v){var T=h.C,b=v.indexOf(`
`,T);return b==-1?Be:(T=Number(v.substring(T,b)),isNaN(T)?be:(b+=1,b+T>v.length?Be:(v=v.slice(b,b+T),h.C=b+T,v)))}Jn.prototype.cancel=function(){this.K=!0,Tn(this)};function Ti(h){h.T=Date.now()+h.H,Na(h,h.H)}function Na(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=vi(g(h.aa,h),v)}function Si(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Jn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Mr(this.i,this.B),this.M!=2&&(gi(),Ae(17)),Tn(this),this.m=2,Vn(this)):Na(this,this.T-h)};function Vn(h){h.j.I==0||h.K||Sc(h.j,h)}function Tn(h){Si(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,sl(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Ai(h,v){try{var T=h.j;if(T.I!=0&&(T.g==h||wi(T.h,h))){if(!h.L&&wi(T.h,h)&&T.I==3){try{var b=T.Ba.g.parse(v)}catch{b=null}if(Array.isArray(b)&&b.length==3){var F=b;if(F[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)ja(T),Us(T);else break t;Fr(T),Ae(18)}}else T.xa=F[1],0<T.xa-T.K&&F[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=vi(g(T.Va,T),6e3));bi(T.h)<=1&&T.ta&&(T.ta=void 0)}else Vi(T,11)}else if((h.L||T.g==h)&&ja(T),!D(v))for(F=T.Ba.g.parse(v),v=0;v<F.length;v++){let qt=F[v];const ae=qt[0];if(!(ae<=T.K))if(T.K=ae,qt=qt[1],T.I==2)if(qt[0]=="c"){T.M=qt[1],T.ba=qt[2];const On=qt[3];On!=null&&(T.ka=On,T.j.info("VER="+T.ka));const Mi=qt[4];Mi!=null&&(T.za=Mi,T.j.info("SVER="+T.za));const si=qt[5];si!=null&&typeof si=="number"&&si>0&&(b=1.5*si,T.O=b,T.j.info("backChannelRequestTimeoutMs_="+b)),b=T;const ri=h.g;if(ri){const Hr=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hr){var Q=b.h;Q.g||Hr.indexOf("spdy")==-1&&Hr.indexOf("quic")==-1&&Hr.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(ul(Q,Q.h),Q.h=null))}if(b.G){const Fa=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;Fa&&(b.wa=Fa,Yt(b.J,b.G,Fa))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),b=T;var lt=h;if(b.na=wc(b,b.L?b.ba:null,b.W),lt.L){cl(b.h,lt);var Rt=lt,ve=b.O;ve&&(Rt.H=ve),Rt.D&&(Si(Rt),Ti(Rt)),b.g=lt}else Ec(b);T.i.length>0&&xi(T)}else qt[0]!="stop"&&qt[0]!="close"||Vi(T,7);else T.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?Vi(T,7):_l(T):qt[0]!="noop"&&T.l&&T.l.qa(qt),T.A=0)}}gi(4)}catch{}}var we=class{constructor(h,v){this.g=h,this.map=v}};function ol(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ll(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function bi(h){return h.h?1:h.g?h.g.size:0}function wi(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function ul(h,v){h.g?h.g.add(v):h.h=v}function cl(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}ol.prototype.cancel=function(){if(this.i=hl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function hl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const T of h.g.values())v=v.concat(T.G);return v}return R(h.i)}var mc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oa(h,v){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const b=h[T].indexOf("=");let F,Q=null;b>=0?(F=h[T].substring(0,b),Q=h[T].substring(b+1)):F=h[T],v(F,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Sn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof Sn?(this.l=h.l,je(this,h.j),this.o=h.o,this.g=h.g,Vs(this,h.u),this.h=h.h,fl(this,vc(h.i)),this.m=h.m):h&&(v=String(h).match(mc))?(this.l=!1,je(this,v[1]||"",!0),this.o=Ri(v[2]||""),this.g=Ri(v[3]||"",!0),Vs(this,v[4]),this.h=Ri(v[5]||"",!0),fl(this,v[6]||"",!0),this.m=Ri(v[7]||"")):(this.l=!1,this.i=new Ns(null,this.l))}Sn.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Lr(v,Pa,!0),":");var T=this.g;return(T||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Lr(v,Pa,!0),"@"),h.push(Qi(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Lr(T,T.charAt(0)=="/"?dl:pc,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Lr(T,gc)),h.join("")},Sn.prototype.resolve=function(h){const v=Re(this);let T=!!h.j;T?je(v,h.j):T=!!h.o,T?v.o=h.o:T=!!h.g,T?v.g=h.g:T=h.u!=null;var b=h.h;if(T)Vs(v,h.u);else if(T=!!h.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var F=v.h.lastIndexOf("/");F!=-1&&(b=v.h.slice(0,F+1)+b)}if(F=b,F==".."||F==".")b="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){b=F.lastIndexOf("/",0)==0,F=F.split("/");const Q=[];for(let lt=0;lt<F.length;){const Rt=F[lt++];Rt=="."?b&&lt==F.length&&Q.push(""):Rt==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),b&&lt==F.length&&Q.push("")):(Q.push(Rt),b=!0)}b=Q.join("/")}else b=F}return T?v.h=b:T=h.i.toString()!=="",T?fl(v,vc(h.i)):T=!!h.m,T&&(v.m=h.m),v};function Re(h){return new Sn(h)}function je(h,v,T){h.j=T?Ri(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Vs(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function fl(h,v,T){v instanceof Ns?(h.i=v,ka(h.i,h.l)):(T||(v=Lr(v,Ms)),h.i=new Ns(v,h.l))}function Yt(h,v,T){h.i.set(v,T)}function Pr(h){return Yt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ri(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Lr(h,v,T){return typeof h=="string"?(h=encodeURI(h).replace(v,fn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function fn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Pa=/[#\/\?@]/g,pc=/[#\?:]/g,dl=/[#\?]/g,Ms=/[#\?@]/g,gc=/#/g;function Ns(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function dn(h){h.g||(h.g=new Map,h.h=0,h.i&&Oa(h.i,function(v,T){h.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}e=Ns.prototype,e.add=function(h,v){dn(this),this.i=null,h=Os(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(v),this.h+=1,this};function yc(h,v){dn(h),v=Os(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function ml(h,v){return dn(h),v=Os(h,v),h.g.has(v)}e.forEach=function(h,v){dn(this),this.g.forEach(function(T,b){T.forEach(function(F){h.call(v,F,b,this)},this)},this)};function pl(h,v){dn(h);let T=[];if(typeof v=="string")ml(h,v)&&(T=T.concat(h.g.get(Os(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)T=T.concat(h[v]);return T}e.set=function(h,v){return dn(this),this.i=null,h=Os(this,h),ml(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},e.get=function(h,v){return h?(h=pl(this,h),h.length>0?String(h[0]):v):v};function La(h,v,T){yc(h,v),T.length>0&&(h.i=null,h.g.set(Os(h,v),R(T)),h.h+=T.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let b=0;b<v.length;b++){var T=v[b];const F=Qi(T);T=pl(this,T);for(let Q=0;Q<T.length;Q++){let lt=F;T[Q]!==""&&(lt+="="+Qi(T[Q])),h.push(lt)}}return this.i=h.join("&")};function vc(h){const v=new Ns;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function Os(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function ka(h,v){v&&!h.j&&(dn(h),h.i=null,h.g.forEach(function(T,b){const F=b.toLowerCase();b!=F&&(yc(this,b),La(this,F,T))},h)),h.j=v}function ei(h,v){const T=new Zn;if(c.Image){const b=new Image;b.onload=y(Mn,T,"TestLoadImage: loaded",!0,v,b),b.onerror=y(Mn,T,"TestLoadImage: error",!1,v,b),b.onabort=y(Mn,T,"TestLoadImage: abort",!1,v,b),b.ontimeout=y(Mn,T,"TestLoadImage: timeout",!1,v,b),c.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=h}else v(!1)}function gl(h,v){const T=new Zn,b=new AbortController,F=setTimeout(()=>{b.abort(),Mn(T,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:b.signal}).then(Q=>{clearTimeout(F),Q.ok?Mn(T,"TestPingServer: ok",!0,v):Mn(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(F),Mn(T,"TestPingServer: error",!1,v)})}function Mn(h,v,T,b,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),b(T)}catch{}}function Ps(){this.g=new rc}function Ci(h){this.i=h.Sb||null,this.h=h.ab||!1}_(Ci,ac),Ci.prototype.g=function(){return new kr(this.i,this.h)};function kr(h,v){Se.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(kr,Se),e=kr.prototype,e.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,ni(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ls(this)),this.readyState=0},e.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ua(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ua(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}e.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Ls(this):ni(this),this.readyState==3&&Ua(this)}},e.Oa=function(h){this.g&&(this.response=this.responseText=h,Ls(this))},e.Na=function(h){this.g&&(this.response=h,Ls(this))},e.ga=function(){this.g&&Ls(this)};function Ls(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ni(h)}e.setRequestHeader=function(h,v){this.A.append(h,v)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=v.next();return h.join(`\r
`)};function ni(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(kr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Nn(h){let v="";return It(h,function(T,b){v+=b,v+=":",v+=T,v+=`\r
`}),v}function Ur(h,v,T){t:{for(b in T){var b=!1;break t}b=!0}b||(T=Nn(T),typeof h=="string"?T!=null&&Qi(T):Yt(h,v,T))}function $t(h){Se.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_($t,Se);var Ii=/^https?$/i,yl=["POST","PUT"];e=$t.prototype,e.Fa=function(h){this.H=h},e.ea=function(h,v,T,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():al.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Q){zr(this,Q);return}if(h=T||"",T=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var F in b)T.set(F,b[F]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Q of b.keys())T.set(Q,b.get(Q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(T.keys()).find(Q=>Q.toLowerCase()=="content-type"),F=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(yl,v,void 0)>=0)||b||F||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,lt]of T)this.g.setRequestHeader(Q,lt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Q){zr(this,Q)}};function zr(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,vl(h),Xi(h)}function vl(h){h.A||(h.A=!0,Pe(h,"complete"),Pe(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Pe(this,"complete"),Pe(this,"abort"),Xi(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xi(this,!0)),$t.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Br(this):this.Xa())},e.Xa=function(){Br(this)};function Br(h){if(h.h&&typeof l<"u"){if(h.v&&ii(h)==4)setTimeout(h.Ca.bind(h),0);else if(Pe(h,"readystatechange"),ii(h)==4){h.h=!1;try{const Q=h.ca();t:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var T;if(!(T=v)){var b;if(b=Q===0){let lt=String(h.D).match(mc)[1]||null;!lt&&c.self&&c.self.location&&(lt=c.self.location.protocol.slice(0,-1)),b=!Ii.test(lt?lt.toLowerCase():"")}T=b}if(T)Pe(h,"complete"),Pe(h,"success");else{h.o=6;try{var F=ii(h)>2?h.g.statusText:""}catch{F=""}h.l=F+" ["+h.ca()+"]",vl(h)}}finally{Xi(h)}}}}function Xi(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,v||Pe(h,"ready");try{T.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function ii(h){return h.g?h.g.readyState:0}e.ca=function(){try{return ii(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),id(v)}};function Ke(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function $i(h){const v={};h=(h.g&&ii(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<h.length;b++){if(D(h[b]))continue;var T=hc(h[b]);const F=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Q=v[F]||[];v[F]=Q,Q.push(T)}Nt(v,function(b){return b.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Di(h,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||v}function ks(h){this.za=0,this.i=[],this.j=new Zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Di("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Di("baseRetryDelayMs",5e3,h),this.Za=Di("retryDelaySeedMs",1e4,h),this.Ta=Di("forwardChannelMaxRetries",2,h),this.va=Di("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new ol(h&&h.concurrentRequestLimit),this.Ba=new Ps,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=ks.prototype,e.ka=8,e.I=1,e.connect=function(h,v,T,b){Ae(0),this.W=h,this.H=v||{},T&&b!==void 0&&(this.H.OSID=T,this.H.OAID=b),this.F=this.X,this.J=wc(this,null,this.W),xi(this)};function _l(h){if(za(h),h.I==3){var v=h.V++,T=Re(h.J);if(Yt(T,"SID",h.M),Yt(T,"RID",v),Yt(T,"TYPE","terminate"),jr(h,T),v=new Jn(h,h.j,v),v.M=2,v.A=Pr(Re(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=v.A,T=!0),T||(v.g=Rc(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ti(v)}bc(h)}function Us(h){h.g&&(Tl(h),h.g.cancel(),h.g=null)}function za(h){Us(h),h.v&&(c.clearTimeout(h.v),h.v=null),ja(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function xi(h){if(!ll(h.h)&&!h.m){h.m=!0;var v=h.Ea;J||w(),at||(J(),at=!0),C.add(v,h),h.D=0}}function Ba(h,v){return bi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=vi(g(h.Ea,h,v),Ac(h,h.D)),h.D++,!0)}e.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const F=new Jn(this,this.j,h);let Q=this.o;if(this.U&&(Q?(Q=L(Q),ut(Q,this.U)):Q=this.U),this.u!==null||this.R||(F.J=Q,Q=null),this.S)t:{for(var v=0,T=0;T<this.i.length;T++){e:{var b=this.i[T];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(v+=b,v>4096){v=T;break t}if(v===4096||T===this.i.length-1){v=T+1;break t}}v=1e3}else v=1e3;v=_c(this,F,v),T=Re(this.J),Yt(T,"RID",h),Yt(T,"CVER",22),this.G&&Yt(T,"X-HTTP-Session-Id",this.G),jr(this,T),Q&&(this.R?v="headers="+Qi(Nn(Q))+"&"+v:this.u&&Ur(T,this.u,Q)),ul(this.h,F),this.Ra&&Yt(T,"TYPE","init"),this.S?(Yt(T,"$req",v),Yt(T,"SID","null"),F.U=!0,Ei(F,T,null)):Ei(F,T,v),this.I=2}}else this.I==3&&(h?El(this,h):this.i.length==0||ll(this.h)||El(this))};function El(h,v){var T;v?T=v.l:T=h.V++;const b=Re(h.J);Yt(b,"SID",h.M),Yt(b,"RID",T),Yt(b,"AID",h.K),jr(h,b),h.u&&h.o&&Ur(b,h.u,h.o),T=new Jn(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),v&&(h.i=v.G.concat(h.i)),v=_c(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),ul(h.h,T),Ei(T,b,v)}function jr(h,v){h.H&&It(h.H,function(T,b){Yt(v,b,T)}),h.l&&It({},function(T,b){Yt(v,b,T)})}function _c(h,v,T){T=Math.min(h.i.length,T);const b=h.l?g(h.l.Ka,h.l,h):null;t:{var F=h.i;let Rt=-1;for(;;){const ve=["count="+T];Rt==-1?T>0?(Rt=F[0].g,ve.push("ofs="+Rt)):Rt=0:ve.push("ofs="+Rt);let qt=!0;for(let ae=0;ae<T;ae++){var Q=F[ae].g;const On=F[ae].map;if(Q-=Rt,Q<0)Rt=Math.max(0,F[ae].g-100),qt=!1;else try{Q="req"+Q+"_"||"";try{var lt=On instanceof Map?On:Object.entries(On);for(const[Mi,si]of lt){let ri=si;d(si)&&(ri=xs(si)),ve.push(Q+Mi+"="+encodeURIComponent(ri))}}catch(Mi){throw ve.push(Q+"type="+encodeURIComponent("_badmap")),Mi}}catch{b&&b(On)}}if(qt){lt=ve.join("&");break t}}lt=void 0}return h=h.i.splice(0,T),v.G=h,lt}function Ec(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;J||w(),at||(J(),at=!0),C.add(v,h),h.A=0}}function Fr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=vi(g(h.Da,h),Ac(h,h.A)),h.A++,!0)}e.Da=function(){if(this.v=null,Tc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=vi(g(this.Wa,this),h)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),Us(this),Tc(this))};function Tl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Tc(h){h.g=new Jn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=Re(h.na);Yt(v,"RID","rpc"),Yt(v,"SID",h.M),Yt(v,"AID",h.K),Yt(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&Yt(v,"TO",h.ia),Yt(v,"TYPE","xmlhttp"),jr(h,v),h.u&&h.o&&Ur(v,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=Pr(Re(v)),T.u=null,T.R=!0,Ma(T,h)}e.Va=function(){this.C!=null&&(this.C=null,Us(this),Fr(this),Ae(19))};function ja(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Sc(h,v){var T=null;if(h.g==v){ja(h),Tl(h),h.g=null;var b=2}else if(wi(h.h,v))T=v.G,cl(h.h,v),b=1;else return;if(h.I!=0){if(v.o)if(b==1){T=v.u?v.u.length:0,v=Date.now()-v.F;var F=h.D;b=Va(),Pe(b,new yi(b,T)),xi(h)}else Ec(h);else if(F=v.m,F==3||F==0&&v.X>0||!(b==1&&Ba(h,v)||b==2&&Fr(h)))switch(T&&T.length>0&&(v=h.h,v.i=v.i.concat(T)),F){case 1:Vi(h,5);break;case 4:Vi(h,10);break;case 3:Vi(h,6);break;default:Vi(h,2)}}}function Ac(h,v){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*v}function Vi(h,v){if(h.j.info("Error code "+v),v==2){var T=g(h.bb,h),b=h.Ua;const F=!b;b=new Sn(b||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||je(b,"https"),Pr(b),F?ei(b.toString(),T):gl(b.toString(),T)}else Ae(2);h.I=0,h.l&&h.l.pa(v),bc(h),za(h)}e.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function bc(h){if(h.I=0,h.ja=[],h.l){const v=hl(h.h);(v.length!=0||h.i.length!=0)&&(P(h.ja,v),P(h.ja,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.oa()}}function wc(h,v,T){var b=T instanceof Sn?Re(T):new Sn(T);if(b.g!="")v&&(b.g=v+"."+b.g),Vs(b,b.u);else{var F=c.location;b=F.protocol,v=v?v+"."+F.hostname:F.hostname,F=+F.port;const Q=new Sn(null);b&&je(Q,b),v&&(Q.g=v),F&&Vs(Q,F),T&&(Q.h=T),b=Q}return T=h.G,v=h.wa,T&&v&&Yt(b,T,v),Yt(b,"VER",h.ka),jr(h,b),b}function Rc(h,v,T){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new $t(new Ci({ab:T})):new $t(h.ma),v.Fa(h.L),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cc(){}e=Cc.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function zs(){}zs.prototype.g=function(h,v){return new un(h,v)};function un(h,v){Se.call(this),this.g=new ks(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!D(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!D(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Wi(this)}_(un,Se),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){_l(this.g)},un.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=xs(h),h=T);v.i.push(new we(v.Ya++,h)),v.I==3&&xi(v)},un.prototype.N=function(){this.g.l=null,delete this.j,_l(this.g),delete this.g,un.Z.N.call(this)};function Ic(h){Ge.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const T in v){h=T;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}_(Ic,Ge);function Dc(){xn.call(this),this.status=1}_(Dc,xn);function Wi(h){this.g=h}_(Wi,Cc),Wi.prototype.ra=function(){Pe(this.g,"a")},Wi.prototype.qa=function(h){Pe(this.g,new Ic(h))},Wi.prototype.pa=function(h){Pe(this.g,new Dc)},Wi.prototype.oa=function(){Pe(this.g,"b")},zs.prototype.createWebChannel=zs.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,Yb=function(){return new zs},Kb=function(){return Va()},Gb=ye,Qp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Nr.NO_ERROR=0,Nr.TIMEOUT=8,Nr.HTTP_ERROR=6,$h=Nr,rl.COMPLETE="complete",qb=rl,oc.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",Se.prototype.listen=Se.prototype.J,lu=oc,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,Hb=$t}).apply(typeof Ph<"u"?Ph:typeof self<"u"?self:typeof window<"u"?window:{});const _T="@firebase/firestore",ET="4.9.3";let sn=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let Yo="12.7.0";const _a=new zg("@firebase/firestore");function _o(){return _a.logLevel}function ct(e,...t){if(_a.logLevel<=Lt.DEBUG){const n=t.map(Zg);_a.debug(`Firestore (${Yo}): ${e}`,...n)}}function Ss(e,...t){if(_a.logLevel<=Lt.ERROR){const n=t.map(Zg);_a.error(`Firestore (${Yo}): ${e}`,...n)}}function Po(e,...t){if(_a.logLevel<=Lt.WARN){const n=t.map(Zg);_a.warn(`Firestore (${Yo}): ${e}`,...n)}}function Zg(e){if(typeof e=="string")return e;try{return(function(n){return JSON.stringify(n)})(e)}catch{return e}}function _t(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,Qb(e,s,n)}function Qb(e,t,n){let s=`FIRESTORE (${Yo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ss(s),new Error(s)}function Kt(e,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,e||Qb(t,o,s)}function wt(e,t){return e}const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pt extends Is{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class Xb{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class tN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(sn.UNAUTHENTICATED)))}shutdown(){}}class eN{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class nN{constructor(t){this.t=t,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Kt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let l=new vr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new vr,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=l;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},d=p=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new vr)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Kt(typeof s.accessToken=="string",31837,{l:s}),new Xb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new sn(t)}}class iN{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sN{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new iN(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class TT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rN{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Kt(this.o===void 0,3512);const s=l=>{l.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ct("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>s(l)))};const o=l=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new TT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Kt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new TT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function aN(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}class Jg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=aN(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<n&&(s+=t.charAt(o[l]%62))}return s}}function kt(e,t){return e<t?-1:e>t?1:0}function Xp(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const o=e.charAt(s),l=t.charAt(s);if(o!==l)return pp(o)===pp(l)?kt(o,l):pp(o)?1:-1}return kt(e.length,t.length)}const oN=55296,lN=57343;function pp(e){const t=e.charCodeAt(0);return t>=oN&&t<=lN}function Lo(e,t,n){return e.length===t.length&&e.every(((s,o)=>n(s,t[o])))}const ST="__name__";class ki{constructor(t,n,s){n===void 0?n=0:n>t.length&&_t(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&_t(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return ki.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ki?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const l=ki.compareSegments(t.get(o),n.get(o));if(l!==0)return l}return kt(t.length,n.length)}static compareSegments(t,n){const s=ki.isNumericId(t),o=ki.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ki.extractNumericId(t).compare(ki.extractNumericId(n)):Xp(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return yr.fromString(t.substring(4,t.length-2))}}class ue extends ki{construct(t,n,s){return new ue(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new pt(st.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ue(n)}static emptyPath(){return new ue([])}}const uN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends ki{construct(t,n,s){return new Je(t,n,s)}static isValidIdentifier(t){return uN.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ST}static keyField(){return new Je([ST])}static fromServerFormat(t){const n=[];let s="",o=0;const l=()=>{if(s.length===0)throw new pt(st.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new pt(st.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pt(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(s+=d,o++):(l(),o++)}if(l(),c)throw new pt(st.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Je(n)}static emptyPath(){return new Je([])}}class yt{constructor(t){this.path=t}static fromPath(t){return new yt(ue.fromString(t))}static fromName(t){return new yt(ue.fromString(t).popFirst(5))}static empty(){return new yt(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ue.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new ue(t.slice()))}}function cN(e,t,n){if(!n)throw new pt(st.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function hN(e,t,n,s){if(t===!0&&s===!0)throw new pt(st.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function AT(e){if(!yt.isDocumentKey(e))throw new pt(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function $b(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function ty(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":_t(12329,{type:typeof e})}function Cu(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new pt(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ty(e);throw new pt(st.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Ne(e,t){const n={typeString:e};return t&&(n.value=t),n}function Xu(e,t){if(!$b(e))throw new pt(st.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,l="value"in t[s]?{value:t[s].value}:void 0;if(!(s in e)){n=`JSON missing required field: '${s}'`;break}const c=e[s];if(o&&typeof c!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new pt(st.INVALID_ARGUMENT,n);return!0}const bT=-62135596800,wT=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*wT);return new se(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new pt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<bT)throw new pt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wT}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Xu(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-bT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Ne("string",se._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new se(0,0))}static max(){return new At(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Iu=-1;function fN(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,o=At.fromTimestamp(s===1e9?new se(n+1,0):new se(n,s));return new _r(o,yt.empty(),t)}function dN(e){return new _r(e.readTime,e.key,Iu)}class _r{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new _r(At.min(),yt.empty(),Iu)}static max(){return new _r(At.max(),yt.empty(),Iu)}}function mN(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(e.documentKey,t.documentKey),n!==0?n:kt(e.largestBatchId,t.largestBatchId))}const pN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Qo(e){if(e.code!==st.FAILED_PRECONDITION||e.message!==pN)throw e;ct("LocalStore","Unexpectedly lost primary lease")}class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new it(((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof it?n:it.resolve(n)}catch(n){return it.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):it.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):it.reject(n)}static resolve(t){return new it(((n,s)=>{n(t)}))}static reject(t){return new it(((n,s)=>{s(t)}))}static waitFor(t){return new it(((n,s)=>{let o=0,l=0,c=!1;t.forEach((d=>{++o,d.next((()=>{++l,c&&l===o&&n()}),(p=>s(p)))})),c=!0,l===o&&n()}))}static or(t){let n=it.resolve(!1);for(const s of t)n=n.next((o=>o?it.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,l)=>{s.push(n.call(this,o,l))})),this.waitFor(s)}static mapArray(t,n){return new it(((s,o)=>{const l=t.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;n(t[g]).next((y=>{c[g]=y,++d,d===l&&s(c)}),(y=>o(y)))}}))}static doWhile(t,n){return new it(((s,o)=>{const l=()=>{t()===!0?n().next((()=>{l()}),o):s()};l()}))}}function yN(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Xo(e){return e.name==="IndexedDbTransactionError"}class Bf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Bf.ce=-1;const ey=-1;function jf(e){return e==null}function gf(e){return e===0&&1/e==-1/0}function vN(e){return typeof e=="number"&&Number.isInteger(e)&&!gf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Wb="";function _N(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=RT(t)),t=EN(e.get(n),t);return RT(t)}function EN(e,t){let n=t;const s=e.length;for(let o=0;o<s;o++){const l=e.charAt(o);switch(l){case"\0":n+="";break;case Wb:n+="";break;default:n+=l}}return n}function RT(e){return e+Wb+""}function CT(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Aa(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Zb(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class fe{constructor(t,n){this.comparator=t,this.root=n||Ze.EMPTY}insert(t,n){return new fe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(t){return new fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Lh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Lh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Lh(this.root,t,this.comparator,!0)}}class Lh{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?s(t.key,n):1,n&&o&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ze{constructor(t,n,s,o,l){this.key=t,this.value=n,this.color=s??Ze.RED,this.left=o??Ze.EMPTY,this.right=l??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,l){return new Ze(t??this.key,n??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const l=s(t,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(t,n,s),null):l===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Ze.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,n,s,o,l){return this}insert(t,n,s){return new Ze(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ze{constructor(t){this.comparator=t,this.data=new fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new IT(this.data.getIterator())}getIteratorFrom(t){return new IT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof ze)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new ze(this.comparator);return n.data=t,n}}class IT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class di{constructor(t){this.fields=t,t.sort(Je.comparator)}static empty(){return new di([])}unionWith(t){let n=new ze(Je.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new di(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Lo(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class Jb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Jb("Invalid base64 string: "+l):l}})(t);return new tn(n)}static fromUint8Array(t){const n=(function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l})(t);return new tn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const TN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Er(e){if(Kt(!!e,39018),typeof e=="string"){let t=0;const n=TN.exec(e);if(Kt(!!n,46558,{timestamp:e}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Te(e.seconds),nanos:Te(e.nanos)}}function Te(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Tr(e){return typeof e=="string"?tn.fromBase64String(e):tn.fromUint8Array(e)}const t1="server_timestamp",e1="__type__",n1="__previous_value__",i1="__local_write_time__";function ny(e){return(e?.mapValue?.fields||{})[e1]?.stringValue===t1}function Ff(e){const t=e.mapValue.fields[n1];return ny(t)?Ff(t):t}function Du(e){const t=Er(e.mapValue.fields[i1].timestampValue);return new se(t.seconds,t.nanos)}class SN{constructor(t,n,s,o,l,c,d,p,g,y){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=y}}const yf="(default)";class xu{constructor(t,n){this.projectId=t,this.database=n||yf}static empty(){return new xu("","")}get isDefaultDatabase(){return this.database===yf}isEqual(t){return t instanceof xu&&t.projectId===this.projectId&&t.database===this.database}}const s1="__type__",AN="__max__",kh={mapValue:{}},r1="__vector__",vf="value";function Sr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ny(e)?4:wN(e)?9007199254740991:bN(e)?10:11:_t(28295,{value:e})}function Ki(e,t){if(e===t)return!0;const n=Sr(e);if(n!==Sr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Du(e).isEqual(Du(t));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=Er(o.timestampValue),d=Er(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(o,l){return Tr(o.bytesValue).isEqual(Tr(l.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(o,l){return Te(o.geoPointValue.latitude)===Te(l.geoPointValue.latitude)&&Te(o.geoPointValue.longitude)===Te(l.geoPointValue.longitude)})(e,t);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return Te(o.integerValue)===Te(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=Te(o.doubleValue),d=Te(l.doubleValue);return c===d?gf(c)===gf(d):isNaN(c)&&isNaN(d)}return!1})(e,t);case 9:return Lo(e.arrayValue.values||[],t.arrayValue.values||[],Ki);case 10:case 11:return(function(o,l){const c=o.mapValue.fields||{},d=l.mapValue.fields||{};if(CT(c)!==CT(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Ki(c[p],d[p])))return!1;return!0})(e,t);default:return _t(52216,{left:e})}}function Vu(e,t){return(e.values||[]).find((n=>Ki(n,t)))!==void 0}function ko(e,t){if(e===t)return 0;const n=Sr(e),s=Sr(t);if(n!==s)return kt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return kt(e.booleanValue,t.booleanValue);case 2:return(function(l,c){const d=Te(l.integerValue||l.doubleValue),p=Te(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(e,t);case 3:return DT(e.timestampValue,t.timestampValue);case 4:return DT(Du(e),Du(t));case 5:return Xp(e.stringValue,t.stringValue);case 6:return(function(l,c){const d=Tr(l),p=Tr(c);return d.compareTo(p)})(e.bytesValue,t.bytesValue);case 7:return(function(l,c){const d=l.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const y=kt(d[g],p[g]);if(y!==0)return y}return kt(d.length,p.length)})(e.referenceValue,t.referenceValue);case 8:return(function(l,c){const d=kt(Te(l.latitude),Te(c.latitude));return d!==0?d:kt(Te(l.longitude),Te(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return xT(e.arrayValue,t.arrayValue);case 10:return(function(l,c){const d=l.fields||{},p=c.fields||{},g=d[vf]?.arrayValue,y=p[vf]?.arrayValue,_=kt(g?.values?.length||0,y?.values?.length||0);return _!==0?_:xT(g,y)})(e.mapValue,t.mapValue);case 11:return(function(l,c){if(l===kh.mapValue&&c===kh.mapValue)return 0;if(l===kh.mapValue)return 1;if(c===kh.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=c.fields||{},y=Object.keys(g);p.sort(),y.sort();for(let _=0;_<p.length&&_<y.length;++_){const S=Xp(p[_],y[_]);if(S!==0)return S;const R=ko(d[p[_]],g[y[_]]);if(R!==0)return R}return kt(p.length,y.length)})(e.mapValue,t.mapValue);default:throw _t(23264,{he:n})}}function DT(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return kt(e,t);const n=Er(e),s=Er(t),o=kt(n.seconds,s.seconds);return o!==0?o:kt(n.nanos,s.nanos)}function xT(e,t){const n=e.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const l=ko(n[o],s[o]);if(l)return l}return kt(n.length,s.length)}function Uo(e){return $p(e)}function $p(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const s=Er(n);return`time(${s.seconds},${s.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return Tr(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return yt.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let s="[",o=!0;for(const l of n.values||[])o?o=!1:s+=",",s+=$p(l);return s+"]"})(e.arrayValue):"mapValue"in e?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",l=!0;for(const c of s)l?l=!1:o+=",",o+=`${c}:${$p(n.fields[c])}`;return o+"}"})(e.mapValue):_t(61005,{value:e})}function Wh(e){switch(Sr(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ff(e);return t?16+Wh(t):16;case 5:return 2*e.stringValue.length;case 6:return Tr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,l)=>o+Wh(l)),0)})(e.arrayValue);case 10:case 11:return(function(s){let o=0;return Aa(s.fields,((l,c)=>{o+=l.length+Wh(c)})),o})(e.mapValue);default:throw _t(13486,{value:e})}}function Wp(e){return!!e&&"integerValue"in e}function iy(e){return!!e&&"arrayValue"in e}function VT(e){return!!e&&"nullValue"in e}function MT(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Zh(e){return!!e&&"mapValue"in e}function bN(e){return(e?.mapValue?.fields||{})[s1]?.stringValue===r1}function pu(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Aa(e.mapValue.fields,((n,s)=>t.mapValue.fields[n]=pu(s))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=pu(e.arrayValue.values[n]);return t}return{...e}}function wN(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===AN}class qn{constructor(t){this.value=t}static empty(){return new qn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Zh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=pu(n)}setAll(t){let n=Je.emptyPath(),s={},o=[];t.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=d.popLast()}c?s[d.lastSegment()]=pu(c):o.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,o)}delete(t){const n=this.field(t.popLast());Zh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ki(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Zh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Aa(n,((o,l)=>t[o]=l));for(const o of s)delete t[o]}clone(){return new qn(pu(this.value))}}function a1(e){const t=[];return Aa(e.fields,((n,s)=>{const o=new Je([n]);if(Zh(s)){const l=a1(s.mapValue).fields;if(l.length===0)t.push(o);else for(const c of l)t.push(o.child(c))}else t.push(o)})),new di(t)}class rn{constructor(t,n,s,o,l,c,d){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new rn(t,0,At.min(),At.min(),At.min(),qn.empty(),0)}static newFoundDocument(t,n,s,o){return new rn(t,1,n,At.min(),s,o,0)}static newNoDocument(t,n){return new rn(t,2,n,At.min(),At.min(),qn.empty(),0)}static newUnknownDocument(t,n){return new rn(t,3,n,At.min(),At.min(),qn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof rn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _f{constructor(t,n){this.position=t,this.inclusive=n}}function NT(e,t,n){let s=0;for(let o=0;o<e.position.length;o++){const l=t[o],c=e.position[o];if(l.field.isKeyField()?s=yt.comparator(yt.fromName(c.referenceValue),n.key):s=ko(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function OT(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ki(e.position[n],t.position[n]))return!1;return!0}class Ef{constructor(t,n="asc"){this.field=t,this.dir=n}}function RN(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class o1{}class Ue extends o1{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new IN(t,n,s):n==="array-contains"?new VN(t,s):n==="in"?new MN(t,s):n==="not-in"?new NN(t,s):n==="array-contains-any"?new ON(t,s):new Ue(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new DN(t,s):new xN(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ko(n,this.value)):n!==null&&Sr(this.value)===Sr(n)&&this.matchesComparison(ko(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yi extends o1{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Yi(t,n)}matches(t){return l1(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function l1(e){return e.op==="and"}function u1(e){return CN(e)&&l1(e)}function CN(e){for(const t of e.filters)if(t instanceof Yi)return!1;return!0}function Zp(e){if(e instanceof Ue)return e.field.canonicalString()+e.op.toString()+Uo(e.value);if(u1(e))return e.filters.map((t=>Zp(t))).join(",");{const t=e.filters.map((n=>Zp(n))).join(",");return`${e.op}(${t})`}}function c1(e,t){return e instanceof Ue?(function(s,o){return o instanceof Ue&&s.op===o.op&&s.field.isEqual(o.field)&&Ki(s.value,o.value)})(e,t):e instanceof Yi?(function(s,o){return o instanceof Yi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((l,c,d)=>l&&c1(c,o.filters[d])),!0):!1})(e,t):void _t(19439)}function h1(e){return e instanceof Ue?(function(n){return`${n.field.canonicalString()} ${n.op} ${Uo(n.value)}`})(e):e instanceof Yi?(function(n){return n.op.toString()+" {"+n.getFilters().map(h1).join(" ,")+"}"})(e):"Filter"}class IN extends Ue{constructor(t,n,s){super(t,n,s),this.key=yt.fromName(s.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class DN extends Ue{constructor(t,n){super(t,"in",n),this.keys=f1("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class xN extends Ue{constructor(t,n){super(t,"not-in",n),this.keys=f1("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function f1(e,t){return(t.arrayValue?.values||[]).map((n=>yt.fromName(n.referenceValue)))}class VN extends Ue{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return iy(n)&&Vu(n.arrayValue,this.value)}}class MN extends Ue{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Vu(this.value.arrayValue,n)}}class NN extends Ue{constructor(t,n){super(t,"not-in",n)}matches(t){if(Vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Vu(this.value.arrayValue,n)}}class ON extends Ue{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!iy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Vu(this.value.arrayValue,s)))}}class PN{constructor(t,n=null,s=[],o=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function PT(e,t=null,n=[],s=[],o=null,l=null,c=null){return new PN(e,t,n,s,o,l,c)}function sy(e){const t=wt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Zp(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),jf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>Uo(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>Uo(s))).join(",")),t.Te=n}return t.Te}function ry(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!RN(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!c1(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!OT(e.startAt,t.startAt)&&OT(e.endAt,t.endAt)}function Jp(e){return yt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class Hf{constructor(t,n=null,s=[],o=[],l=null,c="F",d=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function LN(e,t,n,s,o,l,c,d){return new Hf(e,t,n,s,o,l,c,d)}function ay(e){return new Hf(e)}function LT(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function kN(e){return e.collectionGroup!==null}function gu(e){const t=wt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),n.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new ze(Je.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(t).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new Ef(l,s))})),n.has(Je.keyField().canonicalString())||t.Ie.push(new Ef(Je.keyField(),s))}return t.Ie}function zi(e){const t=wt(e);return t.Ee||(t.Ee=UN(t,gu(e))),t.Ee}function UN(e,t){if(e.limitType==="F")return PT(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new Ef(o.field,l)}));const n=e.endAt?new _f(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new _f(e.startAt.position,e.startAt.inclusive):null;return PT(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function tg(e,t,n){return new Hf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function qf(e,t){return ry(zi(e),zi(t))&&e.limitType===t.limitType}function d1(e){return`${sy(zi(e))}|lt:${e.limitType}`}function Eo(e){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>h1(o))).join(", ")}]`),jf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Uo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Uo(o))).join(",")),`Target(${s})`})(zi(e))}; limitType=${e.limitType})`}function Gf(e,t){return t.isFoundDocument()&&(function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):yt.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(e,t)&&(function(s,o){for(const l of gu(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(e,t)&&(function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0})(e,t)&&(function(s,o){return!(s.startAt&&!(function(c,d,p){const g=NT(c,d,p);return c.inclusive?g<=0:g<0})(s.startAt,gu(s),o)||s.endAt&&!(function(c,d,p){const g=NT(c,d,p);return c.inclusive?g>=0:g>0})(s.endAt,gu(s),o))})(e,t)}function zN(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function m1(e){return(t,n)=>{let s=!1;for(const o of gu(e)){const l=BN(o,t,n);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function BN(e,t,n){const s=e.field.isKeyField()?yt.comparator(t.key,n.key):(function(l,c,d){const p=c.data.field(l),g=d.data.field(l);return p!==null&&g!==null?ko(p,g):_t(42886)})(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return _t(19790,{direction:e.dir})}}class ba{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],t))return void(o[l]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Aa(this.inner,((n,s)=>{for(const[o,l]of s)t(o,l)}))}isEmpty(){return Zb(this.inner)}size(){return this.innerSize}}const jN=new fe(yt.comparator);function As(){return jN}const p1=new fe(yt.comparator);function uu(...e){let t=p1;for(const n of e)t=t.insert(n.key,n);return t}function g1(e){let t=p1;return e.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function ua(){return yu()}function y1(){return yu()}function yu(){return new ba((e=>e.toString()),((e,t)=>e.isEqual(t)))}const FN=new fe(yt.comparator),HN=new ze(yt.comparator);function Ut(...e){let t=HN;for(const n of e)t=t.add(n);return t}const qN=new ze(kt);function GN(){return qN}function oy(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gf(t)?"-0":t}}function v1(e){return{integerValue:""+e}}function KN(e,t){return vN(t)?v1(t):oy(e,t)}class Kf{constructor(){this._=void 0}}function YN(e,t,n){return e instanceof Tf?(function(o,l){const c={fields:{[e1]:{stringValue:t1},[i1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&ny(l)&&(l=Ff(l)),l&&(c.fields[n1]=l),{mapValue:c}})(n,t):e instanceof Mu?E1(e,t):e instanceof Nu?T1(e,t):(function(o,l){const c=_1(o,l),d=kT(c)+kT(o.Ae);return Wp(c)&&Wp(o.Ae)?v1(d):oy(o.serializer,d)})(e,t)}function QN(e,t,n){return e instanceof Mu?E1(e,t):e instanceof Nu?T1(e,t):n}function _1(e,t){return e instanceof Sf?(function(s){return Wp(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(t)?t:{integerValue:0}:null}class Tf extends Kf{}class Mu extends Kf{constructor(t){super(),this.elements=t}}function E1(e,t){const n=S1(t);for(const s of e.elements)n.some((o=>Ki(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Nu extends Kf{constructor(t){super(),this.elements=t}}function T1(e,t){let n=S1(t);for(const s of e.elements)n=n.filter((o=>!Ki(o,s)));return{arrayValue:{values:n}}}class Sf extends Kf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function kT(e){return Te(e.integerValue||e.doubleValue)}function S1(e){return iy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function XN(e,t){return e.field.isEqual(t.field)&&(function(s,o){return s instanceof Mu&&o instanceof Mu||s instanceof Nu&&o instanceof Nu?Lo(s.elements,o.elements,Ki):s instanceof Sf&&o instanceof Sf?Ki(s.Ae,o.Ae):s instanceof Tf&&o instanceof Tf})(e.transform,t.transform)}class $N{constructor(t,n){this.version=t,this.transformResults=n}}class ys{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ys}static exists(t){return new ys(void 0,t)}static updateTime(t){return new ys(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Jh(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Yf{}function A1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new w1(e.key,ys.none()):new $u(e.key,e.data,ys.none());{const n=e.data,s=qn.empty();let o=new ze(Je.comparator);for(let l of t.fields)if(!o.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),o=o.add(l)}return new wa(e.key,s,new di(o.toArray()),ys.none())}}function WN(e,t,n){e instanceof $u?(function(o,l,c){const d=o.value.clone(),p=zT(o.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(e,t,n):e instanceof wa?(function(o,l,c){if(!Jh(o.precondition,l))return void l.convertToUnknownDocument(c.version);const d=zT(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(b1(o)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(e,t,n):(function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function vu(e,t,n,s){return e instanceof $u?(function(l,c,d,p){if(!Jh(l.precondition,c))return d;const g=l.value.clone(),y=BT(l.fieldTransforms,p,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(e,t,n,s):e instanceof wa?(function(l,c,d,p){if(!Jh(l.precondition,c))return d;const g=BT(l.fieldTransforms,p,c),y=c.data;return y.setAll(b1(l)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(e,t,n,s):(function(l,c,d){return Jh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(e,t,n)}function ZN(e,t){let n=null;for(const s of e.fieldTransforms){const o=t.data.field(s.field),l=_1(s.transform,o||null);l!=null&&(n===null&&(n=qn.empty()),n.set(s.field,l))}return n||null}function UT(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Lo(s,o,((l,c)=>XN(l,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class $u extends Yf{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class wa extends Yf{constructor(t,n,s,o,l=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function b1(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}})),t}function zT(e,t,n){const s=new Map;Kt(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let o=0;o<n.length;o++){const l=e[o],c=l.transform,d=t.data.field(l.field);s.set(l.field,QN(c,d,n[o]))}return s}function BT(e,t,n){const s=new Map;for(const o of e){const l=o.transform,c=n.data.field(o.field);s.set(o.field,YN(l,c,t))}return s}class w1 extends Yf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JN extends Yf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class tO{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(t.key)&&WN(l,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=vu(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=vu(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=y1();return this.mutations.forEach((o=>{const l=t.get(o.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(o.key)?null:d;const p=A1(c,d);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(At.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&Lo(this.mutations,t.mutations,((n,s)=>UT(n,s)))&&Lo(this.baseMutations,t.baseMutations,((n,s)=>UT(n,s)))}}class ly{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Kt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return FN})();const l=t.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,s[c].version);return new ly(t,n,s,o)}}class eO{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class nO{constructor(t,n){this.count=t,this.unchangedNames=n}}var Ve,jt;function iO(e){switch(e){case st.OK:return _t(64938);case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0;default:return _t(15467,{code:e})}}function R1(e){if(e===void 0)return Ss("GRPC error has no .code"),st.UNKNOWN;switch(e){case Ve.OK:return st.OK;case Ve.CANCELLED:return st.CANCELLED;case Ve.UNKNOWN:return st.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return st.INTERNAL;case Ve.UNAVAILABLE:return st.UNAVAILABLE;case Ve.UNAUTHENTICATED:return st.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case Ve.NOT_FOUND:return st.NOT_FOUND;case Ve.ALREADY_EXISTS:return st.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return st.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case Ve.ABORTED:return st.ABORTED;case Ve.OUT_OF_RANGE:return st.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return st.UNIMPLEMENTED;case Ve.DATA_LOSS:return st.DATA_LOSS;default:return _t(39323,{code:e})}}(jt=Ve||(Ve={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";function sO(){return new TextEncoder}const rO=new yr([4294967295,4294967295],0);function jT(e){const t=sO().encode(e),n=new Fb;return n.update(t),new Uint8Array(n.digest())}function FT(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new yr([n,s],0),new yr([o,l],0)]}class uy{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new cu(`Invalid padding: ${n}`);if(s<0)throw new cu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new cu(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new cu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=yr.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(yr.fromNumber(s)));return o.compare(rO)===1&&(o=new yr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=jT(t),[s,o]=FT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,o,l);if(!this.we(c))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new uy(l,o,n);return s.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const n=jT(t),[s,o]=FT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,o,l);this.Se(c)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Qf{constructor(t,n,s,o,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Wu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Qf(At.min(),o,new fe(kt),As(),Ut())}}class Wu{constructor(t,n,s,o,l){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Wu(s,n,Ut(),Ut(),Ut())}}class tf{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class C1{constructor(t,n){this.targetId=t,this.Ce=n}}class I1{constructor(t,n,s=tn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class HT{constructor(){this.ve=0,this.Fe=qT(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),n=Ut(),s=Ut();return this.Fe.forEach(((o,l)=>{switch(l){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:_t(38017,{changeType:l})}})),new Wu(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=qT()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class aO{constructor(t){this.Ge=t,this.ze=new Map,this.je=As(),this.Je=Uh(),this.He=Uh(),this.Ye=new fe(kt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const l=o.target;if(Jp(l))if(s===0){const c=new yt(l.path);this.et(n,c,rn.newNoDocument(c,At.min()))}else Kt(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const d=this.ut(t),p=d?this.ct(d,t,c):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=n;let c,d;try{c=Tr(s).toUint8Array()}catch(p){if(p instanceof Jb)return Po("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new uy(c,o,l)}catch(p){return Po(p instanceof cu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.et(n,l,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&Jp(d.target)){const p=new yt(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,rn.newNoDocument(p,t))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let s=Ut();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(t)));const o=new Qf(t,n,this.Ye,this.je,s);return this.je=As(),this.Je=Uh(),this.He=Uh(),this.Ye=new fe(kt),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new HT,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new ze(kt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new ze(kt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ct("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new HT),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Uh(){return new fe(yt.comparator)}function qT(){return new fe(yt.comparator)}const oO={asc:"ASCENDING",desc:"DESCENDING"},lO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uO={and:"AND",or:"OR"};class cO{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function eg(e,t){return e.useProto3Json||jf(t)?t:{value:t}}function Af(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function D1(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function hO(e,t){return Af(e,t.toTimestamp())}function Bi(e){return Kt(!!e,49232),At.fromTimestamp((function(n){const s=Er(n);return new se(s.seconds,s.nanos)})(e))}function cy(e,t){return ng(e,t).canonicalString()}function ng(e,t){const n=(function(o){return new ue(["projects",o.projectId,"databases",o.database])})(e).child("documents");return t===void 0?n:n.child(t)}function x1(e){const t=ue.fromString(e);return Kt(P1(t),10190,{key:t.toString()}),t}function ig(e,t){return cy(e.databaseId,t.path)}function gp(e,t){const n=x1(t);if(n.get(1)!==e.databaseId.projectId)throw new pt(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new pt(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new yt(M1(n))}function V1(e,t){return cy(e.databaseId,t)}function fO(e){const t=x1(e);return t.length===4?ue.emptyPath():M1(t)}function sg(e){return new ue(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function M1(e){return Kt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function GT(e,t,n){return{name:ig(e,t),fields:n.value.mapValue.fields}}function dO(e,t){let n;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:_t(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],l=(function(g,y){return g.useProto3Json?(Kt(y===void 0||typeof y=="string",58123),tn.fromBase64String(y||"")):(Kt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),tn.fromUint8Array(y||new Uint8Array))})(e,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(g){const y=g.code===void 0?st.UNKNOWN:R1(g.code);return new pt(y,g.message||"")})(c);n=new I1(s,o,l,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=gp(e,s.document.name),l=Bi(s.document.updateTime),c=s.document.createTime?Bi(s.document.createTime):At.min(),d=new qn({mapValue:{fields:s.document.fields}}),p=rn.newFoundDocument(o,l,c,d),g=s.targetIds||[],y=s.removedTargetIds||[];n=new tf(g,y,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=gp(e,s.document),l=s.readTime?Bi(s.readTime):At.min(),c=rn.newNoDocument(o,l),d=s.removedTargetIds||[];n=new tf([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=gp(e,s.document),l=s.removedTargetIds||[];n=new tf([],l,o,null)}else{if(!("filter"in t))return _t(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,c=new nO(o,l),d=s.targetId;n=new C1(d,c)}}return n}function mO(e,t){let n;if(t instanceof $u)n={update:GT(e,t.key,t.value)};else if(t instanceof w1)n={delete:ig(e,t.key)};else if(t instanceof wa)n={update:GT(e,t.key,t.data),updateMask:AO(t.fieldMask)};else{if(!(t instanceof JN))return _t(16599,{Vt:t.type});n={verify:ig(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(l,c){const d=c.transform;if(d instanceof Tf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Mu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Nu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Sf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw _t(20930,{transform:c.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:hO(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:_t(27497)})(e,t.precondition)),n}function pO(e,t){return e&&e.length>0?(Kt(t!==void 0,14353),e.map((n=>(function(o,l){let c=o.updateTime?Bi(o.updateTime):Bi(l);return c.isEqual(At.min())&&(c=Bi(l)),new $N(c,o.transformResults||[])})(n,t)))):[]}function gO(e,t){return{documents:[V1(e,t.path)]}}function yO(e,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=V1(e,o);const l=(function(g){if(g.length!==0)return O1(Yi.create(g,"and"))})(t.filters);l&&(n.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((y=>(function(S){return{field:To(S.field),direction:EO(S.dir)}})(y)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const d=eg(e,t.limit);return d!==null&&(n.structuredQuery.limit=d),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:o}}function vO(e){let t=fO(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Kt(s===1,65062);const y=n.from[0];y.allDescendants?o=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=(function(_){const S=N1(_);return S instanceof Yi&&u1(S)?S.getFilters():[S]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((S=>(function(P){return new Ef(So(P.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(S)))})(n.orderBy));let d=null;n.limit&&(d=(function(_){let S;return S=typeof _=="object"?_.value:_,jf(S)?null:S})(n.limit));let p=null;n.startAt&&(p=(function(_){const S=!!_.before,R=_.values||[];return new _f(R,S)})(n.startAt));let g=null;return n.endAt&&(g=(function(_){const S=!_.before,R=_.values||[];return new _f(R,S)})(n.endAt)),LN(t,o,c,l,d,"F",p,g)}function _O(e,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function N1(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=So(n.unaryFilter.field);return Ue.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=So(n.unaryFilter.field);return Ue.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=So(n.unaryFilter.field);return Ue.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=So(n.unaryFilter.field);return Ue.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(e):e.fieldFilter!==void 0?(function(n){return Ue.create(So(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return Yi.create(n.compositeFilter.filters.map((s=>N1(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(n.compositeFilter.op))})(e):_t(30097,{filter:e})}function EO(e){return oO[e]}function TO(e){return lO[e]}function SO(e){return uO[e]}function To(e){return{fieldPath:e.canonicalString()}}function So(e){return Je.fromServerFormat(e.fieldPath)}function O1(e){return e instanceof Ue?(function(n){if(n.op==="=="){if(MT(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NAN"}};if(VT(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(MT(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NAN"}};if(VT(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:To(n.field),op:TO(n.op),value:n.value}}})(e):e instanceof Yi?(function(n){const s=n.getFilters().map((o=>O1(o)));return s.length===1?s[0]:{compositeFilter:{op:SO(n.op),filters:s}}})(e):_t(54877,{filter:e})}function AO(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function P1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}class dr{constructor(t,n,s,o,l=At.min(),c=At.min(),d=tn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(t){return new dr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class bO{constructor(t){this.yt=t}}function wO(e){const t=vO({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?tg(t,t.limit,"L"):t}class RO{constructor(){this.Cn=new CO}addToCollectionParentIndex(t,n){return this.Cn.add(n),it.resolve()}getCollectionParents(t,n){return it.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return it.resolve()}deleteFieldIndex(t,n){return it.resolve()}deleteAllFieldIndexes(t){return it.resolve()}createTargetIndexes(t,n){return it.resolve()}getDocumentsMatchingTarget(t,n){return it.resolve(null)}getIndexType(t,n){return it.resolve(0)}getFieldIndexes(t,n){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,n){return it.resolve(_r.min())}getMinOffsetFromCollectionGroup(t,n){return it.resolve(_r.min())}updateCollectionGroup(t,n,s){return it.resolve()}updateIndexEntries(t,n){return it.resolve()}}class CO{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new ze(ue.comparator),l=!o.has(s);return this.index[n]=o.add(s),l}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new ze(ue.comparator)).toArray()}}const KT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},L1=41943040;class _n{static withCacheSize(t){return new _n(t,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(L1,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class zo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new zo(0)}static cr(){return new zo(-1)}}const YT="LruGarbageCollector",IO=1048576;function QT([e,t],[n,s]){const o=kt(e,n);return o===0?kt(t,s):o}class DO{constructor(t){this.Ir=t,this.buffer=new ze(QT),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();QT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class xO{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ct(YT,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Xo(n)?ct(YT,"Ignoring IndexedDB error during garbage collection: ",n):await Qo(n)}await this.Vr(3e5)}))}}class VO{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return it.resolve(Bf.ce);const s=new DO(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(KT)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),KT):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,l,c,d,p,g;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),o=this.params.maximumSequenceNumbersToCollect):o=_,c=Date.now(),this.nthSequenceNumber(t,o)))).next((_=>(s=_,d=Date.now(),this.removeTargets(t,s,n)))).next((_=>(l=_,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((_=>(g=Date.now(),_o()<=Lt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${_} documents in `+(g-p)+`ms
Total Duration: ${g-y}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:_}))))}}function MO(e,t){return new VO(e,t)}class NO{constructor(){this.changes=new ba((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,rn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?it.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class OO{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class PO{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&vu(s.mutation,o,di.empty(),se.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Ut()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Ut()){const o=ua();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((l=>{let c=uu();return l.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const s=ua();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Ut())))}populateOverlays(t,n,s){const o=[];return s.forEach((l=>{n.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(t,o).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(t,n,s,o){let l=As();const c=yu(),d=(function(){return yu()})();return n.forEach(((p,g)=>{const y=s.get(g.key);o.has(g.key)&&(y===void 0||y.mutation instanceof wa)?l=l.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),vu(y.mutation,g,y.mutation.getFieldMask(),se.now())):c.set(g.key,di.empty())})),this.recalculateAndSaveOverlays(t,l).next((p=>(p.forEach(((g,y)=>c.set(g,y))),n.forEach(((g,y)=>d.set(g,new OO(y,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(t,n){const s=yu();let o=new fe(((c,d)=>c-d)),l=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const d of c)d.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let y=s.get(p)||di.empty();y=d.applyToLocalView(g,y),s.set(p,y);const _=(o.get(d.batchId)||Ut()).add(p);o=o.insert(d.batchId,_)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,y=p.value,_=y1();y.forEach((S=>{if(!l.has(S)){const R=A1(n.get(S),s.get(S));R!==null&&_.set(S,R),l=l.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,_))}return it.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(c){return yt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):kN(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-l.size):it.resolve(ua());let d=Iu,p=l;return c.next((g=>it.forEach(g,((y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(y)?it.resolve():this.remoteDocumentCache.getEntry(t,y).next((S=>{p=p.insert(y,S)}))))).next((()=>this.populateOverlays(t,g,l))).next((()=>this.computeViews(t,p,g,Ut()))).next((y=>({batchId:d,changes:g1(y)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next((s=>{let o=uu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const l=n.collectionGroup;let c=uu();return this.indexManager.getCollectionParents(t,l).next((d=>it.forEach(d,(p=>{const g=(function(_,S){return new Hf(S,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next((y=>{y.forEach(((_,S)=>{c=c.insert(_,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,l,o)))).next((c=>{l.forEach(((p,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,rn.newInvalidDocument(y)))}));let d=uu();return c.forEach(((p,g)=>{const y=l.get(p);y!==void 0&&vu(y.mutation,g,di.empty(),se.now()),Gf(n,g)&&(d=d.insert(p,g))})),d}))}}class LO{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return it.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Bi(o.createTime)}})(n)),it.resolve()}getNamedQuery(t,n){return it.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:wO(o.bundledQuery),readTime:Bi(o.readTime)}})(n)),it.resolve()}}class kO{constructor(){this.overlays=new fe(yt.comparator),this.qr=new Map}getOverlay(t,n){return it.resolve(this.overlays.get(n))}getOverlays(t,n){const s=ua();return it.forEach(n,(o=>this.getOverlay(t,o).next((l=>{l!==null&&s.set(o,l)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,l)=>{this.St(t,n,l)})),it.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),it.resolve()}getOverlaysForCollection(t,n,s){const o=ua(),l=n.length+1,c=new yt(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>s&&o.set(p.getKey(),p)}return it.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let l=new fe(((g,y)=>g-y));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let y=l.get(g.largestBatchId);y===null&&(y=ua(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const d=ua(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,y)=>d.set(g,y))),!(d.size()>=o)););return it.resolve(d)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new eO(n,s));let l=this.qr.get(n);l===void 0&&(l=Ut(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}class UO{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(t){return it.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,it.resolve()}}class hy{constructor(){this.Qr=new ze(He.$r),this.Ur=new ze(He.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new He(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new He(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new yt(new ue([])),s=new He(n,t),o=new He(n,t+1),l=[];return this.Ur.forEachInRange([s,o],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new yt(new ue([])),s=new He(n,t),o=new He(n,t+1);let l=Ut();return this.Ur.forEachInRange([s,o],(c=>{l=l.add(c.key)})),l}containsKey(t){const n=new He(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class He{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return yt.comparator(t.key,n.key)||kt(t.Yr,n.Yr)}static Kr(t,n){return kt(t.Yr,n.Yr)||yt.comparator(t.key,n.key)}}class zO{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ze(He.$r)}checkEmpty(t){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new tO(l,n,s,o);this.mutationQueue.push(c);for(const d of o)this.Zr=this.Zr.add(new He(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return it.resolve(c)}lookupMutationBatch(t,n){return it.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),l=o<0?0:o;return it.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?ey:this.tr-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new He(n,0),o=new He(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,o],(c=>{const d=this.Xr(c.Yr);l.push(d)})),it.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new ze(kt);return n.forEach((o=>{const l=new He(o,0),c=new He(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{s=s.add(d.Yr)}))})),it.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let l=s;yt.isDocumentKey(l)||(l=l.child(""));const c=new He(new yt(l),0);let d=new ze(kt);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Yr)),!0)}),c),it.resolve(this.ti(d))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Kt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return it.forEach(n.mutations,(o=>{const l=new He(o.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new He(n,0),o=this.Zr.firstAfterOrEqual(s);return it.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class BO{constructor(t){this.ri=t,this.docs=(function(){return new fe(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),l=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return it.resolve(s?s.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(t,n){let s=As();return n.forEach((o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():rn.newInvalidDocument(o))})),it.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let l=As();const c=n.path,d=new yt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:y}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||mN(dN(y),s)<=0||(o.has(y.key)||Gf(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return it.resolve(l)}getAllFromCollectionGroup(t,n,s,o){_t(9500)}ii(t,n){return it.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new jO(this)}getSize(t){return it.resolve(this.size)}}class jO extends NO{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),it.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class FO{constructor(t){this.persistence=t,this.si=new ba((n=>sy(n)),ry),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new hy,this.targetCount=0,this.ai=zo.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),it.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new zo(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,it.resolve()}updateTargetData(t,n){return this.Pr(n),it.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,n,s){let o=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)})),it.waitFor(l).next((()=>o))}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return it.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),it.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,l=[];return o&&n.forEach((c=>{l.push(o.markPotentiallyOrphaned(t,c))})),it.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),it.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return it.resolve(s)}containsKey(t,n){return it.resolve(this._i.containsKey(n))}}class k1{constructor(t,n){this.ui={},this.overlays={},this.ci=new Bf(0),this.li=!1,this.li=!0,this.hi=new UO,this.referenceDelegate=t(this),this.Pi=new FO(this),this.indexManager=new RO,this.remoteDocumentCache=(function(o){return new BO(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new bO(n),this.Ii=new LO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new kO,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new zO(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ct("MemoryPersistence","Starting transaction:",t);const o=new HO(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(t,n){return it.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class HO extends gN{constructor(t){super(),this.currentSequenceNumber=t}}class fy{constructor(t){this.persistence=t,this.Ri=new hy,this.Vi=null}static mi(t){return new fy(t)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),it.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),it.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),it.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.fi,(s=>{const o=yt.fromPath(s);return this.gi(t,o).next((l=>{l||n.removeEntry(o,At.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return it.or([()=>it.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class bf{constructor(t,n){this.persistence=t,this.pi=new ba((s=>_N(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=MO(this,n)}static mi(t,n){return new bf(t,n)}Ei(){}di(t){return it.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return it.forEach(this.pi,((s,o)=>this.br(t,s,o).next((l=>l?it.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,n).next((d=>{d||(s++,l.removeEntry(c,At.min()))})))).next((()=>l.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),it.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),it.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),it.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),it.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Wh(t.data.value)),n}br(t,n,s){return it.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return it.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class dy{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=Ut(),o=Ut();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new dy(t,n.fromCache,s,o)}}class qO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class GO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ND()?8:yN(on())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const l={result:null};return this.ys(t,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(t,n,o,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new qO;return this.Ss(t,n,c).next((d=>{if(l.result=d,this.Vs)return this.bs(t,n,c,d.size)}))})).next((()=>l.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?(_o()<=Lt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",Eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),it.resolve()):(_o()<=Lt.DEBUG&&ct("QueryEngine","Query:",Eo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(_o()<=Lt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",Eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,zi(n))):it.resolve())}ys(t,n){if(LT(n))return it.resolve(null);let s=zi(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=tg(n,null,"F"),s=zi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((l=>{const c=Ut(...l);return this.ps.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,s).next((p=>{const g=this.Ds(n,d);return this.Cs(n,g,c,p.readTime)?this.ys(t,tg(n,null,"F")):this.vs(t,g,n,p)}))))})))))}ws(t,n,s,o){return LT(n)||o.isEqual(At.min())?it.resolve(null):this.ps.getDocuments(t,s).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,o)?it.resolve(null):(_o()<=Lt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Eo(n)),this.vs(t,c,n,fN(o,Iu)).next((d=>d)))}))}Ds(t,n){let s=new ze(m1(t));return n.forEach(((o,l)=>{Gf(t,l)&&(s=s.add(l))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(t,n,s){return _o()<=Lt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",Eo(n)),this.ps.getDocumentsMatchingQuery(t,n,_r.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const my="LocalStore",KO=3e8;class YO{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new fe(kt),this.xs=new ba((l=>sy(l)),ry),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new PO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function QO(e,t,n,s){return new YO(e,t,n,s)}async function U1(e,t){const n=wt(e);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((l=>(o=l,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],d=[];let p=Ut();for(const g of o){c.push(g.batchId);for(const y of g.mutations)p=p.add(y.key)}for(const g of l){d.push(g.batchId);for(const y of g.mutations)p=p.add(y.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function XO(e,t){const n=wt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,y){const _=g.batch,S=_.keys();let R=it.resolve();return S.forEach((P=>{R=R.next((()=>y.getEntry(p,P))).next((U=>{const k=g.docVersions.get(P);Kt(k!==null,48541),U.version.compareTo(k)<0&&(_.applyToRemoteDocument(U,g),U.isValidDocument()&&(U.setReadTime(g.commitVersion),y.addEntry(U)))}))})),R.next((()=>d.mutationQueue.removeMutationBatch(p,_)))})(n,s,t,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let p=Ut();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function z1(e){const t=wt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function $O(e,t){const n=wt(e),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const d=[];t.targetChanges.forEach(((y,_)=>{const S=o.get(_);if(!S)return;d.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,_))));let R=S.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(_)!==null?R=R.withResumeToken(tn.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):y.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(y.resumeToken,s)),o=o.insert(_,R),(function(U,k,j){return U.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=KO?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(S,R,y)&&d.push(n.Pi.updateTargetData(l,R))}));let p=As(),g=Ut();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push(WO(l,c,t.documentUpdates).next((y=>{p=y.ks,g=y.qs}))),!s.isEqual(At.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((_=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(y)}return it.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(n.Ms=o,l)))}function WO(e,t,n){let s=Ut(),o=Ut();return n.forEach((l=>s=s.add(l))),t.getEntries(e,s).next((l=>{let c=As();return n.forEach(((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(At.min())?(t.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(d,p)):ct(my,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function ZO(e,t){const n=wt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=ey),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function JO(e,t){const n=wt(e);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((l=>l?(o=l,it.resolve(o)):n.Pi.allocateTargetId(s).next((c=>(o=new dr(t,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function rg(e,t,n){const s=wt(e),o=s.Ms.get(t),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Xo(c))throw c;ct(my,`Failed to update sequence numbers for target ${t}: ${c}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function XT(e,t,n){const s=wt(e);let o=At.min(),l=Ut();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,y){const _=wt(p),S=_.xs.get(y);return S!==void 0?it.resolve(_.Ms.get(S)):_.Pi.getTargetData(g,y)})(s,c,zi(t)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((p=>{l=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,t,n?o:At.min(),n?l:Ut()))).next((d=>(tP(s,zN(t),d),{documents:d,Qs:l})))))}function tP(e,t,n){let s=e.Os.get(t)||At.min();n.forEach(((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),e.Os.set(t,s)}class $T{constructor(){this.activeTargetIds=GN()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class eP{constructor(){this.Mo=new $T,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new $T,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class nP{Oo(t){}shutdown(){}}const WT="ConnectivityMonitor";class ZT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ct(WT,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ct(WT,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let zh=null;function ag(){return zh===null?zh=(function(){return 268435456+Math.round(2147483648*Math.random())})():zh++,"0x"+zh.toString(16)}const yp="RestConnection",iP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sP{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===yf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,l){const c=ag(),d=this.zo(t,n.toUriEncodedString());ct(yp,`Sending RPC '${t}' ${c}:`,d,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,l);const{host:g}=new URL(d),y=qo(g);return this.Jo(t,d,p,s,y).then((_=>(ct(yp,`Received RPC '${t}' ${c}: `,_),_)),(_=>{throw Po(yp,`RPC '${t}' ${c} failed with error: `,_,"url: ",d,"request:",s),_}))}Ho(t,n,s,o,l,c){return this.Go(t,n,s,o,l)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Yo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,l)=>t[l]=o)),s&&s.headers.forEach(((o,l)=>t[l]=o))}zo(t,n){const s=iP[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class rP{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const nn="WebChannelConnection";class aP extends sP{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,l){const c=ag();return new Promise(((d,p)=>{const g=new Hb;g.setWithCredentials(!0),g.listenOnce(qb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case $h.NO_ERROR:const _=g.getResponseJson();ct(nn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(_)),d(_);break;case $h.TIMEOUT:ct(nn,`RPC '${t}' ${c} timed out`),p(new pt(st.DEADLINE_EXCEEDED,"Request time out"));break;case $h.HTTP_ERROR:const S=g.getStatus();if(ct(nn,`RPC '${t}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const P=R?.error;if(P&&P.status&&P.message){const U=(function(j){const G=j.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(G)>=0?G:st.UNKNOWN})(P.status);p(new pt(U,P.message))}else p(new pt(st.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new pt(st.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ct(nn,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(o);ct(nn,`RPC '${t}' ${c} sending request:`,o),g.send(n,"POST",y,s,15)}))}T_(t,n,s){const o=ag(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=Yb(),d=Kb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const y=l.join("");ct(nn,`Creating RPC '${t}' stream ${o}: ${y}`,p);const _=c.createWebChannel(y,p);this.I_(_);let S=!1,R=!1;const P=new rP({Yo:k=>{R?ct(nn,`Not sending because RPC '${t}' stream ${o} is closed:`,k):(S||(ct(nn,`Opening RPC '${t}' stream ${o} transport.`),_.open(),S=!0),ct(nn,`RPC '${t}' stream ${o} sending:`,k),_.send(k))},Zo:()=>_.close()}),U=(k,j,G)=>{k.listen(j,(Y=>{try{G(Y)}catch(rt){setTimeout((()=>{throw rt}),0)}}))};return U(_,lu.EventType.OPEN,(()=>{R||(ct(nn,`RPC '${t}' stream ${o} transport opened.`),P.o_())})),U(_,lu.EventType.CLOSE,(()=>{R||(R=!0,ct(nn,`RPC '${t}' stream ${o} transport closed`),P.a_(),this.E_(_))})),U(_,lu.EventType.ERROR,(k=>{R||(R=!0,Po(nn,`RPC '${t}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),P.a_(new pt(st.UNAVAILABLE,"The operation could not be completed")))})),U(_,lu.EventType.MESSAGE,(k=>{if(!R){const j=k.data[0];Kt(!!j,16349);const G=j,Y=G?.error||G[0]?.error;if(Y){ct(nn,`RPC '${t}' stream ${o} received error:`,Y);const rt=Y.status;let J=(function(w){const I=Ve[w];if(I!==void 0)return R1(I)})(rt),at=Y.message;J===void 0&&(J=st.INTERNAL,at="Unknown error status: "+rt+" with message "+Y.message),R=!0,P.a_(new pt(J,at)),_.close()}else ct(nn,`RPC '${t}' stream ${o} received:`,j),P.u_(j)}})),U(d,Gb.STAT_EVENT,(k=>{k.stat===Qp.PROXY?ct(nn,`RPC '${t}' stream ${o} detected buffering proxy`):k.stat===Qp.NOPROXY&&ct(nn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{P.__()}),0),P}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function vp(){return typeof document<"u"?document:null}function Xf(e){return new cO(e,!0)}class B1{constructor(t,n,s=1e3,o=1.5,l=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ct("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const JT="PersistentStream";class j1{constructor(t,n,s,o,l,c,d,p){this.Mi=t,this.S_=s,this.b_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new B1(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===st.RESOURCE_EXHAUSTED?(Ss(n.toString()),Ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===st.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new pt(st.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ct(JT,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ct(JT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class oP extends j1{constructor(t,n,s,o,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,c),this.serializer=l}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=dO(this.serializer,t),s=(function(l){if(!("targetChange"in l))return At.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?At.min():c.readTime?Bi(c.readTime):At.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=sg(this.serializer),n.addTarget=(function(l,c){let d;const p=c.target;if(d=Jp(p)?{documents:gO(l,p)}:{query:yO(l,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=D1(l,c.resumeToken);const g=eg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(At.min())>0){d.readTime=Af(l,c.snapshotVersion.toTimestamp());const g=eg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,t);const s=_O(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=sg(this.serializer),n.removeTarget=t,this.q_(n)}}class lP extends j1{constructor(t,n,s,o,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=pO(t.writeResults,t.commitTime),s=Bi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=sg(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>mO(this.serializer,s)))};this.q_(n)}}class uP{}class cP extends uP{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pt(st.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(t,ng(n,s),o,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pt(st.UNKNOWN,l.toString())}))}Ho(t,n,s,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(t,ng(n,s),o,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pt(st.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class hP{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ss(n),this.aa=!1):ct("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ea="RemoteStore";class fP{constructor(t,n,s,o,l){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Ra(this)&&(ct(Ea,"Restarting streams for network reachability change."),await(async function(p){const g=wt(p);g.Ea.add(4),await Zu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await $f(g)})(this))}))})),this.Ra=new hP(s,o)}}async function $f(e){if(Ra(e))for(const t of e.da)await t(!0)}async function Zu(e){for(const t of e.da)await t(!1)}function F1(e,t){const n=wt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),vy(n)?yy(n):$o(n).O_()&&gy(n,t))}function py(e,t){const n=wt(e),s=$o(n);n.Ia.delete(t),s.O_()&&H1(n,t),n.Ia.size===0&&(s.O_()?s.L_():Ra(n)&&n.Ra.set("Unknown"))}function gy(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}$o(e).Y_(t)}function H1(e,t){e.Va.Ue(t),$o(e).Z_(t)}function yy(e){e.Va=new aO({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),$o(e).start(),e.Ra.ua()}function vy(e){return Ra(e)&&!$o(e).x_()&&e.Ia.size>0}function Ra(e){return wt(e).Ea.size===0}function q1(e){e.Va=void 0}async function dP(e){e.Ra.set("Online")}async function mP(e){e.Ia.forEach(((t,n)=>{gy(e,t)}))}async function pP(e,t){q1(e),vy(e)?(e.Ra.ha(t),yy(e)):e.Ra.set("Unknown")}async function gP(e,t,n){if(e.Ra.set("Online"),t instanceof I1&&t.state===2&&t.cause)try{await(async function(o,l){const c=l.cause;for(const d of l.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ia.delete(d),o.Va.removeTarget(d))})(e,t)}catch(s){ct(Ea,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await wf(e,s)}else if(t instanceof tf?e.Va.Ze(t):t instanceof C1?e.Va.st(t):e.Va.tt(t),!n.isEqual(At.min()))try{const s=await z1(e.localStore);n.compareTo(s)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const y=l.Ia.get(g);y&&l.Ia.set(g,y.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,g)=>{const y=l.Ia.get(p);if(!y)return;l.Ia.set(p,y.withResumeToken(tn.EMPTY_BYTE_STRING,y.snapshotVersion)),H1(l,p);const _=new dr(y.target,p,g,y.sequenceNumber);gy(l,_)})),l.remoteSyncer.applyRemoteEvent(d)})(e,n)}catch(s){ct(Ea,"Failed to raise snapshot:",s),await wf(e,s)}}async function wf(e,t,n){if(!Xo(t))throw t;e.Ea.add(1),await Zu(e),e.Ra.set("Offline"),n||(n=()=>z1(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ct(Ea,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await $f(e)}))}function G1(e,t){return t().catch((n=>wf(e,n,t)))}async function Wf(e){const t=wt(e),n=Ar(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ey;for(;yP(t);)try{const o=await ZO(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,vP(t,o)}catch(o){await wf(t,o)}K1(t)&&Y1(t)}function yP(e){return Ra(e)&&e.Ta.length<10}function vP(e,t){e.Ta.push(t);const n=Ar(e);n.O_()&&n.X_&&n.ea(t.mutations)}function K1(e){return Ra(e)&&!Ar(e).x_()&&e.Ta.length>0}function Y1(e){Ar(e).start()}async function _P(e){Ar(e).ra()}async function EP(e){const t=Ar(e);for(const n of e.Ta)t.ea(n.mutations)}async function TP(e,t,n){const s=e.Ta.shift(),o=ly.from(s,t,n);await G1(e,(()=>e.remoteSyncer.applySuccessfulWrite(o))),await Wf(e)}async function SP(e,t){t&&Ar(e).X_&&await(async function(s,o){if((function(c){return iO(c)&&c!==st.ABORTED})(o.code)){const l=s.Ta.shift();Ar(s).B_(),await G1(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o))),await Wf(s)}})(e,t),K1(e)&&Y1(e)}async function tS(e,t){const n=wt(e);n.asyncQueue.verifyOperationInProgress(),ct(Ea,"RemoteStore received new credentials");const s=Ra(n);n.Ea.add(3),await Zu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await $f(n)}async function AP(e,t){const n=wt(e);t?(n.Ea.delete(2),await $f(n)):t||(n.Ea.add(2),await Zu(n),n.Ra.set("Unknown"))}function $o(e){return e.ma||(e.ma=(function(n,s,o){const l=wt(n);return l.sa(),new oP(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(e.datastore,e.asyncQueue,{Xo:dP.bind(null,e),t_:mP.bind(null,e),r_:pP.bind(null,e),H_:gP.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),vy(e)?yy(e):e.Ra.set("Unknown")):(await e.ma.stop(),q1(e))}))),e.ma}function Ar(e){return e.fa||(e.fa=(function(n,s,o){const l=wt(n);return l.sa(),new lP(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:_P.bind(null,e),r_:SP.bind(null,e),ta:EP.bind(null,e),na:TP.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await Wf(e)):(await e.fa.stop(),e.Ta.length>0&&(ct(Ea,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}class _y{constructor(t,n,s,o,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,l){const c=Date.now()+s,d=new _y(t,n,c,o,l);return d.start(s),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pt(st.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ey(e,t){if(Ss("AsyncQueue",`${t}: ${e}`),Xo(e))return new pt(st.UNAVAILABLE,`${t}: ${e}`);throw e}class Vo{static emptySet(t){return new Vo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||yt.comparator(n.key,s.key):(n,s)=>yt.comparator(n.key,s.key),this.keyedMap=uu(),this.sortedSet=new fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Vo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Vo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class eS{constructor(){this.ga=new fe(yt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):_t(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class Bo{constructor(t,n,s,o,l,c,d,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Bo(t,n,Vo.emptySet(n),c,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&qf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class bP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class wP{constructor(){this.queries=nS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=wt(n),l=o.queries;o.queries=nS(),l.forEach(((c,d)=>{for(const p of d.Sa)p.onError(s)}))})(this,new pt(st.ABORTED,"Firestore shutting down"))}}function nS(){return new ba((e=>d1(e)),qf)}async function RP(e,t){const n=wt(e);let s=3;const o=t.query;let l=n.queries.get(o);l?!l.ba()&&t.Da()&&(s=2):(l=new bP,s=t.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(o,!0);break;case 1:l.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const d=Ey(c,`Initialization of query '${Eo(t.query)}' failed`);return void t.onError(d)}n.queries.set(o,l),l.Sa.push(t),t.va(n.onlineState),l.wa&&t.Fa(l.wa)&&Ty(n)}async function CP(e,t){const n=wt(e),s=t.query;let o=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(t);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?o=t.Da()?0:1:!l.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function IP(e,t){const n=wt(e);let s=!1;for(const o of t){const l=o.query,c=n.queries.get(l);if(c){for(const d of c.Sa)d.Fa(o)&&(s=!0);c.wa=o}}s&&Ty(n)}function DP(e,t,n){const s=wt(e),o=s.queries.get(t);if(o)for(const l of o.Sa)l.onError(n);s.queries.delete(t)}function Ty(e){e.Ca.forEach((t=>{t.next()}))}var og,iS;(iS=og||(og={})).Ma="default",iS.Cache="cache";class xP{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Bo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Bo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==og.Cache}}class Q1{constructor(t){this.key=t}}class X1{constructor(t){this.key=t}}class VP{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=m1(t),this.tu=new Vo(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new eS,o=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((y,_)=>{const S=o.get(y),R=Gf(this.query,_)?_:null,P=!!S&&this.mutatedKeys.has(S.key),U=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let k=!1;S&&R?S.data.isEqual(R.data)?P!==U&&(s.track({type:3,doc:R}),k=!0):this.su(S,R)||(s.track({type:2,doc:R}),k=!0,(p&&this.eu(R,p)>0||g&&this.eu(R,g)<0)&&(d=!0)):!S&&R?(s.track({type:0,doc:R}),k=!0):S&&!R&&(s.track({type:1,doc:S}),k=!0,(p||g)&&(d=!0)),k&&(R?(c=c.add(R),l=U?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Cs:d,mutatedKeys:l}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,_)=>(function(R,P){const U=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:k})}};return U(R)-U(P)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(s),o=o??!1;const d=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new Bo(this.query,t.tu,l,c,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new eS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ut(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new X1(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new Q1(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Ut();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Bo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Sy="SyncEngine";class MP{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class NP{constructor(t){this.key=t,this.hu=!1}}class OP{constructor(t,n,s,o,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ba((d=>d1(d)),qf),this.Iu=new Map,this.Eu=new Set,this.du=new fe(yt.comparator),this.Au=new Map,this.Ru=new hy,this.Vu={},this.mu=new Map,this.fu=zo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function PP(e,t,n=!0){const s=ew(e);let o;const l=s.Tu.get(t);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await $1(s,t,n,!0),o}async function LP(e,t){const n=ew(e);await $1(n,t,!0,!1)}async function $1(e,t,n,s){const o=await JO(e.localStore,zi(t)),l=o.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await kP(e,t,l,c==="current",o.resumeToken)),e.isPrimaryClient&&n&&F1(e.remoteStore,o),d}async function kP(e,t,n,s,o){e.pu=(_,S,R)=>(async function(U,k,j,G){let Y=k.view.ru(j);Y.Cs&&(Y=await XT(U.localStore,k.query,!1).then((({documents:C})=>k.view.ru(C,Y))));const rt=G&&G.targetChanges.get(k.targetId),J=G&&G.targetMismatches.get(k.targetId)!=null,at=k.view.applyChanges(Y,U.isPrimaryClient,rt,J);return rS(U,k.targetId,at.au),at.snapshot})(e,_,S,R);const l=await XT(e.localStore,t,!0),c=new VP(t,l.Qs),d=c.ru(l.documents),p=Wu.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",o),g=c.applyChanges(d,e.isPrimaryClient,p);rS(e,n,g.au);const y=new MP(t,n,c);return e.Tu.set(t,y),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),g.snapshot}async function UP(e,t,n){const s=wt(e),o=s.Tu.get(t),l=s.Iu.get(o.targetId);if(l.length>1)return s.Iu.set(o.targetId,l.filter((c=>!qf(c,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await rg(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&py(s.remoteStore,o.targetId),lg(s,o.targetId)})).catch(Qo)):(lg(s,o.targetId),await rg(s.localStore,o.targetId,!0))}async function zP(e,t){const n=wt(e),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),py(n.remoteStore,s.targetId))}async function BP(e,t,n){const s=YP(e);try{const o=await(function(c,d){const p=wt(c),g=se.now(),y=d.reduce(((R,P)=>R.add(P.key)),Ut());let _,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let P=As(),U=Ut();return p.Ns.getEntries(R,y).next((k=>{P=k,P.forEach(((j,G)=>{G.isValidDocument()||(U=U.add(j))}))})).next((()=>p.localDocuments.getOverlayedDocuments(R,P))).next((k=>{_=k;const j=[];for(const G of d){const Y=ZN(G,_.get(G.key).overlayedDocument);Y!=null&&j.push(new wa(G.key,Y,a1(Y.value.mapValue),ys.exists(!0)))}return p.mutationQueue.addMutationBatch(R,g,j,d)})).next((k=>{S=k;const j=k.applyToLocalDocumentSet(_,U);return p.documentOverlayCache.saveOverlays(R,k.batchId,j)}))})).then((()=>({batchId:S.batchId,changes:g1(_)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(c,d,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new fe(kt)),g=g.insert(d,p),c.Vu[c.currentUser.toKey()]=g})(s,o.batchId,n),await Ju(s,o.changes),await Wf(s.remoteStore)}catch(o){const l=Ey(o,"Failed to persist write");n.reject(l)}}async function W1(e,t){const n=wt(e);try{const s=await $O(n.localStore,t);t.targetChanges.forEach(((o,l)=>{const c=n.Au.get(l);c&&(Kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Kt(c.hu,14607):o.removedDocuments.size>0&&(Kt(c.hu,42227),c.hu=!1))})),await Ju(n,s,t)}catch(s){await Qo(s)}}function sS(e,t,n){const s=wt(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((l,c)=>{const d=c.view.va(t);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const p=wt(c);p.onlineState=d;let g=!1;p.queries.forEach(((y,_)=>{for(const S of _.Sa)S.va(d)&&(g=!0)})),g&&Ty(p)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function jP(e,t,n){const s=wt(e);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),l=o&&o.key;if(l){let c=new fe(yt.comparator);c=c.insert(l,rn.newNoDocument(l,At.min()));const d=Ut().add(l),p=new Qf(At.min(),new Map,new fe(kt),c,d);await W1(s,p),s.du=s.du.remove(l),s.Au.delete(t),Ay(s)}else await rg(s.localStore,t,!1).then((()=>lg(s,t,n))).catch(Qo)}async function FP(e,t){const n=wt(e),s=t.batch.batchId;try{const o=await XO(n.localStore,t);J1(n,s,null),Z1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ju(n,o)}catch(o){await Qo(o)}}async function HP(e,t,n){const s=wt(e);try{const o=await(function(c,d){const p=wt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return p.mutationQueue.lookupMutationBatch(g,d).next((_=>(Kt(_!==null,37113),y=_.keys(),p.mutationQueue.removeMutationBatch(g,_)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,y,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>p.localDocuments.getDocuments(g,y)))}))})(s.localStore,t);J1(s,t,n),Z1(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Ju(s,o)}catch(o){await Qo(o)}}function Z1(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function J1(e,t,n){const s=wt(e);let o=s.Vu[s.currentUser.toKey()];if(o){const l=o.get(t);l&&(n?l.reject(n):l.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function lg(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Iu.get(t))e.Tu.delete(s),n&&e.Pu.yu(s,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((s=>{e.Ru.containsKey(s)||tw(e,s)}))}function tw(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(py(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Ay(e))}function rS(e,t,n){for(const s of n)s instanceof Q1?(e.Ru.addReference(s.key,t),qP(e,s)):s instanceof X1?(ct(Sy,"Document no longer in limbo: "+s.key),e.Ru.removeReference(s.key,t),e.Ru.containsKey(s.key)||tw(e,s.key)):_t(19791,{wu:s})}function qP(e,t){const n=t.key,s=n.path.canonicalString();e.du.get(n)||e.Eu.has(s)||(ct(Sy,"New document in limbo: "+n),e.Eu.add(s),Ay(e))}function Ay(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new yt(ue.fromString(t)),s=e.fu.next();e.Au.set(s,new NP(n)),e.du=e.du.insert(n,s),F1(e.remoteStore,new dr(zi(ay(n.path)),s,"TargetPurposeLimboResolution",Bf.ce))}}async function Ju(e,t,n){const s=wt(e),o=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,p)=>{c.push(s.pu(p,t,n).then((g=>{if((g||n)&&s.isPrimaryClient){const y=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,y?"current":"not-current")}if(g){o.push(g);const y=dy.As(p.targetId,g);l.push(y)}})))})),await Promise.all(c),s.Pu.H_(o),await(async function(p,g){const y=wt(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>it.forEach(g,(S=>it.forEach(S.Es,(R=>y.persistence.referenceDelegate.addReference(_,S.targetId,R))).next((()=>it.forEach(S.ds,(R=>y.persistence.referenceDelegate.removeReference(_,S.targetId,R)))))))))}catch(_){if(!Xo(_))throw _;ct(my,"Failed to update sequence numbers: "+_)}for(const _ of g){const S=_.targetId;if(!_.fromCache){const R=y.Ms.get(S),P=R.snapshotVersion,U=R.withLastLimboFreeSnapshotVersion(P);y.Ms=y.Ms.insert(S,U)}}})(s.localStore,l))}async function GP(e,t){const n=wt(e);if(!n.currentUser.isEqual(t)){ct(Sy,"User change. New user:",t.toKey());const s=await U1(n.localStore,t);n.currentUser=t,(function(l,c){l.mu.forEach((d=>{d.forEach((p=>{p.reject(new pt(st.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Ju(n,s.Ls)}}function KP(e,t){const n=wt(e),s=n.Au.get(t);if(s&&s.hu)return Ut().add(s.key);{let o=Ut();const l=n.Iu.get(t);if(!l)return o;for(const c of l){const d=n.Tu.get(c);o=o.unionWith(d.view.nu)}return o}}function ew(e){const t=wt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=W1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=KP.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=jP.bind(null,t),t.Pu.H_=IP.bind(null,t.eventManager),t.Pu.yu=DP.bind(null,t.eventManager),t}function YP(e){const t=wt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=FP.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=HP.bind(null,t),t}class Rf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Xf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return QO(this.persistence,new GO,t.initialUser,this.serializer)}Cu(t){return new k1(fy.mi,this.serializer)}Du(t){return new eP}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rf.provider={build:()=>new Rf};class QP extends Rf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Kt(this.persistence.referenceDelegate instanceof bf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new xO(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new k1((s=>bf.mi(s,n)),this.serializer)}}class ug{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>sS(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=GP.bind(null,this.syncEngine),await AP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new wP})()}createDatastore(t){const n=Xf(t.databaseInfo.databaseId),s=(function(l){return new aP(l)})(t.databaseInfo);return(function(l,c,d,p){return new cP(l,c,d,p)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,l,c,d){return new fP(s,o,l,c,d)})(this.localStore,this.datastore,t.asyncQueue,(n=>sS(this.syncEngine,n,0)),(function(){return ZT.v()?new ZT:new nP})())}createSyncEngine(t,n){return(function(o,l,c,d,p,g,y){const _=new OP(o,l,c,d,p,g);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=wt(n);ct(Ea,"RemoteStore shutting down."),s.Ea.add(5),await Zu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ug.provider={build:()=>new ug};class XP{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ss("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const br="FirestoreClient";class $P{constructor(t,n,s,o,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=Jg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{ct(br,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ct(br,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Ey(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function _p(e,t){e.asyncQueue.verifyOperationInProgress(),ct(br,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener((async o=>{s.isEqual(o)||(await U1(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function aS(e,t){e.asyncQueue.verifyOperationInProgress();const n=await WP(e);ct(br,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((s=>tS(t.remoteStore,s))),e.setAppCheckTokenChangeListener(((s,o)=>tS(t.remoteStore,o))),e._onlineComponents=t}async function WP(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ct(br,"Using user provided OfflineComponentProvider");try{await _p(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===st.FAILED_PRECONDITION||o.code===st.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Po("Error using user provided cache. Falling back to memory cache: "+n),await _p(e,new Rf)}}else ct(br,"Using default OfflineComponentProvider"),await _p(e,new QP(void 0));return e._offlineComponents}async function nw(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ct(br,"Using user provided OnlineComponentProvider"),await aS(e,e._uninitializedComponentsProvider._online)):(ct(br,"Using default OnlineComponentProvider"),await aS(e,new ug))),e._onlineComponents}function ZP(e){return nw(e).then((t=>t.syncEngine))}async function JP(e){const t=await nw(e),n=t.eventManager;return n.onListen=PP.bind(null,t.syncEngine),n.onUnlisten=UP.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=LP.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=zP.bind(null,t.syncEngine),n}function t4(e,t,n={}){const s=new vr;return e.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,g){const y=new XP({next:S=>{y.Nu(),c.enqueueAndForget((()=>CP(l,_)));const R=S.docs.has(d);!R&&S.fromCache?g.reject(new pt(st.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&S.fromCache&&p&&p.source==="server"?g.reject(new pt(st.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),_=new xP(ay(d.path),y,{includeMetadataChanges:!0,qa:!0});return RP(l,_)})(await JP(e),e.asyncQueue,t,n,s))),s.promise}function iw(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const oS=new Map;const sw="firestore.googleapis.com",lS=!0;class uS{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new pt(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sw,this.ssl=lS}else this.host=t.host,this.ssl=t.ssl??lS;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=L1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<IO)throw new pt(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}hN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iw(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new pt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new pt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new pt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class by{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pt(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new pt(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uS(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new tN;switch(s.type){case"firstParty":return new sN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pt(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=oS.get(n);s&&(ct("ComponentProvider","Removing Datastore"),oS.delete(n),s.terminate())})(this),Promise.resolve()}}function e4(e,t,n,s={}){e=Cu(e,by);const o=qo(t),l=e._getSettings(),c={...l,emulatorOptions:e._getEmulatorOptions()},d=`${t}:${n}`;o&&(sb(`https://${d}`),rb("Firestore",!0)),l.host!==sw&&l.host!==d&&Po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:d,ssl:o,emulatorOptions:s};if(!ga(p,c)&&(e._setSettings(p),s.mockUserToken)){let g,y;if(typeof s.mockUserToken=="string")g=s.mockUserToken,y=sn.MOCK_USER;else{g=bD(s.mockUserToken,e._app?.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new pt(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new sn(_)}e._authCredentials=new eN(new Xb(g,y))}}class wy{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new wy(this.firestore,t,this._query)}}class qe{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ou(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new qe(this.firestore,t,this._key)}toJSON(){return{type:qe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Xu(n,qe._jsonSchema))return new qe(t,s||null,new yt(ue.fromString(n.referencePath)))}}qe._jsonSchemaVersion="firestore/documentReference/1.0",qe._jsonSchema={type:Ne("string",qe._jsonSchemaVersion),referencePath:Ne("string")};class Ou extends wy{constructor(t,n,s){super(t,n,ay(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new qe(this.firestore,null,new yt(t))}withConverter(t){return new Ou(this.firestore,t,this._path)}}function cS(e,t,...n){if(e=Xn(e),arguments.length===1&&(t=Jg.newId()),cN("doc","path",t),e instanceof by){const s=ue.fromString(t,...n);return AT(s),new qe(e,null,new yt(s))}{if(!(e instanceof qe||e instanceof Ou))throw new pt(st.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(ue.fromString(t,...n));return AT(s),new qe(e.firestore,e instanceof Ou?e.converter:null,new yt(s))}}const hS="AsyncQueue";class fS{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new B1(this,"async_queue_retry"),this._c=()=>{const s=vp();s&&ct(hS,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=vp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=vp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new vr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Xo(t))throw t;ct(hS,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Ss("INTERNAL UNHANDLED ERROR: ",dS(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=_y.createAndSchedule(this,t,n,s,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&_t(47125,{Pc:dS(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function dS(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Ry extends by{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new fS,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new fS(t),this._firestoreClient=void 0,await t}}}function n4(e,t){const n=typeof e=="object"?e:ub(),s=typeof e=="string"?e:yf,o=jg(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=SD("firestore");l&&e4(o,...l)}return o}function rw(e){if(e._terminated)throw new pt(st.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||i4(e),e._firestoreClient}function i4(e){const t=e._freezeSettings(),n=(function(o,l,c,d){return new SN(o,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,iw(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new $P(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(e._componentsProvider))}class Gn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Gn(tn.fromBase64String(t))}catch(n){throw new pt(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Gn(tn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Xu(t,Gn._jsonSchema))return Gn.fromBase64String(t.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:Ne("string",Gn._jsonSchemaVersion),bytes:Ne("string")};class Cy{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new pt(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class aw{constructor(t){this._methodName=t}}class ji{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new pt(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new pt(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ji._jsonSchemaVersion}}static fromJSON(t){if(Xu(t,ji._jsonSchema))return new ji(t.latitude,t.longitude)}}ji._jsonSchemaVersion="firestore/geoPoint/1.0",ji._jsonSchema={type:Ne("string",ji._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};class Fi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Xu(t,Fi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Fi(t.vectorValues);throw new pt(st.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fi._jsonSchemaVersion="firestore/vectorValue/1.0",Fi._jsonSchema={type:Ne("string",Fi._jsonSchemaVersion),vectorValues:Ne("object")};const s4=/^__.*__$/;class r4{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new wa(t,this.data,this.fieldMask,n,this.fieldTransforms):new $u(t,this.data,n,this.fieldTransforms)}}function ow(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:e})}}class Iy{constructor(t,n,s,o,l,c){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Iy({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Cf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(ow(this.Ac)&&s4.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class a4{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Xf(t)}Cc(t,n,s,o=!1){return new Iy({Ac:t,methodName:n,Dc:s,path:Je.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function o4(e){const t=e._freezeSettings(),n=Xf(e._databaseId);return new a4(e._databaseId,!!t.ignoreUndefinedProperties,n)}function l4(e,t,n,s,o,l={}){const c=e.Cc(l.merge||l.mergeFields?2:0,t,n,o);hw("Data must be an object, but it was:",c,s);const d=uw(s,c);let p,g;if(l.merge)p=new di(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const S=u4(t,_,n);if(!c.contains(S))throw new pt(st.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);h4(y,S)||y.push(S)}p=new di(y),g=c.fieldTransforms.filter((_=>p.covers(_.field)))}else p=null,g=c.fieldTransforms;return new r4(new qn(d),p,g)}function lw(e,t){if(cw(e=Xn(e)))return hw("Unsupported field value:",t,e),uw(e,t);if(e instanceof aw)return(function(s,o){if(!ow(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const l=[];let c=0;for(const d of s){let p=lw(d,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(e,t)}return(function(s,o){if((s=Xn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return KN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=se.fromDate(s);return{timestampValue:Af(o.serializer,l)}}if(s instanceof se){const l=new se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Af(o.serializer,l)}}if(s instanceof ji)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Gn)return{bytesValue:D1(o.serializer,s._byteString)};if(s instanceof qe){const l=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:cy(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Fi)return(function(c,d){return{mapValue:{fields:{[s1]:{stringValue:r1},[vf]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return oy(d.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${ty(s)}`)})(e,t)}function uw(e,t){const n={};return Zb(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Aa(e,((s,o)=>{const l=lw(o,t.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function cw(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof se||e instanceof ji||e instanceof Gn||e instanceof qe||e instanceof aw||e instanceof Fi)}function hw(e,t,n){if(!cw(n)||!$b(n)){const s=ty(n);throw s==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+s)}}function u4(e,t,n){if((t=Xn(t))instanceof Cy)return t._internalPath;if(typeof t=="string")return fw(e,t);throw Cf("Field path arguments must be of type string or ",e,!1,void 0,n)}const c4=new RegExp("[~\\*/\\[\\]]");function fw(e,t,n){if(t.search(c4)>=0)throw Cf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Cy(...t.split("."))._internalPath}catch{throw Cf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Cf(e,t,n,s,o){const l=s&&!s.isEmpty(),c=o!==void 0;let d=`Function ${t}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new pt(st.INVALID_ARGUMENT,d+e+p)}function h4(e,t){return e.some((n=>n.isEqual(t)))}class dw{constructor(t,n,s,o,l){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new qe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new f4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(mw("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class f4 extends dw{data(){return super.data()}}function mw(e,t){return typeof t=="string"?fw(e,t):t instanceof Cy?t._internalPath:t._delegate._internalPath}class d4{convertValue(t,n="none"){switch(Sr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Te(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Tr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Aa(t,((o,l)=>{s[o]=this.convertValue(l,n)})),s}convertVectorValue(t){const n=t.fields?.[vf].arrayValue?.values?.map((s=>Te(s.doubleValue)));return new Fi(n)}convertGeoPoint(t){return new ji(Te(t.latitude),Te(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Ff(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Du(t));default:return null}}convertTimestamp(t){const n=Er(t);return new se(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ue.fromString(t);Kt(P1(s),9688,{name:t});const o=new xu(s.get(1),s.get(3)),l=new yt(s.popFirst(5));return o.isEqual(n)||Ss(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function m4(e,t,n){let s;return s=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,s}class hu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class da extends dw{constructor(t,n,s,o,l,c){super(t,n,s,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new ef(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(mw("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pt(st.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=da._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}da._jsonSchemaVersion="firestore/documentSnapshot/1.0",da._jsonSchema={type:Ne("string",da._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class ef extends da{data(t={}){return super.data(t)}}class _u{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new hu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new ef(this._firestore,this._userDataWriter,s.key,s,new hu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pt(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const p=new ef(o._firestore,o._userDataWriter,d.doc.key,d.doc,new hu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const p=new ef(o._firestore,o._userDataWriter,d.doc.key,d.doc,new hu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,y=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:p4(d.type),doc:p,oldIndex:g,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pt(st.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=_u._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Jg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function p4(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:e})}}function g4(e){e=Cu(e,qe);const t=Cu(e.firestore,Ry);return t4(rw(t),e._key).then((n=>E4(t,e,n)))}_u._jsonSchemaVersion="firestore/querySnapshot/1.0",_u._jsonSchema={type:Ne("string",_u._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class y4 extends d4{constructor(t){super(),this.firestore=t}convertBytes(t){return new Gn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new qe(this.firestore,null,n)}}function v4(e,t,n){e=Cu(e,qe);const s=Cu(e.firestore,Ry),o=m4(e.converter,t,n);return _4(s,[l4(o4(s),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,ys.none())])}function _4(e,t){return(function(s,o){const l=new vr;return s.asyncQueue.enqueueAndForget((async()=>BP(await ZP(s),o,l))),l.promise})(rw(e),t)}function E4(e,t,n){const s=n.docs.get(t._key),o=new y4(e);return new da(e,o,t._key,s,new hu(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){Yo=o})(Go),No(new ya("firestore",((s,{instanceIdentifier:o,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new Ry(new nN(s.getProvider("auth-internal")),new rN(c,s.getProvider("app-check-internal")),(function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new pt(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xu(g.options.projectId,y)})(c,o),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),gr(_T,ET,t),gr(_T,ET,"esm2020")})();const T4={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},pw=lb(T4),Ep=ZM(pw),mS=n4(pw),gw=et.createContext();function Dy(){return V.useContext(gw)}function S4({children:e}){const[t,n]=V.useState(null),[s,o]=V.useState(!0);function l(){const p=new ds;return oM(Ep,p)}function c(){return jV(Ep)}V.useEffect(()=>BV(Ep,g=>{n(g),o(!1)}),[]);const d={currentUser:t,loginWithGoogle:l,logout:c};return et.createElement(gw.Provider,{value:d},!s&&e)}var Tp={exports:{}},au={};var pS;function A4(){if(pS)return au;pS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var d in o)d!=="key"&&(l[d]=o[d])}else l=o;return o=l.ref,{$$typeof:e,type:s,key:c,ref:o!==void 0?o:null,props:l}}return au.Fragment=t,au.jsx=n,au.jsxs=n,au}var gS;function b4(){return gS||(gS=1,Tp.exports=A4()),Tp.exports}var vs=b4();const xy=V.createContext({});function Vy(e){const t=V.useRef(null);return t.current===null&&(t.current=e()),t.current}const My=typeof window<"u",yw=My?V.useLayoutEffect:V.useEffect,Zf=V.createContext(null);function Ny(e,t){e.indexOf(t)===-1&&e.push(t)}function Oy(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const bs=(e,t,n)=>n>t?t:n<e?e:n;let Py=()=>{};const ws={},vw=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function _w(e){return typeof e=="object"&&e!==null}const Ew=e=>/^0[^.\s]+$/u.test(e);function Ly(e){let t;return()=>(t===void 0&&(t=e()),t)}const Yn=e=>e,w4=(e,t)=>n=>t(e(n)),tc=(...e)=>e.reduce(w4),Pu=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class ky{constructor(){this.subscriptions=[]}add(t){return Ny(this.subscriptions,t),()=>Oy(this.subscriptions,t)}notify(t,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,s);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Hi=e=>e*1e3,Kn=e=>e/1e3;function Tw(e,t){return t?e*(1e3/t):0}const Sw=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,R4=1e-7,C4=12;function I4(e,t,n,s,o){let l,c,d=0;do c=t+(n-t)/2,l=Sw(c,s,o)-e,l>0?n=c:t=c;while(Math.abs(l)>R4&&++d<C4);return c}function ec(e,t,n,s){if(e===t&&n===s)return Yn;const o=l=>I4(l,0,1,e,n);return l=>l===0||l===1?l:Sw(o(l),t,s)}const Aw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,bw=e=>t=>1-e(1-t),ww=ec(.33,1.53,.69,.99),Uy=bw(ww),Rw=Aw(Uy),Cw=e=>(e*=2)<1?.5*Uy(e):.5*(2-Math.pow(2,-10*(e-1))),zy=e=>1-Math.sin(Math.acos(e)),Iw=bw(zy),Dw=Aw(zy),D4=ec(.42,0,1,1),x4=ec(0,0,.58,1),xw=ec(.42,0,.58,1),V4=e=>Array.isArray(e)&&typeof e[0]!="number",Vw=e=>Array.isArray(e)&&typeof e[0]=="number",M4={linear:Yn,easeIn:D4,easeInOut:xw,easeOut:x4,circIn:zy,circInOut:Dw,circOut:Iw,backIn:Uy,backInOut:Rw,backOut:ww,anticipate:Cw},N4=e=>typeof e=="string",yS=e=>{if(Vw(e)){Py(e.length===4);const[t,n,s,o]=e;return ec(t,n,s,o)}else if(N4(e))return M4[e];return e},Bh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function O4(e,t){let n=new Set,s=new Set,o=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function p(y){c.has(y)&&(g.schedule(y),e()),y(d)}const g={schedule:(y,_=!1,S=!1)=>{const P=S&&o?n:s;return _&&c.add(y),P.has(y)||P.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(d=y,o){l=!0;return}o=!0,[n,s]=[s,n],n.forEach(p),n.clear(),o=!1,l&&(l=!1,g.process(y))}};return g}const P4=40;function Mw(e,t){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Bh.reduce((Y,rt)=>(Y[rt]=O4(l),Y),{}),{setup:d,read:p,resolveKeyframes:g,preUpdate:y,update:_,preRender:S,render:R,postRender:P}=c,U=()=>{const Y=ws.useManualTiming?o.timestamp:performance.now();n=!1,ws.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(Y-o.timestamp,P4),1)),o.timestamp=Y,o.isProcessing=!0,d.process(o),p.process(o),g.process(o),y.process(o),_.process(o),S.process(o),R.process(o),P.process(o),o.isProcessing=!1,n&&t&&(s=!1,e(U))},k=()=>{n=!0,s=!0,o.isProcessing||e(U)};return{schedule:Bh.reduce((Y,rt)=>{const J=c[rt];return Y[rt]=(at,C=!1,w=!1)=>(n||k(),J.schedule(at,C,w)),Y},{}),cancel:Y=>{for(let rt=0;rt<Bh.length;rt++)c[Bh[rt]].cancel(Y)},state:o,steps:c}}const{schedule:le,cancel:wr,state:We,steps:Sp}=Mw(typeof requestAnimationFrame<"u"?requestAnimationFrame:Yn,!0);let nf;function L4(){nf=void 0}const En={now:()=>(nf===void 0&&En.set(We.isProcessing||ws.useManualTiming?We.timestamp:performance.now()),nf),set:e=>{nf=e,queueMicrotask(L4)}},Nw=e=>t=>typeof t=="string"&&t.startsWith(e),By=Nw("--"),k4=Nw("var(--"),jy=e=>k4(e)?U4.test(e.split("/*")[0].trim()):!1,U4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Wo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Lu={...Wo,transform:e=>bs(0,1,e)},jh={...Wo,default:1},Eu=e=>Math.round(e*1e5)/1e5,Fy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function z4(e){return e==null}const B4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Hy=(e,t)=>n=>!!(typeof n=="string"&&B4.test(n)&&n.startsWith(e)||t&&!z4(n)&&Object.prototype.hasOwnProperty.call(n,t)),Ow=(e,t,n)=>s=>{if(typeof s!="string")return s;const[o,l,c,d]=s.match(Fy);return{[e]:parseFloat(o),[t]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},j4=e=>bs(0,255,e),Ap={...Wo,transform:e=>Math.round(j4(e))},ca={test:Hy("rgb","red"),parse:Ow("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Ap.transform(e)+", "+Ap.transform(t)+", "+Ap.transform(n)+", "+Eu(Lu.transform(s))+")"};function F4(e){let t="",n="",s="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,s+=s,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const cg={test:Hy("#"),parse:F4,transform:ca.transform},nc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ur=nc("deg"),qi=nc("%"),Et=nc("px"),H4=nc("vh"),q4=nc("vw"),vS={...qi,parse:e=>qi.parse(e)/100,transform:e=>qi.transform(e*100)},Ao={test:Hy("hsl","hue"),parse:Ow("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+qi.transform(Eu(t))+", "+qi.transform(Eu(n))+", "+Eu(Lu.transform(s))+")"},Me={test:e=>ca.test(e)||cg.test(e)||Ao.test(e),parse:e=>ca.test(e)?ca.parse(e):Ao.test(e)?Ao.parse(e):cg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ca.transform(e):Ao.transform(e),getAnimatableNone:e=>{const t=Me.parse(e);return t.alpha=0,Me.transform(t)}},G4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function K4(e){return isNaN(e)&&typeof e=="string"&&(e.match(Fy)?.length||0)+(e.match(G4)?.length||0)>0}const Pw="number",Lw="color",Y4="var",Q4="var(",_S="${}",X4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ku(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},o=[];let l=0;const d=t.replace(X4,p=>(Me.test(p)?(s.color.push(l),o.push(Lw),n.push(Me.parse(p))):p.startsWith(Q4)?(s.var.push(l),o.push(Y4),n.push(p)):(s.number.push(l),o.push(Pw),n.push(parseFloat(p))),++l,_S)).split(_S);return{values:n,split:d,indexes:s,types:o}}function kw(e){return ku(e).values}function Uw(e){const{split:t,types:n}=ku(e),s=t.length;return o=>{let l="";for(let c=0;c<s;c++)if(l+=t[c],o[c]!==void 0){const d=n[c];d===Pw?l+=Eu(o[c]):d===Lw?l+=Me.transform(o[c]):l+=o[c]}return l}}const $4=e=>typeof e=="number"?0:Me.test(e)?Me.getAnimatableNone(e):e;function W4(e){const t=kw(e);return Uw(e)(t.map($4))}const Rr={test:K4,parse:kw,createTransformer:Uw,getAnimatableNone:W4};function bp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Z4({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let o=0,l=0,c=0;if(!t)o=l=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,p=2*n-d;o=bp(p,d,e+1/3),l=bp(p,d,e),c=bp(p,d,e-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function If(e,t){return n=>n>0?t:e}const ce=(e,t,n)=>e+(t-e)*n,wp=(e,t,n)=>{const s=e*e,o=n*(t*t-s)+s;return o<0?0:Math.sqrt(o)},J4=[cg,ca,Ao],tL=e=>J4.find(t=>t.test(e));function ES(e){const t=tL(e);if(!t)return!1;let n=t.parse(e);return t===Ao&&(n=Z4(n)),n}const TS=(e,t)=>{const n=ES(e),s=ES(t);if(!n||!s)return If(e,t);const o={...n};return l=>(o.red=wp(n.red,s.red,l),o.green=wp(n.green,s.green,l),o.blue=wp(n.blue,s.blue,l),o.alpha=ce(n.alpha,s.alpha,l),ca.transform(o))},hg=new Set(["none","hidden"]);function eL(e,t){return hg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function nL(e,t){return n=>ce(e,t,n)}function qy(e){return typeof e=="number"?nL:typeof e=="string"?jy(e)?If:Me.test(e)?TS:rL:Array.isArray(e)?zw:typeof e=="object"?Me.test(e)?TS:iL:If}function zw(e,t){const n=[...e],s=n.length,o=e.map((l,c)=>qy(l)(l,t[c]));return l=>{for(let c=0;c<s;c++)n[c]=o[c](l);return n}}function iL(e,t){const n={...e,...t},s={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(s[o]=qy(e[o])(e[o],t[o]));return o=>{for(const l in s)n[l]=s[l](o);return n}}function sL(e,t){const n=[],s={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const l=t.types[o],c=e.indexes[l][s[l]],d=e.values[c]??0;n[o]=d,s[l]++}return n}const rL=(e,t)=>{const n=Rr.createTransformer(t),s=ku(e),o=ku(t);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?hg.has(e)&&!o.values.length||hg.has(t)&&!s.values.length?eL(e,t):tc(zw(sL(s,o),o.values),n):If(e,t)};function Bw(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ce(e,t,n):qy(e)(e,t)}const aL=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>le.update(t,n),stop:()=>wr(t),now:()=>We.isProcessing?We.timestamp:En.now()}},jw=(e,t,n=10)=>{let s="";const o=Math.max(Math.round(t/n),2);for(let l=0;l<o;l++)s+=Math.round(e(l/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Df=2e4;function Gy(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<Df;)t+=n,s=e.next(t);return t>=Df?1/0:t}function oL(e,t=100,n){const s=n({...e,keyframes:[0,t]}),o=Math.min(Gy(s),Df);return{type:"keyframes",ease:l=>s.next(o*l).value/t,duration:Kn(o)}}const lL=5;function Fw(e,t,n){const s=Math.max(t-lL,0);return Tw(n-e(s),t-s)}const ge={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Rp=.001;function uL({duration:e=ge.duration,bounce:t=ge.bounce,velocity:n=ge.velocity,mass:s=ge.mass}){let o,l,c=1-t;c=bs(ge.minDamping,ge.maxDamping,c),e=bs(ge.minDuration,ge.maxDuration,Kn(e)),c<1?(o=g=>{const y=g*c,_=y*e,S=y-n,R=fg(g,c),P=Math.exp(-_);return Rp-S/R*P},l=g=>{const _=g*c*e,S=_*n+n,R=Math.pow(c,2)*Math.pow(g,2)*e,P=Math.exp(-_),U=fg(Math.pow(g,2),c);return(-o(g)+Rp>0?-1:1)*((S-R)*P)/U}):(o=g=>{const y=Math.exp(-g*e),_=(g-n)*e+1;return-Rp+y*_},l=g=>{const y=Math.exp(-g*e),_=(n-g)*(e*e);return y*_});const d=5/e,p=hL(o,l,d);if(e=Hi(e),isNaN(p))return{stiffness:ge.stiffness,damping:ge.damping,duration:e};{const g=Math.pow(p,2)*s;return{stiffness:g,damping:c*2*Math.sqrt(s*g),duration:e}}}const cL=12;function hL(e,t,n){let s=n;for(let o=1;o<cL;o++)s=s-e(s)/t(s);return s}function fg(e,t){return e*Math.sqrt(1-t*t)}const fL=["duration","bounce"],dL=["stiffness","damping","mass"];function SS(e,t){return t.some(n=>e[n]!==void 0)}function mL(e){let t={velocity:ge.velocity,stiffness:ge.stiffness,damping:ge.damping,mass:ge.mass,isResolvedFromDuration:!1,...e};if(!SS(e,dL)&&SS(e,fL))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,l=2*bs(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:ge.mass,stiffness:o,damping:l}}else{const n=uL(e);t={...t,...n,mass:ge.mass},t.isResolvedFromDuration=!0}return t}function xf(e=ge.visualDuration,t=ge.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:o}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:p,damping:g,mass:y,duration:_,velocity:S,isResolvedFromDuration:R}=mL({...n,velocity:-Kn(n.velocity||0)}),P=S||0,U=g/(2*Math.sqrt(p*y)),k=c-l,j=Kn(Math.sqrt(p/y)),G=Math.abs(k)<5;s||(s=G?ge.restSpeed.granular:ge.restSpeed.default),o||(o=G?ge.restDelta.granular:ge.restDelta.default);let Y;if(U<1){const J=fg(j,U);Y=at=>{const C=Math.exp(-U*j*at);return c-C*((P+U*j*k)/J*Math.sin(J*at)+k*Math.cos(J*at))}}else if(U===1)Y=J=>c-Math.exp(-j*J)*(k+(P+j*k)*J);else{const J=j*Math.sqrt(U*U-1);Y=at=>{const C=Math.exp(-U*j*at),w=Math.min(J*at,300);return c-C*((P+U*j*k)*Math.sinh(w)+J*k*Math.cosh(w))/J}}const rt={calculatedDuration:R&&_||null,next:J=>{const at=Y(J);if(R)d.done=J>=_;else{let C=J===0?P:0;U<1&&(C=J===0?Hi(P):Fw(Y,J,at));const w=Math.abs(C)<=s,I=Math.abs(c-at)<=o;d.done=w&&I}return d.value=d.done?c:at,d},toString:()=>{const J=Math.min(Gy(rt),Df),at=jw(C=>rt.next(J*C).value,J,30);return J+"ms "+at},toTransition:()=>{}};return rt}xf.applyToOptions=e=>{const t=oL(e,100,xf);return e.ease=t.ease,e.duration=Hi(t.duration),e.type="keyframes",e};function dg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:p,restDelta:g=.5,restSpeed:y}){const _=e[0],S={done:!1,value:_},R=w=>d!==void 0&&w<d||p!==void 0&&w>p,P=w=>d===void 0?p:p===void 0||Math.abs(d-w)<Math.abs(p-w)?d:p;let U=n*t;const k=_+U,j=c===void 0?k:c(k);j!==k&&(U=j-_);const G=w=>-U*Math.exp(-w/s),Y=w=>j+G(w),rt=w=>{const I=G(w),N=Y(w);S.done=Math.abs(I)<=g,S.value=S.done?j:N};let J,at;const C=w=>{R(S.value)&&(J=w,at=xf({keyframes:[S.value,P(S.value)],velocity:Fw(Y,w,S.value),damping:o,stiffness:l,restDelta:g,restSpeed:y}))};return C(0),{calculatedDuration:null,next:w=>{let I=!1;return!at&&J===void 0&&(I=!0,rt(w),C(w)),J!==void 0&&w>=J?at.next(w-J):(!I&&rt(w),S)}}}function pL(e,t,n){const s=[],o=n||ws.mix||Bw,l=e.length-1;for(let c=0;c<l;c++){let d=o(e[c],e[c+1]);if(t){const p=Array.isArray(t)?t[c]||Yn:t;d=tc(p,d)}s.push(d)}return s}function gL(e,t,{clamp:n=!0,ease:s,mixer:o}={}){const l=e.length;if(Py(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=pL(t,s,o),p=d.length,g=y=>{if(c&&y<e[0])return t[0];let _=0;if(p>1)for(;_<e.length-2&&!(y<e[_+1]);_++);const S=Pu(e[_],e[_+1],y);return d[_](S)};return n?y=>g(bs(e[0],e[l-1],y)):g}function yL(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const o=Pu(0,t,s);e.push(ce(n,1,o))}}function vL(e){const t=[0];return yL(t,e.length-1),t}function _L(e,t){return e.map(n=>n*t)}function EL(e,t){return e.map(()=>t||xw).splice(0,e.length-1)}function Tu({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const o=V4(s)?s.map(yS):yS(s),l={done:!1,value:t[0]},c=_L(n&&n.length===t.length?n:vL(t),e),d=gL(c,t,{ease:Array.isArray(o)?o:EL(t,o)});return{calculatedDuration:e,next:p=>(l.value=d(p),l.done=p>=e,l)}}const TL=e=>e!==null;function Ky(e,{repeat:t,repeatType:n="loop"},s,o=1){const l=e.filter(TL),d=o<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const SL={decay:dg,inertia:dg,tween:Tu,keyframes:Tu,spring:xf};function Hw(e){typeof e.type=="string"&&(e.type=SL[e.type])}class Yy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const AL=e=>e/100;class Qy extends Yy{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==En.now()&&this.tick(En.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Hw(t);const{type:n=Tu,repeat:s=0,repeatDelay:o=0,repeatType:l,velocity:c=0}=t;let{keyframes:d}=t;const p=n||Tu;p!==Tu&&typeof d[0]!="number"&&(this.mixKeyframes=tc(AL,Bw(d[0],d[1])),d=[0,100]);const g=p({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...d].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Gy(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=g}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:o,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:p}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:y,repeat:_,repeatType:S,repeatDelay:R,type:P,onUpdate:U,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const j=this.currentTime-g*(this.playbackSpeed>=0?1:-1),G=this.playbackSpeed>=0?j<0:j>o;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let Y=this.currentTime,rt=s;if(_){const w=Math.min(this.currentTime,o)/d;let I=Math.floor(w),N=w%1;!N&&w>=1&&(N=1),N===1&&I--,I=Math.min(I,_+1),!!(I%2)&&(S==="reverse"?(N=1-N,R&&(N-=R/d)):S==="mirror"&&(rt=c)),Y=bs(0,1,N)*d}const J=G?{done:!1,value:y[0]}:rt.next(Y);l&&(J.value=l(J.value));let{done:at}=J;!G&&p!==null&&(at=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&at);return C&&P!==dg&&(J.value=Ky(y,this.options,k,this.speed)),U&&U(J.value),C&&this.finish(),J}then(t,n){return this.finished.then(t,n)}get duration(){return Kn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Kn(t)}get time(){return Kn(this.currentTime)}set time(t){t=Hi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(En.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Kn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=aL,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(En.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function bL(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ha=e=>e*180/Math.PI,mg=e=>{const t=ha(Math.atan2(e[1],e[0]));return pg(t)},wL={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:mg,rotateZ:mg,skewX:e=>ha(Math.atan(e[1])),skewY:e=>ha(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},pg=e=>(e=e%360,e<0&&(e+=360),e),AS=mg,bS=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),wS=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),RL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:bS,scaleY:wS,scale:e=>(bS(e)+wS(e))/2,rotateX:e=>pg(ha(Math.atan2(e[6],e[5]))),rotateY:e=>pg(ha(Math.atan2(-e[2],e[0]))),rotateZ:AS,rotate:AS,skewX:e=>ha(Math.atan(e[4])),skewY:e=>ha(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function gg(e){return e.includes("scale")?1:0}function yg(e,t){if(!e||e==="none")return gg(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(n)s=RL,o=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=wL,o=d}if(!o)return gg(t);const l=s[t],c=o[1].split(",").map(IL);return typeof l=="function"?l(c):c[l]}const CL=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return yg(n,t)};function IL(e){return parseFloat(e.trim())}const Zo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Jo=new Set(Zo),RS=e=>e===Wo||e===Et,DL=new Set(["x","y","z"]),xL=Zo.filter(e=>!DL.has(e));function VL(e){const t=[];return xL.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const ma={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>yg(t,"x"),y:(e,{transform:t})=>yg(t,"y")};ma.translateX=ma.x;ma.translateY=ma.y;const pa=new Set;let vg=!1,_g=!1,Eg=!1;function qw(){if(_g){const e=Array.from(pa).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const o=VL(s);o.length&&(n.set(s,o),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}_g=!1,vg=!1,pa.forEach(e=>e.complete(Eg)),pa.clear()}function Gw(){pa.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(_g=!0)})}function ML(){Eg=!0,Gw(),qw(),Eg=!1}class Xy{constructor(t,n,s,o,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=o,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(pa.add(this),vg||(vg=!0,le.read(Gw),le.resolveKeyframes(qw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:o}=this;if(t[0]===null){const l=o?.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(s&&n){const d=s.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),o&&l===void 0&&o.set(t[0])}bL(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),pa.delete(this)}cancel(){this.state==="scheduled"&&(pa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const NL=e=>e.startsWith("--");function OL(e,t,n){NL(t)?e.style.setProperty(t,n):e.style[t]=n}const PL=Ly(()=>window.ScrollTimeline!==void 0),LL={};function kL(e,t){const n=Ly(e);return()=>LL[t]??n()}const Kw=kL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),fu=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,CS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fu([0,.65,.55,1]),circOut:fu([.55,0,1,.45]),backIn:fu([.31,.01,.66,-.59]),backOut:fu([.33,1.53,.69,.99])};function Yw(e,t){if(e)return typeof e=="function"?Kw()?jw(e,t):"ease-out":Vw(e)?fu(e):Array.isArray(e)?e.map(n=>Yw(n,t)||CS.easeOut):CS[e]}function UL(e,t,n,{delay:s=0,duration:o=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:p}={},g=void 0){const y={[t]:n};p&&(y.offset=p);const _=Yw(d,o);Array.isArray(_)&&(y.easing=_);const S={delay:s,duration:o,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return g&&(S.pseudoElement=g),e.animate(y,S)}function Qw(e){return typeof e=="function"&&"applyToOptions"in e}function zL({type:e,...t}){return Qw(e)&&Kw()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class BL extends Yy{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:o,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:p}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,Py(typeof t.type!="string");const g=zL(t);this.animation=UL(n,s,o,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=Ky(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):OL(n,s,y),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Kn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Kn(t)}get time(){return Kn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Hi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&PL()?(this.animation.timeline=t,Yn):n(this)}}const Xw={anticipate:Cw,backInOut:Rw,circInOut:Dw};function jL(e){return e in Xw}function FL(e){typeof e.ease=="string"&&jL(e.ease)&&(e.ease=Xw[e.ease])}const IS=10;class HL extends BL{constructor(t){FL(t),Hw(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:o,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new Qy({...c,autoplay:!1}),p=Hi(this.finishedTime??this.time);n.setWithVelocity(d.sample(p-IS).value,d.sample(p).value,IS),d.stop()}}const DS=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Rr.test(e)||e==="0")&&!e.startsWith("url("));function qL(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function GL(e,t,n,s){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=DS(o,t),d=DS(l,t);return!c||!d?!1:qL(e)||(n==="spring"||Qw(n))&&s}function Tg(e){e.duration=0,e.type="keyframes"}const KL=new Set(["opacity","clipPath","filter","transform"]),YL=Ly(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function QL(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:o,damping:l,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return YL()&&n&&KL.has(n)&&(n!=="transform"||!g)&&!p&&!s&&o!=="mirror"&&l!==0&&c!=="inertia"}const XL=40;class $L extends Yy{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:p,motionValue:g,element:y,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=En.now();const S={autoplay:t,delay:n,type:s,repeat:o,repeatDelay:l,repeatType:c,name:p,motionValue:g,element:y,..._},R=y?.KeyframeResolver||Xy;this.keyframeResolver=new R(d,(P,U,k)=>this.onKeyframesResolved(P,U,S,!k),p,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,s,o){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:p,isHandoff:g,onUpdate:y}=s;this.resolvedAt=En.now(),GL(t,l,c,d)||((ws.instantAnimations||!p)&&y?.(Ky(t,s,n)),t[0]=t[t.length-1],Tg(s),s.repeat=0);const S={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>XL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},R=!g&&QL(S)?new HL({...S,element:S.motionValue.owner.current}):new Qy(S);R.finished.then(()=>this.notifyFinished()).catch(Yn),this.pendingTimeline&&(this.stopTimeline=R.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=R}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),ML()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const WL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ZL(e){const t=WL.exec(e);if(!t)return[,];const[,n,s,o]=t;return[`--${n??s}`,o]}function $w(e,t,n=1){const[s,o]=ZL(e);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const c=l.trim();return vw(c)?parseFloat(c):c}return jy(o)?$w(o,t,n+1):o}function $y(e,t){return e?.[t]??e?.default??e}const Ww=new Set(["width","height","top","left","right","bottom",...Zo]),JL={test:e=>e==="auto",parse:e=>e},Zw=e=>t=>t.test(e),Jw=[Wo,Et,qi,ur,q4,H4,JL],xS=e=>Jw.find(Zw(e));function tk(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Ew(e):!0}const ek=new Set(["brightness","contrast","saturate","opacity"]);function nk(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Fy)||[];if(!s)return e;const o=n.replace(s,"");let l=ek.has(t)?1:0;return s!==n&&(l*=100),t+"("+l+o+")"}const ik=/\b([a-z-]*)\(.*?\)/gu,Sg={...Rr,getAnimatableNone:e=>{const t=e.match(ik);return t?t.map(nk).join(" "):e}},VS={...Wo,transform:Math.round},sk={rotate:ur,rotateX:ur,rotateY:ur,rotateZ:ur,scale:jh,scaleX:jh,scaleY:jh,scaleZ:jh,skew:ur,skewX:ur,skewY:ur,distance:Et,translateX:Et,translateY:Et,translateZ:Et,x:Et,y:Et,z:Et,perspective:Et,transformPerspective:Et,opacity:Lu,originX:vS,originY:vS,originZ:Et},Wy={borderWidth:Et,borderTopWidth:Et,borderRightWidth:Et,borderBottomWidth:Et,borderLeftWidth:Et,borderRadius:Et,radius:Et,borderTopLeftRadius:Et,borderTopRightRadius:Et,borderBottomRightRadius:Et,borderBottomLeftRadius:Et,width:Et,maxWidth:Et,height:Et,maxHeight:Et,top:Et,right:Et,bottom:Et,left:Et,padding:Et,paddingTop:Et,paddingRight:Et,paddingBottom:Et,paddingLeft:Et,margin:Et,marginTop:Et,marginRight:Et,marginBottom:Et,marginLeft:Et,backgroundPositionX:Et,backgroundPositionY:Et,...sk,zIndex:VS,fillOpacity:Lu,strokeOpacity:Lu,numOctaves:VS},rk={...Wy,color:Me,backgroundColor:Me,outlineColor:Me,fill:Me,stroke:Me,borderColor:Me,borderTopColor:Me,borderRightColor:Me,borderBottomColor:Me,borderLeftColor:Me,filter:Sg,WebkitFilter:Sg},tR=e=>rk[e];function eR(e,t){let n=tR(e);return n!==Sg&&(n=Rr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const ak=new Set(["auto","none","0"]);function ok(e,t,n){let s=0,o;for(;s<e.length&&!o;){const l=e[s];typeof l=="string"&&!ak.has(l)&&ku(l).values.length&&(o=e[s]),s++}if(o&&n)for(const l of t)e[l]=eR(n,o)}class lk extends Xy{constructor(t,n,s,o,l){super(t,n,s,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),jy(g))){const y=$w(g,n.current);y!==void 0&&(t[p]=y),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!Ww.has(s)||t.length!==2)return;const[o,l]=t,c=xS(o),d=xS(l);if(c!==d)if(RS(c)&&RS(d))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else ma[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let o=0;o<t.length;o++)(t[o]===null||tk(t[o]))&&s.push(o);s.length&&ok(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ma[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(s,o).jump(o,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=ma[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,p])=>{t.getValue(d).set(p)}),this.resolveNoneKeyframes()}}function uk(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const o=n?.[e]??s.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const nR=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function iR(e){return _w(e)&&"offsetHeight"in e}const MS=30,ck=e=>!isNaN(parseFloat(e));class hk{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const o=En.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=En.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=ck(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new ky);const s=this.events[t].add(n);return t==="change"?()=>{s(),le.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=En.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>MS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,MS);return Tw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function jo(e,t){return new hk(e,t)}const{schedule:Zy}=Mw(queueMicrotask,!1),ci={x:!1,y:!1};function sR(){return ci.x||ci.y}function fk(e){return e==="x"||e==="y"?ci[e]?null:(ci[e]=!0,()=>{ci[e]=!1}):ci.x||ci.y?null:(ci.x=ci.y=!0,()=>{ci.x=ci.y=!1})}function rR(e,t){const n=uk(e),s=new AbortController,o={passive:!0,...t,signal:s.signal};return[n,o,()=>s.abort()]}function NS(e){return!(e.pointerType==="touch"||sR())}function dk(e,t,n={}){const[s,o,l]=rR(e,n),c=d=>{if(!NS(d))return;const{target:p}=d,g=t(p,d);if(typeof g!="function"||!p)return;const y=_=>{NS(_)&&(g(_),p.removeEventListener("pointerleave",y))};p.addEventListener("pointerleave",y,o)};return s.forEach(d=>{d.addEventListener("pointerenter",c,o)}),l}const aR=(e,t)=>t?e===t?!0:aR(e,t.parentElement):!1,Jy=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,mk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function pk(e){return mk.has(e.tagName)||e.tabIndex!==-1}const sf=new WeakSet;function OS(e){return t=>{t.key==="Enter"&&e(t)}}function Cp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const gk=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=OS(()=>{if(sf.has(n))return;Cp(n,"down");const o=OS(()=>{Cp(n,"up")}),l=()=>Cp(n,"cancel");n.addEventListener("keyup",o,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function PS(e){return Jy(e)&&!sR()}function yk(e,t,n={}){const[s,o,l]=rR(e,n),c=d=>{const p=d.currentTarget;if(!PS(d))return;sf.add(p);const g=t(p,d),y=(R,P)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",S),sf.has(p)&&sf.delete(p),PS(R)&&typeof g=="function"&&g(R,{success:P})},_=R=>{y(R,p===window||p===document||n.useGlobalTarget||aR(p,R.target))},S=R=>{y(R,!1)};window.addEventListener("pointerup",_,o),window.addEventListener("pointercancel",S,o)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,o),iR(d)&&(d.addEventListener("focus",g=>gk(g,o)),!pk(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function oR(e){return _w(e)&&"ownerSVGElement"in e}function vk(e){return oR(e)&&e.tagName==="svg"}const an=e=>!!(e&&e.getVelocity),_k=[...Jw,Me,Rr],Ek=e=>_k.find(Zw(e)),tv=V.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function LS(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Tk(...e){return t=>{let n=!1;const s=e.map(o=>{const l=LS(o,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let o=0;o<s.length;o++){const l=s[o];typeof l=="function"?l():LS(e[o],null)}}}}function Sk(...e){return V.useCallback(Tk(...e),e)}class Ak extends V.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,o=iR(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=o-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function bk({children:e,isPresent:t,anchorX:n,root:s}){const o=V.useId(),l=V.useRef(null),c=V.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=V.useContext(tv),p=Sk(l,e?.ref);return V.useInsertionEffect(()=>{const{width:g,height:y,top:_,left:S,right:R}=c.current;if(t||!l.current||!g||!y)return;const P=n==="left"?`left: ${S}`:`right: ${R}`;l.current.dataset.motionPopId=o;const U=document.createElement("style");d&&(U.nonce=d);const k=s??document.head;return k.appendChild(U),U.sheet&&U.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${y}px !important;
            ${P}px !important;
            top: ${_}px !important;
          }
        `),()=>{k.contains(U)&&k.removeChild(U)}},[t]),vs.jsx(Ak,{isPresent:t,childRef:l,sizeRef:c,children:V.cloneElement(e,{ref:p})})}const wk=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:o,presenceAffectsLayout:l,mode:c,anchorX:d,root:p})=>{const g=Vy(Rk),y=V.useId();let _=!0,S=V.useMemo(()=>(_=!1,{id:y,initial:t,isPresent:n,custom:o,onExitComplete:R=>{g.set(R,!0);for(const P of g.values())if(!P)return;s&&s()},register:R=>(g.set(R,!1),()=>g.delete(R))}),[n,g,s]);return l&&_&&(S={...S}),V.useMemo(()=>{g.forEach((R,P)=>g.set(P,!1))},[n]),V.useEffect(()=>{!n&&!g.size&&s&&s()},[n]),c==="popLayout"&&(e=vs.jsx(bk,{isPresent:n,anchorX:d,root:p,children:e})),vs.jsx(Zf.Provider,{value:S,children:e})};function Rk(){return new Map}function lR(e=!0){const t=V.useContext(Zf);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=t,l=V.useId();V.useEffect(()=>{if(e)return o(l)},[e]);const c=V.useCallback(()=>e&&s&&s(l),[l,s,e]);return!n&&s?[!1,c]:[!0]}const Fh=e=>e.key||"";function kS(e){const t=[];return V.Children.forEach(e,n=>{V.isValidElement(n)&&t.push(n)}),t}const uR=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",root:p})=>{const[g,y]=lR(c),_=V.useMemo(()=>kS(e),[e]),S=c&&!g?[]:_.map(Fh),R=V.useRef(!0),P=V.useRef(_),U=Vy(()=>new Map),[k,j]=V.useState(_),[G,Y]=V.useState(_);yw(()=>{R.current=!1,P.current=_;for(let at=0;at<G.length;at++){const C=Fh(G[at]);S.includes(C)?U.delete(C):U.get(C)!==!0&&U.set(C,!1)}},[G,S.length,S.join("-")]);const rt=[];if(_!==k){let at=[..._];for(let C=0;C<G.length;C++){const w=G[C],I=Fh(w);S.includes(I)||(at.splice(C,0,w),rt.push(w))}return l==="wait"&&rt.length&&(at=rt),Y(kS(at)),j(_),null}const{forceRender:J}=V.useContext(xy);return vs.jsx(vs.Fragment,{children:G.map(at=>{const C=Fh(at),w=c&&!g?!1:_===G||S.includes(C),I=()=>{if(U.has(C))U.set(C,!0);else return;let N=!0;U.forEach(M=>{M||(N=!1)}),N&&(J?.(),Y(P.current),c&&y?.(),s&&s())};return vs.jsx(wk,{isPresent:w,initial:!R.current||n?void 0:!1,custom:t,presenceAffectsLayout:o,mode:l,root:p,onExitComplete:w?void 0:I,anchorX:d,children:at},C)})})},cR=V.createContext({strict:!1}),US={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fo={};for(const e in US)Fo[e]={isEnabled:t=>US[e].some(n=>!!t[n])};function Ck(e){for(const t in e)Fo[t]={...Fo[t],...e[t]}}const Ik=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Vf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Ik.has(e)}let hR=e=>!Vf(e);function Dk(e){typeof e=="function"&&(hR=t=>t.startsWith("on")?!Vf(t):e(t))}try{Dk(require("@emotion/is-prop-valid").default)}catch{}function xk(e,t,n){const s={};for(const o in e)o==="values"&&typeof e.values=="object"||(hR(o)||n===!0&&Vf(o)||!t&&!Vf(o)||e.draggable&&o.startsWith("onDrag"))&&(s[o]=e[o]);return s}const Jf=V.createContext({});function td(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Uu(e){return typeof e=="string"||Array.isArray(e)}const ev=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],nv=["initial",...ev];function ed(e){return td(e.animate)||nv.some(t=>Uu(e[t]))}function fR(e){return!!(ed(e)||e.variants)}function Vk(e,t){if(ed(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Uu(n)?n:void 0,animate:Uu(s)?s:void 0}}return e.inherit!==!1?t:{}}function Mk(e){const{initial:t,animate:n}=Vk(e,V.useContext(Jf));return V.useMemo(()=>({initial:t,animate:n}),[zS(t),zS(n)])}function zS(e){return Array.isArray(e)?e.join(" "):e}const zu={};function Nk(e){for(const t in e)zu[t]=e[t],By(t)&&(zu[t].isCSSVariable=!0)}function dR(e,{layout:t,layoutId:n}){return Jo.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!zu[e]||e==="opacity")}const Ok={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Pk=Zo.length;function Lk(e,t,n){let s="",o=!0;for(let l=0;l<Pk;l++){const c=Zo[l],d=e[c];if(d===void 0)continue;let p=!0;if(typeof d=="number"?p=d===(c.startsWith("scale")?1:0):p=parseFloat(d)===0,!p||n){const g=nR(d,Wy[c]);if(!p){o=!1;const y=Ok[c]||c;s+=`${y}(${g}) `}n&&(t[c]=g)}}return s=s.trim(),n?s=n(t,o?"":s):o&&(s="none"),s}function iv(e,t,n){const{style:s,vars:o,transformOrigin:l}=e;let c=!1,d=!1;for(const p in t){const g=t[p];if(Jo.has(p)){c=!0;continue}else if(By(p)){o[p]=g;continue}else{const y=nR(g,Wy[p]);p.startsWith("origin")?(d=!0,l[p]=y):s[p]=y}}if(t.transform||(c||n?s.transform=Lk(t,e.transform,n):s.transform&&(s.transform="none")),d){const{originX:p="50%",originY:g="50%",originZ:y=0}=l;s.transformOrigin=`${p} ${g} ${y}`}}const sv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function mR(e,t,n){for(const s in t)!an(t[s])&&!dR(s,n)&&(e[s]=t[s])}function kk({transformTemplate:e},t){return V.useMemo(()=>{const n=sv();return iv(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Uk(e,t){const n=e.style||{},s={};return mR(s,n,e),Object.assign(s,kk(e,t)),s}function zk(e,t){const n={},s=Uk(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const Bk={offset:"stroke-dashoffset",array:"stroke-dasharray"},jk={offset:"strokeDashoffset",array:"strokeDasharray"};function Fk(e,t,n=1,s=0,o=!0){e.pathLength=1;const l=o?Bk:jk;e[l.offset]=Et.transform(-s);const c=Et.transform(t),d=Et.transform(n);e[l.array]=`${c} ${d}`}function pR(e,{attrX:t,attrY:n,attrScale:s,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},p,g,y){if(iv(e,d,g),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:_,style:S}=e;_.transform&&(S.transform=_.transform,delete _.transform),(S.transform||_.transformOrigin)&&(S.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),S.transform&&(S.transformBox=y?.transformBox??"fill-box",delete _.transformBox),t!==void 0&&(_.x=t),n!==void 0&&(_.y=n),s!==void 0&&(_.scale=s),o!==void 0&&Fk(_,o,l,c,!1)}const gR=()=>({...sv(),attrs:{}}),yR=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Hk(e,t,n,s){const o=V.useMemo(()=>{const l=gR();return pR(l,t,yR(s),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};mR(l,e.style,e),o.style={...l,...o.style}}return o}const qk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rv(e){return typeof e!="string"||e.includes("-")?!1:!!(qk.indexOf(e)>-1||/[A-Z]/u.test(e))}function Gk(e,t,n,{latestValues:s},o,l=!1){const d=(rv(e)?Hk:zk)(t,s,o,e),p=xk(t,typeof e=="string",l),g=e!==V.Fragment?{...p,...d,ref:n}:{},{children:y}=t,_=V.useMemo(()=>an(y)?y.get():y,[y]);return V.createElement(e,{...g,children:_})}function BS(e){const t=[{},{}];return e?.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function av(e,t,n,s){if(typeof t=="function"){const[o,l]=BS(s);t=t(n!==void 0?n:e.custom,o,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,l]=BS(s);t=t(n!==void 0?n:e.custom,o,l)}return t}function rf(e){return an(e)?e.get():e}function Kk({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,o){return{latestValues:Yk(n,s,o,e),renderState:t()}}function Yk(e,t,n,s){const o={},l=s(e,{});for(const S in l)o[S]=rf(l[S]);let{initial:c,animate:d}=e;const p=ed(e),g=fR(e);t&&g&&!p&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?d:c;if(_&&typeof _!="boolean"&&!td(_)){const S=Array.isArray(_)?_:[_];for(let R=0;R<S.length;R++){const P=av(e,S[R]);if(P){const{transitionEnd:U,transition:k,...j}=P;for(const G in j){let Y=j[G];if(Array.isArray(Y)){const rt=y?Y.length-1:0;Y=Y[rt]}Y!==null&&(o[G]=Y)}for(const G in U)o[G]=U[G]}}}return o}const vR=e=>(t,n)=>{const s=V.useContext(Jf),o=V.useContext(Zf),l=()=>Kk(e,t,s,o);return n?l():Vy(l)};function ov(e,t,n){const{style:s}=e,o={};for(const l in s)(an(s[l])||t.style&&an(t.style[l])||dR(l,e)||n?.getValue(l)?.liveStyle!==void 0)&&(o[l]=s[l]);return o}const Qk=vR({scrapeMotionValuesFromProps:ov,createRenderState:sv});function _R(e,t,n){const s=ov(e,t,n);for(const o in e)if(an(e[o])||an(t[o])){const l=Zo.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[l]=e[o]}return s}const Xk=vR({scrapeMotionValuesFromProps:_R,createRenderState:gR}),$k=Symbol.for("motionComponentSymbol");function bo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Wk(e,t,n){return V.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):bo(n)&&(n.current=s))},[t])}const lv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Zk="framerAppearId",ER="data-"+lv(Zk),TR=V.createContext({});function Jk(e,t,n,s,o){const{visualElement:l}=V.useContext(Jf),c=V.useContext(cR),d=V.useContext(Zf),p=V.useContext(tv).reducedMotion,g=V.useRef(null);s=s||c.renderer,!g.current&&s&&(g.current=s(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p}));const y=g.current,_=V.useContext(TR);y&&!y.projection&&o&&(y.type==="html"||y.type==="svg")&&t3(g.current,n,o,_);const S=V.useRef(!1);V.useInsertionEffect(()=>{y&&S.current&&y.update(n,d)});const R=n[ER],P=V.useRef(!!R&&!window.MotionHandoffIsComplete?.(R)&&window.MotionHasOptimisedAnimation?.(R));return yw(()=>{y&&(S.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),P.current&&y.animationState&&y.animationState.animateChanges())}),V.useEffect(()=>{y&&(!P.current&&y.animationState&&y.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(R)}),P.current=!1),y.enteringChildren=void 0)}),y}function t3(e,t,n,s){const{layoutId:o,layout:l,drag:c,dragConstraints:d,layoutScroll:p,layoutRoot:g,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:SR(e.parent)),e.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!c||d&&bo(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:p,layoutRoot:g})}function SR(e){if(e)return e.options.allowProjection!==!1?e.projection:SR(e.parent)}function Ip(e,{forwardMotionProps:t=!1}={},n,s){n&&Ck(n);const o=rv(e)?Xk:Qk;function l(d,p){let g;const y={...V.useContext(tv),...d,layoutId:e3(d)},{isStatic:_}=y,S=Mk(d),R=o(d,_);if(!_&&My){n3();const P=i3(y);g=P.MeasureLayout,S.visualElement=Jk(e,R,y,s,P.ProjectionNode)}return vs.jsxs(Jf.Provider,{value:S,children:[g&&S.visualElement?vs.jsx(g,{visualElement:S.visualElement,...y}):null,Gk(e,d,Wk(R,S.visualElement,p),R,_,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=V.forwardRef(l);return c[$k]=e,c}function e3({layoutId:e}){const t=V.useContext(xy).id;return t&&e!==void 0?t+"-"+e:e}function n3(e,t){V.useContext(cR).strict}function i3(e){const{drag:t,layout:n}=Fo;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function s3(e,t){if(typeof Proxy>"u")return Ip;const n=new Map,s=(l,c)=>Ip(l,c,e,t),o=(l,c)=>s(l,c);return new Proxy(o,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,Ip(c,void 0,e,t)),n.get(c))})}function AR({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function r3({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function a3(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Dp(e){return e===void 0||e===1}function Ag({scale:e,scaleX:t,scaleY:n}){return!Dp(e)||!Dp(t)||!Dp(n)}function oa(e){return Ag(e)||bR(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function bR(e){return jS(e.x)||jS(e.y)}function jS(e){return e&&e!=="0%"}function Mf(e,t,n){const s=e-n,o=t*s;return n+o}function FS(e,t,n,s,o){return o!==void 0&&(e=Mf(e,o,s)),Mf(e,n,s)+t}function bg(e,t=0,n=1,s,o){e.min=FS(e.min,t,n,s,o),e.max=FS(e.max,t,n,s,o)}function wR(e,{x:t,y:n}){bg(e.x,t.translate,t.scale,t.originPoint),bg(e.y,n.translate,n.scale,n.originPoint)}const HS=.999999999999,qS=1.0000000000001;function o3(e,t,n,s=!1){const o=n.length;if(!o)return;t.x=t.y=1;let l,c;for(let d=0;d<o;d++){l=n[d],c=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Ro(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,wR(e,c)),s&&oa(l.latestValues)&&Ro(e,l.latestValues))}t.x<qS&&t.x>HS&&(t.x=1),t.y<qS&&t.y>HS&&(t.y=1)}function wo(e,t){e.min=e.min+t,e.max=e.max+t}function GS(e,t,n,s,o=.5){const l=ce(e.min,e.max,o);bg(e,t,n,l,s)}function Ro(e,t){GS(e.x,t.x,t.scaleX,t.scale,t.originX),GS(e.y,t.y,t.scaleY,t.scale,t.originY)}function RR(e,t){return AR(a3(e.getBoundingClientRect(),t))}function l3(e,t,n){const s=RR(e,n),{scroll:o}=t;return o&&(wo(s.x,o.offset.x),wo(s.y,o.offset.y)),s}const KS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Co=()=>({x:KS(),y:KS()}),YS=()=>({min:0,max:0}),ke=()=>({x:YS(),y:YS()}),wg={current:null},CR={current:!1};function u3(){if(CR.current=!0,!!My)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>wg.current=e.matches;e.addEventListener("change",t),t()}else wg.current=!1}const c3=new WeakMap;function h3(e,t,n){for(const s in t){const o=t[s],l=n[s];if(an(o))e.addValue(s,o);else if(an(l))e.addValue(s,jo(o,{owner:e}));else if(l!==o)if(e.hasValue(s)){const c=e.getValue(s);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=e.getStaticValue(s);e.addValue(s,jo(c!==void 0?c:o,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const QS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class f3{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Xy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=En.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,le.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=ed(n),this.isVariantNode=fR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in _){const R=_[S];p[S]!==void 0&&an(R)&&R.set(p[S])}}mount(t){this.current=t,c3.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),CR.current||u3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:wg.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),wr(this.notifyUpdate),wr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Jo.has(t);s&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&le.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Fo){const n=Fo[t];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[t]&&o&&s(this.props)&&(this.features[t]=new o(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ke()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<QS.length;s++){const o=QS[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,c=t[l];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=h3(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=jo(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(vw(s)||Ew(s))?s=parseFloat(s):!Ek(s)&&Rr.test(n)&&(s=eR(t,n)),this.setBaseTarget(t,an(s)?s.get():s)),an(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=av(this.props,n,this.presenceContext?.custom);l&&(s=l[t])}if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!an(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new ky),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Zy.render(this.render)}}class IR extends f3{constructor(){super(...arguments),this.KeyframeResolver=lk}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;an(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function DR(e,{style:t,vars:n},s,o){const l=e.style;let c;for(c in t)l[c]=t[c];o?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function d3(e){return window.getComputedStyle(e)}class m3 extends IR{constructor(){super(...arguments),this.type="html",this.renderInstance=DR}readValueFromInstance(t,n){if(Jo.has(n))return this.projection?.isProjecting?gg(n):CL(t,n);{const s=d3(t),o=(By(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return RR(t,n)}build(t,n,s){iv(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return ov(t,n,s)}}const xR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function p3(e,t,n,s){DR(e,t,void 0,s);for(const o in t.attrs)e.setAttribute(xR.has(o)?o:lv(o),t.attrs[o])}class g3 extends IR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ke}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Jo.has(n)){const s=tR(n);return s&&s.default||0}return n=xR.has(n)?n:lv(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return _R(t,n,s)}build(t,n,s){pR(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,o){p3(t,n,s,o)}mount(t){this.isSVGTag=yR(t.tagName),super.mount(t)}}const y3=(e,t)=>rv(e)?new g3(t):new m3(t,{allowProjection:e!==V.Fragment});function Mo(e,t,n){const s=e.getProps();return av(s,t,n!==void 0?n:s.custom,e)}const Rg=e=>Array.isArray(e);function v3(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,jo(n))}function _3(e){return Rg(e)?e[e.length-1]||0:e}function E3(e,t){const n=Mo(e,t);let{transitionEnd:s={},transition:o={},...l}=n||{};l={...l,...s};for(const c in l){const d=_3(l[c]);v3(e,c,d)}}function T3(e){return!!(an(e)&&e.add)}function Cg(e,t){const n=e.getValue("willChange");if(T3(n))return n.add(t);if(!n&&ws.WillChange){const s=new ws.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function VR(e){return e.props[ER]}const S3=e=>e!==null;function A3(e,{repeat:t,repeatType:n="loop"},s){const o=e.filter(S3),l=t&&n!=="loop"&&t%2===1?0:o.length-1;return o[l]}const b3={type:"spring",stiffness:500,damping:25,restSpeed:10},w3=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),R3={type:"keyframes",duration:.8},C3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},I3=(e,{keyframes:t})=>t.length>2?R3:Jo.has(e)?e.startsWith("scale")?w3(t[1]):b3:C3;function D3({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:d,from:p,elapsed:g,...y}){return!!Object.keys(y).length}const uv=(e,t,n,s={},o,l)=>c=>{const d=$y(s,e)||{},p=d.delay||s.delay||0;let{elapsed:g=0}=s;g=g-Hi(p);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:S=>{t.set(S),d.onUpdate&&d.onUpdate(S)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:o};D3(d)||Object.assign(y,I3(e,y)),y.duration&&(y.duration=Hi(y.duration)),y.repeatDelay&&(y.repeatDelay=Hi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Tg(y),y.delay===0&&(_=!0)),(ws.instantAnimations||ws.skipAnimations)&&(_=!0,Tg(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,_&&!l&&t.get()!==void 0){const S=A3(y.keyframes,d);if(S!==void 0){le.update(()=>{y.onUpdate(S),y.onComplete()});return}}return d.isSync?new Qy(y):new $L(y)};function x3({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function MR(e,t,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...d}=t;s&&(l=s);const p=[],g=o&&e.animationState&&e.animationState.getState()[o];for(const y in d){const _=e.getValue(y,e.latestValues[y]??null),S=d[y];if(S===void 0||g&&x3(g,y))continue;const R={delay:n,...$y(l||{},y)},P=_.get();if(P!==void 0&&!_.isAnimating&&!Array.isArray(S)&&S===P&&!R.velocity)continue;let U=!1;if(window.MotionHandoffAnimation){const j=VR(e);if(j){const G=window.MotionHandoffAnimation(j,y,le);G!==null&&(R.startTime=G,U=!0)}}Cg(e,y),_.start(uv(y,_,S,e.shouldReduceMotion&&Ww.has(y)?{type:!1}:R,e,U));const k=_.animation;k&&p.push(k)}return c&&Promise.all(p).then(()=>{le.update(()=>{c&&E3(e,c)})}),p}function NR(e,t,n,s=0,o=1){const l=Array.from(e).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),c=e.size,d=(c-1)*s;return typeof n=="function"?n(l,c):o===1?l*s:d-l*s}function Ig(e,t,n={}){const s=Mo(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const l=s?()=>Promise.all(MR(e,s,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:_}=o;return V3(e,t,p,g,y,_,n)}:()=>Promise.resolve(),{when:d}=o;if(d){const[p,g]=d==="beforeChildren"?[l,c]:[c,l];return p().then(()=>g())}else return Promise.all([l(),c(n.delay)])}function V3(e,t,n=0,s=0,o=0,l=1,c){const d=[];for(const p of e.variantChildren)p.notify("AnimationStart",t),d.push(Ig(p,t,{...c,delay:n+(typeof s=="function"?0:s)+NR(e.variantChildren,p,s,o,l)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(d)}function M3(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const o=t.map(l=>Ig(e,l,n));s=Promise.all(o)}else if(typeof t=="string")s=Ig(e,t,n);else{const o=typeof t=="function"?Mo(e,t,n.custom):t;s=Promise.all(MR(e,o,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function OR(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const N3=nv.length;function PR(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?PR(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<N3;n++){const s=nv[n],o=e.props[s];(Uu(o)||o===!1)&&(t[s]=o)}return t}const O3=[...ev].reverse(),P3=ev.length;function L3(e){return t=>Promise.all(t.map(({animation:n,options:s})=>M3(e,n,s)))}function k3(e){let t=L3(e),n=XS(),s=!0;const o=p=>(g,y)=>{const _=Mo(e,y,p==="exit"?e.presenceContext?.custom:void 0);if(_){const{transition:S,transitionEnd:R,...P}=_;g={...g,...P,...R}}return g};function l(p){t=p(e)}function c(p){const{props:g}=e,y=PR(e.parent)||{},_=[],S=new Set;let R={},P=1/0;for(let k=0;k<P3;k++){const j=O3[k],G=n[j],Y=g[j]!==void 0?g[j]:y[j],rt=Uu(Y),J=j===p?G.isActive:null;J===!1&&(P=k);let at=Y===y[j]&&Y!==g[j]&&rt;if(at&&s&&e.manuallyAnimateOnMount&&(at=!1),G.protectedKeys={...R},!G.isActive&&J===null||!Y&&!G.prevProp||td(Y)||typeof Y=="boolean")continue;const C=U3(G.prevProp,Y);let w=C||j===p&&G.isActive&&!at&&rt||k>P&&rt,I=!1;const N=Array.isArray(Y)?Y:[Y];let M=N.reduce(o(j),{});J===!1&&(M={});const{prevResolvedValues:B={}}=G,D={...B,...M},te=ot=>{w=!0,S.has(ot)&&(I=!0,S.delete(ot)),G.needsAnimating[ot]=!0;const ft=e.getValue(ot);ft&&(ft.liveStyle=!1)};for(const ot in D){const ft=M[ot],It=B[ot];if(R.hasOwnProperty(ot))continue;let Nt=!1;Rg(ft)&&Rg(It)?Nt=!OR(ft,It):Nt=ft!==It,Nt?ft!=null?te(ot):S.add(ot):ft!==void 0&&S.has(ot)?te(ot):G.protectedKeys[ot]=!0}G.prevProp=Y,G.prevResolvedValues=M,G.isActive&&(R={...R,...M}),s&&e.blockInitialAnimation&&(w=!1);const de=at&&C;w&&(!de||I)&&_.push(...N.map(ot=>{const ft={type:j};if(typeof ot=="string"&&s&&!de&&e.manuallyAnimateOnMount&&e.parent){const{parent:It}=e,Nt=Mo(It,ot);if(It.enteringChildren&&Nt){const{delayChildren:L}=Nt.transition||{};ft.delay=NR(It.enteringChildren,e,L)}}return{animation:ot,options:ft}}))}if(S.size){const k={};if(typeof g.initial!="boolean"){const j=Mo(e,Array.isArray(g.initial)?g.initial[0]:g.initial);j&&j.transition&&(k.transition=j.transition)}S.forEach(j=>{const G=e.getBaseTarget(j),Y=e.getValue(j);Y&&(Y.liveStyle=!0),k[j]=G??null}),_.push({animation:k})}let U=!!_.length;return s&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(U=!1),s=!1,U?t(_):Promise.resolve()}function d(p,g){if(n[p].isActive===g)return Promise.resolve();e.variantChildren?.forEach(_=>_.animationState?.setActive(p,g)),n[p].isActive=g;const y=c(p);for(const _ in n)n[_].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=XS()}}}function U3(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!OR(t,e):!1}function ra(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function XS(){return{animate:ra(!0),whileInView:ra(),whileHover:ra(),whileTap:ra(),whileDrag:ra(),whileFocus:ra(),exit:ra()}}class Cr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class z3 extends Cr{constructor(t){super(t),t.animationState||(t.animationState=k3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();td(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let B3=0;class j3 extends Cr{constructor(){super(...arguments),this.id=B3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const F3={animation:{Feature:z3},exit:{Feature:j3}};function Bu(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function ic(e){return{point:{x:e.pageX,y:e.pageY}}}const H3=e=>t=>Jy(t)&&e(t,ic(t));function Su(e,t,n,s){return Bu(e,t,H3(n),s)}const LR=1e-4,q3=1-LR,G3=1+LR,kR=.01,K3=0-kR,Y3=0+kR;function hn(e){return e.max-e.min}function Q3(e,t,n){return Math.abs(e-t)<=n}function $S(e,t,n,s=.5){e.origin=s,e.originPoint=ce(t.min,t.max,e.origin),e.scale=hn(n)/hn(t),e.translate=ce(n.min,n.max,e.origin)-e.originPoint,(e.scale>=q3&&e.scale<=G3||isNaN(e.scale))&&(e.scale=1),(e.translate>=K3&&e.translate<=Y3||isNaN(e.translate))&&(e.translate=0)}function Au(e,t,n,s){$S(e.x,t.x,n.x,s?s.originX:void 0),$S(e.y,t.y,n.y,s?s.originY:void 0)}function WS(e,t,n){e.min=n.min+t.min,e.max=e.min+hn(t)}function X3(e,t,n){WS(e.x,t.x,n.x),WS(e.y,t.y,n.y)}function ZS(e,t,n){e.min=t.min-n.min,e.max=e.min+hn(t)}function Nf(e,t,n){ZS(e.x,t.x,n.x),ZS(e.y,t.y,n.y)}function Hn(e){return[e("x"),e("y")]}const UR=({current:e})=>e?e.ownerDocument.defaultView:null,JS=(e,t)=>Math.abs(e-t);function $3(e,t){const n=JS(e.x,t.x),s=JS(e.y,t.y);return Math.sqrt(n**2+s**2)}class zR{constructor(t,n,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Vp(this.lastMoveEventInfo,this.history),R=this.startEvent!==null,P=$3(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!R&&!P)return;const{point:U}=S,{timestamp:k}=We;this.history.push({...U,timestamp:k});const{onStart:j,onMove:G}=this.handlers;R||(j&&j(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),G&&G(this.lastMoveEvent,S)},this.handlePointerMove=(S,R)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=xp(R,this.transformPagePoint),le.update(this.updatePoint,!0)},this.handlePointerUp=(S,R)=>{this.end();const{onEnd:P,onSessionEnd:U,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=Vp(S.type==="pointercancel"?this.lastMoveEventInfo:xp(R,this.transformPagePoint),this.history);this.startEvent&&P&&P(S,j),U&&U(S,j)},!Jy(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=o||window;const d=ic(t),p=xp(d,this.transformPagePoint),{point:g}=p,{timestamp:y}=We;this.history=[{...g,timestamp:y}];const{onSessionStart:_}=n;_&&_(t,Vp(p,this.history)),this.removeListeners=tc(Su(this.contextWindow,"pointermove",this.handlePointerMove),Su(this.contextWindow,"pointerup",this.handlePointerUp),Su(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),wr(this.updatePoint)}}function xp(e,t){return t?{point:t(e.point)}:e}function tA(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Vp({point:e},t){return{point:e,delta:tA(e,BR(t)),offset:tA(e,W3(t)),velocity:Z3(t,.1)}}function W3(e){return e[0]}function BR(e){return e[e.length-1]}function Z3(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const o=BR(e);for(;n>=0&&(s=e[n],!(o.timestamp-s.timestamp>Hi(t)));)n--;if(!s)return{x:0,y:0};const l=Kn(o.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-s.x)/l,y:(o.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function J3(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?ce(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?ce(n,e,s.max):Math.min(e,n)),e}function eA(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function t6(e,{top:t,left:n,bottom:s,right:o}){return{x:eA(e.x,n,o),y:eA(e.y,t,s)}}function nA(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function e6(e,t){return{x:nA(e.x,t.x),y:nA(e.y,t.y)}}function n6(e,t){let n=.5;const s=hn(e),o=hn(t);return o>s?n=Pu(t.min,t.max-s,e.min):s>o&&(n=Pu(e.min,e.max-o,t.min)),bs(0,1,n)}function i6(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Dg=.35;function s6(e=Dg){return e===!1?e=0:e===!0&&(e=Dg),{x:iA(e,"left","right"),y:iA(e,"top","bottom")}}function iA(e,t,n){return{min:sA(e,t),max:sA(e,n)}}function sA(e,t){return typeof e=="number"?e:e[t]||0}const r6=new WeakMap;class a6{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ke(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const l=_=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ic(_).point)},c=(_,S)=>{const{drag:R,dragPropagation:P,onDragStart:U}=this.getProps();if(R&&!P&&(this.openDragLock&&this.openDragLock(),this.openDragLock=fk(R),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hn(j=>{let G=this.getAxisMotionValue(j).get()||0;if(qi.test(G)){const{projection:Y}=this.visualElement;if(Y&&Y.layout){const rt=Y.layout.layoutBox[j];rt&&(G=hn(rt)*(parseFloat(G)/100))}}this.originPoint[j]=G}),U&&le.postRender(()=>U(_,S)),Cg(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},d=(_,S)=>{this.latestPointerEvent=_,this.latestPanInfo=S;const{dragPropagation:R,dragDirectionLock:P,onDirectionLock:U,onDrag:k}=this.getProps();if(!R&&!this.openDragLock)return;const{offset:j}=S;if(P&&this.currentDirection===null){this.currentDirection=o6(j),this.currentDirection!==null&&U&&U(this.currentDirection);return}this.updateAxis("x",S.point,j),this.updateAxis("y",S.point,j),this.visualElement.render(),k&&k(_,S)},p=(_,S)=>{this.latestPointerEvent=_,this.latestPanInfo=S,this.stop(_,S),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Hn(_=>this.getAnimationState(_)==="paused"&&this.getAxisMotionValue(_).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new zR(t,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:UR(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,o=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!o||!s)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&le.postRender(()=>d(s,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:o}=this.getProps();if(!s||!Hh(t,o,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=J3(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&bo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=t6(s.layoutBox,t):this.constraints=!1,this.elastic=s6(n),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Hn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=i6(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!bo(t))return!1;const s=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=l3(s,o.root,this.visualElement.getTransformPagePoint());let c=e6(o.layout.layoutBox,l);if(n){const d=n(r3(c));this.hasMutatedConstraints=!!d,d&&(c=AR(d))}return c}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),p=this.constraints||{},g=Hn(y=>{if(!Hh(y,n,this.currentDirection))return;let _=p&&p[y]||{};c&&(_={min:0,max:0});const S=o?200:1e6,R=o?40:1e7,P={type:"inertia",velocity:s?t[y]:0,bounceStiffness:S,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,P)});return Promise.all(g).then(d)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Cg(this.visualElement,t),s.start(uv(t,s,0,n,this.visualElement,!1))}stopAnimation(){Hn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Hn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Hn(n=>{const{drag:s}=this.getProps();if(!Hh(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:d}=o.layout.layoutBox[n];l.set(t[n]-ce(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!bo(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Hn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const p=d.get();o[c]=n6({min:p,max:p},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Hn(c=>{if(!Hh(c,t,null))return;const d=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];d.set(ce(p,g,o[c]))})}addListeners(){if(!this.visualElement.current)return;r6.set(this.visualElement,this);const t=this.visualElement.current,n=Su(t,"pointerdown",p=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(p)}),s=()=>{const{dragConstraints:p}=this.getProps();bo(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),le.read(s);const c=Bu(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Hn(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=p[y].translate,_.set(_.get()+p[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=Dg,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Hh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function o6(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class l6 extends Cr{constructor(t){super(t),this.removeGroupControls=Yn,this.removeListeners=Yn,this.controls=new a6(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Yn}unmount(){this.removeGroupControls(),this.removeListeners()}}const rA=e=>(t,n)=>{e&&le.postRender(()=>e(t,n))};class u6 extends Cr{constructor(){super(...arguments),this.removePointerDownListener=Yn}onPointerDown(t){this.session=new zR(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:UR(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:rA(t),onStart:rA(n),onMove:s,onEnd:(l,c)=>{delete this.session,o&&le.postRender(()=>o(l,c))}}}mount(){this.removePointerDownListener=Su(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const af={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function aA(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ou={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Et.test(e))e=parseFloat(e);else return e;const n=aA(e,t.target.x),s=aA(e,t.target.y);return`${n}% ${s}%`}},c6={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,o=Rr.parse(e);if(o.length>5)return s;const l=Rr.createTransformer(e),c=typeof o[0]!="number"?1:0,d=n.x.scale*t.x,p=n.y.scale*t.y;o[0+c]/=d,o[1+c]/=p;const g=ce(d,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),l(o)}};let Mp=!1;class h6 extends V.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:l}=t;Nk(f6),l&&(n.group&&n.group.add(l),s&&s.register&&o&&s.register(l),Mp&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),af.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:o,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,Mp=!0,o||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||le.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Zy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=t;Mp=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function jR(e){const[t,n]=lR(),s=V.useContext(xy);return vs.jsx(h6,{...e,layoutGroup:s,switchLayoutGroup:V.useContext(TR),isPresent:t,safeToRemove:n})}const f6={borderRadius:{...ou,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ou,borderTopRightRadius:ou,borderBottomLeftRadius:ou,borderBottomRightRadius:ou,boxShadow:c6};function d6(e,t,n){const s=an(e)?e:jo(e);return s.start(uv("",s,t,n)),s.animation}const m6=(e,t)=>e.depth-t.depth;class p6{constructor(){this.children=[],this.isDirty=!1}add(t){Ny(this.children,t),this.isDirty=!0}remove(t){Oy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(m6),this.isDirty=!1,this.children.forEach(t)}}function g6(e,t){const n=En.now(),s=({timestamp:o})=>{const l=o-n;l>=t&&(wr(s),e(l-t))};return le.setup(s,!0),()=>wr(s)}const FR=["TopLeft","TopRight","BottomLeft","BottomRight"],y6=FR.length,oA=e=>typeof e=="string"?parseFloat(e):e,lA=e=>typeof e=="number"||Et.test(e);function v6(e,t,n,s,o,l){o?(e.opacity=ce(0,n.opacity??1,_6(s)),e.opacityExit=ce(t.opacity??1,0,E6(s))):l&&(e.opacity=ce(t.opacity??1,n.opacity??1,s));for(let c=0;c<y6;c++){const d=`border${FR[c]}Radius`;let p=uA(t,d),g=uA(n,d);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||lA(p)===lA(g)?(e[d]=Math.max(ce(oA(p),oA(g),s),0),(qi.test(g)||qi.test(p))&&(e[d]+="%")):e[d]=g}(t.rotate||n.rotate)&&(e.rotate=ce(t.rotate||0,n.rotate||0,s))}function uA(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const _6=HR(0,.5,Iw),E6=HR(.5,.95,Yn);function HR(e,t,n){return s=>s<e?0:s>t?1:n(Pu(e,t,s))}function cA(e,t){e.min=t.min,e.max=t.max}function ui(e,t){cA(e.x,t.x),cA(e.y,t.y)}function hA(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function fA(e,t,n,s,o){return e-=t,e=Mf(e,1/n,s),o!==void 0&&(e=Mf(e,1/o,s)),e}function T6(e,t=0,n=1,s=.5,o,l=e,c=e){if(qi.test(t)&&(t=parseFloat(t),t=ce(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=ce(l.min,l.max,s);e===l&&(d-=t),e.min=fA(e.min,t,n,d,o),e.max=fA(e.max,t,n,d,o)}function dA(e,t,[n,s,o],l,c){T6(e,t[n],t[s],t[o],t.scale,l,c)}const S6=["x","scaleX","originX"],A6=["y","scaleY","originY"];function mA(e,t,n,s){dA(e.x,t,S6,n?n.x:void 0,s?s.x:void 0),dA(e.y,t,A6,n?n.y:void 0,s?s.y:void 0)}function pA(e){return e.translate===0&&e.scale===1}function qR(e){return pA(e.x)&&pA(e.y)}function gA(e,t){return e.min===t.min&&e.max===t.max}function b6(e,t){return gA(e.x,t.x)&&gA(e.y,t.y)}function yA(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function GR(e,t){return yA(e.x,t.x)&&yA(e.y,t.y)}function vA(e){return hn(e.x)/hn(e.y)}function _A(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class w6{constructor(){this.members=[]}add(t){Ny(this.members,t),t.scheduleRender()}remove(t){if(Oy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function R6(e,t,n){let s="";const o=e.x.translate/t.x,l=e.y.translate/t.y,c=n?.z||0;if((o||l||c)&&(s=`translate3d(${o}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:g,rotate:y,rotateX:_,rotateY:S,skewX:R,skewY:P}=n;g&&(s=`perspective(${g}px) ${s}`),y&&(s+=`rotate(${y}deg) `),_&&(s+=`rotateX(${_}deg) `),S&&(s+=`rotateY(${S}deg) `),R&&(s+=`skewX(${R}deg) `),P&&(s+=`skewY(${P}deg) `)}const d=e.x.scale*t.x,p=e.y.scale*t.y;return(d!==1||p!==1)&&(s+=`scale(${d}, ${p})`),s||"none"}const Np=["","X","Y","Z"],C6=1e3;let I6=0;function Op(e,t,n,s){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),s&&(s[e]=0))}function KR(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=VR(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",le,!(o||l))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&KR(s)}function YR({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(c={},d=t?.()){this.id=I6++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(V6),this.nodes.forEach(P6),this.nodes.forEach(L6),this.nodes.forEach(M6)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new p6)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new ky),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const p=this.eventHandlers.get(c);p&&p.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=oR(c)&&!vk(c),this.instance=c;const{layoutId:d,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||d)&&(this.isLayoutDirty=!0),e){let y,_=0;const S=()=>this.root.updateBlockedByResize=!1;le.read(()=>{_=window.innerWidth}),e(c,()=>{const R=window.innerWidth;R!==_&&(_=R,this.root.updateBlockedByResize=!0,y&&y(),y=g6(S,250),af.hasAnimatedSinceResize&&(af.hasAnimatedSinceResize=!1,this.nodes.forEach(SA)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:S,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||g.getDefaultTransition()||j6,{onLayoutAnimationStart:U,onLayoutAnimationComplete:k}=g.getProps(),j=!this.targetLayout||!GR(this.targetLayout,R),G=!_&&S;if(this.options.layoutRoot||this.resumeFrom||G||_&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Y={...$y(P,"layout"),onPlay:U,onComplete:k};(g.shouldReduceMotion||this.options.layoutRoot)&&(Y.delay=0,Y.type=!1),this.startAnimation(Y),this.setAnimationOrigin(y,G)}else _||SA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),wr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(k6),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&KR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:d,layout:p}=this.options;if(d===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(EA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(TA);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(O6),this.nodes.forEach(D6),this.nodes.forEach(x6)):this.nodes.forEach(TA),this.clearAllSnapshots();const d=En.now();We.delta=bs(0,1e3/60,d-We.timestamp),We.timestamp=d,We.isProcessing=!0,Sp.update.process(We),Sp.preRender.process(We),Sp.render.process(We),We.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Zy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(N6),this.sharedNodes.forEach(U6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,le.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){le.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hn(this.snapshot.measuredBox.x)&&!hn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ke(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const p=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!qR(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;c&&this.instance&&(d||oa(this.latestValues)||y)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let p=this.removeElementScroll(d);return c&&(p=this.removeTransform(p)),F6(p),{animationId:this.root.animationId,measuredBox:d,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return ke();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(H6))){const{scroll:g}=this.root;g&&(wo(d.x,g.offset.x),wo(d.y,g.offset.y))}return d}removeElementScroll(c){const d=ke();if(ui(d,c),this.scroll?.wasRoot)return d;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:y,options:_}=g;g!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&ui(d,c),wo(d.x,y.offset.x),wo(d.y,y.offset.y))}return d}applyTransform(c,d=!1){const p=ke();ui(p,c);for(let g=0;g<this.path.length;g++){const y=this.path[g];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Ro(p,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),oa(y.latestValues)&&Ro(p,y.latestValues)}return oa(this.latestValues)&&Ro(p,this.latestValues),p}removeTransform(c){const d=ke();ui(d,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!oa(g.latestValues))continue;Ag(g.latestValues)&&g.updateSnapshot();const y=ke(),_=g.measurePageBox();ui(y,_),mA(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return oa(this.latestValues)&&mA(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==We.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!this.layout||!(y||_))return;this.resolvedRelativeTargetAt=We.timestamp;const S=this.getClosestProjectingParent();S&&this.linkedParentVersion!==S.layoutVersion&&!S.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(S&&S.layout?this.createRelativeTarget(S,this.layout.layoutBox,S.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ke(),this.targetWithTransforms=ke()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),X3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ui(this.target,this.layout.layoutBox),wR(this.target,this.targetDelta)):ui(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?this.createRelativeTarget(S,this.target,S.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Ag(this.parent.latestValues)||bR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,p){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ke(),this.relativeTargetOrigin=ke(),Nf(this.relativeTargetOrigin,d,p),ui(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===We.timestamp&&(p=!1),p)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;ui(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,S=this.treeScale.y;o3(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ke());const{target:R}=c;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(hA(this.prevProjectionDelta.x,this.projectionDelta.x),hA(this.prevProjectionDelta.y,this.projectionDelta.y)),Au(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==S||!_A(this.projectionDelta.x,this.prevProjectionDelta.x)||!_A(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Co(),this.projectionDelta=Co(),this.projectionDeltaWithTransform=Co()}setAnimationOrigin(c,d=!1){const p=this.snapshot,g=p?p.latestValues:{},y={...this.latestValues},_=Co();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const S=ke(),R=p?p.source:void 0,P=this.layout?this.layout.source:void 0,U=R!==P,k=this.getStack(),j=!k||k.members.length<=1,G=!!(U&&!j&&this.options.crossfade===!0&&!this.path.some(B6));this.animationProgress=0;let Y;this.mixTargetDelta=rt=>{const J=rt/1e3;AA(_.x,c.x,J),AA(_.y,c.y,J),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Nf(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),z6(this.relativeTarget,this.relativeTargetOrigin,S,J),Y&&b6(this.relativeTarget,Y)&&(this.isProjectionDirty=!1),Y||(Y=ke()),ui(Y,this.relativeTarget)),U&&(this.animationValues=y,v6(y,g,this.latestValues,J,G,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=J},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(wr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=le.update(()=>{af.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=jo(0)),this.currentAnimation=d6(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(C6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:p,layout:g,latestValues:y}=c;if(!(!d||!p||!g)){if(this!==c&&this.layout&&g&&QR(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||ke();const _=hn(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+_;const S=hn(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+S}ui(d,p),Ro(d,y),Au(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new w6),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(d=!0),!d)return;const g={};p.z&&Op("z",c,g,this.animationValues);for(let y=0;y<Np.length;y++)Op(`rotate${Np[y]}`,c,g,this.animationValues),Op(`skew${Np[y]}`,c,g,this.animationValues);c.render();for(const y in g)c.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=rf(d?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=rf(d?.pointerEvents)||""),this.hasProjected&&!oa(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let _=R6(this.projectionDeltaWithTransform,this.treeScale,y);p&&(_=p(y,_)),c.transform=_;const{x:S,y:R}=this.projectionDelta;c.transformOrigin=`${S.origin*100}% ${R.origin*100}% 0`,g.animationValues?c.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const P in zu){if(y[P]===void 0)continue;const{correct:U,applyTo:k,isCSSVariable:j}=zu[P],G=_==="none"?y[P]:U(y[P],g);if(k){const Y=k.length;for(let rt=0;rt<Y;rt++)c[k[rt]]=G}else j?this.options.visualElement.renderState.vars[P]=G:c[P]=G}this.options.layoutId&&(c.pointerEvents=g===this?rf(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(EA),this.root.sharedNodes.clear()}}}function D6(e){e.updateLayout()}function x6(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:o}=e.options,l=t.source!==e.layout.source;o==="size"?Hn(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],S=hn(_);_.min=n[y].min,_.max=_.min+S}):QR(o,t.layoutBox,n)&&Hn(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],S=hn(n[y]);_.max=_.min+S,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+S)});const c=Co();Au(c,n,t.layoutBox);const d=Co();l?Au(d,e.applyTransform(s,!0),t.measuredBox):Au(d,n,t.layoutBox);const p=!qR(c);let g=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:S}=y;if(_&&S){const R=ke();Nf(R,t.layoutBox,_.layoutBox);const P=ke();Nf(P,n,S.layoutBox),GR(R,P)||(g=!0),y.options.layoutRoot&&(e.relativeTarget=P,e.relativeTargetOrigin=R,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function V6(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function M6(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function N6(e){e.clearSnapshot()}function EA(e){e.clearMeasurements()}function TA(e){e.isLayoutDirty=!1}function O6(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function SA(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function P6(e){e.resolveTargetDelta()}function L6(e){e.calcProjection()}function k6(e){e.resetSkewAndRotation()}function U6(e){e.removeLeadSnapshot()}function AA(e,t,n){e.translate=ce(t.translate,0,n),e.scale=ce(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function bA(e,t,n,s){e.min=ce(t.min,n.min,s),e.max=ce(t.max,n.max,s)}function z6(e,t,n,s){bA(e.x,t.x,n.x,s),bA(e.y,t.y,n.y,s)}function B6(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const j6={duration:.45,ease:[.4,0,.1,1]},wA=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),RA=wA("applewebkit/")&&!wA("chrome/")?Math.round:Yn;function CA(e){e.min=RA(e.min),e.max=RA(e.max)}function F6(e){CA(e.x),CA(e.y)}function QR(e,t,n){return e==="position"||e==="preserve-aspect"&&!Q3(vA(t),vA(n),.2)}function H6(e){return e!==e.root&&e.scroll?.wasRoot}const q6=YR({attachResizeListener:(e,t)=>Bu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Pp={current:void 0},XR=YR({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Pp.current){const e=new q6({});e.mount(window),e.setOptions({layoutScroll:!0}),Pp.current=e}return Pp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),G6={pan:{Feature:u6},drag:{Feature:l6,ProjectionNode:XR,MeasureLayout:jR}};function IA(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=s[o];l&&le.postRender(()=>l(t,ic(t)))}class K6 extends Cr{mount(){const{current:t}=this.node;t&&(this.unmount=dk(t,(n,s)=>(IA(this.node,s,"Start"),o=>IA(this.node,o,"End"))))}unmount(){}}class Y6 extends Cr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=tc(Bu(this.node.current,"focus",()=>this.onFocus()),Bu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function DA(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=s[o];l&&le.postRender(()=>l(t,ic(t)))}class Q6 extends Cr{mount(){const{current:t}=this.node;t&&(this.unmount=yk(t,(n,s)=>(DA(this.node,s,"Start"),(o,{success:l})=>DA(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const xg=new WeakMap,Lp=new WeakMap,X6=e=>{const t=xg.get(e.target);t&&t(e)},$6=e=>{e.forEach(X6)};function W6({root:e,...t}){const n=e||document;Lp.has(n)||Lp.set(n,{});const s=Lp.get(n),o=JSON.stringify(t);return s[o]||(s[o]=new IntersectionObserver($6,{root:e,...t})),s[o]}function Z6(e,t,n){const s=W6(t);return xg.set(e,n),s.observe(e),()=>{xg.delete(e),s.unobserve(e)}}const J6={some:0,all:1};class tU extends Cr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:J6[o]},d=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),S=g?y:_;S&&S(p)};return Z6(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(eU(t,n))&&this.startObserver()}unmount(){}}function eU({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const nU={inView:{Feature:tU},tap:{Feature:Q6},focus:{Feature:Y6},hover:{Feature:K6}},iU={layout:{ProjectionNode:XR,MeasureLayout:jR}},sU={...F3,...nU,...G6,...iU},Rs=s3(sU,y3);function rU(){const{loginWithGoogle:e}=Dy(),[t,n]=V.useState(""),[s,o]=V.useState(!1),l=qA();async function c(){try{n(""),o(!0),await e(),l("/")}catch(d){console.error(d),n("Failed to log in with Google")}o(!1)}return et.createElement("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900"},et.createElement("div",{className:"w-full max-w-md p-8 bg-white dark:bg-gray-800 rounded-lg shadow-md text-center"},et.createElement("h2",{className:"text-2xl font-bold mb-6 dark:text-white"},"Welcome Back"),t&&et.createElement("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",role:"alert"},t),et.createElement("p",{className:"text-gray-600 dark:text-gray-400 mb-8"},"Sign in to access the simulator."),et.createElement(Rs.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:c,disabled:s,className:"w-full bg-white text-gray-700 border border-gray-300 font-bold py-3 px-4 rounded-lg flex items-center justify-center gap-2 hover:bg-gray-50 focus:outline-none focus:shadow-outline disabled:opacity-50 transition-colors"},et.createElement("svg",{className:"w-5 h-5",viewBox:"0 0 24 24"},et.createElement("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),et.createElement("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),et.createElement("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),et.createElement("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})),"Sign in with Google")))}const aU=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oU=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),xA=e=>{const t=oU(e);return t.charAt(0).toUpperCase()+t.slice(1)},$R=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),lU=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var uU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const cU=V.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:c,...d},p)=>V.createElement("svg",{ref:p,...uU,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:$R("lucide",o),...!l&&!lU(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,y])=>V.createElement(g,y)),...Array.isArray(l)?l:[l]]));const Ca=(e,t)=>{const n=V.forwardRef(({className:s,...o},l)=>V.createElement(cU,{ref:l,iconNode:t,className:$R(`lucide-${aU(xA(e))}`,`lucide-${e}`,s),...o}));return n.displayName=xA(e),n};const hU=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],fU=Ca("briefcase",hU);const dU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],mU=Ca("circle",dU);const pU=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Vg=Ca("clock",pU);const gU=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],WR=Ca("log-out",gU);const yU=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],vU=Ca("rotate-ccw",yU);const _U=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],ZR=Ca("trophy",_U);const EU=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],TU=Ca("user",EU),SU=({onClockIn:e})=>{const{currentUser:t,logout:n}=Dy(),[s,o]=V.useState(t.displayName.split(" ")[0]),[l,c]=V.useState(""),[d,p]=V.useState(30),[g,y]=V.useState(""),_=R=>{R.preventDefault(),s&&l&&d>0&&e({name:s,goal:l,duration:d})},S=async()=>{y("");try{await n()}catch{y("Failed to log out")}};return et.createElement("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white p-4"},et.createElement(Rs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md bg-white/10 backdrop-blur-lg rounded-2xl p-8 shadow-2xl border border-white/20"},et.createElement("div",{className:"flex justify-between items-center mb-8"},et.createElement("div",{className:"flex items-center justify-center"},et.createElement("div",{className:"p-3 bg-blue-500/20 rounded-full"},et.createElement(Vg,{className:"w-8 h-8 text-blue-400"}))),et.createElement("div",null,t?et.createElement("div",{className:"flex items-center gap-4"},et.createElement("span",{className:"text-sm text-gray-300"},"Welcome ",t.displayName.split(" ")[0],"!"),et.createElement("button",{onClick:S,className:"text-sm text-red-400 hover:text-red-300 flex items-center gap-1"},et.createElement(WR,{size:16})," Logout")):et.createElement("div",{className:"flex items-center gap-4"},et.createElement(Ug,{to:"/login",className:"text-sm text-blue-400 hover:text-blue-300"},"Login")))),et.createElement("h1",{className:"text-3xl font-bold text-center mb-2"},"Employment Simulator"),et.createElement("p",{className:"text-gray-400 text-center mb-8"},"Clock in to start your shift."),g&&et.createElement("div",{className:"bg-red-500/20 border border-red-500 text-red-100 px-4 py-2 rounded mb-4 text-center text-sm"},g),et.createElement("form",{onSubmit:_,className:"space-y-6"},et.createElement("div",{className:"space-y-2"},et.createElement("label",{className:"text-sm font-medium text-gray-300 flex items-center gap-2"},et.createElement(TU,{size:16})," Employee Name"),et.createElement("input",{type:"text",value:s,onChange:R=>o(R.target.value),className:"w-full bg-black/20 border border-white/10 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all text-white placeholder-gray-500",placeholder:"John Doe",required:!0})),et.createElement("div",{className:"space-y-2"},et.createElement("label",{className:"text-sm font-medium text-gray-300 flex items-center gap-2"},et.createElement(fU,{size:16})," Work Goal"),et.createElement("input",{type:"text",value:l,onChange:R=>c(R.target.value),className:"w-full bg-black/20 border border-white/10 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all text-white placeholder-gray-500",placeholder:"Complete the project report",required:!0})),et.createElement("div",{className:"space-y-2"},et.createElement("label",{className:"text-sm font-medium text-gray-300 flex items-center gap-2"},et.createElement(Vg,{size:16})," Shift Duration (Minutes)"),et.createElement("input",{type:"number",value:d,onChange:R=>p(parseInt(R.target.value)),min:"1",max:"480",className:"w-full bg-black/20 border border-white/10 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all text-white placeholder-gray-500",required:!0})),et.createElement(Rs.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400 text-white font-bold py-3 rounded-lg shadow-lg shadow-blue-500/20 transition-all"},"Clock In"))))},AU=[],bU=e=>{const[t,n]=V.useState(e.duration*60),[s,o]=V.useState(0),[l,c]=V.useState(AU),[d,p]=V.useState([{text:"Welcome to the team! Let's hit that goal: "+e.goal,sender:"Manager",id:0}]),[g,y]=V.useState(!0),[_,S]=V.useState(null),R=V.useRef(!1),P=V.useRef({score:s,timeLeft:t,goal:e.goal}),{currentUser:U}=Dy();V.useEffect(()=>{(async()=>{if(U)try{const J=cS(mS,"users",U.uid),at=await g4(J);at.exists()&&o(at.data().score||0)}catch(J){console.error("Error loading score:",J)}})()},[U]),V.useEffect(()=>{if(!U)return;const rt=setTimeout(async()=>{try{const J=cS(mS,"users",U.uid);await v4(J,{score:s},{merge:!0})}catch(J){console.error("Error saving score:",J)}},1e3);return()=>clearTimeout(rt)},[s,U]),V.useEffect(()=>{P.current={score:s,timeLeft:t,goal:e.goal}},[s,t,e.goal]),V.useEffect(()=>{if(!g||t<=0)return;const rt=setInterval(()=>{n(J=>J-1)},1e3);return()=>clearInterval(rt)},[g,t]),V.useEffect(()=>{if(!g)return;const rt=setInterval(async()=>{if(Math.random()>.6&&!R.current){R.current=!0;try{const{goal:J}=P.current,at=`
                        You are a manager in a workplace simulation.
                        The user's goal is: "${J}".
                        Current tasks are: ${l.map(N=>N.text).join(", ")}.

                        Generate a short, 1-sentence message to the employee. 
                        Address the employee as ${U.name}.
                        It can be encouraging, pressuring, or just a random check-in.
                        Do not include quotes.
                    `,I=(await(await fetch("https://desktop-f2niegj.tail23801d.ts.net/api/llm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"user",content:at}]})})).json()).message.content;k(I),console.log("Manager message:",I)}catch(J){console.error("Error generating message:",J),S(J.message||"Unknown error generating message")}finally{R.current=!1}}},3e4);return()=>clearInterval(rt)},[g,l]);const k=rt=>{p(J=>[...J,{text:rt,sender:"Manager",id:Date.now()}])},j=async()=>{if(!R.current){R.current=!0;try{const rt=`
                You are a manager. The user's goal is: "${e.goal}".
                Generate a single, realistic work task that works toward this goal, 
                builds on top of previous tasks, and is different from the user's previous tasks.
                The user's previous tasks were: ${l.map(I=>I.text).join(", ").slice(-2)}.
                Return ONLY the task text. NO numbering, NO quotes.
                Keep it short.
            `,C=(await(await fetch("https://desktop-f2niegj.tail23801d.ts.net/api/llm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"user",content:rt}]})})).json()).message.content,w=Date.now();c(I=>[...I,{id:w,text:C,completed:!1,difficulty:Math.floor(Math.random()*3)+1}])}catch(rt){console.error("Error generating task:",rt),S(rt.message||"Unknown error generating task");const J=Date.now();c(at=>[...at,{id:J,text:"Re",completed:!1,difficulty:1}])}finally{R.current=!1}}};V.useEffect(()=>{(async()=>{await j(),await j()})()},[]);const G=V.useCallback(rt=>{c(at=>at.map(C=>C.id===rt?{...C,completed:!0}:C));const J=l.find(at=>at.id===rt);J&&!J.completed&&(o(at=>at+J.difficulty*100),setTimeout(()=>{j()},3e4)),l.length>=2&&c(at=>at.filter(C=>C.id!==rt))},[l]);return{timeLeft:t,score:s,tasks:l,messages:d,completeTask:G,formatTime:rt=>{const J=Math.floor(rt/60),at=rt%60;return`${J}:${at.toString().padStart(2,"0")}`},isActive:g,setIsActive:y,error:_}},wU=({messages:e})=>{const t=V.useRef(null);return V.useEffect(()=>{t.current&&(t.current.scrollTop=t.current.scrollHeight)},[e]),et.createElement("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-4 h-[300px] flex flex-col"},et.createElement("div",{className:"flex items-center gap-2 mb-4 border-b border-white/10 pb-2"},et.createElement("h2",{className:"text-lg font-semibold text-white"},"Manager")),et.createElement("div",{className:"flex-1 overflow-y-auto space-y-3 pr-2 custom-scrollbar",ref:t},et.createElement(uR,null,e.map(n=>et.createElement(Rs.div,{key:n.id,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-3 text-sm text-gray-200"},et.createElement("span",{className:"font-bold text-blue-400 text-xs block mb-1"},n.sender),n.text)))))},RU=({tasks:e,onComplete:t})=>{const n=e.filter(s=>!s.completed);return et.createElement("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-4 h-[300px] flex flex-col"},et.createElement("div",{className:"flex items-center gap-2 mb-4 border-b border-white/10 pb-2"},et.createElement("h2",{className:"text-lg font-semibold text-white"},"Current Tasks"),et.createElement("span",{className:"bg-blue-500 text-xs px-2 py-0.5 rounded-full text-white"},n.length)),et.createElement("div",{className:"flex-1 overflow-y-auto space-y-2 pr-2 custom-scrollbar"},et.createElement(uR,null,n.length===0?et.createElement("p",{className:"text-gray-500 text-center mt-10"},"No active tasks. Good job!"):n.map(s=>et.createElement(Rs.div,{key:s.id,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,x:20},className:"group flex items-center gap-3 bg-white/5 hover:bg-white/10 border border-white/5 rounded-xl p-3 cursor-pointer transition-all",onClick:()=>t(s.id)},et.createElement("div",{className:"text-gray-400 group-hover:text-green-400 transition-colors"},et.createElement(mU,{size:20})),et.createElement("div",{className:"flex-1"},et.createElement("p",{className:"text-gray-200 text-sm"},s.text),et.createElement("div",{className:"flex gap-1 mt-1"},[...Array(s.difficulty)].map((o,l)=>et.createElement("div",{key:l,className:"w-1.5 h-1.5 rounded-full bg-yellow-500/50"})))))))))},CU=({sessionData:e,onEndSession:t})=>{const{timeLeft:n,score:s,tasks:o,messages:l,completeTask:c,formatTime:d,isActive:p,setIsActive:g,error:y}=bU(e);et.useEffect(()=>{n<=0&&p&&(g(!1),t({score:s,tasksCompleted:o.filter(S=>S.completed).length}))},[n,p,t,s,o,g]);const _=()=>{g(!1),t({score:s,tasksCompleted:o.filter(S=>S.completed).length})};return et.createElement("div",{className:"min-h-screen bg-gray-900 text-white p-6 flex flex-col"},et.createElement("header",{className:"flex justify-between items-center mb-8 bg-white/5 p-4 rounded-xl border border-white/10"},et.createElement("div",{className:"flex items-center gap-4"},et.createElement("div",{className:"text-left"},et.createElement("h1",{className:"text-xl font-bold text-white"},e.name),et.createElement("p",{className:"text-xs text-gray-400"},"Goal: ",e.goal))),et.createElement("div",{className:"flex items-center gap-8"},et.createElement("div",{className:"flex flex-col items-center"},et.createElement("span",{className:"text-xs text-gray-400 uppercase tracking-wider"},"Time Remaining"),et.createElement("div",{className:`text-2xl font-mono font-bold flex items-center gap-2 ${n<60?"text-red-400 animate-pulse":"text-blue-400"}`},et.createElement(Vg,{size:20}),d(n))),et.createElement("div",{className:"flex flex-col items-center"},et.createElement("span",{className:"text-xs text-gray-400 uppercase tracking-wider"},"Score"),et.createElement("div",{className:"text-2xl font-mono font-bold text-yellow-400 flex items-center gap-2"},et.createElement(ZR,{size:20}),s.toLocaleString()))),et.createElement("button",{onClick:_,className:"bg-red-500/10 hover:bg-red-500/20 text-red-400 px-4 py-2 rounded-lg border border-red-500/20 flex items-center gap-2 transition-colors"},et.createElement(WR,{size:18}),"Clock Out")),y&&et.createElement("div",{className:"bg-red-500/20 border border-red-500 text-red-200 p-4 rounded-xl mb-6"},"Error: ",y),et.createElement("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-2 gap-6"},et.createElement(Rs.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2}},et.createElement(wU,{messages:l})),et.createElement(Rs.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3}},et.createElement(RU,{tasks:o,onComplete:c}))))},IU=({results:e,onRestart:t})=>et.createElement("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-900 text-white p-4"},et.createElement(Rs.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"w-full max-w-md bg-white/10 backdrop-blur-lg rounded-2xl p-8 shadow-2xl border border-white/20 text-center"},et.createElement("div",{className:"flex justify-center mb-6"},et.createElement("div",{className:"p-4 bg-yellow-500/20 rounded-full"},et.createElement(ZR,{className:"w-12 h-12 text-yellow-400"}))),et.createElement("h1",{className:"text-3xl font-bold mb-2"},"Shift Complete!"),et.createElement("p",{className:"text-gray-400 mb-8"},"Here is how you performed today."),et.createElement("div",{className:"grid grid-cols-2 gap-4 mb-8"},et.createElement("div",{className:"bg-black/20 p-4 rounded-xl border border-white/5"},et.createElement("p",{className:"text-gray-400 text-sm mb-1"},"Total Score"),et.createElement("p",{className:"text-2xl font-bold text-yellow-400"},e.score.toLocaleString())),et.createElement("div",{className:"bg-black/20 p-4 rounded-xl border border-white/5"},et.createElement("p",{className:"text-gray-400 text-sm mb-1"},"Tasks Done"),et.createElement("p",{className:"text-2xl font-bold text-blue-400"},e.tasksCompleted))),et.createElement(Rs.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"w-full bg-white text-gray-900 font-bold py-3 rounded-lg shadow-lg hover:bg-gray-100 transition-all flex items-center justify-center gap-2"},et.createElement(vU,{size:18}),"Start New Shift")));function DU(){const[e,t]=V.useState("CLOCK_IN"),[n,s]=V.useState(null),[o,l]=V.useState(null),c=g=>{s(g),t("WORK")},d=g=>{l(g),t("SUMMARY")},p=()=>{s(null),l(null),t("CLOCK_IN")};return et.createElement("div",{className:"bg-black min-h-screen font-sans"},e==="CLOCK_IN"&&et.createElement(SU,{onClockIn:c}),e==="WORK"&&et.createElement(CU,{sessionData:n,onEndSession:d}),e==="SUMMARY"&&et.createElement(IU,{results:o,onRestart:p}))}function xU(){return et.createElement(sD,null,et.createElement(S4,null,et.createElement(OI,null,et.createElement(Up,{path:"/login",element:et.createElement(rU,null)}),et.createElement(Up,{path:"/",element:et.createElement(DU,null)}))))}k2.createRoot(document.getElementById("root")).render(React.createElement(V.StrictMode,null,React.createElement(xU,null)));
